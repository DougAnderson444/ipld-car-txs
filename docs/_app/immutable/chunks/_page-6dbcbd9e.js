import{S as Z,i as G,s as x,k as N,q as V,a as X,l as z,m as D,r as F,c as W,h as _,n as b,H as Oe,b as y,F as T,I as Q,u as le,A as P,J as ht,K as Ct,L as he,M as Ot,N as yt,O as Lt,e as B,G as Pt,P as St,Q as _t,R as Tt,T as dt,U as mt,V as de,W as pt,f as O,g as $,t as S,d as ee,X as ae,Y as me,v as q,w as H,x as K,Z as pe,y as J,_ as It,o as ge,$ as _e,a0 as gt,a1 as Dt,a2 as At,a3 as Mt,B as be,p as te,a4 as Nt,C as ke,D as ve,E as we,a5 as se,a6 as re,a7 as ue,a8 as Ne,a9 as ze,aa as zt}from"./index-332b1762.js";import{_ as Bt}from"./preload-helper-aa6bc0ce.js";import{w as Vt}from"./index-b842831c.js";import{C as Ft,T as ye}from"./index-e747751a.js";function jt(i){let e,t,n,l,r,s,a,o,f,c,u,p,v,L,w,I,d;return{c(){e=N("div"),t=N("div"),n=N("div"),l=N("span"),r=V(i[0]),s=X(),a=V(":"),o=X(),f=N("div"),c=N("span"),u=V(i[1]),p=X(),v=N("div"),L=N("button"),w=V("Add"),this.h()},l(g){e=z(g,"DIV",{class:!0});var A=D(e);t=z(A,"DIV",{class:!0});var C=D(t);n=z(C,"DIV",{class:!0});var k=D(n);l=z(k,"SPAN",{class:!0,contenteditable:!0});var h=D(l);r=F(h,i[0]),s=W(h),h.forEach(_),a=F(k,":"),k.forEach(_),o=W(C),f=z(C,"DIV",{class:!0});var m=D(f);c=z(m,"SPAN",{class:!0,contenteditable:!0});var E=D(c);u=F(E,i[1]),E.forEach(_),m.forEach(_),p=W(C),v=z(C,"DIV",{class:!0});var j=D(v);L=z(j,"BUTTON",{class:!0});var R=D(L);w=F(R,"Add"),R.forEach(_),j.forEach(_),C.forEach(_),A.forEach(_),this.h()},h(){b(l,"class","p-1 bg-white rounded-md border border-gray-400 w-full min-w-[50px]"),b(l,"contenteditable","true"),i[0]===void 0&&Oe(()=>i[4].call(l)),b(n,"class","flex-1 flex flex-row m-1 p-1 items-center"),b(c,"class","p-1 bg-white rounded-md border border-gray-400 w-full min-w-[50px]"),b(c,"contenteditable","true"),i[1]===void 0&&Oe(()=>i[5].call(c)),b(f,"class","flex-1 flex flex-row m-1 p-1 items-center"),b(L,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg justify-end"),b(v,"class","flex flex-row-reverse m-1 p-1 justify-items-end"),b(t,"class","flex flex-row text-sm bg-slate-100 shadow shadow-blue-200 my-4 p-1 rounded-lg w-fit"),b(e,"class","flex flex-row relative")},m(g,A){y(g,e,A),T(e,t),T(t,n),T(n,l),T(l,r),T(l,s),i[0]!==void 0&&(l.textContent=i[0]),T(n,a),T(t,o),T(t,f),T(f,c),T(c,u),i[1]!==void 0&&(c.textContent=i[1]),T(t,p),T(t,v),T(v,L),T(L,w),I||(d=[Q(l,"keydown",Be),Q(l,"input",i[4]),Q(c,"keydown",Be),Q(c,"input",i[5]),Q(L,"click",i[2])],I=!0)},p(g,[A]){A&1&&le(r,g[0]),A&1&&g[0]!==l.textContent&&(l.textContent=g[0]),A&2&&le(u,g[1]),A&2&&g[1]!==c.textContent&&(c.textContent=g[1])},i:P,o:P,d(g){g&&_(e),I=!1,ht(d)}}}function Be(i){i.key==="Enter"&&(i.preventDefault(),i.stopPropagation(),i.target.blur())}function Rt(i,e,t){let{tx:n}=e,l="Key",r="Value";async function s(f){if(n&&l&&r){const c=await n.add({[l]:r});await n.add({[l]:c}),t(3,n)}}function a(){l=this.textContent,t(0,l)}function o(){r=this.textContent,t(1,r)}return i.$$set=f=>{"tx"in f&&t(3,n=f.tx)},[l,r,s,n,a,o]}class Xt extends Z{constructor(e){super(),G(this,e,Rt,jt,x,{tx:3})}}function bt(i){const e=i-1;return e*e*e+1}function kt(i,{from:e,to:t},n={}){const l=getComputedStyle(i),r=l.transform==="none"?"":l.transform,[s,a]=l.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*s/t.width-(t.left+s),f=e.top+e.height*a/t.height-(t.top+a),{delay:c=0,duration:u=v=>Math.sqrt(v)*120,easing:p=bt}=n;return{delay:c,duration:Ct(u)?u(Math.sqrt(o*o+f*f)):u,easing:p,css:(v,L)=>{const w=L*o,I=L*f,d=v+L*e.width/t.width,g=v+L*e.height/t.height;return`transform: ${r} translate(${w}px, ${I}px) scale(${d}, ${g});`}}}function Ve(i){return Object.prototype.toString.call(i)==="[object Date]"}function Le(i,e){if(i===e||i!==i)return()=>i;const t=typeof i;if(t!==typeof e||Array.isArray(i)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(i)){const n=e.map((l,r)=>Le(i[r],l));return l=>n.map(r=>r(l))}if(t==="object"){if(!i||!e)throw new Error("Object cannot be null");if(Ve(i)&&Ve(e)){i=i.getTime(),e=e.getTime();const r=e-i;return s=>new Date(i+s*r)}const n=Object.keys(e),l={};return n.forEach(r=>{l[r]=Le(i[r],e[r])}),r=>{const s={};return n.forEach(a=>{s[a]=l[a](r)}),s}}if(t==="number"){const n=e-i;return l=>i+l*n}throw new Error(`Cannot interpolate ${t} values`)}function Wt(i,e={}){const t=Vt(i);let n,l=i;function r(s,a){if(i==null)return t.set(i=s),Promise.resolve();l=s;let o=n,f=!1,{delay:c=0,duration:u=400,easing:p=Lt,interpolate:v=Le}=he(he({},e),a);if(u===0)return o&&(o.abort(),o=null),t.set(i=l),Promise.resolve();const L=Ot()+c;let w;return n=yt(I=>{if(I<L)return!0;f||(w=v(i,s),typeof u=="function"&&(u=u(i,s)),f=!0),o&&(o.abort(),o=null);const d=I-L;return d>u?(t.set(i=s),!1):(t.set(i=w(p(d/u))),!0)}),n.promise}return{set:r,update:(s,a)=>r(s(l,i),a),subscribe:t.subscribe}}function Fe(i,e,t){const n=i.slice();return n[3]=e[t].value,n[4]=e[t].cid,n[5]=e[t].bytes,n}function je(i,e,t){const n=i.slice();return n[8]=e[t][0],n[9]=e[t][1],n}function Re(i){let e,t=[],n=new Map,l,r,s=[...i[0].blocks].reverse();const a=f=>f[4];for(let f=0;f<s.length;f+=1){let c=Fe(i,s,f),u=a(c);n.set(u,t[f]=We(u,c))}let o=i[1]&&Ye(i);return{c(){e=N("div");for(let f=0;f<t.length;f+=1)t[f].c();l=X(),o&&o.c(),r=B(),this.h()},l(f){e=z(f,"DIV",{class:!0});var c=D(e);for(let u=0;u<t.length;u+=1)t[u].l(c);c.forEach(_),l=W(f),o&&o.l(f),r=B(),this.h()},h(){b(e,"class","flex flex-row")},m(f,c){y(f,e,c);for(let u=0;u<t.length;u+=1)t[u].m(e,null);y(f,l,c),o&&o.m(f,c),y(f,r,c)},p(f,c){if(c&1){s=[...f[0].blocks].reverse();for(let u=0;u<t.length;u+=1)t[u].r();t=_t(t,c,a,1,f,s,n,e,Tt,We,null,Fe);for(let u=0;u<t.length;u+=1)t[u].a()}f[1]?o?o.p(f,c):(o=Ye(f),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(f){f&&_(e);for(let c=0;c<t.length;c+=1)t[c].d();f&&_(l),o&&o.d(f),f&&_(r)}}}function Xe(i){let e=i[8]+"",t,n,l=i[9]+"",r,s,a=i[5].length+"",o,f;return{c(){t=V(e),n=V(": "),r=V(l),s=V(" ("),o=V(a),f=V(")")},l(c){t=F(c,e),n=F(c,": "),r=F(c,l),s=F(c," ("),o=F(c,a),f=F(c,")")},m(c,u){y(c,t,u),y(c,n,u),y(c,r,u),y(c,s,u),y(c,o,u),y(c,f,u)},p(c,u){u&1&&e!==(e=c[8]+"")&&le(t,e),u&1&&l!==(l=c[9]+"")&&le(r,l),u&1&&a!==(a=c[5].length+"")&&le(o,a)},d(c){c&&_(t),c&&_(n),c&&_(r),c&&_(s),c&&_(o),c&&_(f)}}}function We(i,e){let t,n,l,r=P,s=Object.entries(e[3]),a=[];for(let o=0;o<s.length;o+=1)a[o]=Xe(je(e,s,o));return{key:i,first:null,c(){t=N("div");for(let o=0;o<a.length;o+=1)a[o].c();n=X(),this.h()},l(o){t=z(o,"DIV",{class:!0});var f=D(t);for(let c=0;c<a.length;c+=1)a[c].l(f);n=W(f),f.forEach(_),this.h()},h(){b(t,"class","mr-1 p-2 border-emerald-50 bg-green-800 text-white rounded-lg w-fit"),this.first=t},m(o,f){y(o,t,f);for(let c=0;c<a.length;c+=1)a[c].m(t,null);T(t,n)},p(o,f){if(e=o,f&1){s=Object.entries(e[3]);let c;for(c=0;c<s.length;c+=1){const u=je(e,s,c);a[c]?a[c].p(u,f):(a[c]=Xe(u),a[c].c(),a[c].m(t,n))}for(;c<a.length;c+=1)a[c].d(1);a.length=s.length}},r(){l=t.getBoundingClientRect()},f(){dt(t),r()},a(){r(),r=mt(t,l,kt,{})},d(o){o&&_(t),de(a,o)}}}function Ye(i){let e,t=i[1].toFixed(0)+"",n,l,r;return{c(){e=V("Total Transaction Size: "),n=V(t),l=V(" bytes"),r=N("br")},l(s){e=F(s,"Total Transaction Size: "),n=F(s,t),l=F(s," bytes"),r=z(s,"BR",{})},m(s,a){y(s,e,a),y(s,n,a),y(s,l,a),y(s,r,a)},p(s,a){a&2&&t!==(t=s[1].toFixed(0)+"")&&le(n,t)},d(s){s&&_(e),s&&_(n),s&&_(l),s&&_(r)}}}function Yt(i){var n,l;let e,t=((l=(n=i[0])==null?void 0:n.blocks)==null?void 0:l.length)>0&&Re(i);return{c(){t&&t.c(),e=B()},l(r){t&&t.l(r),e=B()},m(r,s){t&&t.m(r,s),y(r,e,s)},p(r,[s]){var a,o;((o=(a=r[0])==null?void 0:a.blocks)==null?void 0:o.length)>0?t?t.p(r,s):(t=Re(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:P,o:P,d(r){t&&t.d(r),r&&_(e)}}}function Ut(i,e,t){let n,{tx:l}=e;const r=Wt(1,{duration:400,easing:bt});return Pt(i,r,s=>t(1,n=s)),l.on("size",s=>St(r,n=l.size,n)),i.$$set=s=>{"tx"in s&&t(0,l=s.tx)},[l,n,r]}class qt extends Z{constructor(e){super(),G(this,e,Ut,Yt,x,{tx:0})}}function Ht(i){let e,t,n,l,r;return{c(){e=N("div"),t=N("button"),n=V("Commit Tx"),this.h()},l(s){e=z(s,"DIV",{class:!0});var a=D(e);t=z(a,"BUTTON",{class:!0});var o=D(t);n=F(o,"Commit Tx"),o.forEach(_),a.forEach(_),this.h()},h(){b(t,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg justify-end"),b(e,"class","flex flex-row-reverse m-1 p-1 justify-items-end")},m(s,a){y(s,e,a),T(e,t),T(t,n),l||(r=Q(t,"click",i[0]),l=!0)},p:P,i:P,o:P,d(s){s&&_(e),l=!1,r()}}}function Kt(i,e,t){const n=pt();let{tx:l}=e;async function r(s){console.log("commit tx:",{tx:l});const a=await l.commit();n("commit",a)}return i.$$set=s=>{"tx"in s&&t(1,l=s.tx)},[r,l]}class Jt extends Z{constructor(e){super(),G(this,e,Kt,Ht,x,{tx:1})}}function Ue(i){let e,t,n,l,r,s,a;function o(c){i[1](c)}let f={};return i[0]!==void 0&&(f.tx=i[0]),e=new Xt({props:f}),ae.push(()=>me(e,"tx",o)),l=new qt({props:{tx:i[0]}}),s=new Jt({props:{tx:i[0]}}),s.$on("commit",i[2]),{c(){q(e.$$.fragment),n=X(),q(l.$$.fragment),r=X(),q(s.$$.fragment)},l(c){H(e.$$.fragment,c),n=W(c),H(l.$$.fragment,c),r=W(c),H(s.$$.fragment,c)},m(c,u){K(e,c,u),y(c,n,u),K(l,c,u),y(c,r,u),K(s,c,u),a=!0},p(c,u){const p={};!t&&u&1&&(t=!0,p.tx=c[0],pe(()=>t=!1)),e.$set(p);const v={};u&1&&(v.tx=c[0]),l.$set(v);const L={};u&1&&(L.tx=c[0]),s.$set(L)},i(c){a||(O(e.$$.fragment,c),O(l.$$.fragment,c),O(s.$$.fragment,c),a=!0)},o(c){S(e.$$.fragment,c),S(l.$$.fragment,c),S(s.$$.fragment,c),a=!1},d(c){J(e,c),c&&_(n),J(l,c),c&&_(r),J(s,c)}}}function Qt(i){let e,t,n=i[0]&&Ue(i);return{c(){n&&n.c(),e=B()},l(l){n&&n.l(l),e=B()},m(l,r){n&&n.m(l,r),y(l,e,r),t=!0},p(l,[r]){l[0]?n?(n.p(l,r),r&1&&O(n,1)):(n=Ue(l),n.c(),O(n,1),n.m(e.parentNode,e)):n&&($(),S(n,1,1,()=>{n=null}),ee())},i(l){t||(O(n),t=!0)},o(l){S(n),t=!1},d(l){n&&n.d(l),l&&_(e)}}}function Zt(i,e,t){let{tx:n=null}=e;function l(s){n=s,t(0,n)}function r(s){It.call(this,i,s)}return i.$$set=s=>{"tx"in s&&t(0,n=s.tx)},[n,l,r]}class Gt extends Z{constructor(e){super(),G(this,e,Zt,Qt,x,{tx:0})}}function qe(i,e,t){const n=i.slice();return n[3]=e[t][0],n[4]=e[t][1],n}function He(i){let e,t,n,l={ctx:i,current:null,token:null,hasCatch:!1,pending:nn,then:$t,catch:xt,value:1,blocks:[,,,]};return _e(t=i[1],l),{c(){e=B(),l.block.c()},l(r){e=B(),l.block.l(r)},m(r,s){y(r,e,s),l.block.m(r,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(r,s){i=r,l.ctx=i,s&2&&t!==(t=i[1])&&_e(t,l)||gt(l,i,s)},i(r){n||(O(l.block),n=!0)},o(r){for(let s=0;s<3;s+=1){const a=l.blocks[s];S(a)}n=!1},d(r){r&&_(e),l.block.d(r),l.token=null,l=null}}}function xt(i){return{c:P,l:P,m:P,p:P,i:P,o:P,d:P}}function $t(i){let e,t,n=Object.entries(i[1]),l=[];for(let s=0;s<n.length;s+=1)l[s]=Ke(qe(i,n,s));const r=s=>S(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=B()},l(s){for(let a=0;a<l.length;a+=1)l[a].l(s);e=B()},m(s,a){for(let o=0;o<l.length;o+=1)l[o].m(s,a);y(s,e,a),t=!0},p(s,a){if(a&3){n=Object.entries(s[1]);let o;for(o=0;o<n.length;o+=1){const f=qe(s,n,o);l[o]?(l[o].p(f,a),O(l[o],1)):(l[o]=Ke(f),l[o].c(),O(l[o],1),l[o].m(e.parentNode,e))}for($(),o=n.length;o<l.length;o+=1)r(o);ee()}},i(s){if(!t){for(let a=0;a<n.length;a+=1)O(l[a]);t=!0}},o(s){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)S(l[a]);t=!1},d(s){de(l,s),s&&_(e)}}}function en(i){let e,t=i[3]+"",n,l,r=i[4]+"",s;return{c(){e=N("div"),n=V(t),l=V(": "),s=V(r),this.h()},l(a){e=z(a,"DIV",{class:!0});var o=D(e);n=F(o,t),l=F(o,": "),s=F(o,r),o.forEach(_),this.h()},h(){b(e,"class","bg-slate-100 rounded-lg m-1 p-1 w-fit")},m(a,o){y(a,e,o),T(e,n),T(e,l),T(e,s)},p(a,o){o&2&&t!==(t=a[3]+"")&&le(n,t),o&2&&r!==(r=a[4]+"")&&le(s,r)},i:P,o:P,d(a){a&&_(e)}}}function tn(i){let e,t;return e=new vt({props:{get:i[0],node:i[4]}}),{c(){q(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.get=n[0]),l&2&&(r.node=n[4]),e.$set(r)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Ke(i){let e,t,n,l,r;const s=[tn,en],a=[];function o(f,c){return c&2&&(e=null),e==null&&(e=!!Ft.asCID(f[4])),e?0:1}return t=o(i,-1),n=a[t]=s[t](i),{c(){n.c(),l=B()},l(f){n.l(f),l=B()},m(f,c){a[t].m(f,c),y(f,l,c),r=!0},p(f,c){let u=t;t=o(f,c),t===u?a[t].p(f,c):($(),S(a[u],1,1,()=>{a[u]=null}),ee(),n=a[t],n?n.p(f,c):(n=a[t]=s[t](f),n.c()),O(n,1),n.m(l.parentNode,l))},i(f){r||(O(n),r=!0)},o(f){S(n),r=!1},d(f){a[t].d(f),f&&_(l)}}}function nn(i){return{c:P,l:P,m:P,p:P,i:P,o:P,d:P}}function ln(i){let e,t,n=i[1]&&He(i);return{c(){n&&n.c(),e=B()},l(l){n&&n.l(l),e=B()},m(l,r){n&&n.m(l,r),y(l,e,r),t=!0},p(l,[r]){l[1]?n?(n.p(l,r),r&2&&O(n,1)):(n=He(l),n.c(),O(n,1),n.m(e.parentNode,e)):n&&($(),S(n,1,1,()=>{n=null}),ee())},i(l){t||(O(n),t=!0)},o(l){S(n),t=!1},d(l){n&&n.d(l),l&&_(e)}}}function sn(i,e,t){let{get:n}=e,{node:l}=e,r;return ge(async()=>{console.log({node:l}),t(1,r=await n(l))}),i.$$set=s=>{"get"in s&&t(0,n=s.get),"node"in s&&t(2,l=s.node)},[n,r,l]}class vt extends Z{constructor(e){super(),G(this,e,sn,ln,x,{get:0,node:2})}}function Je(i){let e,t,n,l={ctx:i,current:null,token:null,hasCatch:!1,pending:an,then:on,catch:rn,value:1,blocks:[,,,]};return _e(t=i[1],l),{c(){e=B(),l.block.c()},l(r){e=B(),l.block.l(r)},m(r,s){y(r,e,s),l.block.m(r,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,n=!0},p(r,s){i=r,l.ctx=i,s&2&&t!==(t=i[1])&&_e(t,l)||gt(l,i,s)},i(r){n||(O(l.block),n=!0)},o(r){for(let s=0;s<3;s+=1){const a=l.blocks[s];S(a)}n=!1},d(r){r&&_(e),l.block.d(r),l.token=null,l=null}}}function rn(i){return{c:P,l:P,m:P,p:P,i:P,o:P,d:P}}function on(i){let e,t;return e=new vt({props:{get:i[0],node:i[1]}}),{c(){q(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&1&&(r.get=n[0]),l&2&&(r.node=n[1]),e.$set(r)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function an(i){let e;return{c(){e=V("Loading commit")},l(t){e=F(t,"Loading commit")},m(t,n){y(t,e,n)},p:P,i:P,o:P,d(t){t&&_(e)}}}function fn(i){let e,t,n=i[1]&&Je(i);return{c(){n&&n.c(),e=B()},l(l){n&&n.l(l),e=B()},m(l,r){n&&n.m(l,r),y(l,e,r),t=!0},p(l,[r]){l[1]?n?(n.p(l,r),r&2&&O(n,1)):(n=Je(l),n.c(),O(n,1),n.m(e.parentNode,e)):n&&($(),S(n,1,1,()=>{n=null}),ee())},i(l){t||(O(n),t=!0)},o(l){S(n),t=!1},d(l){n&&n.d(l),l&&_(e)}}}function cn(i,e,t){let{commit:n}=e,l,r;return ge(async()=>{t(1,{root:l,get:r}=await ye.load(n),l,t(0,r)),console.log({root:l,get:r})}),i.$$set=s=>{"commit"in s&&t(2,n=s.commit)},[r,l,n]}class un extends Z{constructor(e){super(),G(this,e,cn,fn,x,{commit:2})}}function Qe(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function hn(i){let e;return{c(){e=V("No Commits")},l(t){e=F(t,"No Commits")},m(t,n){y(t,e,n)},p:P,i:P,o:P,d(t){t&&_(e)}}}function _n(i){let e,t=[],n=new Map,l,r=i[0];const s=a=>a[8];for(let a=0;a<r.length;a+=1){let o=Qe(i,r,a),f=s(o);n.set(f,t[a]=Ze(f,o))}return{c(){e=N("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=z(a,"DIV",{class:!0});var o=D(e);for(let f=0;f<t.length;f+=1)t[f].l(o);o.forEach(_),this.h()},h(){b(e,"class","flex flex-col-reverse ")},m(a,o){y(a,e,o);for(let f=0;f<t.length;f+=1)t[f].m(e,null);l=!0},p(a,o){if(o&1){r=a[0],$();for(let f=0;f<t.length;f+=1)t[f].r();t=_t(t,o,s,1,a,r,n,e,Mt,Ze,null,Qe);for(let f=0;f<t.length;f+=1)t[f].a();ee()}},i(a){if(!l){for(let o=0;o<r.length;o+=1)O(t[o]);l=!0}},o(a){for(let o=0;o<t.length;o+=1)S(t[o]);l=!1},d(a){a&&_(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Ze(i,e){let t,n,l,r,s=P,a;return n=new un({props:{commit:e[6]}}),{key:i,first:null,c(){t=N("div"),q(n.$$.fragment),l=X(),this.h()},l(o){t=z(o,"DIV",{class:!0});var f=D(t);H(n.$$.fragment,f),l=W(f),f.forEach(_),this.h()},h(){b(t,"class","m-4 p-2 border-2 border-dashed "),this.first=t},m(o,f){y(o,t,f),K(n,t,null),T(t,l),a=!0},p(o,f){e=o;const c={};f&1&&(c.commit=e[6]),n.$set(c)},r(){r=t.getBoundingClientRect()},f(){dt(t),s()},a(){s(),s=mt(t,r,kt,{})},i(o){a||(O(n.$$.fragment,o),a=!0)},o(o){S(n.$$.fragment,o),a=!1},d(o){o&&_(t),J(n)}}}function dn(i){let e,t,n,l,r,s,a,o,f,c,u;function p(d){i[4](d)}let v={};i[1]!==void 0&&(v.tx=i[1]),r=new Gt({props:v}),ae.push(()=>me(r,"tx",p)),r.$on("commit",i[2]);const L=[_n,hn],w=[];function I(d,g){return d[0]&&d[0].length?0:1}return o=I(i),f=w[o]=L[o](i),{c(){e=N("script"),t=V("window.global = window;"),n=X(),l=N("div"),q(r.$$.fragment),a=X(),f.c(),c=B(),this.h()},l(d){const g=Dt('[data-svelte="svelte-4kgl3m"]',document.head);e=z(g,"SCRIPT",{});var A=D(e);t=F(A,"window.global = window;"),A.forEach(_),g.forEach(_),n=W(d),l=z(d,"DIV",{class:!0});var C=D(l);H(r.$$.fragment,C),C.forEach(_),a=W(d),f.l(d),c=B(),this.h()},h(){b(l,"class","m-4 p-4 border-dashed border-2")},m(d,g){T(document.head,e),T(e,t),y(d,n,g),y(d,l,g),K(r,l,null),y(d,a,g),w[o].m(d,g),y(d,c,g),u=!0},p(d,[g]){const A={};!s&&g&2&&(s=!0,A.tx=d[1],pe(()=>s=!1)),r.$set(A);let C=o;o=I(d),o===C?w[o].p(d,g):($(),S(w[C],1,1,()=>{w[C]=null}),ee(),f=w[o],f?f.p(d,g):(f=w[o]=L[o](d),f.c()),O(f,1),f.m(c.parentNode,c))},i(d){u||(O(r.$$.fragment,d),O(f),u=!0)},o(d){S(r.$$.fragment,d),S(f),u=!1},d(d){_(e),d&&_(n),d&&_(l),J(r),d&&_(a),w[o].d(d),d&&_(c)}}}function mn(i,e,t){let{commits:n=[]}=e,{connectable:l}=e,r=null,s;At("connectable",l),ge(async()=>{const{createDagRepo:f}=await Bt(()=>import("./index-063f2054.js"),["index-063f2054.js","CarTxs-9d9479bd.js","index-332b1762.js","index-e747751a.js","preload-helper-aa6bc0ce.js","index-b842831c.js"],import.meta.url);t(1,r=ye.create()),s=await f(),console.log({dag:s})});function a(f){const c=f.detail;t(0,n=[...n,c]),t(1,r=ye.create())}function o(f){r=f,t(1,r)}return i.$$set=f=>{"commits"in f&&t(0,n=f.commits),"connectable"in f&&t(3,l=f.connectable)},[n,r,a,l,o]}class pn extends Z{constructor(e){super(),G(this,e,mn,dn,x,{commits:0,connectable:3})}}class ie{constructor(e){this.id=-1,this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,self.Touch&&e instanceof Touch?this.id=e.identifier:ce(e)&&(this.id=e.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const e=this.nativePointer.getCoalescedEvents().map(t=>new ie(t));if(e.length>0)return e}return[this]}}const ce=i=>"pointerId"in i,Ce=i=>"changedTouches"in i,Ge=()=>{};class gn{constructor(e,{start:t=()=>!0,move:n=Ge,end:l=Ge,rawUpdates:r=!1,avoidPointerEvents:s=!1,eventListenerOptions:a={capture:!1,passive:!1,once:!1}}={}){this._element=e,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=o=>{if(ce(o)&&o.buttons===0)this._excludeFromButtonsCheck.add(o.pointerId);else if(!(o.buttons&1))return;const f=new ie(o);this.currentPointers.some(c=>c.id===f.id)||!this._triggerPointerStart(f,o)||(ce(o)?((o.target&&"setPointerCapture"in o.target?o.target:this._element).setPointerCapture(o.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move,this._eventListenerOptions),this._element.addEventListener("pointerup",this._pointerEnd,this._eventListenerOptions),this._element.addEventListener("pointercancel",this._pointerEnd,this._eventListenerOptions)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=o=>{for(const f of Array.from(o.changedTouches))this._triggerPointerStart(new ie(f),o)},this._move=o=>{if(!Ce(o)&&(!ce(o)||!this._excludeFromButtonsCheck.has(o.pointerId))&&o.buttons===0){this._pointerEnd(o);return}const f=this.currentPointers.slice(),c=Ce(o)?Array.from(o.changedTouches).map(p=>new ie(p)):[new ie(o)],u=[];for(const p of c){const v=this.currentPointers.findIndex(L=>L.id===p.id);v!==-1&&(u.push(p),this.currentPointers[v]=p)}u.length!==0&&this._moveCallback(f,u,o)},this._triggerPointerEnd=(o,f)=>{if(!Ce(f)&&f.buttons&1)return!1;const c=this.currentPointers.findIndex(p=>p.id===o.id);if(c===-1)return!1;this.currentPointers.splice(c,1),this.startPointers.splice(c,1),this._excludeFromButtonsCheck.delete(o.id);const u=!(f.type==="mouseup"||f.type==="touchend"||f.type==="pointerup");return this._endCallback(o,f,u),!0},this._pointerEnd=o=>{if(!!this._triggerPointerEnd(new ie(o),o))if(ce(o)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=o=>{for(const f of Array.from(o.changedTouches))this._triggerPointerEnd(new ie(f),o)},this._startCallback=t,this._moveCallback=n,this._endCallback=l,this._rawUpdates=r&&"onpointerrawupdate"in window,this._eventListenerOptions=a,self.PointerEvent&&!s?this._element.addEventListener("pointerdown",this._pointerStart,this._eventListenerOptions):(this._element.addEventListener("mousedown",this._pointerStart,this._eventListenerOptions),this._element.addEventListener("touchstart",this._touchStart,this._eventListenerOptions),this._element.addEventListener("touchmove",this._move,this._eventListenerOptions),this._element.addEventListener("touchend",this._touchEnd,this._eventListenerOptions),this._element.addEventListener("touchcancel",this._touchEnd,this._eventListenerOptions))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(e,t){return this._startCallback(e,t)?(this.currentPointers.push(e),this.startPointers.push(e),!0):!1}}let bn=(i=21)=>crypto.getRandomValues(new Uint8Array(i)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");function kn(i){let e;return{c(){e=N("div"),this.h()},l(t){e=z(t,"DIV",{class:!0}),D(e).forEach(_),this.h()},h(){b(e,"class","h-16 w-16 p-8 rounded-full shadow-xl opacity-80 select-none border-[2em] border-pink-500/50")},m(t,n){y(t,e,n)},p:P,d(t){t&&_(e)}}}function vn(i){let e,t,n;const l=i[9].default,r=be(l,i,i[8],null),s=r||kn();return{c(){e=N("div"),s&&s.c(),this.h()},l(a){e=z(a,"DIV",{id:!0,class:!0,style:!0});var o=D(e);s&&s.l(o),o.forEach(_),this.h()},h(){b(e,"id",i[1]),b(e,"class","absolute"),te(e,"left",i[5]+"px"),te(e,"top",i[4]+"px"),Oe(()=>i[11].call(e))},m(a,o){y(a,e,o),s&&s.m(e,null),i[10](e),t=Nt(e,i[11].bind(e)),n=!0},p(a,[o]){r&&r.p&&(!n||o&256)&&ke(r,l,a,a[8],n?we(l,a[8],o,null):ve(a[8]),null),(!n||o&2)&&b(e,"id",a[1]),(!n||o&32)&&te(e,"left",a[5]+"px"),(!n||o&16)&&te(e,"top",a[4]+"px")},i(a){n||(O(s,a),n=!0)},o(a){S(s,a),n=!1},d(a){a&&_(e),s&&s.d(a),i[10](null),t()}}}function wn(i,e,t){let n,l,{$$slots:r={},$$scope:s}=e,{marker:a}=e,{id:o}=e,{left:f}=e,{top:c}=e,u,p;function v(w){ae[w?"unshift":"push"](()=>{a=w,t(0,a)})}function L(){u=this.offsetWidth,p=this.offsetHeight,t(2,u),t(3,p)}return i.$$set=w=>{"marker"in w&&t(0,a=w.marker),"id"in w&&t(1,o=w.id),"left"in w&&t(6,f=w.left),"top"in w&&t(7,c=w.top),"$$scope"in w&&t(8,s=w.$$scope)},i.$$.update=()=>{i.$$.dirty&68&&t(5,n=f-u/2),i.$$.dirty&136&&t(4,l=c-p/2)},[a,o,u,p,l,n,f,c,s,r,v,L]}class En extends Z{constructor(e){super(),G(this,e,wn,vn,x,{marker:0,id:1,left:6,top:7})}}const Pe=Math.PI,Se=2*Pe,oe=1e-6,Cn=Se-oe;function Te(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function wt(){return new Te}Te.prototype=wt.prototype={constructor:Te,moveTo:function(i,e){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(i,e){this._+="L"+(this._x1=+i)+","+(this._y1=+e)},quadraticCurveTo:function(i,e,t,n){this._+="Q"+ +i+","+ +e+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(i,e,t,n,l,r){this._+="C"+ +i+","+ +e+","+ +t+","+ +n+","+(this._x1=+l)+","+(this._y1=+r)},arcTo:function(i,e,t,n,l){i=+i,e=+e,t=+t,n=+n,l=+l;var r=this._x1,s=this._y1,a=t-i,o=n-e,f=r-i,c=s-e,u=f*f+c*c;if(l<0)throw new Error("negative radius: "+l);if(this._x1===null)this._+="M"+(this._x1=i)+","+(this._y1=e);else if(u>oe)if(!(Math.abs(c*a-o*f)>oe)||!l)this._+="L"+(this._x1=i)+","+(this._y1=e);else{var p=t-r,v=n-s,L=a*a+o*o,w=p*p+v*v,I=Math.sqrt(L),d=Math.sqrt(u),g=l*Math.tan((Pe-Math.acos((L+u-w)/(2*I*d)))/2),A=g/d,C=g/I;Math.abs(A-1)>oe&&(this._+="L"+(i+A*f)+","+(e+A*c)),this._+="A"+l+","+l+",0,0,"+ +(c*p>f*v)+","+(this._x1=i+C*a)+","+(this._y1=e+C*o)}},arc:function(i,e,t,n,l,r){i=+i,e=+e,t=+t,r=!!r;var s=t*Math.cos(n),a=t*Math.sin(n),o=i+s,f=e+a,c=1^r,u=r?n-l:l-n;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+o+","+f:(Math.abs(this._x1-o)>oe||Math.abs(this._y1-f)>oe)&&(this._+="L"+o+","+f),t&&(u<0&&(u=u%Se+Se),u>Cn?this._+="A"+t+","+t+",0,1,"+c+","+(i-s)+","+(e-a)+"A"+t+","+t+",0,1,"+c+","+(this._x1=o)+","+(this._y1=f):u>oe&&(this._+="A"+t+","+t+",0,"+ +(u>=Pe)+","+c+","+(this._x1=i+t*Math.cos(l))+","+(this._y1=e+t*Math.sin(l))))},rect:function(i,e,t,n){this._+="M"+(this._x0=this._x1=+i)+","+(this._y0=this._y1=+e)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};function xe(i){return function(){return i}}var On=Array.prototype.slice;function yn(i){return i[0]}function Ln(i){return i[1]}class Pn{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Sn(i){return new Pn(i,!0)}function Tn(i){return i.source}function In(i){return i.target}function Dn(i){let e=Tn,t=In,n=yn,l=Ln,r=null,s=null;function a(){let o;const f=On.call(arguments),c=e.apply(this,f),u=t.apply(this,f);if(r==null&&(s=i(o=wt())),s.lineStart(),f[0]=c,s.point(+n.apply(this,f),+l.apply(this,f)),f[0]=u,s.point(+n.apply(this,f),+l.apply(this,f)),s.lineEnd(),o)return s=null,o+""||null}return a.source=function(o){return arguments.length?(e=o,a):e},a.target=function(o){return arguments.length?(t=o,a):t},a.x=function(o){return arguments.length?(n=typeof o=="function"?o:xe(+o),a):n},a.y=function(o){return arguments.length?(l=typeof o=="function"?o:xe(+o),a):l},a.context=function(o){return arguments.length?(o==null?r=s=null:s=i(r=o),a):r},a}function $e(i,e,t){const n=i.slice();return n[17]=e[t],n[19]=t,n}function et(i){let e,t=i[0],n=[];for(let l=0;l<t.length;l+=1)n[l]=nt($e(i,t,l));return{c(){e=se("svg");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=re(l,"svg",{style:!0,class:!0});var r=D(e);for(let s=0;s<n.length;s+=1)n[s].l(r);r.forEach(_),this.h()},h(){te(e,"pointer-events","none"),b(e,"class","svelte-1t43067")},m(l,r){y(l,e,r);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(l,r){if(r&2047){t=l[0];let s;for(s=0;s<t.length;s+=1){const a=$e(l,t,s);n[s]?n[s].p(a,r):(n[s]=nt(a),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){l&&_(e),de(n,l)}}}function tt(i){var d,g,A,C,k,h;let e,t,n,l,r,s,a,o=((A=(g=(d=i[17])==null?void 0:d.opts)==null?void 0:g.label)!=null&&A.enabled?(h=(k=(C=i[17])==null?void 0:C.opts)==null?void 0:k.label)==null?void 0:h.value:"")+"",f,c,u,p,v,L,w,I;return{c(){e=se("g"),t=se("path"),r=se("text"),s=se("textPath"),a=se("tspan"),f=V(o),c=X(),v=se("textPath"),L=V("\u27A4"),this.h()},l(m){e=re(m,"g",{stroke:!0,"stroke-opacity":!0});var E=D(e);t=re(E,"path",{d:!0,id:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-opacity":!0}),D(t).forEach(_),r=re(E,"text",{class:!0});var j=D(r);s=re(j,"textPath",{"xlink:href":!0,startOffset:!0});var R=D(s);a=re(R,"tspan",{fill:!0,class:!0});var U=D(a);f=F(U,o),U.forEach(_),c=W(R),R.forEach(_),v=re(j,"textPath",{"xlink:href":!0,startOffset:!0,fill:!0,opacity:!0});var M=D(v);L=F(M,"\u27A4"),M.forEach(_),j.forEach(_),E.forEach(_),this.h()},h(){b(t,"d",n=i[10](i[17])),b(t,"id",l=i[17].id),b(t,"stroke-width",i[2]),b(t,"stroke",i[1]),b(t,"fill","none"),b(t,"stroke-linecap","round"),b(t,"stroke-opacity",i[4]),b(a,"fill","black"),b(a,"class","svelte-1t43067"),ue(s,"xlink:href",u="#"+i[17].id),b(s,"startOffset",p=i[7]+"%"),ue(v,"xlink:href",w="#"+i[17].id),b(v,"startOffset",i[8]),b(v,"fill",i[3]),b(v,"opacity",I=i[4]*1.3),b(r,"class","svelte-1t43067"),b(e,"stroke",i[6]),b(e,"stroke-opacity",i[5])},m(m,E){y(m,e,E),T(e,t),T(e,r),T(r,s),T(s,a),T(a,f),T(s,c),T(r,v),T(v,L)},p(m,E){var j,R,U,M,ne,fe;E&1&&n!==(n=m[10](m[17]))&&b(t,"d",n),E&1&&l!==(l=m[17].id)&&b(t,"id",l),E&4&&b(t,"stroke-width",m[2]),E&2&&b(t,"stroke",m[1]),E&16&&b(t,"stroke-opacity",m[4]),E&1&&o!==(o=((U=(R=(j=m[17])==null?void 0:j.opts)==null?void 0:R.label)!=null&&U.enabled?(fe=(ne=(M=m[17])==null?void 0:M.opts)==null?void 0:ne.label)==null?void 0:fe.value:"")+"")&&le(f,o),E&1&&u!==(u="#"+m[17].id)&&ue(s,"xlink:href",u),E&128&&p!==(p=m[7]+"%")&&b(s,"startOffset",p),E&1&&w!==(w="#"+m[17].id)&&ue(v,"xlink:href",w),E&256&&b(v,"startOffset",m[8]),E&8&&b(v,"fill",m[3]),E&16&&I!==(I=m[4]*1.3)&&b(v,"opacity",I),E&64&&b(e,"stroke",m[6]),E&32&&b(e,"stroke-opacity",m[5])},d(m){m&&_(e)}}}function nt(i){let e,t=i[17]&&i[9]&&tt(i);return{c(){t&&t.c(),e=B()},l(n){t&&t.l(n),e=B()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,l){n[17]&&n[9]?t?t.p(n,l):(t=tt(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&_(e)}}}function An(i){let e,t=i[9]&&i[0]&&i[0].length>0&&et(i);return{c(){t&&t.c(),e=B()},l(n){t&&t.l(n),e=B()},m(n,l){t&&t.m(n,l),y(n,e,l)},p(n,[l]){n[9]&&n[0]&&n[0].length>0?t?t.p(n,l):(t=et(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:P,o:P,d(n){t&&t.d(n),n&&_(e)}}}function Mn(i,e,t){let{links:n}=e,{calcOffsetFromCanvas:l}=e,{strokeColor:r="green"}=e,{strokeWidth:s=1}=e,{arrowColor:a="green"}=e,{strokeOpacity:o="0.3"}=e,{groupStrokeOpacity:f="0.1"}=e,{groupStrokeColor:c="white"}=e,{textStartOffset:u=20}=e,{arrowStartOffset:p="40%"}=e;const v=Dn(Sn);let L,w,I,d,g;ge(()=>{t(9,L=!0)});function A(C){let k=document.getElementById(C.source.id),h=document.getElementById(C.target.id);if(!k||!h)return;const{x:m,y:E}=l(k),{x:j,y:R}=l(h);return w=m+k.offsetWidth/2,I=E+k.offsetHeight/2,d=j+h.offsetWidth/2,g=R+h.offsetHeight/2,v({source:[w,I],target:[d,g]})}return i.$$set=C=>{"links"in C&&t(0,n=C.links),"calcOffsetFromCanvas"in C&&t(11,l=C.calcOffsetFromCanvas),"strokeColor"in C&&t(1,r=C.strokeColor),"strokeWidth"in C&&t(2,s=C.strokeWidth),"arrowColor"in C&&t(3,a=C.arrowColor),"strokeOpacity"in C&&t(4,o=C.strokeOpacity),"groupStrokeOpacity"in C&&t(5,f=C.groupStrokeOpacity),"groupStrokeColor"in C&&t(6,c=C.groupStrokeColor),"textStartOffset"in C&&t(7,u=C.textStartOffset),"arrowStartOffset"in C&&t(8,p=C.arrowStartOffset)},[n,r,s,a,o,f,c,u,p,L,A,l]}class lt extends Z{constructor(e){super(),G(this,e,Mn,An,x,{links:0,calcOffsetFromCanvas:11,strokeColor:1,strokeWidth:2,arrowColor:3,strokeOpacity:4,groupStrokeOpacity:5,groupStrokeColor:6,textStartOffset:7,arrowStartOffset:8})}}function it(i){let e;const t=i[7].default,n=be(t,i,i[6],null),l=n||Nn(i);return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,s){l&&l.m(r,s),e=!0},p(r,s){n?n.p&&(!e||s&64)&&ke(n,t,r,r[6],e?we(t,r[6],s,null):ve(r[6]),null):l&&l.p&&(!e||s&4)&&l.p(r,e?s:-1)},i(r){e||(O(l,r),e=!0)},o(r){S(l,r),e=!1},d(r){l&&l.d(r)}}}function Nn(i){let e,t;return{c(){e=N("div"),this.h()},l(n){e=z(n,"DIV",{style:!0,class:!0}),D(e).forEach(_),this.h()},h(){te(e,"transform","translate(-50%, -50%)"),b(e,"class",t="absolute border-["+(i[2]+"em")+"] md:border-["+(i[2]/2+"em")+"] border-yellow-200/40 ring-2 ring-black h-0 w-0 rounded-full")},m(n,l){y(n,e,l)},p(n,l){l&4&&t!==(t="absolute border-["+(n[2]+"em")+"] md:border-["+(n[2]/2+"em")+"] border-yellow-200/40 ring-2 ring-black h-0 w-0 rounded-full")&&b(e,"class",t)},d(n){n&&_(e)}}}function zn(i){let e,t,n,l,r,s,a=i[0]&&it(i);return{c(){e=N("div"),a&&a.c(),this.h()},l(o){e=z(o,"DIV",{id:!0,"data-highlighter":!0,class:!0,style:!0});var f=D(e);a&&a.l(f),f.forEach(_),this.h()},h(){b(e,"id",t=i[1].id+"--highlighter"),b(e,"data-highlighter","true"),b(e,"class",n="absolute border-["+(i[2]+"em")+"] md:border-["+(i[2]/2+"em")+"] border-transparent rounded-full p-0 m-0"),te(e,"top",i[5]+"px"),te(e,"left",i[4]+"px")},m(o,f){y(o,e,f),a&&a.m(e,null),i[9](e),l=!0,r||(s=[Q(window,"resize",i[8]),Q(e,"mouseover",i[10]),Q(e,"mouseleave",i[11]),Q(e,"focus",i[12]),Q(e,"blur",i[13])],r=!0)},p(o,[f]){o[0]?a?(a.p(o,f),f&1&&O(a,1)):(a=it(o),a.c(),O(a,1),a.m(e,null)):a&&($(),S(a,1,1,()=>{a=null}),ee()),(!l||f&2&&t!==(t=o[1].id+"--highlighter"))&&b(e,"id",t),(!l||f&4&&n!==(n="absolute border-["+(o[2]+"em")+"] md:border-["+(o[2]/2+"em")+"] border-transparent rounded-full p-0 m-0"))&&b(e,"class",n),(!l||f&32)&&te(e,"top",o[5]+"px"),(!l||f&16)&&te(e,"left",o[4]+"px")},i(o){l||(O(a),l=!0)},o(o){S(a),l=!1},d(o){o&&_(e),a&&a.d(),i[9](null),r=!1,ht(s)}}}function Bn(i,e,t){let n,l,{$$slots:r={},$$scope:s}=e,{node:a}=e,{zoneSize:o=2}=e,{highlight:f=!1}=e,c;const u=d=>{t(5,n),t(3,c),t(1,a),t(4,l),t(3,c),t(1,a)};function p(d){ae[d?"unshift":"push"](()=>{c=d,t(3,c)})}const v=d=>{t(0,f=!0)},L=d=>{t(0,f=!1)},w=d=>{t(0,f=!0)},I=d=>{t(0,f=!1)};return i.$$set=d=>{"node"in d&&t(1,a=d.node),"zoneSize"in d&&t(2,o=d.zoneSize),"highlight"in d&&t(0,f=d.highlight),"$$scope"in d&&t(6,s=d.$$scope)},i.$$.update=()=>{i.$$.dirty&10&&t(5,n=c?-c.offsetHeight/2+a.offsetHeight/2:0),i.$$.dirty&10&&t(4,l=c?-c.offsetWidth/2+a.offsetWidth/2:0),i.$$.dirty&10&&c&&a.insertAdjacentElement("beforeend",c)},[f,a,o,c,l,n,s,r,u,p,v,L,w,I]}class Vn extends Z{constructor(e){super(),G(this,e,Bn,zn,x,{node:1,zoneSize:2,highlight:0})}}const st=(i,e,t=!1)=>{const n=i.find(r=>r.id==e);if(!n||!n.value)return"";if(!t)return n.value+" to";const l=i.find(r=>r.id==t);return l?`${n.value} to ${l.value}`:n.value},{window:Fn}=zt;function rt(i,e,t){const n=i.slice();return n[18]=e[t][0],n[19]=e[t][1].node,n[20]=e[t][1].highlight,n}const jn=i=>({}),ot=i=>({connectable:i[10]}),Rn=i=>({}),at=i=>({connectable:i[10]});function ft(i){let e,t,n;function l(s){i[13](s)}let r={left:i[7],top:i[8],id:Et,$$slots:{default:[Wn]},$$scope:{ctx:i}};return i[5]!==void 0&&(r.marker=i[5]),e=new En({props:r}),ae.push(()=>me(e,"marker",l)),{c(){q(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,a){K(e,s,a),n=!0},p(s,a){const o={};a&128&&(o.left=s[7]),a&256&&(o.top=s[8]),a&32768&&(o.$$scope={dirty:a,ctx:s}),!t&&a&32&&(t=!0,o.marker=s[5],pe(()=>t=!1)),e.$set(o)},i(s){n||(O(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){J(e,s)}}}function Xn(i){let e;return{c(){e=N("div"),this.h()},l(t){e=z(t,"DIV",{class:!0}),D(e).forEach(_),this.h()},h(){b(e,"class","h-32 w-32 md:h-16 md:w-16 p-8 rounded-full shadow-xl opacity-80 select-none border-[4em] md:border-[2em] ")},m(t,n){y(t,e,n)},p:P,d(t){t&&_(e)}}}function Wn(i){let e;const t=i[11].marker,n=be(t,i,i[15],at),l=n||Xn();return{c(){l&&l.c()},l(r){l&&l.l(r)},m(r,s){l&&l.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&32768)&&ke(n,t,r,r[15],e?we(t,r[15],s,Rn):ve(r[15]),at)},i(r){e||(O(l,r),e=!0)},o(r){S(l,r),e=!1},d(r){l&&l.d(r)}}}function ct(i){let e;const t=i[11].default,n=be(t,i,i[15],ot);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,r){n&&n.m(l,r),e=!0},p(l,r){n&&n.p&&(!e||r&32768)&&ke(n,t,l,l[15],e?we(t,l[15],r,jn):ve(l[15]),ot)},i(l){e||(O(n,l),e=!0)},o(l){S(n,l),e=!1},d(l){n&&n.d(l)}}}function ut(i){let e,t;return e=new Vn({props:{node:i[19],highlight:i[20]}}),{c(){q(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&4&&(r.node=n[19]),l&4&&(r.highlight=n[20]),e.$set(r)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Yn(i){var C,k;let e,t,n,l,r,s,a,o,f,c,u=i[4]&&ft(i),p=i[3]&&ct(i);const v=[{links:[i[6]]},{calcOffsetFromCanvas:i[9]},(C=i[1])==null?void 0:C.links];let L={};for(let h=0;h<v.length;h+=1)L=he(L,v[h]);l=new lt({props:L});const w=[{links:i[0].links},{calcOffsetFromCanvas:i[9]},(k=i[1])==null?void 0:k.links];let I={};for(let h=0;h<w.length;h+=1)I=he(I,w[h]);s=new lt({props:I});let d=[...Object.entries(i[2])],g=[];for(let h=0;h<d.length;h+=1)g[h]=ut(rt(i,d,h));const A=h=>S(g[h],1,1,()=>{g[h]=null});return{c(){e=N("div"),u&&u.c(),t=X(),p&&p.c(),n=X(),q(l.$$.fragment),r=X(),q(s.$$.fragment),a=X();for(let h=0;h<g.length;h+=1)g[h].c();this.h()},l(h){e=z(h,"DIV",{class:!0});var m=D(e);u&&u.l(m),t=W(m),p&&p.l(m),n=W(m),H(l.$$.fragment,m),r=W(m),H(s.$$.fragment,m),a=W(m);for(let E=0;E<g.length;E+=1)g[E].l(m);m.forEach(_),this.h()},h(){b(e,"class","relative")},m(h,m){y(h,e,m),u&&u.m(e,null),T(e,t),p&&p.m(e,null),T(e,n),K(l,e,null),T(e,r),K(s,e,null),T(e,a);for(let E=0;E<g.length;E+=1)g[E].m(e,null);i[14](e),o=!0,f||(c=Q(Fn,"resize",i[12]),f=!0)},p(h,[m]){var R,U;h[4]?u?(u.p(h,m),m&16&&O(u,1)):(u=ft(h),u.c(),O(u,1),u.m(e,t)):u&&($(),S(u,1,1,()=>{u=null}),ee()),h[3]?p?(p.p(h,m),m&8&&O(p,1)):(p=ct(h),p.c(),O(p,1),p.m(e,n)):p&&($(),S(p,1,1,()=>{p=null}),ee());const E=m&578?Ne(v,[m&64&&{links:[h[6]]},m&512&&{calcOffsetFromCanvas:h[9]},m&2&&ze((R=h[1])==null?void 0:R.links)]):{};l.$set(E);const j=m&515?Ne(w,[m&1&&{links:h[0].links},m&512&&{calcOffsetFromCanvas:h[9]},m&2&&ze((U=h[1])==null?void 0:U.links)]):{};if(s.$set(j),m&4){d=[...Object.entries(h[2])];let M;for(M=0;M<d.length;M+=1){const ne=rt(h,d,M);g[M]?(g[M].p(ne,m),O(g[M],1)):(g[M]=ut(ne),g[M].c(),O(g[M],1),g[M].m(e,null))}for($(),M=d.length;M<g.length;M+=1)A(M);ee()}},i(h){if(!o){O(u),O(p),O(l.$$.fragment,h),O(s.$$.fragment,h);for(let m=0;m<d.length;m+=1)O(g[m]);o=!0}},o(h){S(u),S(p),S(l.$$.fragment,h),S(s.$$.fragment,h),g=g.filter(Boolean);for(let m=0;m<g.length;m+=1)S(g[m]);o=!1},d(h){h&&_(e),u&&u.d(),p&&p.d(),J(l),J(s),de(g,h),i[14](null),f=!1,c()}}}const Et="marker";function Un(i,e,t){let{$$slots:n={},$$scope:l}=e,{data:r}=e,{opts:s={}}=e;const a=pt();let o={},f,c,u,p=null,v=0,L=0;function w(k,h){h.stopPropagation(),h.preventDefault(),t(7,v=k.pageX-f.offsetLeft),t(8,L=k.pageY-f.offsetTop)}function I(k){if(!k)return;if(k==f)return{x:k.offsetLeft,y:k.offsetTop};let h=k.getBoundingClientRect().top,m=f.getBoundingClientRect().top,E=h-m,j=k.getBoundingClientRect().left,R=f.getBoundingClientRect().left;return{x:j-R,y:E}}function d(k,h){var R,U;k.id||(k.id=bn()),k.style.position||(k.style.position="relative");let m=!1,E;t(2,o[k.id]={node:k,highlight:m},o);let j;return h!=null&&h.dataset&&(k.dataset.dataset=JSON.stringify(h.dataset)),(R=h==null?void 0:h.restrictions)!=null&&R.startOnly||(k.dataset.dropzone=!0),(U=h==null?void 0:h.restrictions)!=null&&U.dropOnly||(j=new gn(k,{start(M,ne){return j.currentPointers.length===1?!1:(t(4,c=!0),w(M,ne),!0)},move(M,ne,fe){var Ee;w(j.currentPointers[0],fe),t(6,p={id:k.id+"-to-",source:{id:k.id},target:{id:Et},opts:{label:{enabled:!0,value:st(r.nodes,k.id)}}}),E&&t(2,o[E.id].highlight=!1,o),E=((Ee=document.elementFromPoint(j.currentPointers[0].clientX,j.currentPointers[0].clientY))==null?void 0:Ee.closest("[data-dropzone]"))||null,E!=null&&E.id&&t(2,o[E.id].highlight=!0,o)},end:(M,ne,fe)=>{var De,Ae;t(5,u.style.display="none",u),t(4,c=!1),o&&E&&E.id&&o[E.id].highlight&&t(2,o[E.id].highlight=!1,o),E=null;let Y=document.elementFromPoint(M.clientX,M.clientY).closest("[data-dropzone]");if(t(6,p=null),!Y||!(Y!=null&&Y.id)||!k||!(k!=null&&k.id))return;const Ie={id:k.id+"-to-"+Y.id,source:{id:k.id},target:{id:Y.id},opts:{label:{enabled:!0,value:st(r.nodes,k.id,Y.id)}}};if(console.log({newLink:Ie}),t(0,r.links=[...r.links,Ie],r),(h==null?void 0:h.dataset)||((De=Y==null?void 0:Y.dataset)==null?void 0:De.dataset)){const Me={source:{dataset:(h==null?void 0:h.dataset)||null},target:{dataset:(Ae=Y==null?void 0:Y.dataset)!=null&&Ae.dataset?JSON.parse(Y.dataset.dataset):null}};console.log(Me),a("connected",Me)}},avoidPointerEvents:!0,eventListenerOptions:{capture:!0,passive:!1}})),{update(M){},destroy(){}}}const g=k=>{t(0,r)};function A(k){u=k,t(5,u)}function C(k){ae[k?"unshift":"push"](()=>{f=k,t(3,f)})}return i.$$set=k=>{"data"in k&&t(0,r=k.data),"opts"in k&&t(1,s=k.opts),"$$scope"in k&&t(15,l=k.$$scope)},[r,s,o,f,c,u,p,v,L,I,d,n,g,A,C,l]}class qn extends Z{constructor(e){super(),G(this,e,Un,Yn,x,{data:0,opts:1})}}function Hn(i){let e,t;return e=new pn({props:{commits:i[1],connectable:i[3]}}),{c(){q(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,l){K(e,n,l),t=!0},p(n,l){const r={};l&8&&(r.connectable=n[3]),e.$set(r)},i(n){t||(O(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Kn(i){let e,t,n;function l(s){i[2](s)}let r={$$slots:{default:[Hn,({connectable:s})=>({3:s}),({connectable:s})=>s?8:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(r.data=i[0]),e=new qn({props:r}),ae.push(()=>me(e,"data",l)),{c(){q(e.$$.fragment)},l(s){H(e.$$.fragment,s)},m(s,a){K(e,s,a),n=!0},p(s,[a]){const o={};a&24&&(o.$$scope={dirty:a,ctx:s}),!t&&a&1&&(t=!0,o.data=s[0],pe(()=>t=!1)),e.$set(o)},i(s){n||(O(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){J(e,s)}}}function Jn(i,e,t){let n=[],l={nodes:[],links:[]};function r(s){l=s,t(0,l)}return[l,n,r]}class $n extends Z{constructor(e){super(),G(this,e,Jn,Kn,x,{})}}export{Xt as A,$n as P};
