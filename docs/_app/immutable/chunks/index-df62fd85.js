function getAugmentedNamespace(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),r}var encode_1$1=encode$d,MSB$3=128,REST$3=127,MSBALL$1=~REST$3,INT$1=Math.pow(2,31);function encode$d(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw encode$d.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=INT$1;)t[r++]=e&255|MSB$3,e/=128;for(;e&MSBALL$1;)t[r++]=e&255|MSB$3,e>>>=7;return t[r]=e|0,encode$d.bytes=r-n+1,t}var decode$d=read$1,MSB$2=128,REST$2=127;function read$1(e,n){var r=0,n=n||0,o=0,i=n,a,s=e.length;do{if(i>=s||o>49)throw read$1.bytes=0,new RangeError("Could not decode varint");a=e[i++],r+=o<28?(a&REST$2)<<o:(a&REST$2)*Math.pow(2,o),o+=7}while(a>=MSB$2);return read$1.bytes=i-n,r}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(e){return e<N1$2?1:e<N2$2?2:e<N3$1?3:e<N4$1?4:e<N5$1?5:e<N6$1?6:e<N7$1?7:e<N8$1?8:e<N9$1?9:10},varint$4={encode:encode_1$1,decode:decode$d,encodingLength:length$1};const typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";const t=typeof e;if(typeofs.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(isBuffer$1(e))return"Buffer";const r=getObjectType(e);return r||"Object"}function isBuffer$1(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function getObjectType(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(objectTypeNames.includes(t))return t}class Type{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$2=new TextDecoder,textEncoder$3=new TextEncoder;function isBuffer(e){return useBuffer&&globalThis.Buffer.isBuffer(e)}function asU8A(e){return e instanceof Uint8Array?isBuffer(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const toString$4=useBuffer?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):utf8Slice(e,t,r):(e,t,r)=>r-t>64?textDecoder$2.decode(e.subarray(t,r)):utf8Slice(e,t,r),fromString$4=useBuffer?e=>e.length>64?globalThis.Buffer.from(e):utf8ToBytes(e):e=>e.length>64?textEncoder$3.encode(e):utf8ToBytes(e),fromArray=e=>Uint8Array.from(e),slice=useBuffer?(e,t,r)=>isBuffer(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),concat$2=useBuffer?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),asU8A(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},alloc=useBuffer?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function compare(e,t){if(isBuffer(e)&&isBuffer(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function utf8ToBytes(e,t=1/0){let r;const n=e.length;let o=null;const i=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function utf8Slice(e,t,r){const n=[];for(;t<r;){const o=e[t];let i=null,a=o>239?4:o>223?3:o>191?2:1;if(t+a<=r){let s,c,l,d;switch(a){case 1:o<128&&(i=o);break;case 2:s=e[t+1],(s&192)===128&&(d=(o&31)<<6|s&63,d>127&&(i=d));break;case 3:s=e[t+1],c=e[t+2],(s&192)===128&&(c&192)===128&&(d=(o&15)<<12|(s&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(i=d));break;case 4:s=e[t+1],c=e[t+2],l=e[t+3],(s&192)===128&&(c&192)===128&&(l&192)===128&&(d=(o&15)<<18|(s&63)<<12|(c&63)<<6|l&63,d>65535&&d<1114112&&(i=d))}}i===null?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),t+=a}return decodeCodePointsArray(n)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){const t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}const defaultChunkSize=256;class Bl{constructor(t=defaultChunkSize){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){const o=r.length-(this.maxCursor-this.cursor)-1;r.set(t,o)}else{if(r){const o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=alloc(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=slice(n,0,this.cursor)}else r=concat$2(this.chunks,this.cursor);return t&&this.reset(),r}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(e,t,r){if(e.length-t<r)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(e,t,r){assertEnoughData(e,t,1);const n=e[t];if(r.strict===!0&&n<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16(e,t,r){assertEnoughData(e,t,2);const n=e[t]<<8|e[t+1];if(r.strict===!0&&n<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32(e,t,r){assertEnoughData(e,t,4);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64(e,t,r){assertEnoughData(e,t,8);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(e,t,r,n){return new Token(Type.uint,readUint8(e,t+1,n),2)}function decodeUint16(e,t,r,n){return new Token(Type.uint,readUint16(e,t+1,n),3)}function decodeUint32(e,t,r,n){return new Token(Type.uint,readUint32(e,t+1,n),5)}function decodeUint64(e,t,r,n){return new Token(Type.uint,readUint64(e,t+1,n),9)}function encodeUint(e,t){return encodeUintValue(e,0,t.value)}function encodeUintValue(e,t,r){if(r<uintBoundaries[0]){const n=Number(r);e.push([t|n])}else if(r<uintBoundaries[1]){const n=Number(r);e.push([t|24,n])}else if(r<uintBoundaries[2]){const n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<uintBoundaries[3]){const n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<uintBoundaries[4]){const o=[t|27,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=a&255,a=a>>8,o[3]=a&255,a=a>>8,o[2]=a&255,a=a>>8,o[1]=a&255,e.push(o)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};encodeUintValue.encodedSize=function(t){return t<uintBoundaries[0]?1:t<uintBoundaries[1]?2:t<uintBoundaries[2]?3:t<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0};function decodeNegint8(e,t,r,n){return new Token(Type.negint,-1-readUint8(e,t+1,n),2)}function decodeNegint16(e,t,r,n){return new Token(Type.negint,-1-readUint16(e,t+1,n),3)}function decodeNegint32(e,t,r,n){return new Token(Type.negint,-1-readUint32(e,t+1,n),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o!="bigint"){const i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(o),9)}function encodeNegint(e,t){const r=t.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;encodeUintValue(e,t.type.majorEncoded,n)}encodeNegint.encodedSize=function(t){const r=t.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;return n<uintBoundaries[0]?1:n<uintBoundaries[1]?2:n<uintBoundaries[2]?3:n<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0};function toToken$3(e,t,r,n){assertEnoughData(e,t,r+n);const o=slice(e,t+r,t+r+n);return new Token(Type.bytes,o,r+n)}function decodeBytesCompact(e,t,r,n){return toToken$3(e,t,1,r)}function decodeBytes8(e,t,r,n){return toToken$3(e,t,2,readUint8(e,t+1,n))}function decodeBytes16(e,t,r,n){return toToken$3(e,t,3,readUint16(e,t+1,n))}function decodeBytes32(e,t,r,n){return toToken$3(e,t,5,readUint32(e,t+1,n))}function decodeBytes64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(e,t,9,o)}function tokenBytes(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===Type.string?fromString$4(e.value):e.value),e.encodedBytes}function encodeBytes(e,t){const r=tokenBytes(t);encodeUintValue(e,t.type.majorEncoded,r.length),e.push(r)}encodeBytes.encodedSize=function(t){const r=tokenBytes(t);return encodeUintValue.encodedSize(r.length)+r.length};encodeBytes.compareTokens=function(t,r){return compareBytes(tokenBytes(t),tokenBytes(r))};function compareBytes(e,t){return e.length<t.length?-1:e.length>t.length?1:compare(e,t)}function toToken$2(e,t,r,n,o){const i=r+n;assertEnoughData(e,t,i);const a=new Token(Type.string,toString$4(e,t+r,t+i),i);return o.retainStringBytes===!0&&(a.byteValue=slice(e,t+r,t+i)),a}function decodeStringCompact(e,t,r,n){return toToken$2(e,t,1,r,n)}function decodeString8(e,t,r,n){return toToken$2(e,t,2,readUint8(e,t+1,n),n)}function decodeString16(e,t,r,n){return toToken$2(e,t,3,readUint16(e,t+1,n),n)}function decodeString32(e,t,r,n){return toToken$2(e,t,5,readUint32(e,t+1,n),n)}function decodeString64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(e,t,9,o,n)}const encodeString=encodeBytes;function toToken$1(e,t,r,n){return new Token(Type.array,n,r)}function decodeArrayCompact(e,t,r,n){return toToken$1(e,t,1,r)}function decodeArray8(e,t,r,n){return toToken$1(e,t,2,readUint8(e,t+1,n))}function decodeArray16(e,t,r,n){return toToken$1(e,t,3,readUint16(e,t+1,n))}function decodeArray32(e,t,r,n){return toToken$1(e,t,5,readUint32(e,t+1,n))}function decodeArray64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(e,t,9,o)}function decodeArrayIndefinite(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(e,t,1,1/0)}function encodeArray(e,t){encodeUintValue(e,Type.array.majorEncoded,t.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};function toToken(e,t,r,n){return new Token(Type.map,n,r)}function decodeMapCompact(e,t,r,n){return toToken(e,t,1,r)}function decodeMap8(e,t,r,n){return toToken(e,t,2,readUint8(e,t+1,n))}function decodeMap16(e,t,r,n){return toToken(e,t,3,readUint16(e,t+1,n))}function decodeMap32(e,t,r,n){return toToken(e,t,5,readUint32(e,t+1,n))}function decodeMap64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(e,t,9,o)}function decodeMapIndefinite(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(e,t,1,1/0)}function encodeMap(e,t){encodeUintValue(e,Type.map.majorEncoded,t.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};function decodeTagCompact(e,t,r,n){return new Token(Type.tag,r,1)}function decodeTag8(e,t,r,n){return new Token(Type.tag,readUint8(e,t+1,n),2)}function decodeTag16(e,t,r,n){return new Token(Type.tag,readUint16(e,t+1,n),3)}function decodeTag32(e,t,r,n){return new Token(Type.tag,readUint32(e,t+1,n),5)}function decodeTag64(e,t,r,n){return new Token(Type.tag,readUint64(e,t+1,n),9)}function encodeTag(e,t){encodeUintValue(e,Type.tag.majorEncoded,t.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,e,t)}function decodeFloat16(e,t,r,n){return createToken(readFloat16(e,t+1),3,n)}function decodeFloat32(e,t,r,n){return createToken(readFloat32(e,t+1),5,n)}function decodeFloat64(e,t,r,n){return createToken(readFloat64(e,t+1),9,n)}function encodeFloat(e,t,r){const n=t.value;if(n===!1)e.push([Type.float.majorEncoded|MINOR_FALSE]);else if(n===!0)e.push([Type.float.majorEncoded|MINOR_TRUE]);else if(n===null)e.push([Type.float.majorEncoded|MINOR_NULL]);else if(n===void 0)e.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let o,i=!1;(!r||r.float64!==!0)&&(encodeFloat16(n),o=readFloat16(ui8a,1),n===o||Number.isNaN(n)?(ui8a[0]=249,e.push(ui8a.slice(0,3)),i=!0):(encodeFloat32(n),o=readFloat32(ui8a,1),n===o&&(ui8a[0]=250,e.push(ui8a.slice(0,5)),i=!0))),i||(encodeFloat64(n),o=readFloat64(ui8a,1),ui8a[0]=251,e.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(t,r){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){encodeFloat16(n);let o=readFloat16(ui8a,1);if(n===o||Number.isNaN(n))return 3;if(encodeFloat32(n),o=readFloat32(ui8a,1),n===o)return 5}return 9};const buffer=new ArrayBuffer(9),dataView=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(e){if(e===1/0)dataView.setUint16(0,31744,!1);else if(e===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(e))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,e);const t=dataView.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)dataView.setUint16(0,31744,!1);else if(r===0)dataView.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{const o=r-127;o<-24?dataView.setUint16(0,0):o<-14?dataView.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):dataView.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function readFloat16(e,t){if(e.length-t<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,o=r&1023;let i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function encodeFloat32(e){dataView.setFloat32(0,e,!1)}function readFloat32(e,t){if(e.length-t<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function encodeFloat64(e){dataView.setFloat64(0,e,!1)}function readFloat64(e,t){if(e.length-t<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(e,t,r){throw new Error(`${decodeErrPrefix} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function errorer(e){return()=>{throw new Error(`${decodeErrPrefix} ${e}`)}}const jump=[];for(let e=0;e<=23;e++)jump[e]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let e=32;e<=55;e++)jump[e]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let e=64;e<=87;e++)jump[e]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)jump[e]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)jump[e]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let e=160;e<=183;e++)jump[e]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let e=192;e<=215;e++)jump[e]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let e=224;e<=243;e++)jump[e]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let e=0;e<24;e++)quick[e]=new Token(Type.uint,e,1);for(let e=-1;e>=-24;e--)quick[31-e]=new Token(Type.negint,e,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(e){switch(e.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return e.value.length?void 0:fromArray([64]);case Type.string:return e.value===""?fromArray([96]):void 0;case Type.array:return e.value===0?fromArray([128]):void 0;case Type.map:return e.value===0?fromArray([160]):void 0;case Type.uint:return e.value<24?fromArray([Number(e.value)]):void 0;case Type.negint:if(e.value>=-24)return fromArray([31-Number(e.value)])}}const defaultEncodeOptions$2={float64:!1,mapSorter:mapSorter$1,quickEncodeToken};function makeCborEncoders(){const e=[];return e[Type.uint.major]=encodeUint,e[Type.negint.major]=encodeNegint,e[Type.bytes.major]=encodeBytes,e[Type.string.major]=encodeString,e[Type.array.major]=encodeArray,e[Type.map.major]=encodeMap,e[Type.tag.major]=encodeTag,e[Type.float.major]=encodeFloat,e}const cborEncoders$1=makeCborEncoders(),buf=new Bl;class Ref{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(r,t)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new Token(Type.float,e):e>=0?new Token(Type.uint,e):new Token(Type.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new Token(Type.uint,e):new Token(Type.negint,e)},Uint8Array(e,t,r,n){return new Token(Type.bytes,e)},string(e,t,r,n){return new Token(Type.string,e)},boolean(e,t,r,n){return e?simpleTokens.true:simpleTokens.false},null(e,t,r,n){return simpleTokens.null},undefined(e,t,r,n){return simpleTokens.undefined},ArrayBuffer(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,e);const o=[];let i=0;for(const a of e)o[i++]=objectToTokens(a,r,n);return r.addBreakTokens?[new Token(Type.array,e.length),o,new Token(Type.break)]:[new Token(Type.array,e.length),o]},Object(e,t,r,n){const o=t!=="Object",i=o?e.keys():Object.keys(e),a=o?e.size:i.length;if(!a)return r.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,e);const s=[];let c=0;for(const l of i)s[c++]=[objectToTokens(l,r,n),objectToTokens(o?e.get(l):e[l],r,n)];return sortMapEntries(s,r),r.addBreakTokens?[new Token(Type.map,a),s,new Token(Type.break)]:[new Token(Type.map,a),s]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${e}Array`]=typeEncoders.DataView;function objectToTokens(e,t={},r){const n=is(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders[n];if(typeof o=="function"){const a=o(e,n,t,r);if(a!=null)return a}const i=typeEncoders[n];if(!i)throw new Error(`${encodeErrPrefix} unsupported type: ${n}`);return i(e,n,t,r)}function sortMapEntries(e,t){t.mapSorter&&e.sort(t.mapSorter)}function mapSorter$1(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const o=r.type.major,i=cborEncoders$1[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function tokensToEncoded(e,t,r,n){if(Array.isArray(t))for(const o of t)tokensToEncoded(e,o,r,n);else r[t.type.major](e,t,n)}function encodeCustom(e,t,r){const n=objectToTokens(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const o=r.quickEncodeToken(n);if(o)return o;const i=t[n.type.major];if(i.encodedSize){const a=i.encodedSize(n,r),s=new Bl(a);if(i(s,n,r),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A(s.chunks[0])}}return buf.reset(),tokensToEncoded(buf,n,t,r),buf.toBytes(!0)}function encode$c(e,t){return t=Object.assign({},defaultEncodeOptions$2,t),encodeCustom(e,cborEncoders$1,t)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(t,r={}){this.pos=0,this.data=t,this.options=r}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let r=quick[t];if(r===void 0){const n=jump[t];if(!n)throw new Error(`${decodeErrPrefix} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const o=t&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(e,t,r){const n=[];for(let o=0;o<e.value;o++){const i=tokensToObject(t,r);if(i===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(i===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=i}return n}function tokenToMap(e,t,r){const n=r.useMaps===!0,o=n?void 0:{},i=n?new Map:void 0;for(let a=0;a<e.value;a++){const s=tokensToObject(t,r);if(s===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(s===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(n!==!0&&typeof s!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof s})`);const c=tokensToObject(t,r);if(c===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?i.set(s,c):o[s]=c}return n?i:o}function tokensToObject(e,t){if(e.done())return DONE;const r=e.next();if(r.type===Type.break)return BREAK;if(r.type.terminal)return r.value;if(r.type===Type.array)return tokenToArray(r,e,t);if(r.type===Type.map)return tokenToMap(r,e,t);if(r.type===Type.tag){if(t.tags&&typeof t.tags[r.value]=="function"){const n=tokensToObject(e,t);return t.tags[r.value](n)}throw new Error(`${decodeErrPrefix} tag not supported (${r.value})`)}throw new Error("unsupported")}function decode$c(e,t){if(!(e instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);t=Object.assign({},defaultDecodeOptions,t);const r=t.tokenizer||new Tokeniser(e,t),n=tokensToObject(r,t);if(n===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(n===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!r.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return n}const cborEncoders=makeCborEncoders(),defaultEncodeOptions$1={float64:!1,quickEncodeToken};function tokensToLength(e,t=cborEncoders,r=defaultEncodeOptions$1){if(Array.isArray(e)){let n=0;for(const o of e)n+=tokensToLength(o,t,r);return n}else{const n=t[e.type.major];if(n.encodedSize===void 0||typeof n.encodedSize!="function")throw new Error(`Encoder for ${e.type.name} does not have an encodedSize()`);return n.encodedSize(e,r)}}var encode_1=encode$b,MSB=128,REST=127,MSBALL=~REST,INT=Math.pow(2,31);function encode$b(e,t,r){t=t||[],r=r||0;for(var n=r;e>=INT;)t[r++]=e&255|MSB,e/=128;for(;e&MSBALL;)t[r++]=e&255|MSB,e>>>=7;return t[r]=e|0,encode$b.bytes=r-n+1,t}var decode$b=read,MSB$1=128,REST$1=127;function read(e,n){var r=0,n=n||0,o=0,i=n,a,s=e.length;do{if(i>=s)throw read.bytes=0,new RangeError("Could not decode varint");a=e[i++],r+=o<28?(a&REST$1)<<o:(a&REST$1)*Math.pow(2,o),o+=7}while(a>=MSB$1);return read.bytes=i-n,r}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(e){return e<N1$1?1:e<N2$1?2:e<N3?3:e<N4?4:e<N5?5:e<N6?6:e<N7?7:e<N8?8:e<N9?9:10},varint$3={encode:encode_1,decode:decode$b,encodingLength:length},_brrp_varint=varint$3;const decode$a=e=>[_brrp_varint.decode(e),_brrp_varint.decode.bytes],encodeTo=(e,t,r=0)=>(_brrp_varint.encode(e,t,r),t),encodingLength=e=>_brrp_varint.encodingLength(e),empty=new Uint8Array(0),toHex=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),""),fromHex=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map(r=>parseInt(r,16))):empty},equals$3=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},coerce=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},isBinary$1=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),fromString$3=e=>new TextEncoder().encode(e),toString$3=e=>new TextDecoder().decode(e),byteslib=Object.freeze(Object.defineProperty({__proto__:null,equals:equals$3,coerce,isBinary:isBinary$1,fromHex,toHex,fromString:fromString$3,toString:toString$3,empty},Symbol.toStringTag,{value:"Module"})),create$2=(e,t)=>{const r=t.byteLength,n=encodingLength(e),o=n+encodingLength(r),i=new Uint8Array(o+r);return encodeTo(e,i,0),encodeTo(r,i,n),i.set(t,o),new Digest$1(e,r,t,i)},decode$9=e=>{const t=coerce(e),[r,n]=decode$a(t),[o,i]=decode$a(t.subarray(n)),a=t.subarray(n+i);if(a.byteLength!==o)throw new Error("Incorrect length");return new Digest$1(r,o,a,t)},equals$2=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&equals$3(e.bytes,t.bytes);class Digest$1{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}}const digest$1=Object.freeze(Object.defineProperty({__proto__:null,create:create$2,decode:decode$9,equals:equals$2,Digest:Digest$1},Symbol.toStringTag,{value:"Module"}));function base(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=o}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function E(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var f=0,k=0,T=0,O=w.length;T!==O&&w[T]===0;)T++,f++;for(var P=(O-T)*d+1>>>0,R=new Uint8Array(P);T!==O;){for(var J=w[T],F=0,X=P-1;(J!==0||F<k)&&X!==-1;X--,F++)J+=256*R[X]>>>0,R[X]=J%s>>>0,J=J/s>>>0;if(J!==0)throw new Error("Non-zero carry");k=F,T++}for(var H=P-k;H!==P&&R[H]===0;)H++;for(var ee=c.repeat(f);H<P;++H)ee+=e.charAt(R[H]);return ee}function D(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var f=0;if(w[f]!==" "){for(var k=0,T=0;w[f]===c;)k++,f++;for(var O=(w.length-f)*l+1>>>0,P=new Uint8Array(O);w[f];){var R=r[w.charCodeAt(f)];if(R===255)return;for(var J=0,F=O-1;(R!==0||J<T)&&F!==-1;F--,J++)R+=s*P[F]>>>0,P[F]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=J,f++}if(w[f]!==" "){for(var X=O-T;X!==O&&P[X]===0;)X++;for(var H=new Uint8Array(k+(O-X)),ee=k;X!==O;)H[ee++]=P[X++];return H}}}function g(w){var f=D(w);if(f)return f;throw new Error(`Non-${t} character`)}return{encode:E,decodeUnsafe:D,decode:g}}var src=base,_brrp__multiformats_scope_baseX=src;class Encoder{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or(this,t)}}class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(e,t)=>new ComposedDecoder({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Codec{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder(t,r,n),this.decoder=new Decoder(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const from$1=({name:e,prefix:t,encode:r,decode:n})=>new Codec(e,t,r,n),baseX=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX(r,t);return from$1({prefix:e,name:t,encode:n,decode:i=>coerce(o(i))})},decode$8=(e,t,r,n)=>{const o={};for(let d=0;d<t.length;++d)o[t[d]]=d;let i=e.length;for(;e[i-1]==="=";)--i;const a=new Uint8Array(i*r/8|0);let s=0,c=0,l=0;for(let d=0;d<i;++d){const E=o[e[d]];if(E===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|E,s+=r,s>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return a},encode$a=(e,t,r)=>{const n=t[t.length-1]==="=",o=(1<<r)-1;let i="",a=0,s=0;for(let c=0;c<e.length;++c)for(s=s<<8|e[c],a+=8;a>r;)a-=r,i+=t[o&s>>a];if(a&&(i+=t[o&s<<r-a]),n)for(;i.length*r&7;)i+="=";return i},rfc4648=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>from$1({prefix:t,name:e,encode(o){return encode$a(o,n,r)},decode(o){return decode$8(o,n,r,e)}}),base58btc$2=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc:base58btc$2,base58flickr},Symbol.toStringTag,{value:"Module"})),base32$1=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$2=Object.freeze(Object.defineProperty({__proto__:null,base32:base32$1,base32upper,base32pad,base32padupper,base32hex,base32hexupper,base32hexpad,base32hexpadupper,base32z},Symbol.toStringTag,{value:"Module"}));class CID$2{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:t,multihash:r}=this;if(t!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID$2.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:t,digest:r}=this.multihash,n=create$2(t,r);return CID$2.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&equals$2(this.multihash,t.multihash)}toString(t){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0(r,o,t||base58btc$2.encoder);default:return toStringV1(r,o,t||base32$1.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(t&&(t[cidSymbol]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof CID$2)return t;if(t!=null&&t.asCID===t){const{version:r,code:n,multihash:o,bytes:i}=t;return new CID$2(r,n,o,i||encodeCID(r,n,o.bytes))}else if(t!=null&&t[cidSymbol]===!0){const{version:r,multihash:n,code:o}=t,i=decode$9(n);return CID$2.create(r,o,i)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID$2(t,r,n,n.bytes)}case 1:{const o=encodeCID(t,r,n.bytes);return new CID$2(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return CID$2.create(0,DAG_PB_CODE,t)}static createV1(t,r){return CID$2.create(1,t,r)}static decode(t){const[r,n]=CID$2.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){const r=CID$2.inspectBytes(t),n=r.size-r.multihashSize,o=coerce(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const i=o.subarray(r.multihashSize-r.digestSize),a=new Digest$1(r.multihashCode,r.digestSize,i,o);return[r.version===0?CID$2.createV0(a):CID$2.createV1(r.codec,a),t.subarray(r.size)]}static inspectBytes(t){let r=0;const n=()=>{const[E,D]=decode$a(t.subarray(r));return r+=D,E};let o=n(),i=DAG_PB_CODE;if(o===18?(o=0,r=0):o===1&&(i=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const a=r,s=n(),c=n(),l=r+c,d=l-a;return{version:o,codec:i,multihashCode:s,digestSize:c,multihashSize:d,size:l}}static parse(t,r){const[n,o]=parseCIDtoBytes(t,r),i=CID$2.decode(o);return i._baseCache.set(n,t),i}}const parseCIDtoBytes=(e,t)=>{switch(e[0]){case"Q":{const r=t||base58btc$2;return[base58btc$2.prefix,r.decode(`${base58btc$2.prefix}${e}`)]}case base58btc$2.prefix:{const r=t||base58btc$2;return[base58btc$2.prefix,r.decode(e)]}case base32$1.prefix:{const r=t||base32$1;return[base32$1.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},toStringV0=(e,t,r)=>{const{prefix:n}=r;if(n!==base58btc$2.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=t.get(n);if(o==null){const i=r.encode(e).slice(1);return t.set(n,i),i}else return o},toStringV1=(e,t,r)=>{const{prefix:n}=r,o=t.get(n);if(o==null){const i=r.encode(e);return t.set(n,i),i}else return o},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(e,t,r)=>{const n=encodingLength(e),o=n+encodingLength(t),i=new Uint8Array(o+r.byteLength);return encodeTo(e,i,0),encodeTo(t,i,n),i.set(r,o),i},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(e,t)=>{if(e.test(version))console.warn(t);else throw new Error(t)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,cid=Object.freeze(Object.defineProperty({__proto__:null,CID:CID$2},Symbol.toStringTag,{value:"Module"})),CID_CBOR_TAG=42;function cidEncoder$1(e){if(e.asCID!==e)return null;const t=CID$2.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,r)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID$2.decode(e.subarray(1))}const decodeOptions$1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG]=cidDecoder;const name$5="dag-cbor",code$5=113,encode$9=e=>encode$c(e,encodeOptions$1),decode$7=e=>decode$c(e,decodeOptions$1),dagCBOR=Object.freeze(Object.defineProperty({__proto__:null,name:name$5,code:code$5,encode:encode$9,decode:decode$7},Symbol.toStringTag,{value:"Module"}));class CarBufferWriter{constructor(t,r){this.bytes=t,this.byteOffset=r,this.roots=[],this.headerSize=r}addRoot(t,r){return addRoot(this,t,r),this}write(t){return addBlock(this,t),this}close(t){return close(this,t)}}const addRoot=(e,t,{resize:r=!1}={})=>{const{bytes:n,headerSize:o,byteOffset:i,roots:a}=e;e.roots.push(t);const s=headerLength(e);if(s>o)if(s-o+i<n.byteLength)if(r)resizeHeader(e,s);else throw a.pop(),new RangeError(`Header of size ${o} has no capacity for new root ${t}.
  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);else throw a.pop(),new RangeError(`Buffer has no capacity for a new root ${t}`)},blockLength=({cid:e,bytes:t})=>{const r=e.bytes.byteLength+t.byteLength;return varint$4.encodingLength(r)+r},addBlock=(e,{cid:t,bytes:r})=>{const n=t.bytes.byteLength+r.byteLength,o=varint$4.encode(n);if(e.byteOffset+o.length+n>e.bytes.byteLength)throw new RangeError("Buffer has no capacity for this block");writeBytes(e,o),writeBytes(e,t.bytes),writeBytes(e,r)},close=(e,{resize:t=!1}={})=>{const{roots:r,bytes:n,byteOffset:o,headerSize:i}=e,a=encode$9({version:1,roots:r}),s=varint$4.encode(a.length),c=s.length+a.byteLength;if(i-c===0)return writeHeader(e,s,a),n.subarray(0,o);if(t)return resizeHeader(e,c),writeHeader(e,s,a),n.subarray(0,e.byteOffset);throw new RangeError(`Header size was overestimated.
You can use close({ resize: true }) to resize header`)},resizeHeader=(e,t)=>{const{bytes:r,headerSize:n}=e;r.set(r.subarray(n,e.byteOffset),t),e.byteOffset+=t-n,e.headerSize=t},writeBytes=(e,t)=>{e.bytes.set(t,e.byteOffset),e.byteOffset+=t.length},writeHeader=({bytes:e},t,r)=>{e.set(t),e.set(r,t.length)},headerPreludeTokens=[new Token(Type.map,2),new Token(Type.string,"version"),new Token(Type.uint,1),new Token(Type.string,"roots")],CID_TAG=new Token(Type.tag,42),calculateHeaderLength=e=>{const t=[...headerPreludeTokens];t.push(new Token(Type.array,e.length));for(const n of e)t.push(CID_TAG),t.push(new Token(Type.bytes,{length:n+1}));const r=tokensToLength(t);return varint$4.encodingLength(r)+r},headerLength=({roots:e})=>calculateHeaderLength(e.map(t=>t.bytes.byteLength)),createWriter=(e,{roots:t=[],byteOffset:r=0,byteLength:n=e.byteLength,headerSize:o=headerLength({roots:t})}={})=>{const i=new Uint8Array(e,r,n),a=new CarBufferWriter(i,o);for(const s of t)a.addRoot(s);return a},Kinds={Null:e=>e===null,Int:e=>Number.isInteger(e),Float:e=>typeof e=="number"&&Number.isFinite(e),String:e=>typeof e=="string",Bool:e=>typeof e=="boolean",Bytes:e=>e instanceof Uint8Array,Link:e=>!Kinds.Null(e)&&typeof e=="object"&&e.asCID===e,List:e=>Array.isArray(e),Map:e=>!Kinds.Null(e)&&typeof e=="object"&&e.asCID!==e&&!Kinds.List(e)&&!Kinds.Bytes(e)},Types={Int:Kinds.Int,"CarHeader > version":e=>Types.Int(e),"CarHeader > roots (anon) > valueType (anon)":Kinds.Link,"CarHeader > roots (anon)":e=>Kinds.List(e)&&Array.prototype.every.call(e,Types["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":e=>Types["CarHeader > roots (anon)"](e),CarHeader:e=>{const t=e&&Object.keys(e);return Kinds.Map(e)&&["version"].every(r=>t.includes(r))&&Object.entries(e).every(([r,n])=>Types["CarHeader > "+r]&&Types["CarHeader > "+r](n))}},CarHeader=Types.CarHeader,CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112},V2_HEADER_LENGTH=16+8+8+8;async function readVarint(e){const t=await e.upTo(8);if(!t.length)throw new Error("Unexpected end of data");const r=varint$4.decode(t);return e.seek(varint$4.decode.bytes),r}async function readV2Header(e){const t=await e.exactly(V2_HEADER_LENGTH),r=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;const o={version:2,characteristics:[r.getBigUint64(n,!0),r.getBigUint64(n+=8,!0)],dataOffset:Number(r.getBigUint64(n+=8,!0)),dataSize:Number(r.getBigUint64(n+=8,!0)),indexOffset:Number(r.getBigUint64(n+=8,!0))};return e.seek(V2_HEADER_LENGTH),o}async function readHeader(e,t){const r=await readVarint(e);if(r===0)throw new Error("Invalid CAR header (zero length)");const n=await e.exactly(r);e.seek(r);const o=decode$7(n);if(!CarHeader(o))throw new Error("Invalid CAR header format");if(o.version!==1&&o.version!==2||t!==void 0&&o.version!==t)throw new Error(`Invalid CAR version: ${o.version}${t!==void 0?` (expected ${t})`:""}`);const i=Array.isArray(o.roots);if(o.version===1&&!i||o.version===2&&i)throw new Error("Invalid CAR header format");if(o.version===1)return o;const a=await readV2Header(e);e.seek(a.dataOffset-e.pos);const s=await readHeader(e,1);return Object.assign(s,a)}async function readMultihash(e){const t=await e.upTo(8);varint$4.decode(t);const r=varint$4.decode.bytes,n=varint$4.decode(t.subarray(varint$4.decode.bytes)),o=varint$4.decode.bytes,i=r+o+n,a=await e.exactly(i);return e.seek(i),a}async function readCid(e){const t=await e.exactly(2);if(t[0]===CIDV0_BYTES.SHA2_256&&t[1]===CIDV0_BYTES.LENGTH){const a=await e.exactly(34);e.seek(34);const s=decode$9(a);return CID$2.create(0,CIDV0_BYTES.DAG_PB,s)}const r=await readVarint(e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);const n=await readVarint(e),o=await readMultihash(e),i=decode$9(o);return CID$2.create(r,n,i)}async function readBlockHead(e){const t=e.pos;let r=await readVarint(e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;const n=await readCid(e),o=r-Number(e.pos-t);return{cid:n,length:r,blockLength:o}}async function readBlock(e){const{cid:t,blockLength:r}=await readBlockHead(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function readBlockIndex(e){const t=e.pos,{cid:r,length:n,blockLength:o}=await readBlockHead(e),i={cid:r,length:n,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(i.blockLength),i}function createDecoder(e){const t=(async()=>{const r=await readHeader(e);if(r.version===2){const n=e.pos-r.dataOffset;e=limitReader(e,r.dataSize-n)}return r})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await readBlock(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await readBlockIndex(e)}}}function bytesReader(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(r){t+=r},get pos(){return t}}}function chunkReader(e){let t=0,r=0,n=0,o=new Uint8Array(0);const i=async a=>{r=o.length-n;const s=[o.subarray(n)];for(;r<a;){const l=await e();if(l==null)break;r<0?l.length>r&&s.push(l.subarray(-r)):s.push(l),r+=l.length}o=new Uint8Array(s.reduce((l,d)=>l+d.length,0));let c=0;for(const l of s)o.set(l,c),c+=l.length;n=0};return{async upTo(a){return o.length-n<a&&await i(a),o.subarray(n,n+Math.min(o.length-n,a))},async exactly(a){if(o.length-n<a&&await i(a),o.length-n<a)throw new Error("Unexpected end of data");return o.subarray(n,n+a)},seek(a){t+=a,n+=a},get pos(){return t}}}function asyncIterableReader(e){const t=e[Symbol.asyncIterator]();async function r(){const n=await t.next();return n.done?null:n.value}return chunkReader(r)}function limitReader(e,t){let r=0;return{async upTo(n){let o=await e.upTo(n);return o.length+r>t&&(o=o.subarray(0,t-r)),o},async exactly(n){const o=await e.exactly(n);if(o.length+r>t)throw new Error("Unexpected end of data");return o},seek(n){r+=n,e.seek(n)},get pos(){return e.pos}}}class CarReader{constructor(t,r){this._header=t,this._blocks=r,this._keys=r.map(n=>n.cid.toString())}get version(){return this._header.version}async getRoots(){return this._header.roots}async has(t){return this._keys.indexOf(t.toString())>-1}async get(t){const r=this._keys.indexOf(t.toString());return r>-1?this._blocks[r]:void 0}async*blocks(){for(const t of this._blocks)yield t}async*cids(){for(const t of this._blocks)yield t.cid}static async fromBytes(t){if(!(t instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(t))}static async fromIterable(t){if(!t||typeof t[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(t))}}async function decodeReaderComplete(e){const t=createDecoder(e),r=await t.header(),n=[];for await(const o of t.blocks())n.push(o);return new CarReader(r,n)}class CarIteratorBase{constructor(t,r,n){this._version=t,this._roots=r,this._iterable=n,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class CarBlockIterator extends CarIteratorBase{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(t){const{version:r,roots:n,iterator:o}=await fromBytes$1(t);return new CarBlockIterator(r,n,o)}static async fromIterable(t){const{version:r,roots:n,iterator:o}=await fromIterable(t);return new CarBlockIterator(r,n,o)}}async function fromBytes$1(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeIterator(bytesReader(e))}async function fromIterable(e){if(!e||typeof e[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeIterator(asyncIterableReader(e))}async function decodeIterator(e){const t=createDecoder(e),{version:r,roots:n}=await t.header();return{version:r,roots:n,iterator:t.blocks()}}function createHeader(e){const t=encode$9({version:1,roots:e}),r=varint$4.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function createEncoder(e){return{async setRoots(t){const r=createHeader(t);await e.write(r)},async writeBlock(t){const{cid:r,bytes:n}=t;await e.write(new Uint8Array(varint$4.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},async close(){await e.end()}}}function noop(){}function create$1(){const e=[];let t=null,r=noop,n=!1,o=null,i=noop;const a=()=>(t||(t=new Promise(l=>{r=()=>{t=null,r=noop,l()}})),t),s={write(l){e.push(l);const d=a();return i(),d},async end(){n=!0;const l=a();i(),await l}},c={async next(){const l=e.shift();return l?(e.length===0&&r(),{done:!1,value:l}):n?(r(),{done:!0,value:void 0}):(o||(o=new Promise(d=>{i=()=>(o=null,i=noop,d(c.next()))})),o)}};return{writer:s,iterator:c}}class CarWriter{constructor(t,r){this._encoder=r,this._mutex=r.setRoots(t),this._ended=!1}async put(t){if(!(t.bytes instanceof Uint8Array)||!t.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const r=CID$2.asCID(t.cid);if(!r)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:r,bytes:t.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(t){t=toRoots(t);const{encoder:r,iterator:n}=encodeWriter(),o=new CarWriter(t,r),i=new CarWriterOut(n);return{writer:o,out:i}}static createAppender(){const{encoder:t,iterator:r}=encodeWriter();t.setRoots=()=>Promise.resolve();const n=new CarWriter([],t),o=new CarWriterOut(r);return{writer:n,out:o}}static async updateRootsInBytes(t,r){const n=bytesReader(t);await readHeader(n);const o=createHeader(r);if(Number(n.pos)!==o.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${n.pos} bytes, new header is ${o.length} bytes)`);return t.set(o,0),t}}class CarWriterOut{constructor(t){this._iterator=t}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function encodeWriter(){const e=create$1(),{writer:t,iterator:r}=e;return{encoder:createEncoder(t),iterator:r}}function toRoots(e){if(e===void 0)return[];if(!Array.isArray(e)){const r=CID$2.asCID(e);if(!r)throw new TypeError("roots must be a single CID or an array of CIDs");return[r]}const t=[];for(const r of e){const n=CID$2.asCID(r);if(!n)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(n)}return t}const from=({name:e,code:t,encode:r})=>new Hasher(e,t,r);class Hasher{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?create$2(this.code,r):r.then(n=>create$2(this.code,n))}else throw Error("Unknown type, must be binary type")}}const name$4="raw",code$4=85,encode$8=e=>coerce(e),decode$6=e=>coerce(e),raw=Object.freeze(Object.defineProperty({__proto__:null,name:name$4,code:code$4,encode:encode$8,decode:decode$6},Symbol.toStringTag,{value:"Module"})),sha=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256,sha512},Symbol.toStringTag,{value:"Module"})),readonly=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),links=function*(e,t){if(e!=null&&!(e instanceof Uint8Array))for(const[r,n]of Object.entries(e)){const o=[...t,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(const[i,a]of n.entries()){const s=[...o,i],c=CID$2.asCID(a);c?yield[s.join("/"),c]:typeof a=="object"&&(yield*links(a,s))}else{const i=CID$2.asCID(n);i?yield[o.join("/"),i]:yield*links(n,o)}}},tree=function*(e,t){if(e!=null)for(const[r,n]of Object.entries(e)){const o=[...t,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!CID$2.asCID(n))if(Array.isArray(n))for(const[i,a]of n.entries()){const s=[...o,i];yield s.join("/"),typeof a=="object"&&!CID$2.asCID(a)&&(yield*tree(a,s))}else yield*tree(n,o)}},get=(e,t)=>{let r=e;for(const[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(a=>`[${JSON.stringify(a)}]`).join("")}`);const i=CID$2.asCID(r);if(i)return{value:i,remaining:t.slice(n+1).join("/")}}return{value:r}};class Block{constructor({cid:t,bytes:r,value:n}){if(!t||!r||typeof n>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(t="/"){return get(this.value,t.split("/").filter(Boolean))}}const encode$7=async({value:e,codec:t,hasher:r})=>{if(typeof e>"u")throw new Error('Missing required argument "value"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.encode(e),o=await r.digest(n),i=CID$2.create(1,t.code,o);return new Block({value:e,bytes:n,cid:i})},createUnsafe=({bytes:e,cid:t,value:r,codec:n})=>{const o=r!==void 0?r:n&&n.decode(e);if(o===void 0)throw new Error('Missing required argument, must either provide "value" or "codec"');return new Block({cid:t,bytes:e,value:o})},create=async({bytes:e,cid:t,hasher:r,codec:n})=>{if(!e)throw new Error('Missing required argument "bytes"');if(!r)throw new Error('Missing required argument "hasher"');const o=n.decode(e),i=await r.digest(e);if(!equals$3(t.multihash.bytes,i.bytes))throw new Error("CID hash does not match bytes");return createUnsafe({bytes:e,cid:t,value:o,codec:n})};function mitt(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(o){o(r)}),(n=e.get("*"))&&n.slice().map(function(o){o(t,r)})}}}const{isBinary}=byteslib,encode$6=e=>isBinary(e)?encode$7({value:e,hasher:sha256,codec:raw}):encode$7({value:e,hasher:sha256,codec:dagCBOR}),decode$5=({bytes:e,cid:t})=>{let r,n;const{code:o}=t,i=t.multihash.code||decode$9(t.multihash).code;if(i===18)r=sha256;else throw new Error("Unsupported hash function: "+i);if(o===113)n=dagCBOR;else if(o===85)n=raw;else throw new Error("Unsupported codec: "+o);return create({bytes:e,cid:t,codec:n,hasher:r})};class Transaction{constructor(){Object.assign(this,mitt()),this.blocks=[]}static create(){return new this}static async load(t){const r=await CarReader.fromBytes(t),[n]=await r.getRoots();return{root:n,get:i=>r.get(i).then(a=>decode$5(a)).then(({value:a})=>a)}}async add(t){const r=await encode$6(t);return this.last=r,this.blocks.push(r),this.emit("size",this.size),r.cid}undo(){return this.blocks.pop()}async commit(){const t=this.last.cid;let r=0,n=headerLength({roots:[t]});r+=n;for(const a of this.blocks)r+=blockLength(a);const o=new Uint8Array(r),i=await createWriter(o,{headerSize:n});i.addRoot(t);for(const a of this.blocks)i.write(a);return await i.close(),i.bytes}get size(){if(!(this!=null&&this.last))return 0;const t=this.last.cid;let r=0;r+=headerLength({roots:[t]});for(const o of this.blocks)r+=blockLength(o);return r}}var f_=Object.create,fo=Object.defineProperty,l_=Object.getOwnPropertyDescriptor,d_=Object.getOwnPropertyNames,p_=Object.getPrototypeOf,h_=Object.prototype.hasOwnProperty,B=(e,t)=>()=>(e&&(t=e(e=0)),t),h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),G=(e,t)=>{for(var r in t)fo(e,r,{get:t[r],enumerable:!0})},zl=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d_(t))!h_.call(e,o)&&o!==r&&fo(e,o,{get:()=>t[o],enumerable:!(n=l_(t,o))||n.enumerable});return e},_=(e,t,r)=>(r=e!=null?f_(p_(e)):{},zl(t||!e||!e.__esModule?fo(r,"default",{value:e,enumerable:!0}):r,e)),ue=e=>zl(fo({},"__esModule",{value:!0}),e),Gl=h(e=>{u(),e.byteLength=c,e.toByteArray=d,e.fromByteArray=g;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(i=0,a=o.length;i<a;++i)t[i]=o[i],r[o.charCodeAt(i)]=i;var i,a;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function s(w){var f=w.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=w.indexOf("=");k===-1&&(k=f);var T=k===f?0:4-k%4;return[k,T]}function c(w){var f=s(w),k=f[0],T=f[1];return(k+T)*3/4-T}function l(w,f,k){return(f+k)*3/4-k}function d(w){var f,k=s(w),T=k[0],O=k[1],P=new n(l(w,T,O)),R=0,J=O>0?T-4:T,F;for(F=0;F<J;F+=4)f=r[w.charCodeAt(F)]<<18|r[w.charCodeAt(F+1)]<<12|r[w.charCodeAt(F+2)]<<6|r[w.charCodeAt(F+3)],P[R++]=f>>16&255,P[R++]=f>>8&255,P[R++]=f&255;return O===2&&(f=r[w.charCodeAt(F)]<<2|r[w.charCodeAt(F+1)]>>4,P[R++]=f&255),O===1&&(f=r[w.charCodeAt(F)]<<10|r[w.charCodeAt(F+1)]<<4|r[w.charCodeAt(F+2)]>>2,P[R++]=f>>8&255,P[R++]=f&255),P}function E(w){return t[w>>18&63]+t[w>>12&63]+t[w>>6&63]+t[w&63]}function D(w,f,k){for(var T,O=[],P=f;P<k;P+=3)T=(w[P]<<16&16711680)+(w[P+1]<<8&65280)+(w[P+2]&255),O.push(E(T));return O.join("")}function g(w){for(var f,k=w.length,T=k%3,O=[],P=16383,R=0,J=k-T;R<J;R+=P)O.push(D(w,R,R+P>J?J:R+P));return T===1?(f=w[k-1],O.push(t[f>>2]+t[f<<4&63]+"==")):T===2&&(f=(w[k-2]<<8)+w[k-1],O.push(t[f>>10]+t[f>>4&63]+t[f<<2&63]+"=")),O.join("")}}),Hl=h(e=>{u(),e.read=function(t,r,n,o,i){var a,s,c=i*8-o-1,l=(1<<c)-1,d=l>>1,E=-7,D=n?i-1:0,g=n?-1:1,w=t[r+D];for(D+=g,a=w&(1<<-E)-1,w>>=-E,E+=c;E>0;a=a*256+t[r+D],D+=g,E-=8);for(s=a&(1<<-E)-1,a>>=-E,E+=o;E>0;s=s*256+t[r+D],D+=g,E-=8);if(a===0)a=1-d;else{if(a===l)return s?NaN:(w?-1:1)*(1/0);s=s+Math.pow(2,o),a=a-d}return(w?-1:1)*s*Math.pow(2,a-o)},e.write=function(t,r,n,o,i,a){var s,c,l,d=a*8-i-1,E=(1<<d)-1,D=E>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=o?0:a-1,f=o?1:-1,k=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(c=isNaN(r)?1:0,s=E):(s=Math.floor(Math.log(r)/Math.LN2),r*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+D>=1?r+=g/l:r+=g*Math.pow(2,1-D),r*l>=2&&(s++,l/=2),s+D>=E?(c=0,s=E):s+D>=1?(c=(r*l-1)*Math.pow(2,i),s=s+D):(c=r*Math.pow(2,D-1)*Math.pow(2,i),s=0));i>=8;t[n+w]=c&255,w+=f,c/=256,i-=8);for(s=s<<i|c,d+=i;d>0;t[n+w]=s&255,w+=f,s/=256,d-=8);t[n+w-f]|=k*128}}),ct=h(e=>{u();var t=Gl(),r=Hl(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=O,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,s.TYPED_ARRAY_SUPPORT=i(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let y=new Uint8Array(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,Uint8Array.prototype),Object.setPrototypeOf(y,I),y.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(y){if(y>o)throw new RangeError('The value "'+y+'" is invalid for option "size"');let I=new Uint8Array(y);return Object.setPrototypeOf(I,s.prototype),I}function s(y,I,j){if(typeof y=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(y)}return c(y,I,j)}s.poolSize=8192;function c(y,I,j){if(typeof y=="string")return D(y,I);if(ArrayBuffer.isView(y))return w(y);if(y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y);if(bt(y,ArrayBuffer)||y&&bt(y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(bt(y,SharedArrayBuffer)||y&&bt(y.buffer,SharedArrayBuffer)))return f(y,I,j);if(typeof y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let Y=y.valueOf&&y.valueOf();if(Y!=null&&Y!==y)return s.from(Y,I,j);let ie=k(y);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof y[Symbol.toPrimitive]=="function")return s.from(y[Symbol.toPrimitive]("string"),I,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof y)}s.from=function(y,I,j){return c(y,I,j)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function l(y){if(typeof y!="number")throw new TypeError('"size" argument must be of type number');if(y<0)throw new RangeError('The value "'+y+'" is invalid for option "size"')}function d(y,I,j){return l(y),y<=0?a(y):I!==void 0?typeof j=="string"?a(y).fill(I,j):a(y).fill(I):a(y)}s.alloc=function(y,I,j){return d(y,I,j)};function E(y){return l(y),a(y<0?0:T(y)|0)}s.allocUnsafe=function(y){return E(y)},s.allocUnsafeSlow=function(y){return E(y)};function D(y,I){if((typeof I!="string"||I==="")&&(I="utf8"),!s.isEncoding(I))throw new TypeError("Unknown encoding: "+I);let j=P(y,I)|0,Y=a(j),ie=Y.write(y,I);return ie!==j&&(Y=Y.slice(0,ie)),Y}function g(y){let I=y.length<0?0:T(y.length)|0,j=a(I);for(let Y=0;Y<I;Y+=1)j[Y]=y[Y]&255;return j}function w(y){if(bt(y,Uint8Array)){let I=new Uint8Array(y);return f(I.buffer,I.byteOffset,I.byteLength)}return g(y)}function f(y,I,j){if(I<0||y.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(y.byteLength<I+(j||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return I===void 0&&j===void 0?Y=new Uint8Array(y):j===void 0?Y=new Uint8Array(y,I):Y=new Uint8Array(y,I,j),Object.setPrototypeOf(Y,s.prototype),Y}function k(y){if(s.isBuffer(y)){let I=T(y.length)|0,j=a(I);return j.length===0||y.copy(j,0,0,I),j}if(y.length!==void 0)return typeof y.length!="number"||St(y.length)?a(0):g(y);if(y.type==="Buffer"&&Array.isArray(y.data))return g(y.data)}function T(y){if(y>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return y|0}function O(y){return+y!=y&&(y=0),s.alloc(+y)}s.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==s.prototype},s.compare=function(y,I){if(bt(y,Uint8Array)&&(y=s.from(y,y.offset,y.byteLength)),bt(I,Uint8Array)&&(I=s.from(I,I.offset,I.byteLength)),!s.isBuffer(y)||!s.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===I)return 0;let j=y.length,Y=I.length;for(let ie=0,fe=Math.min(j,Y);ie<fe;++ie)if(y[ie]!==I[ie]){j=y[ie],Y=I[ie];break}return j<Y?-1:Y<j?1:0},s.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(y,I){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return s.alloc(0);let j;if(I===void 0)for(I=0,j=0;j<y.length;++j)I+=y[j].length;let Y=s.allocUnsafe(I),ie=0;for(j=0;j<y.length;++j){let fe=y[j];if(bt(fe,Uint8Array))ie+fe.length>Y.length?(s.isBuffer(fe)||(fe=s.from(fe)),fe.copy(Y,ie)):Uint8Array.prototype.set.call(Y,fe,ie);else if(s.isBuffer(fe))fe.copy(Y,ie);else throw new TypeError('"list" argument must be an Array of Buffers');ie+=fe.length}return Y};function P(y,I){if(s.isBuffer(y))return y.length;if(ArrayBuffer.isView(y)||bt(y,ArrayBuffer))return y.byteLength;if(typeof y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof y);let j=y.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&j===0)return 0;let ie=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return Ze(y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j*2;case"hex":return j>>>1;case"base64":return _t(y).length;default:if(ie)return Y?-1:Ze(y).length;I=(""+I).toLowerCase(),ie=!0}}s.byteLength=P;function R(y,I,j){let Y=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0,I>>>=0,j<=I))return"";for(y||(y="utf8");;)switch(y){case"hex":return it(this,I,j);case"utf8":case"utf-8":return Pe(this,I,j);case"ascii":return ut(this,I,j);case"latin1":case"binary":return et(this,I,j);case"base64":return Re(this,I,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,I,j);default:if(Y)throw new TypeError("Unknown encoding: "+y);y=(y+"").toLowerCase(),Y=!0}}s.prototype._isBuffer=!0;function J(y,I,j){let Y=y[I];y[I]=y[j],y[j]=Y}s.prototype.swap16=function(){let y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let I=0;I<y;I+=2)J(this,I,I+1);return this},s.prototype.swap32=function(){let y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let I=0;I<y;I+=4)J(this,I,I+3),J(this,I+1,I+2);return this},s.prototype.swap64=function(){let y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let I=0;I<y;I+=8)J(this,I,I+7),J(this,I+1,I+6),J(this,I+2,I+5),J(this,I+3,I+4);return this},s.prototype.toString=function(){let y=this.length;return y===0?"":arguments.length===0?Pe(this,0,y):R.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(y){if(!s.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:s.compare(this,y)===0},s.prototype.inspect=function(){let y="",I=e.INSPECT_MAX_BYTES;return y=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(y+=" ... "),"<Buffer "+y+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(y,I,j,Y,ie){if(bt(y,Uint8Array)&&(y=s.from(y,y.offset,y.byteLength)),!s.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(I===void 0&&(I=0),j===void 0&&(j=y?y.length:0),Y===void 0&&(Y=0),ie===void 0&&(ie=this.length),I<0||j>y.length||Y<0||ie>this.length)throw new RangeError("out of range index");if(Y>=ie&&I>=j)return 0;if(Y>=ie)return-1;if(I>=j)return 1;if(I>>>=0,j>>>=0,Y>>>=0,ie>>>=0,this===y)return 0;let fe=ie-Y,Ee=j-I,nt=Math.min(fe,Ee),ft=this.slice(Y,ie),st=y.slice(I,j);for(let ot=0;ot<nt;++ot)if(ft[ot]!==st[ot]){fe=ft[ot],Ee=st[ot];break}return fe<Ee?-1:Ee<fe?1:0};function F(y,I,j,Y,ie){if(y.length===0)return-1;if(typeof j=="string"?(Y=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,St(j)&&(j=ie?0:y.length-1),j<0&&(j=y.length+j),j>=y.length){if(ie)return-1;j=y.length-1}else if(j<0)if(ie)j=0;else return-1;if(typeof I=="string"&&(I=s.from(I,Y)),s.isBuffer(I))return I.length===0?-1:X(y,I,j,Y,ie);if(typeof I=="number")return I=I&255,typeof Uint8Array.prototype.indexOf=="function"?ie?Uint8Array.prototype.indexOf.call(y,I,j):Uint8Array.prototype.lastIndexOf.call(y,I,j):X(y,[I],j,Y,ie);throw new TypeError("val must be string, number or Buffer")}function X(y,I,j,Y,ie){let fe=1,Ee=y.length,nt=I.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(y.length<2||I.length<2)return-1;fe=2,Ee/=2,nt/=2,j/=2}function ft(ot,at){return fe===1?ot[at]:ot.readUInt16BE(at*fe)}let st;if(ie){let ot=-1;for(st=j;st<Ee;st++)if(ft(y,st)===ft(I,ot===-1?0:st-ot)){if(ot===-1&&(ot=st),st-ot+1===nt)return ot*fe}else ot!==-1&&(st-=st-ot),ot=-1}else for(j+nt>Ee&&(j=Ee-nt),st=j;st>=0;st--){let ot=!0;for(let at=0;at<nt;at++)if(ft(y,st+at)!==ft(I,at)){ot=!1;break}if(ot)return st}return-1}s.prototype.includes=function(y,I,j){return this.indexOf(y,I,j)!==-1},s.prototype.indexOf=function(y,I,j){return F(this,y,I,j,!0)},s.prototype.lastIndexOf=function(y,I,j){return F(this,y,I,j,!1)};function H(y,I,j,Y){j=Number(j)||0;let ie=y.length-j;Y?(Y=Number(Y),Y>ie&&(Y=ie)):Y=ie;let fe=I.length;Y>fe/2&&(Y=fe/2);let Ee;for(Ee=0;Ee<Y;++Ee){let nt=parseInt(I.substr(Ee*2,2),16);if(St(nt))return Ee;y[j+Ee]=nt}return Ee}function ee(y,I,j,Y){return At(Ze(I,y.length-j),y,j,Y)}function pe(y,I,j,Y){return At(Le(I),y,j,Y)}function ye(y,I,j,Y){return At(_t(I),y,j,Y)}function _e(y,I,j,Y){return At(ce(I,y.length-j),y,j,Y)}s.prototype.write=function(y,I,j,Y){if(I===void 0)Y="utf8",j=this.length,I=0;else if(j===void 0&&typeof I=="string")Y=I,j=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(j)?(j=j>>>0,Y===void 0&&(Y="utf8")):(Y=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let ie=this.length-I;if((j===void 0||j>ie)&&(j=ie),y.length>0&&(j<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let fe=!1;for(;;)switch(Y){case"hex":return H(this,y,I,j);case"utf8":case"utf-8":return ee(this,y,I,j);case"ascii":case"latin1":case"binary":return pe(this,y,I,j);case"base64":return ye(this,y,I,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _e(this,y,I,j);default:if(fe)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),fe=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Re(y,I,j){return I===0&&j===y.length?t.fromByteArray(y):t.fromByteArray(y.slice(I,j))}function Pe(y,I,j){j=Math.min(y.length,j);let Y=[],ie=I;for(;ie<j;){let fe=y[ie],Ee=null,nt=fe>239?4:fe>223?3:fe>191?2:1;if(ie+nt<=j){let ft,st,ot,at;switch(nt){case 1:fe<128&&(Ee=fe);break;case 2:ft=y[ie+1],(ft&192)===128&&(at=(fe&31)<<6|ft&63,at>127&&(Ee=at));break;case 3:ft=y[ie+1],st=y[ie+2],(ft&192)===128&&(st&192)===128&&(at=(fe&15)<<12|(ft&63)<<6|st&63,at>2047&&(at<55296||at>57343)&&(Ee=at));break;case 4:ft=y[ie+1],st=y[ie+2],ot=y[ie+3],(ft&192)===128&&(st&192)===128&&(ot&192)===128&&(at=(fe&15)<<18|(ft&63)<<12|(st&63)<<6|ot&63,at>65535&&at<1114112&&(Ee=at))}}Ee===null?(Ee=65533,nt=1):Ee>65535&&(Ee-=65536,Y.push(Ee>>>10&1023|55296),Ee=56320|Ee&1023),Y.push(Ee),ie+=nt}return tt(Y)}var Qe=4096;function tt(y){let I=y.length;if(I<=Qe)return String.fromCharCode.apply(String,y);let j="",Y=0;for(;Y<I;)j+=String.fromCharCode.apply(String,y.slice(Y,Y+=Qe));return j}function ut(y,I,j){let Y="";j=Math.min(y.length,j);for(let ie=I;ie<j;++ie)Y+=String.fromCharCode(y[ie]&127);return Y}function et(y,I,j){let Y="";j=Math.min(y.length,j);for(let ie=I;ie<j;++ie)Y+=String.fromCharCode(y[ie]);return Y}function it(y,I,j){let Y=y.length;(!I||I<0)&&(I=0),(!j||j<0||j>Y)&&(j=Y);let ie="";for(let fe=I;fe<j;++fe)ie+=Ct[y[fe]];return ie}function lt(y,I,j){let Y=y.slice(I,j),ie="";for(let fe=0;fe<Y.length-1;fe+=2)ie+=String.fromCharCode(Y[fe]+Y[fe+1]*256);return ie}s.prototype.slice=function(y,I){let j=this.length;y=~~y,I=I===void 0?j:~~I,y<0?(y+=j,y<0&&(y=0)):y>j&&(y=j),I<0?(I+=j,I<0&&(I=0)):I>j&&(I=j),I<y&&(I=y);let Y=this.subarray(y,I);return Object.setPrototypeOf(Y,s.prototype),Y};function Ke(y,I,j){if(y%1!==0||y<0)throw new RangeError("offset is not uint");if(y+I>j)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(y,I,j){y=y>>>0,I=I>>>0,j||Ke(y,I,this.length);let Y=this[y],ie=1,fe=0;for(;++fe<I&&(ie*=256);)Y+=this[y+fe]*ie;return Y},s.prototype.readUintBE=s.prototype.readUIntBE=function(y,I,j){y=y>>>0,I=I>>>0,j||Ke(y,I,this.length);let Y=this[y+--I],ie=1;for(;I>0&&(ie*=256);)Y+=this[y+--I]*ie;return Y},s.prototype.readUint8=s.prototype.readUInt8=function(y,I){return y=y>>>0,I||Ke(y,1,this.length),this[y]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(y,I){return y=y>>>0,I||Ke(y,2,this.length),this[y]|this[y+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(y,I){return y=y>>>0,I||Ke(y,2,this.length),this[y]<<8|this[y+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(y,I){return y=y>>>0,I||Ke(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(y,I){return y=y>>>0,I||Ke(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},s.prototype.readBigUInt64LE=wt(function(y){y=y>>>0,L(y,"offset");let I=this[y],j=this[y+7];(I===void 0||j===void 0)&&q(y,this.length-8);let Y=I+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,ie=this[++y]+this[++y]*2**8+this[++y]*2**16+j*2**24;return BigInt(Y)+(BigInt(ie)<<BigInt(32))}),s.prototype.readBigUInt64BE=wt(function(y){y=y>>>0,L(y,"offset");let I=this[y],j=this[y+7];(I===void 0||j===void 0)&&q(y,this.length-8);let Y=I*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],ie=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+j;return(BigInt(Y)<<BigInt(32))+BigInt(ie)}),s.prototype.readIntLE=function(y,I,j){y=y>>>0,I=I>>>0,j||Ke(y,I,this.length);let Y=this[y],ie=1,fe=0;for(;++fe<I&&(ie*=256);)Y+=this[y+fe]*ie;return ie*=128,Y>=ie&&(Y-=Math.pow(2,8*I)),Y},s.prototype.readIntBE=function(y,I,j){y=y>>>0,I=I>>>0,j||Ke(y,I,this.length);let Y=I,ie=1,fe=this[y+--Y];for(;Y>0&&(ie*=256);)fe+=this[y+--Y]*ie;return ie*=128,fe>=ie&&(fe-=Math.pow(2,8*I)),fe},s.prototype.readInt8=function(y,I){return y=y>>>0,I||Ke(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},s.prototype.readInt16LE=function(y,I){y=y>>>0,I||Ke(y,2,this.length);let j=this[y]|this[y+1]<<8;return j&32768?j|4294901760:j},s.prototype.readInt16BE=function(y,I){y=y>>>0,I||Ke(y,2,this.length);let j=this[y+1]|this[y]<<8;return j&32768?j|4294901760:j},s.prototype.readInt32LE=function(y,I){return y=y>>>0,I||Ke(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},s.prototype.readInt32BE=function(y,I){return y=y>>>0,I||Ke(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},s.prototype.readBigInt64LE=wt(function(y){y=y>>>0,L(y,"offset");let I=this[y],j=this[y+7];(I===void 0||j===void 0)&&q(y,this.length-8);let Y=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(j<<24);return(BigInt(Y)<<BigInt(32))+BigInt(I+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),s.prototype.readBigInt64BE=wt(function(y){y=y>>>0,L(y,"offset");let I=this[y],j=this[y+7];(I===void 0||j===void 0)&&q(y,this.length-8);let Y=(I<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(Y)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+j)}),s.prototype.readFloatLE=function(y,I){return y=y>>>0,I||Ke(y,4,this.length),r.read(this,y,!0,23,4)},s.prototype.readFloatBE=function(y,I){return y=y>>>0,I||Ke(y,4,this.length),r.read(this,y,!1,23,4)},s.prototype.readDoubleLE=function(y,I){return y=y>>>0,I||Ke(y,8,this.length),r.read(this,y,!0,52,8)},s.prototype.readDoubleBE=function(y,I){return y=y>>>0,I||Ke(y,8,this.length),r.read(this,y,!1,52,8)};function re(y,I,j,Y,ie,fe){if(!s.isBuffer(y))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>ie||I<fe)throw new RangeError('"value" argument is out of bounds');if(j+Y>y.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(y,I,j,Y){if(y=+y,I=I>>>0,j=j>>>0,!Y){let Ee=Math.pow(2,8*j)-1;re(this,y,I,j,Ee,0)}let ie=1,fe=0;for(this[I]=y&255;++fe<j&&(ie*=256);)this[I+fe]=y/ie&255;return I+j},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(y,I,j,Y){if(y=+y,I=I>>>0,j=j>>>0,!Y){let Ee=Math.pow(2,8*j)-1;re(this,y,I,j,Ee,0)}let ie=j-1,fe=1;for(this[I+ie]=y&255;--ie>=0&&(fe*=256);)this[I+ie]=y/fe&255;return I+j},s.prototype.writeUint8=s.prototype.writeUInt8=function(y,I,j){return y=+y,I=I>>>0,j||re(this,y,I,1,255,0),this[I]=y&255,I+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(y,I,j){return y=+y,I=I>>>0,j||re(this,y,I,2,65535,0),this[I]=y&255,this[I+1]=y>>>8,I+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(y,I,j){return y=+y,I=I>>>0,j||re(this,y,I,2,65535,0),this[I]=y>>>8,this[I+1]=y&255,I+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(y,I,j){return y=+y,I=I>>>0,j||re(this,y,I,4,4294967295,0),this[I+3]=y>>>24,this[I+2]=y>>>16,this[I+1]=y>>>8,this[I]=y&255,I+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(y,I,j){return y=+y,I=I>>>0,j||re(this,y,I,4,4294967295,0),this[I]=y>>>24,this[I+1]=y>>>16,this[I+2]=y>>>8,this[I+3]=y&255,I+4};function le(y,I,j,Y,ie){je(I,Y,ie,y,j,7);let fe=Number(I&BigInt(4294967295));y[j++]=fe,fe=fe>>8,y[j++]=fe,fe=fe>>8,y[j++]=fe,fe=fe>>8,y[j++]=fe;let Ee=Number(I>>BigInt(32)&BigInt(4294967295));return y[j++]=Ee,Ee=Ee>>8,y[j++]=Ee,Ee=Ee>>8,y[j++]=Ee,Ee=Ee>>8,y[j++]=Ee,j}function me(y,I,j,Y,ie){je(I,Y,ie,y,j,7);let fe=Number(I&BigInt(4294967295));y[j+7]=fe,fe=fe>>8,y[j+6]=fe,fe=fe>>8,y[j+5]=fe,fe=fe>>8,y[j+4]=fe;let Ee=Number(I>>BigInt(32)&BigInt(4294967295));return y[j+3]=Ee,Ee=Ee>>8,y[j+2]=Ee,Ee=Ee>>8,y[j+1]=Ee,Ee=Ee>>8,y[j]=Ee,j+8}s.prototype.writeBigUInt64LE=wt(function(y,I=0){return le(this,y,I,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=wt(function(y,I=0){return me(this,y,I,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(y,I,j,Y){if(y=+y,I=I>>>0,!Y){let nt=Math.pow(2,8*j-1);re(this,y,I,j,nt-1,-nt)}let ie=0,fe=1,Ee=0;for(this[I]=y&255;++ie<j&&(fe*=256);)y<0&&Ee===0&&this[I+ie-1]!==0&&(Ee=1),this[I+ie]=(y/fe>>0)-Ee&255;return I+j},s.prototype.writeIntBE=function(y,I,j,Y){if(y=+y,I=I>>>0,!Y){let nt=Math.pow(2,8*j-1);re(this,y,I,j,nt-1,-nt)}let ie=j-1,fe=1,Ee=0;for(this[I+ie]=y&255;--ie>=0&&(fe*=256);)y<0&&Ee===0&&this[I+ie+1]!==0&&(Ee=1),this[I+ie]=(y/fe>>0)-Ee&255;return I+j},s.prototype.writeInt8=function(y,I,j){return y=+y,I=I>>>0,j||re(this,y,I,1,127,-128),y<0&&(y=255+y+1),this[I]=y&255,I+1},s.prototype.writeInt16LE=function(y,I,j){return y=+y,I=I>>>0,j||re(this,y,I,2,32767,-32768),this[I]=y&255,this[I+1]=y>>>8,I+2},s.prototype.writeInt16BE=function(y,I,j){return y=+y,I=I>>>0,j||re(this,y,I,2,32767,-32768),this[I]=y>>>8,this[I+1]=y&255,I+2},s.prototype.writeInt32LE=function(y,I,j){return y=+y,I=I>>>0,j||re(this,y,I,4,2147483647,-2147483648),this[I]=y&255,this[I+1]=y>>>8,this[I+2]=y>>>16,this[I+3]=y>>>24,I+4},s.prototype.writeInt32BE=function(y,I,j){return y=+y,I=I>>>0,j||re(this,y,I,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[I]=y>>>24,this[I+1]=y>>>16,this[I+2]=y>>>8,this[I+3]=y&255,I+4},s.prototype.writeBigInt64LE=wt(function(y,I=0){return le(this,y,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=wt(function(y,I=0){return me(this,y,I,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Be(y,I,j,Y,ie,fe){if(j+Y>y.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function ze(y,I,j,Y,ie){return I=+I,j=j>>>0,ie||Be(y,I,j,4),r.write(y,I,j,Y,23,4),j+4}s.prototype.writeFloatLE=function(y,I,j){return ze(this,y,I,!0,j)},s.prototype.writeFloatBE=function(y,I,j){return ze(this,y,I,!1,j)};function Ue(y,I,j,Y,ie){return I=+I,j=j>>>0,ie||Be(y,I,j,8),r.write(y,I,j,Y,52,8),j+8}s.prototype.writeDoubleLE=function(y,I,j){return Ue(this,y,I,!0,j)},s.prototype.writeDoubleBE=function(y,I,j){return Ue(this,y,I,!1,j)},s.prototype.copy=function(y,I,j,Y){if(!s.isBuffer(y))throw new TypeError("argument should be a Buffer");if(j||(j=0),!Y&&Y!==0&&(Y=this.length),I>=y.length&&(I=y.length),I||(I=0),Y>0&&Y<j&&(Y=j),Y===j||y.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),y.length-I<Y-j&&(Y=y.length-I+j);let ie=Y-j;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,j,Y):Uint8Array.prototype.set.call(y,this.subarray(j,Y),I),ie},s.prototype.fill=function(y,I,j,Y){if(typeof y=="string"){if(typeof I=="string"?(Y=I,I=0,j=this.length):typeof j=="string"&&(Y=j,j=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!s.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(y.length===1){let fe=y.charCodeAt(0);(Y==="utf8"&&fe<128||Y==="latin1")&&(y=fe)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(I<0||this.length<I||this.length<j)throw new RangeError("Out of range index");if(j<=I)return this;I=I>>>0,j=j===void 0?this.length:j>>>0,y||(y=0);let ie;if(typeof y=="number")for(ie=I;ie<j;++ie)this[ie]=y;else{let fe=s.isBuffer(y)?y:s.from(y,Y),Ee=fe.length;if(Ee===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(ie=0;ie<j-I;++ie)this[ie+I]=fe[ie%Ee]}return this};var Z={};function ae(y,I,j){Z[y]=class extends j{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${y}]`,this.stack,delete this.name}get code(){return y}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${y}]: ${this.message}`}}}ae("ERR_BUFFER_OUT_OF_BOUNDS",function(y){return y?`${y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ae("ERR_INVALID_ARG_TYPE",function(y,I){return`The "${y}" argument must be of type number. Received type ${typeof I}`},TypeError),ae("ERR_OUT_OF_RANGE",function(y,I,j){let Y=`The value of "${y}" is out of range.`,ie=j;return Number.isInteger(j)&&Math.abs(j)>2**32?ie=he(String(j)):typeof j=="bigint"&&(ie=String(j),(j>BigInt(2)**BigInt(32)||j<-(BigInt(2)**BigInt(32)))&&(ie=he(ie)),ie+="n"),Y+=` It must be ${I}. Received ${ie}`,Y},RangeError);function he(y){let I="",j=y.length,Y=y[0]==="-"?1:0;for(;j>=Y+4;j-=3)I=`_${y.slice(j-3,j)}${I}`;return`${y.slice(0,j)}${I}`}function Ie(y,I,j){L(I,"offset"),(y[I]===void 0||y[I+j]===void 0)&&q(I,y.length-(j+1))}function je(y,I,j,Y,ie,fe){if(y>j||y<I){let Ee=typeof I=="bigint"?"n":"",nt;throw fe>3?I===0||I===BigInt(0)?nt=`>= 0${Ee} and < 2${Ee} ** ${(fe+1)*8}${Ee}`:nt=`>= -(2${Ee} ** ${(fe+1)*8-1}${Ee}) and < 2 ** ${(fe+1)*8-1}${Ee}`:nt=`>= ${I}${Ee} and <= ${j}${Ee}`,new Z.ERR_OUT_OF_RANGE("value",nt,y)}Ie(Y,ie,fe)}function L(y,I){if(typeof y!="number")throw new Z.ERR_INVALID_ARG_TYPE(I,"number",y)}function q(y,I,j){throw Math.floor(y)!==y?(L(y,j),new Z.ERR_OUT_OF_RANGE(j||"offset","an integer",y)):I<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE(j||"offset",`>= ${j?1:0} and <= ${I}`,y)}var we=/[^+/0-9A-Za-z-_]/g;function $e(y){if(y=y.split("=")[0],y=y.trim().replace(we,""),y.length<2)return"";for(;y.length%4!==0;)y=y+"=";return y}function Ze(y,I){I=I||1/0;let j,Y=y.length,ie=null,fe=[];for(let Ee=0;Ee<Y;++Ee){if(j=y.charCodeAt(Ee),j>55295&&j<57344){if(!ie){if(j>56319){(I-=3)>-1&&fe.push(239,191,189);continue}else if(Ee+1===Y){(I-=3)>-1&&fe.push(239,191,189);continue}ie=j;continue}if(j<56320){(I-=3)>-1&&fe.push(239,191,189),ie=j;continue}j=(ie-55296<<10|j-56320)+65536}else ie&&(I-=3)>-1&&fe.push(239,191,189);if(ie=null,j<128){if((I-=1)<0)break;fe.push(j)}else if(j<2048){if((I-=2)<0)break;fe.push(j>>6|192,j&63|128)}else if(j<65536){if((I-=3)<0)break;fe.push(j>>12|224,j>>6&63|128,j&63|128)}else if(j<1114112){if((I-=4)<0)break;fe.push(j>>18|240,j>>12&63|128,j>>6&63|128,j&63|128)}else throw new Error("Invalid code point")}return fe}function Le(y){let I=[];for(let j=0;j<y.length;++j)I.push(y.charCodeAt(j)&255);return I}function ce(y,I){let j,Y,ie,fe=[];for(let Ee=0;Ee<y.length&&!((I-=2)<0);++Ee)j=y.charCodeAt(Ee),Y=j>>8,ie=j%256,fe.push(ie),fe.push(Y);return fe}function _t(y){return t.toByteArray($e(y))}function At(y,I,j,Y){let ie;for(ie=0;ie<Y&&!(ie+j>=I.length||ie>=y.length);++ie)I[ie+j]=y[ie];return ie}function bt(y,I){return y instanceof I||y!=null&&y.constructor!=null&&y.constructor.name!=null&&y.constructor.name===I.name}function St(y){return y!==y}var Ct=function(){let y="0123456789abcdef",I=new Array(256);for(let j=0;j<16;++j){let Y=j*16;for(let ie=0;ie<16;++ie)I[Y+ie]=y[j]+y[ie]}return I}();function wt(y){return typeof BigInt>"u"?Dt:y}function Dt(){throw new Error("BigInt not supported")}}),yd=h((e,t)=>{u();var r=t.exports={},n,o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=i}catch{n=i}try{typeof clearTimeout=="function"?o=clearTimeout:o=a}catch{o=a}})();function s(T){if(n===setTimeout)return setTimeout(T,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(T,0);try{return n(T,0)}catch{try{return n.call(null,T,0)}catch{return n.call(this,T,0)}}}function c(T){if(o===clearTimeout)return clearTimeout(T);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(T);try{return o(T)}catch{try{return o.call(null,T)}catch{return o.call(this,T)}}}var l=[],d=!1,E,D=-1;function g(){!d||!E||(d=!1,E.length?l=E.concat(l):D=-1,l.length&&w())}function w(){if(!d){var T=s(g);d=!0;for(var O=l.length;O;){for(E=l,l=[];++D<O;)E&&E[D].run();D=-1,O=l.length}E=null,d=!1,c(T)}}r.nextTick=function(T){var O=new Array(arguments.length-1);if(arguments.length>1)for(var P=1;P<arguments.length;P++)O[P-1]=arguments[P];l.push(new f(T,O)),l.length===1&&!d&&s(w)};function f(T,O){this.fun=T,this.array=O}f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function k(){}r.on=k,r.addListener=k,r.once=k,r.off=k,r.removeListener=k,r.removeAllListeners=k,r.emit=k,r.prependListener=k,r.prependOnceListener=k,r.listeners=function(T){return[]},r.binding=function(T){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(T){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),Buffer,process$1,global$1,u=B(()=>{Buffer=ct().Buffer,process$1=yd(),global$1=typeof global$1<"u"?global$1:typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},globalThis&&globalThis.process&&globalThis.process.env&&(globalThis.process.env.LIBP2P_FORCE_PNET=!1)}),za=h((e,t)=>{u(),t.exports=r;function r(n,o,i){if(!n)return i;var a,s;if(Array.isArray(o)&&(a=o.slice(0)),typeof o=="string"&&(a=o.split(".")),typeof o=="symbol"&&(a=[o]),!Array.isArray(a))throw new Error("props arg must be an array, a string or a symbol");for(;a.length;)if(s=a.shift(),!n||(n=n[s],n===void 0))return i;return n}}),wd=h((e,t)=>{u();var r=1e3,n=r*60,o=n*60,i=o*24,a=i*7,s=i*365.25;t.exports=function(D,g){g=g||{};var w=typeof D;if(w==="string"&&D.length>0)return c(D);if(w==="number"&&isFinite(D))return g.long?d(D):l(D);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(D))};function c(D){if(D=String(D),!(D.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(D);if(g){var w=parseFloat(g[1]),f=(g[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return w*s;case"weeks":case"week":case"w":return w*a;case"days":case"day":case"d":return w*i;case"hours":case"hour":case"hrs":case"hr":case"h":return w*o;case"minutes":case"minute":case"mins":case"min":case"m":return w*n;case"seconds":case"second":case"secs":case"sec":case"s":return w*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function l(D){var g=Math.abs(D);return g>=i?Math.round(D/i)+"d":g>=o?Math.round(D/o)+"h":g>=n?Math.round(D/n)+"m":g>=r?Math.round(D/r)+"s":D+"ms"}function d(D){var g=Math.abs(D);return g>=i?E(D,g,i,"day"):g>=o?E(D,g,o,"hour"):g>=n?E(D,g,n,"minute"):g>=r?E(D,g,r,"second"):D+" ms"}function E(D,g,w,f){var k=g>=w*1.5;return Math.round(D/w)+" "+f+(k?"s":"")}}),vd=h((e,t)=>{u();function r(n){i.debug=i,i.default=i,i.coerce=E,i.disable=c,i.enable=s,i.enabled=l,i.humanize=wd(),i.destroy=D,Object.keys(n).forEach(g=>{i[g]=n[g]}),i.names=[],i.skips=[],i.formatters={};function o(g){let w=0;for(let f=0;f<g.length;f++)w=(w<<5)-w+g.charCodeAt(f),w|=0;return i.colors[Math.abs(w)%i.colors.length]}i.selectColor=o;function i(g){let w,f=null,k,T;function O(...P){if(!O.enabled)return;let R=O,J=Number(new Date),F=J-(w||J);R.diff=F,R.prev=w,R.curr=J,w=J,P[0]=i.coerce(P[0]),typeof P[0]!="string"&&P.unshift("%O");let X=0;P[0]=P[0].replace(/%([a-zA-Z%])/g,(H,ee)=>{if(H==="%%")return"%";X++;let pe=i.formatters[ee];if(typeof pe=="function"){let ye=P[X];H=pe.call(R,ye),P.splice(X,1),X--}return H}),i.formatArgs.call(R,P),(R.log||i.log).apply(R,P)}return O.namespace=g,O.useColors=i.useColors(),O.color=i.selectColor(g),O.extend=a,O.destroy=i.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(k!==i.namespaces&&(k=i.namespaces,T=i.enabled(g)),T),set:P=>{f=P}}),typeof i.init=="function"&&i.init(O),O}function a(g,w){let f=i(this.namespace+(typeof w>"u"?":":w)+g);return f.log=this.log,f}function s(g){i.save(g),i.namespaces=g,i.names=[],i.skips=[];let w,f=(typeof g=="string"?g:"").split(/[\s,]+/),k=f.length;for(w=0;w<k;w++)!f[w]||(g=f[w].replace(/\*/g,".*?"),g[0]==="-"?i.skips.push(new RegExp("^"+g.slice(1)+"$")):i.names.push(new RegExp("^"+g+"$")))}function c(){let g=[...i.names.map(d),...i.skips.map(d).map(w=>"-"+w)].join(",");return i.enable(""),g}function l(g){if(g[g.length-1]==="*")return!0;let w,f;for(w=0,f=i.skips.length;w<f;w++)if(i.skips[w].test(g))return!1;for(w=0,f=i.names.length;w<f;w++)if(i.names[w].test(g))return!0;return!1}function d(g){return g.toString().substring(2,g.toString().length-2).replace(/\.\*\?$/,"*")}function E(g){return g instanceof Error?g.stack||g.message:g}function D(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}t.exports=r}),We=h((e,t)=>{u(),e.formatArgs=n,e.save=o,e.load=i,e.useColors=r,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let l="color: "+this.color;c.splice(1,0,l,"color: inherit");let d=0,E=0;c[0].replace(/%[a-zA-Z%]/g,D=>{D!=="%%"&&(d++,D==="%c"&&(E=d))}),c.splice(E,0,l)}e.log=console.debug||console.log||(()=>{});function o(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function i(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process$1<"u"&&"env"in process$1&&(c=process$1.env.DEBUG),c}function a(){try{return localStorage}catch{}}t.exports=vd()(e);var{formatters:s}=t.exports;s.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}}),dt=h((e,t)=>{u();function r(o,i){for(let a in i)Object.defineProperty(o,a,{value:i[a],enumerable:!0,configurable:!0});return o}function n(o,i,a){if(!o||typeof o=="string")throw new TypeError("Please pass an Error to err-code");a||(a={}),typeof i=="object"&&(a=i,i=""),i&&(a.code=i);try{return r(o,a)}catch{a.message=o.message,a.stack=o.stack;let s=function(){};return s.prototype=Object.create(Object.getPrototypeOf(o)),r(new s,a)}}t.exports=n});function Ad(e,t,r){t=t||[],r=r||0;for(var n=r;e>=d1;)t[r++]=e&255|xd,e/=128;for(;e&l1;)t[r++]=e&255|xd,e>>>=7;return t[r]=e|0,Ad.bytes=r-n+1,t}function Wa(e,n){var r=0,n=n||0,o=0,i=n,a,s=e.length;do{if(i>=s)throw Wa.bytes=0,new RangeError("Could not decode varint");a=e[i++],r+=o<28?(a&Dd)<<o:(a&Dd)*Math.pow(2,o),o+=7}while(a>=h1);return Wa.bytes=i-n,r}var c1,xd,f1,l1,d1,p1,h1,Dd,y1,g1,m1,w1,b1,v1,E1,_1,x1,D1,A1,S1,ii,Sd=B(()=>{u(),c1=Ad,xd=128,f1=127,l1=~f1,d1=Math.pow(2,31),p1=Wa,h1=128,Dd=127,y1=Math.pow(2,7),g1=Math.pow(2,14),m1=Math.pow(2,21),w1=Math.pow(2,28),b1=Math.pow(2,35),v1=Math.pow(2,42),E1=Math.pow(2,49),_1=Math.pow(2,56),x1=Math.pow(2,63),D1=function(e){return e<y1?1:e<g1?2:e<m1?3:e<w1?4:e<b1?5:e<v1?6:e<E1?7:e<_1?8:e<x1?9:10},A1={encode:c1,decode:p1,encodingLength:D1},S1=A1,ii=S1}),oi,nn,on,bo=B(()=>{u(),Sd(),oi=e=>[ii.decode(e),ii.decode.bytes],nn=(e,t,r=0)=>(ii.encode(e,t,r),t),on=e=>ii.encodingLength(e)}),Cd,Ot,Od,Td,qt=B(()=>{u(),Cd=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Ot=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Od=e=>new TextEncoder().encode(e),Td=e=>new TextDecoder().decode(e)}),Ge={};G(Ge,{Digest:()=>gr,create:()=>Ut,decode:()=>Ve,equals:()=>Ga});var Ut,Ve,Ga,gr,pt=B(()=>{u(),qt(),bo(),Ut=(e,t)=>{let r=t.byteLength,n=on(e),o=n+on(r),i=new Uint8Array(o+r);return nn(e,i,0),nn(r,i,n),i.set(t,o),new gr(e,r,t,i)},Ve=e=>{let t=Ot(e),[r,n]=oi(t),[o,i]=oi(t.subarray(n)),a=t.subarray(n+i);if(a.byteLength!==o)throw new Error("Incorrect length");return new gr(r,o,a,t)},Ga=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&Cd(e.bytes,t.bytes),gr=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}});function C1(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(r[a]!==255)throw new TypeError(i+" is ambiguous");r[a]=o}var s=e.length,c=e.charAt(0),l=Math.log(s)/Math.log(256),d=Math.log(256)/Math.log(s);function E(w){if(w instanceof Uint8Array||(ArrayBuffer.isView(w)?w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength):Array.isArray(w)&&(w=Uint8Array.from(w))),!(w instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(w.length===0)return"";for(var f=0,k=0,T=0,O=w.length;T!==O&&w[T]===0;)T++,f++;for(var P=(O-T)*d+1>>>0,R=new Uint8Array(P);T!==O;){for(var J=w[T],F=0,X=P-1;(J!==0||F<k)&&X!==-1;X--,F++)J+=256*R[X]>>>0,R[X]=J%s>>>0,J=J/s>>>0;if(J!==0)throw new Error("Non-zero carry");k=F,T++}for(var H=P-k;H!==P&&R[H]===0;)H++;for(var ee=c.repeat(f);H<P;++H)ee+=e.charAt(R[H]);return ee}function D(w){if(typeof w!="string")throw new TypeError("Expected String");if(w.length===0)return new Uint8Array;var f=0;if(w[f]!==" "){for(var k=0,T=0;w[f]===c;)k++,f++;for(var O=(w.length-f)*l+1>>>0,P=new Uint8Array(O);w[f];){var R=r[w.charCodeAt(f)];if(R===255)return;for(var J=0,F=O-1;(R!==0||J<T)&&F!==-1;F--,J++)R+=s*P[F]>>>0,P[F]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");T=J,f++}if(w[f]!==" "){for(var X=O-T;X!==O&&P[X]===0;)X++;for(var H=new Uint8Array(k+(O-X)),ee=k;X!==O;)H[ee++]=P[X++];return H}}}function g(w){var f=D(w);if(f)return f;throw new Error(`Non-${t} character`)}return{encode:E,decodeUnsafe:D,decode:g}}var O1,T1,Id,Rd=B(()=>{u(),O1=C1,T1=O1,Id=T1}),Ha,Ja,Ya,Bd,Qa,sn,$t,I1,R1,z,He=B(()=>{u(),Rd(),qt(),Ha=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ja=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Bd(this,e)}},Ya=class{constructor(e){this.decoders=e}or(e){return Bd(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Bd=(e,t)=>new Ya({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Qa=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Ha(e,t,r),this.decoder=new Ja(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},sn=({name:e,prefix:t,encode:r,decode:n})=>new Qa(e,t,r,n),$t=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=Id(r,t);return sn({prefix:e,name:t,encode:n,decode:i=>Ot(o(i))})},I1=(e,t,r,n)=>{let o={};for(let d=0;d<t.length;++d)o[t[d]]=d;let i=e.length;for(;e[i-1]==="=";)--i;let a=new Uint8Array(i*r/8|0),s=0,c=0,l=0;for(let d=0;d<i;++d){let E=o[e[d]];if(E===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|E,s+=r,s>=8&&(s-=8,a[l++]=255&c>>s)}if(s>=r||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return a},R1=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,i="",a=0,s=0;for(let c=0;c<e.length;++c)for(s=s<<8|e[c],a+=8;a>r;)a-=r,i+=t[o&s>>a];if(a&&(i+=t[o&s<<r-a]),n)for(;i.length*r&7;)i+="=";return i},z=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>sn({prefix:t,name:e,encode(o){return R1(o,n,r)},decode(o){return I1(o,n,r,e)}})}),si={};G(si,{base58btc:()=>xe,base58flickr:()=>B1});var xe,B1,an=B(()=>{u(),He(),xe=$t({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),B1=$t({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),vo={};G(vo,{base32:()=>U,base32hex:()=>F1,base32hexpad:()=>L1,base32hexpadupper:()=>M1,base32hexupper:()=>N1,base32pad:()=>Za,base32padupper:()=>k1,base32upper:()=>P1,base32z:()=>j1});var U,P1,Za,k1,F1,N1,L1,M1,j1,ht=B(()=>{u(),He(),U=z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),P1=z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Za=z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),k1=z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F1=z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),N1=z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),L1=z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),M1=z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),j1=z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),Xa={};G(Xa,{CID:()=>S});var S,q1,U1,$1,ai,K1,Pd,kd,Eo,_o,z1,W1,V1,ge=B(()=>{u(),bo(),pt(),an(),ht(),qt(),S=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:_o,byteLength:_o,code:Eo,version:Eo,multihash:Eo,bytes:Eo,_baseCache:_o,asCID:_o})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ai)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==K1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return S.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Ut(e,t);return S.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Ga(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return U1(t,n,e||xe.encoder);default:return $1(t,n,e||U.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return W1(/^0\.0/,V1),!!(e&&(e[kd]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof S)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new S(t,r,n,o||Pd(t,r,n.bytes))}else if(e!=null&&e[kd]===!0){let{version:t,multihash:r,code:n}=e,o=Ve(r);return S.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ai)throw new Error(`Version 0 CID must use dag-pb (code: ${ai}) block encoding`);return new S(e,t,r,r.bytes)}case 1:{let n=Pd(e,t,r.bytes);return new S(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return S.create(0,ai,e)}static createV1(e,t){return S.create(1,e,t)}static decode(e){let[t,r]=S.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=S.inspectBytes(e),r=t.size-t.multihashSize,n=Ot(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),i=new gr(t.multihashCode,t.digestSize,o,n);return[t.version===0?S.createV0(i):S.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[d,E]=oi(e.subarray(t));return t+=E,d},n=r(),o=ai;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let i=t,a=r(),s=r(),c=t+s,l=c-i;return{version:n,codec:o,multihashCode:a,digestSize:s,multihashSize:l,size:c}}static parse(e,t){let[r,n]=q1(e,t),o=S.decode(n);return o._baseCache.set(r,e),o}},q1=(e,t)=>{switch(e[0]){case"Q":{let r=t||xe;return[xe.prefix,r.decode(`${xe.prefix}${e}`)]}case xe.prefix:{let r=t||xe;return[xe.prefix,r.decode(e)]}case U.prefix:{let r=t||U;return[U.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},U1=(e,t,r)=>{let{prefix:n}=r;if(n!==xe.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let i=r.encode(e).slice(1);return t.set(n,i),i}else return o},$1=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let i=r.encode(e);return t.set(n,i),i}else return o},ai=112,K1=18,Pd=(e,t,r)=>{let n=on(e),o=n+on(t),i=new Uint8Array(o+r.byteLength);return nn(e,i,0),nn(t,i,n),i.set(r,o),i},kd=Symbol.for("@ipld/js-cid/CID"),Eo={writable:!1,configurable:!1,enumerable:!0},_o={writable:!1,enumerable:!1,configurable:!1},z1="0.0.0-dev",W1=(e,t)=>{if(e.test(z1))console.warn(t);else throw new Error(t)},V1=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`}),Fd,Nd=B(()=>{u(),Fd="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}),tu={};G(tu,{customAlphabet:()=>G1,customRandom:()=>Md,nanoid:()=>eu,random:()=>Ld,urlAlphabet:()=>Fd});var Ld,Md,G1,eu,xo=B(()=>{u(),Nd(),Ld=e=>crypto.getRandomValues(new Uint8Array(e)),Md=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*n*t/e.length);return(i=t)=>{let a="";for(;;){let s=r(o),c=o;for(;c--;)if(a+=e[s[c]&n]||"",a.length===i)return a}}},G1=(e,t=21)=>Md(e,t,Ld),eu=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"")}),ru={};G(ru,{identity:()=>H1});var H1,jd=B(()=>{u(),He(),qt(),H1=sn({prefix:"\0",name:"identity",encode:e=>Td(e),decode:e=>Od(e)})}),nu={};G(nu,{base2:()=>J1});var J1,qd=B(()=>{u(),He(),J1=z({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),iu={};G(iu,{base8:()=>Y1});var Y1,Ud=B(()=>{u(),He(),Y1=z({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),ou={};G(ou,{base10:()=>Q1});var Q1,$d=B(()=>{u(),He(),Q1=$t({prefix:"9",name:"base10",alphabet:"0123456789"})}),su={};G(su,{base16:()=>Z1,base16upper:()=>X1});var Z1,X1,Kd=B(()=>{u(),He(),Z1=z({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),X1=z({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),au={};G(au,{base36:()=>ex,base36upper:()=>tx});var ex,tx,zd=B(()=>{u(),He(),ex=$t({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tx=$t({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),uu={};G(uu,{base64:()=>rx,base64pad:()=>nx,base64url:()=>ix,base64urlpad:()=>ox});var rx,nx,ix,ox,Wd=B(()=>{u(),He(),rx=z({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nx=z({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ix=z({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ox=z({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})}),cu={};G(cu,{base256emoji:()=>fx});function ux(e){return e.reduce((t,r)=>(t+=sx[r],t),"")}function cx(e){let t=[];for(let r of e){let n=ax[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var Vd,sx,ax,fx,Gd=B(()=>{u(),He(),Vd=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),sx=Vd.reduce((e,t,r)=>(e[r]=t,e),[]),ax=Vd.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),fx=sn({prefix:"\u{1F680}",name:"base256emoji",encode:ux,decode:cx})}),lu,fu,du=B(()=>{u(),pt(),lu=({name:e,code:t,encode:r})=>new fu(e,t,r),fu=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Ut(this.code,t):t.then(r=>Ut(this.code,r))}else throw Error("Unknown type, must be binary type")}}}),pu={};G(pu,{sha256:()=>un,sha512:()=>lx});var Jd,un,lx,Do=B(()=>{u(),du(),Jd=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),un=lu({name:"sha2-256",code:18,encode:Jd("SHA-256")}),lx=lu({name:"sha2-512",code:19,encode:Jd("SHA-512")})}),yu={};G(yu,{identity:()=>hu});var Yd,dx,Qd,px,hu,gu=B(()=>{u(),qt(),pt(),Yd=0,dx="identity",Qd=Ot,px=e=>Ut(Yd,Qd(e)),hu={code:Yd,name:dx,encode:Qd,digest:px}}),ui,ci=B(()=>{u(),qt(),ui=85}),Zd=B(()=>{u(),new TextEncoder,new TextDecoder}),So=B(()=>{u(),ge(),bo(),qt(),du(),pt()}),mu,Xd=B(()=>{u(),jd(),qd(),Ud(),$d(),Kd(),ht(),zd(),an(),Wd(),Gd(),Do(),gu(),ci(),Zd(),So(),mu={...ru,...nu,...iu,...ou,...su,...vo,...au,...si,...uu,...cu},{...pu,...yu}});function Co(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}var wu=B(()=>{u()});function tp(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var ep,bu,yx,Oo,vu=B(()=>{u(),Xd(),wu(),ep=tp("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),bu=tp("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Co(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),yx={utf8:ep,"utf-8":ep,hex:mu.base16,latin1:bu,ascii:bu,binary:bu,...mu},Oo=yx}),fi={};G(fi,{toString:()=>de});function de(e,t="utf8"){let r=Oo[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var ke=B(()=>{u(),vu()}),rp={};G(rp,{fromString:()=>oe});function oe(e,t="utf8"){let r=Oo[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}var yt=B(()=>{u(),vu()}),Eu=h((e,t)=>{u();var r=async n=>{let o=0;for await(let i of n)o++;return o};t.exports=r}),Dh=h((e,t)=>{u(),t.exports=r;function r(n,o){for(var i=new Array(arguments.length-1),a=0,s=2,c=!0;s<arguments.length;)i[a++]=arguments[s++];return new Promise(function(l,d){i[a]=function(E){if(c)if(c=!1,E)d(E);else{for(var D=new Array(arguments.length-1),g=0;g<D.length;)D[g++]=arguments[g];l.apply(null,D)}};try{n.apply(o||null,i)}catch(E){c&&(c=!1,d(E))}})}}),Oh=h(e=>{u();var t=e;t.length=function(a){var s=a.length;if(!s)return 0;for(var c=0;--s%4>1&&a.charAt(s)==="=";)++c;return Math.ceil(a.length*3)/4-c};var r=new Array(64),n=new Array(123);for(o=0;o<64;)n[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;var o;t.encode=function(a,s,c){for(var l=null,d=[],E=0,D=0,g;s<c;){var w=a[s++];switch(D){case 0:d[E++]=r[w>>2],g=(w&3)<<4,D=1;break;case 1:d[E++]=r[g|w>>4],g=(w&15)<<2,D=2;break;case 2:d[E++]=r[g|w>>6],d[E++]=r[w&63],D=0;break}E>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,d)),E=0)}return D&&(d[E++]=r[g],d[E++]=61,D===1&&(d[E++]=61)),l?(E&&l.push(String.fromCharCode.apply(String,d.slice(0,E))),l.join("")):String.fromCharCode.apply(String,d.slice(0,E))};var i="invalid encoding";t.decode=function(a,s,c){for(var l=c,d=0,E,D=0;D<a.length;){var g=a.charCodeAt(D++);if(g===61&&d>1)break;if((g=n[g])===void 0)throw Error(i);switch(d){case 0:E=g,d=1;break;case 1:s[c++]=E<<2|(g&48)>>4,E=g,d=2;break;case 2:s[c++]=(E&15)<<4|(g&60)>>2,E=g,d=3;break;case 3:s[c++]=(E&3)<<6|g,d=0;break}}if(d===1)throw Error(i);return c-l},t.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)}}),Ih=h((e,t)=>{u(),t.exports=r;function r(){this._listeners={}}r.prototype.on=function(n,o,i){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:o,ctx:i||this}),this},r.prototype.off=function(n,o){if(n===void 0)this._listeners={};else if(o===void 0)this._listeners[n]=[];else for(var i=this._listeners[n],a=0;a<i.length;)i[a].fn===o?i.splice(a,1):++a;return this},r.prototype.emit=function(n){var o=this._listeners[n];if(o){for(var i=[],a=1;a<arguments.length;)i.push(arguments[a++]);for(a=0;a<o.length;)o[a].fn.apply(o[a++].ctx,i)}return this}}),Lh=h((e,t)=>{u(),t.exports=r(r);function r(s){return typeof Float32Array<"u"?function(){var c=new Float32Array([-0]),l=new Uint8Array(c.buffer),d=l[3]===128;function E(f,k,T){c[0]=f,k[T]=l[0],k[T+1]=l[1],k[T+2]=l[2],k[T+3]=l[3]}function D(f,k,T){c[0]=f,k[T]=l[3],k[T+1]=l[2],k[T+2]=l[1],k[T+3]=l[0]}s.writeFloatLE=d?E:D,s.writeFloatBE=d?D:E;function g(f,k){return l[0]=f[k],l[1]=f[k+1],l[2]=f[k+2],l[3]=f[k+3],c[0]}function w(f,k){return l[3]=f[k],l[2]=f[k+1],l[1]=f[k+2],l[0]=f[k+3],c[0]}s.readFloatLE=d?g:w,s.readFloatBE=d?w:g}():function(){function c(d,E,D,g){var w=E<0?1:0;if(w&&(E=-E),E===0)d(1/E>0?0:2147483648,D,g);else if(isNaN(E))d(2143289344,D,g);else if(E>34028234663852886e22)d((w<<31|2139095040)>>>0,D,g);else if(E<11754943508222875e-54)d((w<<31|Math.round(E/1401298464324817e-60))>>>0,D,g);else{var f=Math.floor(Math.log(E)/Math.LN2),k=Math.round(E*Math.pow(2,-f)*8388608)&8388607;d((w<<31|f+127<<23|k)>>>0,D,g)}}s.writeFloatLE=c.bind(null,n),s.writeFloatBE=c.bind(null,o);function l(d,E,D){var g=d(E,D),w=(g>>31)*2+1,f=g>>>23&255,k=g&8388607;return f===255?k?NaN:w*(1/0):f===0?w*1401298464324817e-60*k:w*Math.pow(2,f-150)*(k+8388608)}s.readFloatLE=l.bind(null,i),s.readFloatBE=l.bind(null,a)}(),typeof Float64Array<"u"?function(){var c=new Float64Array([-0]),l=new Uint8Array(c.buffer),d=l[7]===128;function E(f,k,T){c[0]=f,k[T]=l[0],k[T+1]=l[1],k[T+2]=l[2],k[T+3]=l[3],k[T+4]=l[4],k[T+5]=l[5],k[T+6]=l[6],k[T+7]=l[7]}function D(f,k,T){c[0]=f,k[T]=l[7],k[T+1]=l[6],k[T+2]=l[5],k[T+3]=l[4],k[T+4]=l[3],k[T+5]=l[2],k[T+6]=l[1],k[T+7]=l[0]}s.writeDoubleLE=d?E:D,s.writeDoubleBE=d?D:E;function g(f,k){return l[0]=f[k],l[1]=f[k+1],l[2]=f[k+2],l[3]=f[k+3],l[4]=f[k+4],l[5]=f[k+5],l[6]=f[k+6],l[7]=f[k+7],c[0]}function w(f,k){return l[7]=f[k],l[6]=f[k+1],l[5]=f[k+2],l[4]=f[k+3],l[3]=f[k+4],l[2]=f[k+5],l[1]=f[k+6],l[0]=f[k+7],c[0]}s.readDoubleLE=d?g:w,s.readDoubleBE=d?w:g}():function(){function c(d,E,D,g,w,f){var k=g<0?1:0;if(k&&(g=-g),g===0)d(0,w,f+E),d(1/g>0?0:2147483648,w,f+D);else if(isNaN(g))d(0,w,f+E),d(2146959360,w,f+D);else if(g>17976931348623157e292)d(0,w,f+E),d((k<<31|2146435072)>>>0,w,f+D);else{var T;if(g<22250738585072014e-324)T=g/5e-324,d(T>>>0,w,f+E),d((k<<31|T/4294967296)>>>0,w,f+D);else{var O=Math.floor(Math.log(g)/Math.LN2);O===1024&&(O=1023),T=g*Math.pow(2,-O),d(T*4503599627370496>>>0,w,f+E),d((k<<31|O+1023<<20|T*1048576&1048575)>>>0,w,f+D)}}}s.writeDoubleLE=c.bind(null,n,0,4),s.writeDoubleBE=c.bind(null,o,4,0);function l(d,E,D,g,w){var f=d(g,w+E),k=d(g,w+D),T=(k>>31)*2+1,O=k>>>20&2047,P=4294967296*(k&1048575)+f;return O===2047?P?NaN:T*(1/0):O===0?T*5e-324*P:T*Math.pow(2,O-1075)*(P+4503599627370496)}s.readDoubleLE=l.bind(null,i,0,4),s.readDoubleBE=l.bind(null,a,4,0)}(),s}function n(s,c,l){c[l]=s&255,c[l+1]=s>>>8&255,c[l+2]=s>>>16&255,c[l+3]=s>>>24}function o(s,c,l){c[l]=s>>>24,c[l+1]=s>>>16&255,c[l+2]=s>>>8&255,c[l+3]=s&255}function i(s,c){return(s[c]|s[c+1]<<8|s[c+2]<<16|s[c+3]<<24)>>>0}function a(s,c){return(s[c]<<24|s[c+1]<<16|s[c+2]<<8|s[c+3])>>>0}}),Mh=h((exports,module)=>{u(),module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}}),qh=h(e=>{u();var t=e;t.length=function(r){for(var n=0,o=0,i=0;i<r.length;++i)o=r.charCodeAt(i),o<128?n+=1:o<2048?n+=2:(o&64512)===55296&&(r.charCodeAt(i+1)&64512)===56320?(++i,n+=4):n+=3;return n},t.read=function(r,n,o){var i=o-n;if(i<1)return"";for(var a=null,s=[],c=0,l;n<o;)l=r[n++],l<128?s[c++]=l:l>191&&l<224?s[c++]=(l&31)<<6|r[n++]&63:l>239&&l<365?(l=((l&7)<<18|(r[n++]&63)<<12|(r[n++]&63)<<6|r[n++]&63)-65536,s[c++]=55296+(l>>10),s[c++]=56320+(l&1023)):s[c++]=(l&15)<<12|(r[n++]&63)<<6|r[n++]&63,c>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),c=0);return a?(c&&a.push(String.fromCharCode.apply(String,s.slice(0,c))),a.join("")):String.fromCharCode.apply(String,s.slice(0,c))},t.write=function(r,n,o){for(var i=o,a,s,c=0;c<r.length;++c)a=r.charCodeAt(c),a<128?n[o++]=a:a<2048?(n[o++]=a>>6|192,n[o++]=a&63|128):(a&64512)===55296&&((s=r.charCodeAt(c+1))&64512)===56320?(a=65536+((a&1023)<<10)+(s&1023),++c,n[o++]=a>>18|240,n[o++]=a>>12&63|128,n[o++]=a>>6&63|128,n[o++]=a&63|128):(n[o++]=a>>12|224,n[o++]=a>>6&63|128,n[o++]=a&63|128);return o-i}}),$h=h((e,t)=>{u(),t.exports=r;function r(n,o,i){var a=i||8192,s=a>>>1,c=null,l=a;return function(d){if(d<1||d>s)return n(d);l+d>a&&(c=n(a),l=0);var E=o.call(c,l,l+=d);return l&7&&(l=(l|7)+1),E}}}),zh=h((e,t)=>{u(),t.exports=n;var r=Vt();function n(s,c){this.lo=s>>>0,this.hi=c>>>0}var o=n.zero=new n(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var i=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(s){if(s===0)return o;var c=s<0;c&&(s=-s);var l=s>>>0,d=(s-l)/4294967296>>>0;return c&&(d=~d>>>0,l=~l>>>0,++l>4294967295&&(l=0,++d>4294967295&&(d=0))),new n(l,d)},n.from=function(s){if(typeof s=="number")return n.fromNumber(s);if(r.isString(s))if(r.Long)s=r.Long.fromString(s);else return n.fromNumber(parseInt(s,10));return s.low||s.high?new n(s.low>>>0,s.high>>>0):o},n.prototype.toNumber=function(s){if(!s&&this.hi>>>31){var c=~this.lo+1>>>0,l=~this.hi>>>0;return c||(l=l+1>>>0),-(c+l*4294967296)}return this.lo+this.hi*4294967296},n.prototype.toLong=function(s){return r.Long?new r.Long(this.lo|0,this.hi|0,Boolean(s)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(s)}};var a=String.prototype.charCodeAt;n.fromHash=function(s){return s===i?o:new n((a.call(s,0)|a.call(s,1)<<8|a.call(s,2)<<16|a.call(s,3)<<24)>>>0,(a.call(s,4)|a.call(s,5)<<8|a.call(s,6)<<16|a.call(s,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this},n.prototype.zzDecode=function(){var s=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this},n.prototype.length=function(){var s=this.lo,c=(this.lo>>>28|this.hi<<4)>>>0,l=this.hi>>>24;return l===0?c===0?s<16384?s<128?1:2:s<2097152?3:4:c<16384?c<128?5:6:c<2097152?7:8:l<128?9:10}}),Vt=h(e=>{u();var t=e;t.asPromise=Dh(),t.base64=Oh(),t.EventEmitter=Ih(),t.float=Lh(),t.inquire=Mh(),t.utf8=qh(),t.pool=$h(),t.LongBits=zh(),t.isNode=Boolean(typeof global$1<"u"&&global$1&&global$1.process&&global$1.process.versions&&global$1.process.versions.node),t.global=t.isNode&&global$1||typeof window<"u"&&window||typeof self<"u"&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&typeof o=="object"},t.isset=t.isSet=function(o,i){var a=o[i];return a!=null&&o.hasOwnProperty(i)?typeof a!="object"||(Array.isArray(a)?a.length:Object.keys(a).length)>0:!1},t.Buffer=function(){try{var o=t.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,i){var a=t.LongBits.fromHash(o);return t.Long?t.Long.fromBits(a.lo,a.hi,i):a.toNumber(Boolean(i))};function r(o,i,a){for(var s=Object.keys(i),c=0;c<s.length;++c)(o[s[c]]===void 0||!a)&&(o[s[c]]=i[s[c]]);return o}t.merge=r,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function n(o){function i(a,s){if(!(this instanceof i))return new i(a,s);Object.defineProperty(this,"message",{get:function(){return a}}),Error.captureStackTrace?Error.captureStackTrace(this,i):Object.defineProperty(this,"stack",{value:new Error().stack||""}),s&&r(this,s)}return(i.prototype=Object.create(Error.prototype)).constructor=i,Object.defineProperty(i.prototype,"name",{get:function(){return o}}),i.prototype.toString=function(){return this.name+": "+this.message},i}t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(o){for(var i={},a=0;a<o.length;++a)i[o[a]]=1;return function(){for(var s=Object.keys(this),c=s.length-1;c>-1;--c)if(i[s[c]]===1&&this[s[c]]!==void 0&&this[s[c]]!==null)return s[c]}},t.oneOfSetter=function(o){return function(i){for(var a=0;a<o.length;++a)o[a]!==i&&delete this[o[a]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var o=t.Buffer;if(!o){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=o.from!==Uint8Array.from&&o.from||function(i,a){return new o(i,a)},t._Buffer_allocUnsafe=o.allocUnsafe||function(i){return new o(i)}}}),qu=h((e,t)=>{u(),t.exports=d;var r=Vt(),n,o=r.LongBits,i=r.base64,a=r.utf8;function s(O,P,R){this.fn=O,this.len=P,this.next=void 0,this.val=R}function c(){}function l(O){this.head=O.head,this.tail=O.tail,this.len=O.len,this.next=O.states}function d(){this.len=0,this.head=new s(c,0,0),this.tail=this.head,this.states=null}var E=function(){return r.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};d.create=E(),d.alloc=function(O){return new r.Array(O)},r.Array!==Array&&(d.alloc=r.pool(d.alloc,r.Array.prototype.subarray)),d.prototype._push=function(O,P,R){return this.tail=this.tail.next=new s(O,P,R),this.len+=P,this};function D(O,P,R){P[R]=O&255}function g(O,P,R){for(;O>127;)P[R++]=O&127|128,O>>>=7;P[R]=O}function w(O,P){this.len=O,this.next=void 0,this.val=P}w.prototype=Object.create(s.prototype),w.prototype.fn=g,d.prototype.uint32=function(O){return this.len+=(this.tail=this.tail.next=new w((O=O>>>0)<128?1:O<16384?2:O<2097152?3:O<268435456?4:5,O)).len,this},d.prototype.int32=function(O){return O<0?this._push(f,10,o.fromNumber(O)):this.uint32(O)},d.prototype.sint32=function(O){return this.uint32((O<<1^O>>31)>>>0)};function f(O,P,R){for(;O.hi;)P[R++]=O.lo&127|128,O.lo=(O.lo>>>7|O.hi<<25)>>>0,O.hi>>>=7;for(;O.lo>127;)P[R++]=O.lo&127|128,O.lo=O.lo>>>7;P[R++]=O.lo}d.prototype.uint64=function(O){var P=o.from(O);return this._push(f,P.length(),P)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(O){var P=o.from(O).zzEncode();return this._push(f,P.length(),P)},d.prototype.bool=function(O){return this._push(D,1,O?1:0)};function k(O,P,R){P[R]=O&255,P[R+1]=O>>>8&255,P[R+2]=O>>>16&255,P[R+3]=O>>>24}d.prototype.fixed32=function(O){return this._push(k,4,O>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(O){var P=o.from(O);return this._push(k,4,P.lo)._push(k,4,P.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(O){return this._push(r.float.writeFloatLE,4,O)},d.prototype.double=function(O){return this._push(r.float.writeDoubleLE,8,O)};var T=r.Array.prototype.set?function(O,P,R){P.set(O,R)}:function(O,P,R){for(var J=0;J<O.length;++J)P[R+J]=O[J]};d.prototype.bytes=function(O){var P=O.length>>>0;if(!P)return this._push(D,1,0);if(r.isString(O)){var R=d.alloc(P=i.length(O));i.decode(O,R,0),O=R}return this.uint32(P)._push(T,P,O)},d.prototype.string=function(O){var P=a.length(O);return P?this.uint32(P)._push(a.write,P,O):this._push(D,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new s(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new s(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var O=this.head,P=this.tail,R=this.len;return this.reset().uint32(R),R&&(this.tail.next=O.next,this.tail=P,this.len+=R),this},d.prototype.finish=function(){for(var O=this.head.next,P=this.constructor.alloc(this.len),R=0;O;)O.fn(O.val,P,R),R+=O.len,O=O.next;return P},d._configure=function(O){n=O,d.create=E(),n._configure()}}),Xh=h((e,t)=>{u(),t.exports=o;var r=qu();(o.prototype=Object.create(r.prototype)).constructor=o;var n=Vt();function o(){r.call(this)}o._configure=function(){o.alloc=n._Buffer_allocUnsafe,o.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&n.Buffer.prototype.set.name==="set"?function(a,s,c){s.set(a,c)}:function(a,s,c){if(a.copy)a.copy(s,c,0,a.length);else for(var l=0;l<a.length;)s[c++]=a[l++]}},o.prototype.bytes=function(a){n.isString(a)&&(a=n._Buffer_from(a,"base64"));var s=a.length>>>0;return this.uint32(s),s&&this._push(o.writeBytesBuffer,s,a),this};function i(a,s,c){a.length<40?n.utf8.write(a,s,c):s.utf8Write?s.utf8Write(a,c):s.write(a,c)}o.prototype.string=function(a){var s=n.Buffer.byteLength(a);return this.uint32(s),s&&this._push(i,s,a),this},o._configure()}),Ku=h((e,t)=>{u(),t.exports=s;var r=Vt(),n,o=r.LongBits,i=r.utf8;function a(g,w){return RangeError("index out of range: "+g.pos+" + "+(w||1)+" > "+g.len)}function s(g){this.buf=g,this.pos=0,this.len=g.length}var c=typeof Uint8Array<"u"?function(g){if(g instanceof Uint8Array||Array.isArray(g))return new s(g);throw Error("illegal buffer")}:function(g){if(Array.isArray(g))return new s(g);throw Error("illegal buffer")},l=function(){return r.Buffer?function(g){return(s.create=function(w){return r.Buffer.isBuffer(w)?new n(w):c(w)})(g)}:c};s.create=l(),s.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,s.prototype.uint32=function(){var g=4294967295;return function(){if(g=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(g=(g|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(g=(g|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return g;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return g}}(),s.prototype.int32=function(){return this.uint32()|0},s.prototype.sint32=function(){var g=this.uint32();return g>>>1^-(g&1)|0};function d(){var g=new o(0,0),w=0;if(this.len-this.pos>4){for(;w<4;++w)if(g.lo=(g.lo|(this.buf[this.pos]&127)<<w*7)>>>0,this.buf[this.pos++]<128)return g;if(g.lo=(g.lo|(this.buf[this.pos]&127)<<28)>>>0,g.hi=(g.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return g;w=0}else{for(;w<3;++w){if(this.pos>=this.len)throw a(this);if(g.lo=(g.lo|(this.buf[this.pos]&127)<<w*7)>>>0,this.buf[this.pos++]<128)return g}return g.lo=(g.lo|(this.buf[this.pos++]&127)<<w*7)>>>0,g}if(this.len-this.pos>4){for(;w<5;++w)if(g.hi=(g.hi|(this.buf[this.pos]&127)<<w*7+3)>>>0,this.buf[this.pos++]<128)return g}else for(;w<5;++w){if(this.pos>=this.len)throw a(this);if(g.hi=(g.hi|(this.buf[this.pos]&127)<<w*7+3)>>>0,this.buf[this.pos++]<128)return g}throw Error("invalid varint encoding")}s.prototype.bool=function(){return this.uint32()!==0};function E(g,w){return(g[w-4]|g[w-3]<<8|g[w-2]<<16|g[w-1]<<24)>>>0}s.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return E(this.buf,this.pos+=4)},s.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return E(this.buf,this.pos+=4)|0};function D(){if(this.pos+8>this.len)throw a(this,8);return new o(E(this.buf,this.pos+=4),E(this.buf,this.pos+=4))}s.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var g=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,g},s.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var g=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,g},s.prototype.bytes=function(){var g=this.uint32(),w=this.pos,f=this.pos+g;if(f>this.len)throw a(this,g);return this.pos+=g,Array.isArray(this.buf)?this.buf.slice(w,f):w===f?new this.buf.constructor(0):this._slice.call(this.buf,w,f)},s.prototype.string=function(){var g=this.bytes();return i.read(g,0,g.length)},s.prototype.skip=function(g){if(typeof g=="number"){if(this.pos+g>this.len)throw a(this,g);this.pos+=g}else do if(this.pos>=this.len)throw a(this);while(this.buf[this.pos++]&128);return this},s.prototype.skipType=function(g){switch(g){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(g=this.uint32()&7)!==4;)this.skipType(g);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+g+" at offset "+this.pos)}return this},s._configure=function(g){n=g,s.create=l(),n._configure();var w=r.Long?"toLong":"toNumber";r.merge(s.prototype,{int64:function(){return d.call(this)[w](!1)},uint64:function(){return d.call(this)[w](!0)},sint64:function(){return d.call(this).zzDecode()[w](!1)},fixed64:function(){return D.call(this)[w](!0)},sfixed64:function(){return D.call(this)[w](!1)}})}}),uy=h((e,t)=>{u(),t.exports=o;var r=Ku();(o.prototype=Object.create(r.prototype)).constructor=o;var n=Vt();function o(i){r.call(this,i)}o._configure=function(){n.Buffer&&(o.prototype._slice=n.Buffer.prototype.slice)},o.prototype.string=function(){var i=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+i,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+i,this.len))},o._configure()}),fy=h((e,t)=>{u(),t.exports=n;var r=Vt();(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n;function n(o,i,a){if(typeof o!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=Boolean(i),this.responseDelimited=Boolean(a)}n.prototype.rpcCall=function o(i,a,s,c,l){if(!c)throw TypeError("request must be specified");var d=this;if(!l)return r.asPromise(o,d,i,a,s,c);if(!d.rpcImpl){setTimeout(function(){l(Error("already ended"))},0);return}try{return d.rpcImpl(i,a[d.requestDelimited?"encodeDelimited":"encode"](c).finish(),function(E,D){if(E)return d.emit("error",E,i),l(E);if(D===null){d.end(!0);return}if(!(D instanceof s))try{D=s[d.responseDelimited?"decodeDelimited":"decode"](D)}catch(g){return d.emit("error",g,i),l(g)}return d.emit("data",D,i),l(null,D)})}catch(E){d.emit("error",E,i),setTimeout(function(){l(E)},0);return}},n.prototype.end=function(o){return this.rpcImpl&&(o||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}),dy=h(e=>{u();var t=e;t.Service=fy()}),hy=h((e,t)=>{u(),t.exports={}}),my=h(e=>{u();var t=e;t.build="minimal",t.Writer=qu(),t.BufferWriter=Xh(),t.Reader=Ku(),t.BufferReader=uy(),t.util=Vt(),t.rpc=dy(),t.roots=hy(),t.configure=r;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}r()}),Ht=h((e,t)=>{u(),t.exports=my()}),_y=h((e,t)=>{u(),Object.defineProperty(e,"__esModule",{value:!0}),r.BASE=2166136261;function r(n,o=r.BASE){let i=n.length;for(let a=0;a<i;a++)o^=n.charCodeAt(a),o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24);return o>>>0}e.default=r,t.exports=r}),Ay=h((e,t)=>{u(),t.exports=a;var r=128,n=127,o=~n,i=Math.pow(2,31);function a(s,c,l){if(Number.MAX_SAFE_INTEGER&&s>Number.MAX_SAFE_INTEGER)throw a.bytes=0,new RangeError("Could not encode varint");c=c||[],l=l||0;for(var d=l;s>=i;)c[l++]=s&255|r,s/=128;for(;s&o;)c[l++]=s&255|r,s>>>=7;return c[l]=s|0,a.bytes=l-d+1,c}}),Oy=h((e,t)=>{u(),t.exports=o;var r=128,n=127;function o(i,c){var s=0,c=c||0,l=0,d=c,E,D=i.length;do{if(d>=D||l>49)throw o.bytes=0,new RangeError("Could not decode varint");E=i[d++],s+=l<28?(E&n)<<l:(E&n)*Math.pow(2,l),l+=7}while(E>=r);return o.bytes=d-c,s}}),Iy=h((e,t)=>{u();var r=Math.pow(2,7),n=Math.pow(2,14),o=Math.pow(2,21),i=Math.pow(2,28),a=Math.pow(2,35),s=Math.pow(2,42),c=Math.pow(2,49),l=Math.pow(2,56),d=Math.pow(2,63);t.exports=function(E){return E<r?1:E<n?2:E<o?3:E<i?4:E<a?5:E<s?6:E<c?7:E<l?8:E<d?9:10}}),xi=h((e,t)=>{u(),t.exports={encode:Ay(),decode:Oy(),encodingLength:Iy()}}),Yu={};G(Yu,{concat:()=>Ai});function Ai(e,t){t||(t=e.reduce((o,i)=>o+i.length,0));let r=Co(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}var Ho=B(()=>{u(),wu()}),Qy=h((e,t)=>{u();var r="[a-fA-F\\d:]",n=E=>E&&E.includeBoundaries?`(?:(?<=\\s|^)(?=${r})|(?<=${r})(?=\\s|$))`:"",o="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",a=`
(?:
(?:${i}:){7}(?:${i}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${i}:){6}(?:${o}|:${i}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${i}:){5}(?::${o}|(?::${i}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${i}:){4}(?:(?::${i}){0,1}:${o}|(?::${i}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${i}:){3}(?:(?::${i}){0,2}:${o}|(?::${i}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${i}:){2}(?:(?::${i}){0,3}:${o}|(?::${i}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${i}:){1}(?:(?::${i}){0,4}:${o}|(?::${i}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${i}){0,5}:${o}|(?::${i}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=new RegExp(`(?:^${o}$)|(?:^${a}$)`),c=new RegExp(`^${o}$`),l=new RegExp(`^${a}$`),d=E=>E&&E.exact?s:new RegExp(`(?:${n(E)}${o}${n(E)})|(?:${n(E)}${a}${n(E)})`,"g");d.v4=E=>E&&E.exact?c:new RegExp(`${n(E)}${o}${n(E)}`,"g"),d.v6=E=>E&&E.exact?l:new RegExp(`${n(E)}${a}${n(E)}`,"g"),t.exports=d}),Xy=h((e,t)=>{u();var r=Qy(),n=o=>r({exact:!0}).test(o);n.v4=o=>r.v4({exact:!0}).test(o),n.v6=o=>r.v6({exact:!0}).test(o),n.version=o=>n(o)?n.v4(o)?4:6:void 0,t.exports=n}),ig=h((e,t)=>{u();var r=Xy(),{toString:n}=(ke(),ue(fi)),o=r,i=r.v4,a=r.v6,s=function(l,d,E){E=~~E;let D;if(i(l))D=d||new Uint8Array(E+4),l.split(/\./g).map(function(g){D[E++]=parseInt(g,10)&255});else if(a(l)){let g=l.split(":",8),w;for(w=0;w<g.length;w++){let f=i(g[w]),k;f&&(k=s(g[w]),g[w]=n(k.slice(0,2),"base16")),k&&++w<8&&g.splice(w,0,n(k.slice(2,4),"base16"))}if(g[0]==="")for(;g.length<8;)g.unshift("0");else if(g[g.length-1]==="")for(;g.length<8;)g.push("0");else if(g.length<8){for(w=0;w<g.length&&g[w]!=="";w++);let f=[w,"1"];for(w=9-g.length;w>0;w--)f.push("0");g.splice.apply(g,f)}for(D=d||new Uint8Array(E+16),w=0;w<g.length;w++){let f=parseInt(g[w],16);D[E++]=f>>8&255,D[E++]=f&255}}if(!D)throw Error("Invalid ip address: "+l);return D},c=function(l,d,E){d=~~d,E=E||l.length-d;let D=[],g,w=new DataView(l.buffer);if(E===4){for(let f=0;f<E;f++)D.push(l[d+f]);g=D.join(".")}else if(E===16){for(let f=0;f<E;f+=2)D.push(w.getUint16(d+f).toString(16));g=D.join(":"),g=g.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),g=g.replace(/:{3,4}/,"::")}return g};t.exports={isIP:o,isV4:i,isV6:a,toBytes:s,toString:c}}),rs=h((e,t)=>{u();function r(i){if(typeof i=="number"){if(r.codes[i])return r.codes[i];throw new Error("no protocol with code: "+i)}else if(typeof i=="string"){if(r.names[i])return r.names[i];throw new Error("no protocol with name: "+i)}throw new Error("invalid protocol id type: "+i)}var n=-1;r.lengthPrefixedVarSize=n,r.V=n,r.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[53,n,"dns","resolvable"],[54,n,"dns4","resolvable"],[55,n,"dns6","resolvable"],[56,n,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,"path"],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]],r.names={},r.codes={},r.table.map(i=>{let a=o.apply(null,i);return r.codes[a.code]=a,r.names[a.name]=a,null}),r.object=o;function o(i,a,s,c,l){return{code:i,size:a,name:s,resolvable:Boolean(c),path:Boolean(l)}}t.exports=r}),hg=h((e,t)=>{u();var r=ig(),n=rs(),{CID:o}=(ge(),ue(Xa)),{base32:i}=(ht(),ue(vo)),{base58btc:a}=(an(),ue(si)),s=(pt(),ue(Ge)),c=xi(),{toString:l}=(ke(),ue(fi)),{fromString:d}=(yt(),ue(rp)),{concat:E}=(Ho(),ue(Yu));t.exports=D;function D(H,ee){return ee instanceof Uint8Array?D.toString(H,ee):D.toBytes(H,ee)}D.toString=function(H,ee){switch(n(H).code){case 4:case 41:return w(ee);case 6:case 273:case 33:case 132:return k(ee).toString();case 53:case 54:case 55:case 56:case 400:case 777:return O(ee);case 421:return R(ee);case 444:return X(ee);case 445:return X(ee);default:return l(ee,"base16")}},D.toBytes=function(H,ee){switch(n(H).code){case 4:return g(ee);case 41:return g(ee);case 6:case 273:case 33:case 132:return f(parseInt(ee,10));case 53:case 54:case 55:case 56:case 400:case 777:return T(ee);case 421:return P(ee);case 444:return J(ee);case 445:return F(ee);default:return d(ee,"base16")}};function g(H){if(!r.isIP(H))throw new Error("invalid ip address");return r.toBytes(H)}function w(H){let ee=r.toString(H);if(!ee||!r.isIP(ee))throw new Error("invalid ip address");return ee}function f(H){let ee=new ArrayBuffer(2);return new DataView(ee).setUint16(0,H),new Uint8Array(ee)}function k(H){return new DataView(H.buffer).getUint16(H.byteOffset)}function T(H){let ee=d(H),pe=Uint8Array.from(c.encode(ee.length));return E([pe,ee],pe.length+ee.length)}function O(H){let ee=c.decode(H);if(H=H.slice(c.decode.bytes),H.length!==ee)throw new Error("inconsistent lengths");return l(H)}function P(H){let ee;H[0]==="Q"||H[0]==="1"?ee=s.decode(a.decode(`z${H}`)).bytes:ee=o.parse(H).multihash.bytes;let pe=Uint8Array.from(c.encode(ee.length));return E([pe,ee],pe.length+ee.length)}function R(H){let ee=c.decode(H),pe=H.slice(c.decode.bytes);if(pe.length!==ee)throw new Error("inconsistent lengths");return l(pe,"base58btc")}function J(H){let ee=H.split(":");if(ee.length!==2)throw new Error("failed to parse onion addr: "+ee+" does not contain a port number");if(ee[0].length!==16)throw new Error("failed to parse onion addr: "+ee[0]+" not a Tor onion address.");let pe=i.decode("b"+ee[0]),ye=parseInt(ee[1],10);if(ye<1||ye>65536)throw new Error("Port number is not in range(1, 65536)");let _e=f(ye);return E([pe,_e],pe.length+_e.length)}function F(H){let ee=H.split(":");if(ee.length!==2)throw new Error("failed to parse onion addr: "+ee+" does not contain a port number");if(ee[0].length!==56)throw new Error("failed to parse onion addr: "+ee[0]+" not a Tor onion3 address.");let pe=i.decode("b"+ee[0]),ye=parseInt(ee[1],10);if(ye<1||ye>65536)throw new Error("Port number is not in range(1, 65536)");let _e=f(ye);return E([pe,_e],pe.length+_e.length)}function X(H){let ee=H.slice(0,H.length-2),pe=H.slice(H.length-2),ye=l(ee,"base32"),_e=k(pe);return ye+":"+_e}}),Sg=h((e,t)=>{u();var r=hg(),n=rs(),o=xi(),{concat:i}=(Ho(),ue(Yu)),{toString:a}=(ke(),ue(fi));t.exports={stringToStringTuples:s,stringTuplesToString:c,tuplesToStringTuples:d,stringTuplesToTuples:l,bytesToTuples:g,tuplesToBytes:E,bytesToString:w,stringToBytes:f,fromString:k,fromBytes:T,validateBytes:O,isValidBytes:P,cleanPath:R,ParseError:J,protoFromTuple:F,sizeForAddr:D};function s(X){let H=[],ee=X.split("/").slice(1);if(ee.length===1&&ee[0]==="")return[];for(let pe=0;pe<ee.length;pe++){let ye=ee[pe],_e=n(ye);if(_e.size===0){H.push([ye]);continue}if(pe++,pe>=ee.length)throw J("invalid address: "+X);if(_e.path){H.push([ye,R(ee.slice(pe).join("/"))]);break}H.push([ye,ee[pe]])}return H}function c(X){let H=[];return X.map(ee=>{let pe=F(ee);return H.push(pe.name),ee.length>1&&H.push(ee[1]),null}),R(H.join("/"))}function l(X){return X.map(H=>{Array.isArray(H)||(H=[H]);let ee=F(H);return H.length>1?[ee.code,r.toBytes(ee.code,H[1])]:[ee.code]})}function d(X){return X.map(H=>{let ee=F(H);return H[1]?[ee.code,r.toString(ee.code,H[1])]:[ee.code]})}function E(X){return T(i(X.map(H=>{let ee=F(H),pe=Uint8Array.from(o.encode(ee.code));return H.length>1&&(pe=i([pe,H[1]])),pe})))}function D(X,H){return X.size>0?X.size/8:X.size===0?0:o.decode(H)+o.decode.bytes}function g(X){let H=[],ee=0;for(;ee<X.length;){let pe=o.decode(X,ee),ye=o.decode.bytes,_e=n(pe),Re=D(_e,X.slice(ee+ye));if(Re===0){H.push([pe]),ee+=ye;continue}let Pe=X.slice(ee+ye,ee+ye+Re);if(ee+=Re+ye,ee>X.length)throw J("Invalid address Uint8Array: "+a(X,"base16"));H.push([pe,Pe])}return H}function w(X){let H=g(X),ee=d(H);return c(ee)}function f(X){X=R(X);let H=s(X),ee=l(H);return E(ee)}function k(X){return f(X)}function T(X){let H=O(X);if(H)throw H;return Uint8Array.from(X)}function O(X){try{g(X)}catch(H){return H}}function P(X){return O(X)===void 0}function R(X){return"/"+X.trim().split("/").filter(H=>H).join("/")}function J(X){return new Error("Error parsing address: "+X)}function F(X){return n(X[0])}}),Cg={};G(Cg,{equals:()=>pD});function pD(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var Og=B(()=>{u()}),Bg=h((e,t)=>{u();var r=Sg(),n=rs(),o=xi(),{CID:i}=(ge(),ue(Xa)),{base58btc:a}=(an(),ue(si)),s=dt(),c=Symbol.for("nodejs.util.inspect.custom"),{toString:l}=(ke(),ue(fi)),{equals:d}=(Og(),ue(Cg)),E=new Map,D=Symbol.for("@multiformats/js-multiaddr/multiaddr"),g=class{constructor(f){if(f==null&&(f=""),Object.defineProperty(this,D,{value:!0}),f instanceof Uint8Array)this.bytes=r.fromBytes(f);else if(typeof f=="string"){if(f.length>0&&f.charAt(0)!=="/")throw new Error(`multiaddr "${f}" must start with a "/"`);this.bytes=r.fromString(f)}else if(g.isMultiaddr(f))this.bytes=r.fromBytes(f.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return r.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let f={},k=this.toString().split("/");return f.family=k[1]==="ip4"?4:6,f.host=k[2],f.transport=k[3],f.port=parseInt(k[4]),f}protos(){return this.protoCodes().map(f=>Object.assign({},n(f)))}protoCodes(){let f=[],k=this.bytes,T=0;for(;T<k.length;){let O=o.decode(k,T),P=o.decode.bytes,R=n(O);T+=r.sizeForAddr(R,k.slice(T+P))+P,f.push(O)}return f}protoNames(){return this.protos().map(f=>f.name)}tuples(){return r.bytesToTuples(this.bytes)}stringTuples(){let f=r.bytesToTuples(this.bytes);return r.tuplesToStringTuples(f)}encapsulate(f){return f=new g(f),new g(this.toString()+f.toString())}decapsulate(f){let k=f.toString(),T=this.toString(),O=T.lastIndexOf(k);if(O<0)throw new Error("Address "+this+" does not contain subaddress: "+f);return new g(T.slice(0,O))}decapsulateCode(f){let k=this.tuples();for(let T=k.length-1;T>=0;T--)if(k[T][0]===f)return new g(r.tuplesToBytes(k.slice(0,T)));return this}getPeerId(){try{let f=this.stringTuples().filter(k=>k[0]===n.names.ipfs.code).pop();if(f&&f[1]){let k=f[1];return k[0]==="Q"||k[0]==="1"?l(a.decode(`z${k}`),"base58btc"):l(i.parse(k).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let f=null;try{f=this.stringTuples().filter(k=>!!n(k[0]).path)[0][1],f||(f=null)}catch{f=null}return f}equals(f){return d(this.bytes,f.bytes)}async resolve(){let f=this.protos().find(T=>T.resolvable);if(!f)return[this];let k=E.get(f.name);if(!k)throw s(new Error(`no available resolver for ${f.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await k(this)).map(T=>new g(T))}nodeAddress(){let f=this.protoCodes(),k=this.protoNames(),T=this.toString().split("/").slice(1);if(T.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(f[0]!==4&&f[0]!==41&&f[0]!==54&&f[0]!==55)throw new Error(`no protocol with name: "'${k[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(T[2]!=="tcp"&&T[2]!=="udp")throw new Error(`no protocol with name: "'${k[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:f[0]===41||f[0]===55?6:4,address:T[1],port:parseInt(T[3])}}isThinWaistAddress(f){let k=(f||this).protos();return!(k.length!==2||k[0].code!==4&&k[0].code!==41||k[1].code!==6&&k[1].code!==273)}static fromNodeAddress(f,k){if(!f)throw new Error("requires node address object");if(!k)throw new Error("requires transport protocol");let T;switch(f.family){case 4:T="ip4";break;case 6:T="ip6";break;default:throw Error(`Invalid addr family. Got '${f.family}' instead of 4 or 6`)}return new g("/"+[T,f.address,k,f.port].join("/"))}static isName(f){return g.isMultiaddr(f)?f.protos().some(k=>k.resolvable):!1}static isMultiaddr(f){return f instanceof g||Boolean(f&&f[D])}[c](){return"<Multiaddr "+l(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+l(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}};g.protocols=n,g.resolvers=E;function w(f){return new g(f)}t.exports={Multiaddr:g,multiaddr:w,protocols:n,resolvers:E}}),$g=h((e,t)=>{u(),t.exports=a,t.exports.format=s,t.exports.parse=c;var r=/\B(?=(\d{3})+(?!\d))/g,n=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1<<10,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function a(l,d){return typeof l=="string"?c(l):typeof l=="number"?s(l,d):null}function s(l,d){if(!Number.isFinite(l))return null;var E=Math.abs(l),D=d&&d.thousandsSeparator||"",g=d&&d.unitSeparator||"",w=d&&d.decimalPlaces!==void 0?d.decimalPlaces:2,f=Boolean(d&&d.fixedDecimals),k=d&&d.unit||"";(!k||!o[k.toLowerCase()])&&(E>=o.pb?k="PB":E>=o.tb?k="TB":E>=o.gb?k="GB":E>=o.mb?k="MB":E>=o.kb?k="KB":k="B");var T=l/o[k.toLowerCase()],O=T.toFixed(w);return f||(O=O.replace(n,"$1")),D&&(O=O.split(".").map(function(P,R){return R===0?P.replace(r,D):P}).join(".")),O+g+k}function c(l){if(typeof l=="number"&&!isNaN(l))return l;if(typeof l!="string")return null;var d=i.exec(l),E,D="b";return d?(E=parseFloat(d[1]),D=d[4].toLowerCase()):(E=parseInt(l,10),D="b"),isNaN(E)?null:Math.floor(o[D]*E)}}),xc=h((e,t)=>{u(),t.exports=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let n=Object.getPrototypeOf(r);return n===null||n===Object.prototype}}),Jg=h((e,t)=>{u();var r=xc(),{hasOwnProperty:n}=Object.prototype,{propertyIsEnumerable:o}=Object,i=(f,k,T)=>Object.defineProperty(f,k,{value:T,writable:!0,enumerable:!0,configurable:!0}),a=e,s={concatArrays:!1,ignoreUndefined:!1},c=f=>{let k=[];for(let T in f)n.call(f,T)&&k.push(T);if(Object.getOwnPropertySymbols){let T=Object.getOwnPropertySymbols(f);for(let O of T)o.call(f,O)&&k.push(O)}return k};function l(f){return Array.isArray(f)?d(f):r(f)?E(f):f}function d(f){let k=f.slice(0,0);return c(f).forEach(T=>{i(k,T,l(f[T]))}),k}function E(f){let k=Object.getPrototypeOf(f)===null?Object.create(null):{};return c(f).forEach(T=>{i(k,T,l(f[T]))}),k}var D=(f,k,T,O)=>(T.forEach(P=>{typeof k[P]>"u"&&O.ignoreUndefined||(P in f&&f[P]!==Object.getPrototypeOf(f)?i(f,P,w(f[P],k[P],O)):i(f,P,l(k[P])))}),f),g=(f,k,T)=>{let O=f.slice(0,0),P=0;return[f,k].forEach(R=>{let J=[];for(let F=0;F<R.length;F++)!n.call(R,F)||(J.push(String(F)),R===f?i(O,P++,R[F]):i(O,P++,l(R[F])));O=D(O,R,c(R).filter(F=>!J.includes(F)),T)}),O};function w(f,k,T){return T.concatArrays&&Array.isArray(f)&&Array.isArray(k)?g(f,k,T):!r(k)||!r(f)?l(k):D(f,k,c(k),T)}t.exports=function(...f){let k=w(l(s),this!==a&&this||{},s),T={_:{}};for(let O of f)if(O!==void 0){if(!r(O))throw new TypeError("`"+O+"` is not an Option Object");T=w(T,{_:O},k)}return T._}}),Cc=h((e,t)=>{u();var r=Object.prototype.hasOwnProperty,n="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1));function i(l,d,E){this.fn=l,this.context=d,this.once=E||!1}function a(l,d,E,D,g){if(typeof E!="function")throw new TypeError("The listener must be a function");var w=new i(E,D||l,g),f=n?n+d:d;return l._events[f]?l._events[f].fn?l._events[f]=[l._events[f],w]:l._events[f].push(w):(l._events[f]=w,l._eventsCount++),l}function s(l,d){--l._eventsCount===0?l._events=new o:delete l._events[d]}function c(){this._events=new o,this._eventsCount=0}c.prototype.eventNames=function(){var l=[],d,E;if(this._eventsCount===0)return l;for(E in d=this._events)r.call(d,E)&&l.push(n?E.slice(1):E);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},c.prototype.listeners=function(l){var d=n?n+l:l,E=this._events[d];if(!E)return[];if(E.fn)return[E.fn];for(var D=0,g=E.length,w=new Array(g);D<g;D++)w[D]=E[D].fn;return w},c.prototype.listenerCount=function(l){var d=n?n+l:l,E=this._events[d];return E?E.fn?1:E.length:0},c.prototype.emit=function(l,d,E,D,g,w){var f=n?n+l:l;if(!this._events[f])return!1;var k=this._events[f],T=arguments.length,O,P;if(k.fn){switch(k.once&&this.removeListener(l,k.fn,void 0,!0),T){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,d),!0;case 3:return k.fn.call(k.context,d,E),!0;case 4:return k.fn.call(k.context,d,E,D),!0;case 5:return k.fn.call(k.context,d,E,D,g),!0;case 6:return k.fn.call(k.context,d,E,D,g,w),!0}for(P=1,O=new Array(T-1);P<T;P++)O[P-1]=arguments[P];k.fn.apply(k.context,O)}else{var R=k.length,J;for(P=0;P<R;P++)switch(k[P].once&&this.removeListener(l,k[P].fn,void 0,!0),T){case 1:k[P].fn.call(k[P].context);break;case 2:k[P].fn.call(k[P].context,d);break;case 3:k[P].fn.call(k[P].context,d,E);break;case 4:k[P].fn.call(k[P].context,d,E,D);break;default:if(!O)for(J=1,O=new Array(T-1);J<T;J++)O[J-1]=arguments[J];k[P].fn.apply(k[P].context,O)}}return!0},c.prototype.on=function(l,d,E){return a(this,l,d,E,!1)},c.prototype.once=function(l,d,E){return a(this,l,d,E,!0)},c.prototype.removeListener=function(l,d,E,D){var g=n?n+l:l;if(!this._events[g])return this;if(!d)return s(this,g),this;var w=this._events[g];if(w.fn)w.fn===d&&(!D||w.once)&&(!E||w.context===E)&&s(this,g);else{for(var f=0,k=[],T=w.length;f<T;f++)(w[f].fn!==d||D&&!w[f].once||E&&w[f].context!==E)&&k.push(w[f]);k.length?this._events[g]=k.length===1?k[0]:k:s(this,g)}return this},c.prototype.removeAllListeners=function(l){var d;return l?(d=n?n+l:l,this._events[d]&&s(this,d)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,typeof t<"u"&&(t.exports=c)}),om=h((e,t)=>{u(),t.exports=(r,n)=>(n=n||(()=>{}),r.then(o=>new Promise(i=>{i(n())}).then(()=>o),o=>new Promise(i=>{i(n())}).then(()=>{throw o})))}),Oc=h((e,t)=>{u();var r=om(),n=class extends Error{constructor(i){super(i),this.name="TimeoutError"}},o=(i,a,s)=>new Promise((c,l)=>{if(typeof a!="number"||a<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(a===1/0){c(i);return}let d=setTimeout(()=>{if(typeof s=="function"){try{c(s())}catch(g){l(g)}return}let E=typeof s=="string"?s:`Promise timed out after ${a} milliseconds`,D=s instanceof Error?s:new n(E);typeof i.cancel=="function"&&i.cancel(),l(D)},a);r(i.then(c,l),()=>{clearTimeout(d)})});t.exports=o,t.exports.default=o,t.exports.TimeoutError=n}),am=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,o){let i=0,a=r.length;for(;a>0;){let s=a/2|0,c=i+s;o(r[c],n)<=0?(i=++c,a-=s+1):a=s}return i}e.default=t}),um=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=am(),r=class{constructor(){this._queue=[]}enqueue(n,o){o=Object.assign({priority:0},o);let i={priority:o.priority,run:n};if(this.size&&this._queue[this.size-1].priority>=o.priority){this._queue.push(i);return}let a=t.default(this._queue,i,(s,c)=>c.priority-s.priority);this._queue.splice(a,0,i)}dequeue(){let n=this._queue.shift();return n==null?void 0:n.run}filter(n){return this._queue.filter(o=>o.priority===n.priority).map(o=>o.run)}get size(){return this._queue.length}};e.default=r}),fm=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Cc(),r=Oc(),n=um(),o=()=>{},i=new r.TimeoutError,a=class extends t{constructor(s){var c,l,d,E;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,s=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},s),!(typeof s.intervalCap=="number"&&s.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(l=(c=s.intervalCap)===null||c===void 0?void 0:c.toString())!==null&&l!==void 0?l:""}\` (${typeof s.intervalCap})`);if(s.interval===void 0||!(Number.isFinite(s.interval)&&s.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(E=(d=s.interval)===null||d===void 0?void 0:d.toString())!==null&&E!==void 0?E:""}\` (${typeof s.interval})`);this._carryoverConcurrencyCount=s.carryoverConcurrencyCount,this._isIntervalIgnored=s.intervalCap===1/0||s.interval===0,this._intervalCap=s.intervalCap,this._interval=s.interval,this._queue=new s.queueClass,this._queueClass=s.queueClass,this.concurrency=s.concurrency,this._timeout=s.timeout,this._throwOnTimeout=s.throwOnTimeout===!0,this._isPaused=s.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let s=Date.now();if(this._intervalId===void 0){let c=this._intervalEnd-s;if(c<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},c)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let s=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let c=this._queue.dequeue();return c?(this.emit("active"),c(),s&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(s){if(!(typeof s=="number"&&s>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${s}\` (${typeof s})`);this._concurrency=s,this._processQueue()}async add(s,c={}){return new Promise((l,d)=>{let E=async()=>{this._pendingCount++,this._intervalCount++;try{let D=this._timeout===void 0&&c.timeout===void 0?s():r.default(Promise.resolve(s()),c.timeout===void 0?this._timeout:c.timeout,()=>{(c.throwOnTimeout===void 0?this._throwOnTimeout:c.throwOnTimeout)&&d(i)});l(await D)}catch(D){d(D)}this._next()};this._queue.enqueue(E,c),this._tryToStartAnother(),this.emit("add")})}async addAll(s,c){return Promise.all(s.map(async l=>this.add(l,c)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(s=>{let c=this._resolveEmpty;this._resolveEmpty=()=>{c(),s()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(s=>{let c=this._resolveIdle;this._resolveIdle=()=>{c(),s()}})}get size(){return this._queue.size}sizeBy(s){return this._queue.filter(s).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(s){this._timeout=s}};e.default=a}),pm=h((e,t)=>{u(),t.exports=r;function r(o,i,a){var s,c;if(Array.isArray(i)&&(s=i.slice(0)),typeof i=="string"&&(s=i.split(".")),typeof i=="symbol"&&(s=[i]),!Array.isArray(s))throw new Error("props arg must be an array, a string or a symbol");if(c=s.pop(),!c)return!1;n(c);for(var l;l=s.shift();)if(n(l),typeof o[l]>"u"&&(o[l]={}),o=o[l],!o||typeof o!="object")return!1;return o[c]=a,!0}function n(o){if(o==="__proto__"||o==="constructor"||o==="prototype")throw new Error("setting of prototype values not supported")}}),wm=h((e,t)=>{u();var r=xc();t.exports=(n,o={})=>{if(!r(n)&&!Array.isArray(n))throw new TypeError("Expected a plain object or array");let{deep:i}=o,a=[],s=[],c=d=>{let E=a.indexOf(d);if(E!==-1)return s[E];let D=[];return a.push(d),s.push(D),D.push(...d.map(g=>Array.isArray(g)?c(g):r(g)?l(g):g)),D},l=d=>{let E=a.indexOf(d);if(E!==-1)return s[E];let D={},g=Object.keys(d).sort(o.compare);a.push(d),s.push(D);for(let w of g){let f=d[w],k;i&&Array.isArray(f)?k=c(f):k=i&&r(f)?l(f):f,Object.defineProperty(D,w,{...Object.getOwnPropertyDescriptor(d,w),value:k})}return D};return Array.isArray(n)?i?c(n):n.slice():l(n)}}),Or=h((e,t)=>{u();var r=async function*(n,o){for await(let i of n)await o(i)&&(yield i)};t.exports=r}),Dm=h((e,t)=>{u(),t.exports=class{constructor(r){if(!(r>0)||(r-1&r)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(r),this.mask=r-1,this.top=0,this.btm=0,this.next=null}push(r){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=r,this.top=this.top+1&this.mask,!0)}shift(){let r=this.buffer[this.btm];if(r!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,r}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}}),Fi=h((e,t)=>{u();var r=Dm();t.exports=class{constructor(n){this.hwm=n||16,this.head=new r(this.hwm),this.tail=this.head}push(n){if(!this.head.push(n)){let o=this.head;this.head=o.next=new r(2*this.head.buffer.length),this.head.push(n)}}shift(){let n=this.tail.shift();if(n===void 0&&this.tail.next){let o=this.tail.next;return this.tail.next=null,this.tail=o,this.tail.shift()}return n}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}}),Om=h((e,t)=>{u();var r=Fi();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let i=new r,a,s,c,l=()=>{if(!i.isEmpty()){if(n.writev){let O,P=[];for(;!i.isEmpty();){if(O=i.shift(),O.error)throw O.error;P.push(O.value)}return{done:O.done,value:P}}let T=i.shift();if(T.error)throw T.error;return T}return c?{done:!0}:new Promise((T,O)=>{s=P=>(s=null,P.error?O(P.error):n.writev&&!P.done?T({done:P.done,value:[P.value]}):T(P),a)})},d=T=>s?s(T):(i.push(T),a),E=T=>(i=new r,s?s({error:T}):(i.push({error:T}),a)),D=T=>c?a:d({done:!1,value:T}),g=T=>c?a:(c=!0,T?E(T):d({done:!0})),w=()=>(i=new r,g(),{done:!0}),f=T=>(g(T),{done:!0});if(a={[Symbol.asyncIterator](){return this},next:l,return:w,throw:f,push:D,end:g},!o)return a;let k=a;return a={[Symbol.asyncIterator](){return this},next(){return k.next()},throw(T){return k.throw(T),o&&(o(T),o=null),{done:!0}},return(){return k.return(),o&&(o(),o=null),{done:!0}},push:D,end(T){return k.end(T),o&&(o(T),o=null),a}},a}}),On=h((e,t)=>{u();var r=async n=>{for await(let o of n);};t.exports=r}),qm=h((e,t)=>{u();var r=async n=>{for await(let o of n)return o};t.exports=r}),Mi=h((e,t)=>{u();var r=async function*(n,o){for await(let i of n)yield o(i)};t.exports=r}),Rn=h((e,t)=>{u();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:function(F,X,H){return Function.prototype.apply.call(F,X,H)},o;r&&typeof r.ownKeys=="function"?o=r.ownKeys:Object.getOwnPropertySymbols?o=function(F){return Object.getOwnPropertyNames(F).concat(Object.getOwnPropertySymbols(F))}:o=function(F){return Object.getOwnPropertyNames(F)};function i(F){console&&console.warn&&console.warn(F)}var a=Number.isNaN||function(F){return F!==F};function s(){s.init.call(this)}t.exports=s,t.exports.once=P,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(F){if(typeof F!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof F)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(F){if(typeof F!="number"||F<0||a(F))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+F+".");c=F}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(F){if(typeof F!="number"||F<0||a(F))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+F+".");return this._maxListeners=F,this};function d(F){return F._maxListeners===void 0?s.defaultMaxListeners:F._maxListeners}s.prototype.getMaxListeners=function(){return d(this)},s.prototype.emit=function(F){for(var X=[],H=1;H<arguments.length;H++)X.push(arguments[H]);var ee=F==="error",pe=this._events;if(pe!==void 0)ee=ee&&pe.error===void 0;else if(!ee)return!1;if(ee){var ye;if(X.length>0&&(ye=X[0]),ye instanceof Error)throw ye;var _e=new Error("Unhandled error."+(ye?" ("+ye.message+")":""));throw _e.context=ye,_e}var Re=pe[F];if(Re===void 0)return!1;if(typeof Re=="function")n(Re,this,X);else for(var Pe=Re.length,Qe=k(Re,Pe),H=0;H<Pe;++H)n(Qe[H],this,X);return!0};function E(F,X,H,ee){var pe,ye,_e;if(l(H),ye=F._events,ye===void 0?(ye=F._events=Object.create(null),F._eventsCount=0):(ye.newListener!==void 0&&(F.emit("newListener",X,H.listener?H.listener:H),ye=F._events),_e=ye[X]),_e===void 0)_e=ye[X]=H,++F._eventsCount;else if(typeof _e=="function"?_e=ye[X]=ee?[H,_e]:[_e,H]:ee?_e.unshift(H):_e.push(H),pe=d(F),pe>0&&_e.length>pe&&!_e.warned){_e.warned=!0;var Re=new Error("Possible EventEmitter memory leak detected. "+_e.length+" "+String(X)+" listeners added. Use emitter.setMaxListeners() to increase limit");Re.name="MaxListenersExceededWarning",Re.emitter=F,Re.type=X,Re.count=_e.length,i(Re)}return F}s.prototype.addListener=function(F,X){return E(this,F,X,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(F,X){return E(this,F,X,!0)};function D(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(F,X,H){var ee={fired:!1,wrapFn:void 0,target:F,type:X,listener:H},pe=D.bind(ee);return pe.listener=H,ee.wrapFn=pe,pe}s.prototype.once=function(F,X){return l(X),this.on(F,g(this,F,X)),this},s.prototype.prependOnceListener=function(F,X){return l(X),this.prependListener(F,g(this,F,X)),this},s.prototype.removeListener=function(F,X){var H,ee,pe,ye,_e;if(l(X),ee=this._events,ee===void 0)return this;if(H=ee[F],H===void 0)return this;if(H===X||H.listener===X)--this._eventsCount===0?this._events=Object.create(null):(delete ee[F],ee.removeListener&&this.emit("removeListener",F,H.listener||X));else if(typeof H!="function"){for(pe=-1,ye=H.length-1;ye>=0;ye--)if(H[ye]===X||H[ye].listener===X){_e=H[ye].listener,pe=ye;break}if(pe<0)return this;pe===0?H.shift():T(H,pe),H.length===1&&(ee[F]=H[0]),ee.removeListener!==void 0&&this.emit("removeListener",F,_e||X)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(F){var X,H,ee;if(H=this._events,H===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[F]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete H[F]),this;if(arguments.length===0){var pe=Object.keys(H),ye;for(ee=0;ee<pe.length;++ee)ye=pe[ee],ye!=="removeListener"&&this.removeAllListeners(ye);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(X=H[F],typeof X=="function")this.removeListener(F,X);else if(X!==void 0)for(ee=X.length-1;ee>=0;ee--)this.removeListener(F,X[ee]);return this};function w(F,X,H){var ee=F._events;if(ee===void 0)return[];var pe=ee[X];return pe===void 0?[]:typeof pe=="function"?H?[pe.listener||pe]:[pe]:H?O(pe):k(pe,pe.length)}s.prototype.listeners=function(F){return w(this,F,!0)},s.prototype.rawListeners=function(F){return w(this,F,!1)},s.listenerCount=function(F,X){return typeof F.listenerCount=="function"?F.listenerCount(X):f.call(F,X)},s.prototype.listenerCount=f;function f(F){var X=this._events;if(X!==void 0){var H=X[F];if(typeof H=="function")return 1;if(H!==void 0)return H.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function k(F,X){for(var H=new Array(X),ee=0;ee<X;++ee)H[ee]=F[ee];return H}function T(F,X){for(;X+1<F.length;X++)F[X]=F[X+1];F.pop()}function O(F){for(var X=new Array(F.length),H=0;H<X.length;++H)X[H]=F[H].listener||F[H];return X}function P(F,X){return new Promise(function(H,ee){function pe(_e){F.removeListener(X,ye),ee(_e)}function ye(){typeof F.removeListener=="function"&&F.removeListener("error",pe),H([].slice.call(arguments))}J(F,X,ye,{once:!0}),X!=="error"&&R(F,pe,{once:!0})})}function R(F,X,H){typeof F.on=="function"&&J(F,"error",X,H)}function J(F,X,H,ee){if(typeof F.on=="function")ee.once?F.once(X,H):F.on(X,H);else if(typeof F.addEventListener=="function")F.addEventListener(X,function pe(ye){ee.once&&F.removeEventListener(X,pe),H(ye)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof F)}}),Vc=h((e,t)=>{u(),t.exports={WORKER_REQUEST_READ_LOCK:"lock:worker:request-read",WORKER_RELEASE_READ_LOCK:"lock:worker:release-read",MASTER_GRANT_READ_LOCK:"lock:master:grant-read",WORKER_REQUEST_WRITE_LOCK:"lock:worker:request-write",WORKER_RELEASE_WRITE_LOCK:"lock:worker:release-write",MASTER_GRANT_WRITE_LOCK:"lock:master:grant-write"}}),aw=h(()=>{u()}),mw=h((e,t)=>{u();var r=Rn().EventEmitter,{nanoid:n}=(xo(),ue(tu)),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:i,MASTER_GRANT_READ_LOCK:a,WORKER_REQUEST_WRITE_LOCK:s,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:l}=Vc(),d,E=(g,w,f,k,T)=>(O,P)=>{P&&P.type===f&&g.emit(w,P.name,()=>(O.send({type:T,name:P.name,identifier:P.identifier}),new Promise(R=>{let J=F=>{F&&F.type===k&&F.identifier===P.identifier&&(O.removeListener("message",J),R())};O.on("message",J)})))},D=(g,w,f,k)=>()=>{let T=n();return process$1.send({type:w,identifier:T,name:g}),new Promise(O=>{let P=R=>{R&&R.type===f&&R.identifier===T&&(process$1.removeListener("message",P),O(()=>{process$1.send({type:k,identifier:T,name:g})}))};process$1.on("message",P)})};t.exports=g=>{try{if(d=aw(),!Object.keys(d).length)return}catch{return}if(d.isMaster||g.singleProcess){let w=new r;return d.on("message",E(w,"requestReadLock",o,i,a)),d.on("message",E(w,"requestWriteLock",s,c,l)),w}return{isWorker:!0,readLock:w=>D(w,o,a,i),writeLock:w=>D(w,s,l,c)}}}),Gc=h((e,t)=>{u();var r={},n=o=>{o.addEventListener("message",i=>{n.dispatchEvent("message",o,i)}),o.port&&o.port.addEventListener("message",i=>{n.dispatchEvent("message",o,i)})};n.addEventListener=(o,i)=>{r[o]||(r[o]=[]),r[o].push(i)},n.removeEventListener=(o,i)=>{!r[o]||(r[o]=r[o].filter(a=>a===i))},n.dispatchEvent=function(){let o=Array.prototype.slice.call(arguments),i=o.shift();!r[i]||r[i].forEach(a=>a.apply(null,o))},t.exports=n}),Tw=h((e,t)=>{u();var r=Rn().EventEmitter,{nanoid:n}=(xo(),ue(tu)),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:i,MASTER_GRANT_READ_LOCK:a,WORKER_REQUEST_WRITE_LOCK:s,WORKER_RELEASE_WRITE_LOCK:c,MASTER_GRANT_WRITE_LOCK:l}=Vc(),d=Gc(),E=(w,f,k,T,O)=>(P,R)=>{if(!R||!R.data||R.data.type!==k)return;let J={type:R.data.type,name:R.data.name,identifier:R.data.identifier};w.emit(f,J.name,()=>(P.postMessage({type:O,name:J.name,identifier:J.identifier}),new Promise(F=>{let X=H=>{if(!H||!H.data)return;let ee={type:H.data.type,name:H.data.name,identifier:H.data.identifier};ee&&ee.type===T&&ee.identifier===J.identifier&&(P.removeEventListener("message",X),F())};P.addEventListener("message",X)})))},D=(w,f,k,T)=>()=>{let O=n();return globalThis.postMessage({type:f,identifier:O,name:w}),new Promise(P=>{let R=J=>{if(!J||!J.data)return;let F={type:J.data.type,identifier:J.data.identifier};F&&F.type===k&&F.identifier===O&&(globalThis.removeEventListener("message",R),P(()=>{globalThis.postMessage({type:T,identifier:O,name:w})}))};globalThis.addEventListener("message",R)})},g={singleProcess:!1};t.exports=w=>{if(w=Object.assign({},g,w),!!globalThis.document||w.singleProcess){let f=new r;return d.addEventListener("message",E(f,"requestReadLock",o,i,a)),d.addEventListener("message",E(f,"requestWriteLock",s,c,l)),f}return{isWorker:!0,readLock:f=>D(f,o,a,i),writeLock:f=>D(f,s,l,c)}}}),Iw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,o){let i=0,a=r.length;for(;a>0;){let s=a/2|0,c=i+s;o(r[c],n)<=0?(i=++c,a-=s+1):a=s}return i}e.default=t}),Rw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Iw(),r=class{constructor(){this._queue=[]}enqueue(n,o){o=Object.assign({priority:0},o);let i={priority:o.priority,run:n};if(this.size&&this._queue[this.size-1].priority>=o.priority){this._queue.push(i);return}let a=t.default(this._queue,i,(s,c)=>c.priority-s.priority);this._queue.splice(a,0,i)}dequeue(){let n=this._queue.shift();return n==null?void 0:n.run}filter(n){return this._queue.filter(o=>o.priority===n.priority).map(o=>o.run)}get size(){return this._queue.length}};e.default=r}),Pw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Cc(),r=Oc(),n=Rw(),o=()=>{},i=new r.TimeoutError,a=class extends t{constructor(s){var c,l,d,E;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,s=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},s),!(typeof s.intervalCap=="number"&&s.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(l=(c=s.intervalCap)===null||c===void 0?void 0:c.toString())!==null&&l!==void 0?l:""}\` (${typeof s.intervalCap})`);if(s.interval===void 0||!(Number.isFinite(s.interval)&&s.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(E=(d=s.interval)===null||d===void 0?void 0:d.toString())!==null&&E!==void 0?E:""}\` (${typeof s.interval})`);this._carryoverConcurrencyCount=s.carryoverConcurrencyCount,this._isIntervalIgnored=s.intervalCap===1/0||s.interval===0,this._intervalCap=s.intervalCap,this._interval=s.interval,this._queue=new s.queueClass,this._queueClass=s.queueClass,this.concurrency=s.concurrency,this._timeout=s.timeout,this._throwOnTimeout=s.throwOnTimeout===!0,this._isPaused=s.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let s=Date.now();if(this._intervalId===void 0){let c=this._intervalEnd-s;if(c<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},c)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let s=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let c=this._queue.dequeue();return c?(this.emit("active"),c(),s&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(s){if(!(typeof s=="number"&&s>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${s}\` (${typeof s})`);this._concurrency=s,this._processQueue()}async add(s,c={}){return new Promise((l,d)=>{let E=async()=>{this._pendingCount++,this._intervalCount++;try{let D=this._timeout===void 0&&c.timeout===void 0?s():r.default(Promise.resolve(s()),c.timeout===void 0?this._timeout:c.timeout,()=>{(c.throwOnTimeout===void 0?this._throwOnTimeout:c.throwOnTimeout)&&d(i)});l(await D)}catch(D){d(D)}this._next()};this._queue.enqueue(E,c),this._tryToStartAnother(),this.emit("add")})}async addAll(s,c){return Promise.all(s.map(async l=>this.add(l,c)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(s=>{let c=this._resolveEmpty;this._resolveEmpty=()=>{c(),s()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(s=>{let c=this._resolveIdle;this._resolveIdle=()=>{c(),s()}})}get size(){return this._queue.size}sizeBy(s){return this._queue.filter(s).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(s){this._timeout=s}};e.default=a}),kw=h((e,t)=>{u();var r;t.exports.timeout=function(n,o){var i=new r,a;return Promise.race([n,new Promise(function(s,c){a=setTimeout(function(){c(i)},o)})]).then(function(s){return clearTimeout(a),s},function(s){throw clearTimeout(a),s})},r=t.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"},r.prototype=Object.create(Error.prototype),r.prototype.name="TimeoutError"}),Nw=h((e,t)=>{u();var r=mw(),n=Tw(),{default:o}=Pw(),{timeout:i}=kw(),a=Gc(),s={},c;function l(D,g){let w,f=new Promise(k=>{w=k});return D.add(()=>i((()=>new Promise(k=>{w(()=>{k()})}))(),g.timeout)),f}var d=(D,g)=>{if(c.isWorker)return{readLock:c.readLock(D,g),writeLock:c.writeLock(D,g)};let w=new o({concurrency:1}),f=null;return{readLock:()=>{if(f)return l(f,g);f=new o({concurrency:g.concurrency,autoStart:!1});let k=f,T=l(f,g);return w.add(()=>(k.start(),k.onIdle().then(()=>{f===k&&(f=null)}))),T},writeLock:()=>(f=null,l(w,g))}},E={concurrency:1/0,timeout:846e5,global:global$1,singleProcess:!1};t.exports=(D,g)=>(g||(g={}),typeof D=="object"&&(g=D,D="lock"),D||(D="lock"),g=Object.assign({},E,g),c||(c=r(g)||n(g),c.isWorker||(c.on("requestReadLock",(w,f)=>{!s[w]||s[w].readLock().then(k=>f().finally(()=>k()))}),c.on("requestWriteLock",async(w,f)=>{!s[w]||s[w].writeLock().then(k=>f().finally(()=>k()))}))),s[D]||(s[D]=d(D,g)),s[D]),t.exports.Worker=function(D,g){g=g||global$1.Worker;let w;try{w=new g(D)}catch(f){f.message.includes("not a constructor")&&(w=g(D))}if(!w)throw new Error("Could not create Worker from",g);return a(w),w}}),Mw=h((e,t)=>{u();async function*r(n,o=1){let i=[];o<1&&(o=1);for await(let a of n)for(i.push(a);i.length>=o;)yield i.slice(0,o),i=i.slice(o);for(;i.length;)yield i.slice(0,o),i=i.slice(o)}t.exports=r}),qw=h((e,t)=>{u();var r=Mw();async function*n(o,i=1){for await(let a of r(o,i)){let s=a.map(c=>c().then(l=>({ok:!0,value:l}),l=>({ok:!1,err:l})));for(let c=0;c<s.length;c++){let l=await s[c];if(l.ok)yield l.value;else throw l.err}}}t.exports=n}),Kw=h((e,t)=>{u();var r=(...s)=>{let c;for(;s.length;)c=s.shift()(c);return c},n=s=>s&&(typeof s[Symbol.asyncIterator]=="function"||typeof s[Symbol.iterator]=="function"||typeof s.next=="function"),o=s=>s&&typeof s.sink=="function"&&n(s.source),i=s=>c=>(s.sink(c),s.source),a=(...s)=>{if(o(s[0])){let c=s[0];s[0]=()=>c.source}else if(n(s[0])){let c=s[0];s[0]=()=>c}if(s.length>1&&o(s[s.length-1])&&(s[s.length-1]=s[s.length-1].sink),s.length>2)for(let c=1;c<s.length-1;c++)o(s[c])&&(s[c]=i(s[c]));return r(...s)};t.exports=a,t.exports.pipe=a,t.exports.rawPipe=r,t.exports.isIterable=n,t.exports.isDuplex=o}),Ww=h((e,t)=>{u();var r=Fi();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let i=new r,a,s,c,l=()=>{if(!i.isEmpty()){if(n.writev){let O,P=[];for(;!i.isEmpty();){if(O=i.shift(),O.error)throw O.error;P.push(O.value)}return{done:O.done,value:P}}let T=i.shift();if(T.error)throw T.error;return T}return c?{done:!0}:new Promise((T,O)=>{s=P=>(s=null,P.error?O(P.error):n.writev&&!P.done?T({done:P.done,value:[P.value]}):T(P),a)})},d=T=>s?s(T):(i.push(T),a),E=T=>(i=new r,s?s({error:T}):(i.push({error:T}),a)),D=T=>c?a:d({done:!1,value:T}),g=T=>c?a:(c=!0,T?E(T):d({done:!0})),w=()=>(i=new r,g(),{done:!0}),f=T=>(g(T),{done:!0});if(a={[Symbol.asyncIterator](){return this},next:l,return:w,throw:f,push:D,end:g},!o)return a;let k=a;return a={[Symbol.asyncIterator](){return this},next(){return k.next()},throw(T){return k.throw(T),o&&(o(T),o=null),{done:!0}},return(){return k.return(),o&&(o(),o=null),{done:!0}},push:D,end(T){return k.end(T),o&&(o(T),o=null),a}},a}}),of=h((e,t)=>{u();var r=Ww(),n=async function*(...o){let i=r();setTimeout(async()=>{try{await Promise.all(o.map(async a=>{for await(let s of a)i.push(s)})),i.end()}catch(a){i.end(a)}},0),yield*i};t.exports=n}),Is=h((e,t)=>{u();var r=async n=>{let o=[];for await(let i of n)o.push(i);return o};t.exports=r}),Ui=h((e,t)=>{u();var r=async function*(n,o){let i=0;if(!(o<1)){for await(let a of n)if(yield a,i++,i===o)return}};t.exports=r}),fb=h((e,t)=>{u();var r=(...s)=>{let c;for(;s.length;)c=s.shift()(c);return c},n=s=>s&&(typeof s[Symbol.asyncIterator]=="function"||typeof s[Symbol.iterator]=="function"||typeof s.next=="function"),o=s=>s&&typeof s.sink=="function"&&n(s.source),i=s=>c=>(s.sink(c),s.source),a=(...s)=>{if(o(s[0])){let c=s[0];s[0]=()=>c.source}else if(n(s[0])){let c=s[0];s[0]=()=>c}if(s.length>1&&o(s[s.length-1])&&(s[s.length-1]=s[s.length-1].sink),s.length>2)for(let c=1;c<s.length-1;c++)o(s[c])&&(s[c]=i(s[c]));return r(...s)};t.exports=a,t.exports.pipe=a,t.exports.rawPipe=r,t.exports.isIterable=n,t.exports.isDuplex=o}),pb=h((e,t)=>{u();var r=Fi();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let i=new r,a,s,c,l=()=>{if(!i.isEmpty()){if(n.writev){let O,P=[];for(;!i.isEmpty();){if(O=i.shift(),O.error)throw O.error;P.push(O.value)}return{done:O.done,value:P}}let T=i.shift();if(T.error)throw T.error;return T}return c?{done:!0}:new Promise((T,O)=>{s=P=>(s=null,P.error?O(P.error):n.writev&&!P.done?T({done:P.done,value:[P.value]}):T(P),a)})},d=T=>s?s(T):(i.push(T),a),E=T=>(i=new r,s?s({error:T}):(i.push({error:T}),a)),D=T=>c?a:d({done:!1,value:T}),g=T=>c?a:(c=!0,T?E(T):d({done:!0})),w=()=>(i=new r,g(),{done:!0}),f=T=>(g(T),{done:!0});if(a={[Symbol.asyncIterator](){return this},next:l,return:w,throw:f,push:D,end:g},!o)return a;let k=a;return a={[Symbol.asyncIterator](){return this},next(){return k.next()},throw(T){return k.throw(T),o&&(o(T),o=null),{done:!0}},return(){return k.return(),o&&(o(),o=null),{done:!0}},push:D,end(T){return k.end(T),o&&(o(T),o=null),a}},a}}),gb=h((e,t)=>{u();var r=Is(),n=async function*(o,i){yield*(await r(o)).sort(i)};t.exports=n}),hf=h((e,t)=>{u(),t.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var i=42;r[n]=i;for(n in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var a=Object.getOwnPropertySymbols(r);if(a.length!==1||a[0]!==n||!Object.prototype.propertyIsEnumerable.call(r,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(r,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0}}),$i=h((e,t)=>{u();var r=hf();t.exports=function(){return r()&&!!Symbol.toStringTag}}),Eb=h((e,t)=>{u();var r=typeof Symbol<"u"&&Symbol,n=hf();t.exports=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:n()}}),xb=h((e,t)=>{u();var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,o=Object.prototype.toString,i="[object Function]";t.exports=function(a){var s=this;if(typeof s!="function"||o.call(s)!==i)throw new TypeError(r+s);for(var c=n.call(arguments,1),l,d=function(){if(this instanceof l){var f=s.apply(this,c.concat(n.call(arguments)));return Object(f)===f?f:this}else return s.apply(a,c.concat(n.call(arguments)))},E=Math.max(0,s.length-c.length),D=[],g=0;g<E;g++)D.push("$"+g);if(l=Function("binder","return function ("+D.join(",")+"){ return binder.apply(this,arguments); }")(d),s.prototype){var w=function(){};w.prototype=s.prototype,l.prototype=new w,w.prototype=null}return l}}),Ps=h((e,t)=>{u();var r=xb();t.exports=Function.prototype.bind||r}),Sb=h((e,t)=>{u();var r=Ps();t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)}),Ns=h((e,t)=>{u();var r,n=SyntaxError,o=Function,i=TypeError,a=function(_e){try{return o('"use strict"; return ('+_e+").constructor;")()}catch{}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch{s=null}var c=function(){throw new i},l=s?function(){try{return arguments.callee,c}catch{try{return s(arguments,"callee").get}catch{return c}}}():c,d=Eb()(),E=Object.getPrototypeOf||function(_e){return _e.__proto__},D={},g=typeof Uint8Array>"u"?r:E(Uint8Array),w={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?E([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":D,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?E(E([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!d?r:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!d?r:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?E(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":l,"%TypedArray%":g,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet},f=function _e(Re){var Pe;if(Re==="%AsyncFunction%")Pe=a("async function () {}");else if(Re==="%GeneratorFunction%")Pe=a("function* () {}");else if(Re==="%AsyncGeneratorFunction%")Pe=a("async function* () {}");else if(Re==="%AsyncGenerator%"){var Qe=_e("%AsyncGeneratorFunction%");Qe&&(Pe=Qe.prototype)}else if(Re==="%AsyncIteratorPrototype%"){var tt=_e("%AsyncGenerator%");tt&&(Pe=E(tt.prototype))}return w[Re]=Pe,Pe},k={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=Ps(),O=Sb(),P=T.call(Function.call,Array.prototype.concat),R=T.call(Function.apply,Array.prototype.splice),J=T.call(Function.call,String.prototype.replace),F=T.call(Function.call,String.prototype.slice),X=T.call(Function.call,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ee=/\\(\\)?/g,pe=function(_e){var Re=F(_e,0,1),Pe=F(_e,-1);if(Re==="%"&&Pe!=="%")throw new n("invalid intrinsic syntax, expected closing `%`");if(Pe==="%"&&Re!=="%")throw new n("invalid intrinsic syntax, expected opening `%`");var Qe=[];return J(_e,H,function(tt,ut,et,it){Qe[Qe.length]=et?J(it,ee,"$1"):ut||tt}),Qe},ye=function(_e,Re){var Pe=_e,Qe;if(O(k,Pe)&&(Qe=k[Pe],Pe="%"+Qe[0]+"%"),O(w,Pe)){var tt=w[Pe];if(tt===D&&(tt=f(Pe)),typeof tt>"u"&&!Re)throw new i("intrinsic "+_e+" exists, but is not available. Please file an issue!");return{alias:Qe,name:Pe,value:tt}}throw new n("intrinsic "+_e+" does not exist!")};t.exports=function(_e,Re){if(typeof _e!="string"||_e.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Re!="boolean")throw new i('"allowMissing" argument must be a boolean');if(X(/^%?[^%]*%?$/g,_e)===null)throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Pe=pe(_e),Qe=Pe.length>0?Pe[0]:"",tt=ye("%"+Qe+"%",Re),ut=tt.name,et=tt.value,it=!1,lt=tt.alias;lt&&(Qe=lt[0],R(Pe,P([0,1],lt)));for(var Ke=1,re=!0;Ke<Pe.length;Ke+=1){var le=Pe[Ke],me=F(le,0,1),Be=F(le,-1);if((me==='"'||me==="'"||me==="`"||Be==='"'||Be==="'"||Be==="`")&&me!==Be)throw new n("property names with quotes must have matching quotes");if((le==="constructor"||!re)&&(it=!0),Qe+="."+le,ut="%"+Qe+"%",O(w,ut))et=w[ut];else if(et!=null){if(!(le in et)){if(!Re)throw new i("base intrinsic for "+_e+" exists, but the property is not available.");return}if(s&&Ke+1>=Pe.length){var ze=s(et,le);re=!!ze,re&&"get"in ze&&!("originalValue"in ze.get)?et=ze.get:et=et[le]}else re=O(et,le),et=et[le];re&&!it&&(w[ut]=et)}}return et}}),Nb=h((e,t)=>{u();var r=Ps(),n=Ns(),o=n("%Function.prototype.apply%"),i=n("%Function.prototype.call%"),a=n("%Reflect.apply%",!0)||r.call(i,o),s=n("%Object.getOwnPropertyDescriptor%",!0),c=n("%Object.defineProperty%",!0),l=n("%Math.max%");if(c)try{c({},"a",{value:1})}catch{c=null}t.exports=function(E){var D=a(r,i,arguments);if(s&&c){var g=s(D,"length");g.configurable&&c(D,"length",{value:1+l(0,E.length-(arguments.length-1))})}return D};var d=function(){return a(r,o,arguments)};c?c(t.exports,"apply",{value:d}):t.exports.apply=d}),Ms=h((e,t)=>{u();var r=Ns(),n=Nb(),o=n(r("String.prototype.indexOf"));t.exports=function(i,a){var s=r(i,!!a);return typeof s=="function"&&o(i,".prototype.")>-1?n(s):s}}),$b=h((e,t)=>{u();var r=$i()(),n=Ms(),o=n("Object.prototype.toString"),i=function(c){return r&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:o(c)==="[object Arguments]"},a=function(c){return i(c)?!0:c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&o(c)!=="[object Array]"&&o(c.callee)==="[object Function]"},s=function(){return i(arguments)}();i.isLegacyArguments=a,t.exports=s?i:a}),Wb=h((e,t)=>{u();var r=Object.prototype.toString,n=Function.prototype.toString,o=/^\s*(?:function)?\*/,i=$i()(),a=Object.getPrototypeOf,s=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch{}},c;t.exports=function(l){if(typeof l!="function")return!1;if(o.test(n.call(l)))return!0;if(!i){var d=r.call(l);return d==="[object GeneratorFunction]"}if(!a)return!1;if(typeof c>"u"){var E=s();c=E?a(E):!1}return a(l)===c}}),Jb=h((e,t)=>{u();var r=Function.prototype.toString,n=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,o,i;if(typeof n=="function"&&typeof Object.defineProperty=="function")try{o=Object.defineProperty({},"length",{get:function(){throw i}}),i={},n(function(){throw 42},null,o)}catch(w){w!==i&&(n=null)}else n=null;var a=/^\s*class\b/,s=function(w){try{var f=r.call(w);return a.test(f)}catch{return!1}},c=function(w){try{return s(w)?!1:(r.call(w),!0)}catch{return!1}},l=Object.prototype.toString,d="[object Function]",E="[object GeneratorFunction]",D=typeof Symbol=="function"&&!!Symbol.toStringTag,g=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{};t.exports=n?function(w){if(w===g)return!0;if(!w||typeof w!="function"&&typeof w!="object")return!1;if(typeof w=="function"&&!w.prototype)return!0;try{n(w,null,o)}catch(f){if(f!==i)return!1}return!s(w)}:function(w){if(w===g)return!0;if(!w||typeof w!="function"&&typeof w!="object")return!1;if(typeof w=="function"&&!w.prototype)return!0;if(D)return c(w);if(s(w))return!1;var f=l.call(w);return f===d||f===E}}),Df=h((e,t)=>{u();var r=Jb(),n=Object.prototype.toString,o=Object.prototype.hasOwnProperty,i=function(l,d,E){for(var D=0,g=l.length;D<g;D++)o.call(l,D)&&(E==null?d(l[D],D,l):d.call(E,l[D],D,l))},a=function(l,d,E){for(var D=0,g=l.length;D<g;D++)E==null?d(l.charAt(D),D,l):d.call(E,l.charAt(D),D,l)},s=function(l,d,E){for(var D in l)o.call(l,D)&&(E==null?d(l[D],D,l):d.call(E,l[D],D,l))},c=function(l,d,E){if(!r(d))throw new TypeError("iterator must be a function");var D;arguments.length>=3&&(D=E),n.call(l)==="[object Array]"?i(l,d,D):typeof l=="string"?a(l,d,D):s(l,d,D)};t.exports=c}),Sf=h((e,t)=>{u();var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n=typeof globalThis>"u"?global$1:globalThis;t.exports=function(){for(var o=[],i=0;i<r.length;i++)typeof n[r[i]]=="function"&&(o[o.length]=r[i]);return o}}),Cf=h((e,t)=>{u();var r=Ns(),n=r("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch{n=null}t.exports=n}),If=h((e,t)=>{u();var r=Df(),n=Sf(),o=Ms(),i=o("Object.prototype.toString"),a=$i()(),s=typeof globalThis>"u"?global$1:globalThis,c=n(),l=o("Array.prototype.indexOf",!0)||function(f,k){for(var T=0;T<f.length;T+=1)if(f[T]===k)return T;return-1},d=o("String.prototype.slice"),E={},D=Cf(),g=Object.getPrototypeOf;a&&D&&g&&r(c,function(f){var k=new s[f];if(Symbol.toStringTag in k){var T=g(k),O=D(T,Symbol.toStringTag);if(!O){var P=g(T);O=D(P,Symbol.toStringTag)}E[f]=O.get}});var w=function(f){var k=!1;return r(E,function(T,O){if(!k)try{k=T.call(f)===O}catch{}}),k};t.exports=function(f){if(!f||typeof f!="object")return!1;if(!a||!(Symbol.toStringTag in f)){var k=d(i(f),8,-1);return l(c,k)>-1}return D?w(f):!1}}),l0=h((e,t)=>{u();var r=Df(),n=Sf(),o=Ms(),i=o("Object.prototype.toString"),a=$i()(),s=typeof globalThis>"u"?global$1:globalThis,c=n(),l=o("String.prototype.slice"),d={},E=Cf(),D=Object.getPrototypeOf;a&&E&&D&&r(c,function(f){if(typeof s[f]=="function"){var k=new s[f];if(Symbol.toStringTag in k){var T=D(k),O=E(T,Symbol.toStringTag);if(!O){var P=D(T);O=E(P,Symbol.toStringTag)}d[f]=O.get}}});var g=function(f){var k=!1;return r(d,function(T,O){if(!k)try{var P=T.call(f);P===O&&(k=P)}catch{}}),k},w=If();t.exports=function(f){return w(f)?!a||!(Symbol.toStringTag in f)?l(i(f),8,-1):g(f):!1}}),A0=h(e=>{u();var t=$b(),r=Wb(),n=l0(),o=If();function i(ce){return ce.call.bind(ce)}var a=typeof BigInt<"u",s=typeof Symbol<"u",c=i(Object.prototype.toString),l=i(Number.prototype.valueOf),d=i(String.prototype.valueOf),E=i(Boolean.prototype.valueOf);a&&(D=i(BigInt.prototype.valueOf));var D;s&&(g=i(Symbol.prototype.valueOf));var g;function w(ce,_t){if(typeof ce!="object")return!1;try{return _t(ce),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=o;function f(ce){return typeof Promise<"u"&&ce instanceof Promise||ce!==null&&typeof ce=="object"&&typeof ce.then=="function"&&typeof ce.catch=="function"}e.isPromise=f;function k(ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ce):o(ce)||le(ce)}e.isArrayBufferView=k;function T(ce){return n(ce)==="Uint8Array"}e.isUint8Array=T;function O(ce){return n(ce)==="Uint8ClampedArray"}e.isUint8ClampedArray=O;function P(ce){return n(ce)==="Uint16Array"}e.isUint16Array=P;function R(ce){return n(ce)==="Uint32Array"}e.isUint32Array=R;function J(ce){return n(ce)==="Int8Array"}e.isInt8Array=J;function F(ce){return n(ce)==="Int16Array"}e.isInt16Array=F;function X(ce){return n(ce)==="Int32Array"}e.isInt32Array=X;function H(ce){return n(ce)==="Float32Array"}e.isFloat32Array=H;function ee(ce){return n(ce)==="Float64Array"}e.isFloat64Array=ee;function pe(ce){return n(ce)==="BigInt64Array"}e.isBigInt64Array=pe;function ye(ce){return n(ce)==="BigUint64Array"}e.isBigUint64Array=ye;function _e(ce){return c(ce)==="[object Map]"}_e.working=typeof Map<"u"&&_e(new Map);function Re(ce){return typeof Map>"u"?!1:_e.working?_e(ce):ce instanceof Map}e.isMap=Re;function Pe(ce){return c(ce)==="[object Set]"}Pe.working=typeof Set<"u"&&Pe(new Set);function Qe(ce){return typeof Set>"u"?!1:Pe.working?Pe(ce):ce instanceof Set}e.isSet=Qe;function tt(ce){return c(ce)==="[object WeakMap]"}tt.working=typeof WeakMap<"u"&&tt(new WeakMap);function ut(ce){return typeof WeakMap>"u"?!1:tt.working?tt(ce):ce instanceof WeakMap}e.isWeakMap=ut;function et(ce){return c(ce)==="[object WeakSet]"}et.working=typeof WeakSet<"u"&&et(new WeakSet);function it(ce){return et(ce)}e.isWeakSet=it;function lt(ce){return c(ce)==="[object ArrayBuffer]"}lt.working=typeof ArrayBuffer<"u"&&lt(new ArrayBuffer);function Ke(ce){return typeof ArrayBuffer>"u"?!1:lt.working?lt(ce):ce instanceof ArrayBuffer}e.isArrayBuffer=Ke;function re(ce){return c(ce)==="[object DataView]"}re.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&re(new DataView(new ArrayBuffer(1),0,1));function le(ce){return typeof DataView>"u"?!1:re.working?re(ce):ce instanceof DataView}e.isDataView=le;var me=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Be(ce){return c(ce)==="[object SharedArrayBuffer]"}function ze(ce){return typeof me>"u"?!1:(typeof Be.working>"u"&&(Be.working=Be(new me)),Be.working?Be(ce):ce instanceof me)}e.isSharedArrayBuffer=ze;function Ue(ce){return c(ce)==="[object AsyncFunction]"}e.isAsyncFunction=Ue;function Z(ce){return c(ce)==="[object Map Iterator]"}e.isMapIterator=Z;function ae(ce){return c(ce)==="[object Set Iterator]"}e.isSetIterator=ae;function he(ce){return c(ce)==="[object Generator]"}e.isGeneratorObject=he;function Ie(ce){return c(ce)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=Ie;function je(ce){return w(ce,l)}e.isNumberObject=je;function L(ce){return w(ce,d)}e.isStringObject=L;function q(ce){return w(ce,E)}e.isBooleanObject=q;function we(ce){return a&&w(ce,D)}e.isBigIntObject=we;function $e(ce){return s&&w(ce,g)}e.isSymbolObject=$e;function Ze(ce){return je(ce)||L(ce)||q(ce)||we(ce)||$e(ce)}e.isBoxedPrimitive=Ze;function Le(ce){return typeof Uint8Array<"u"&&(Ke(ce)||ze(ce))}e.isAnyArrayBuffer=Le,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ce){Object.defineProperty(e,ce,{enumerable:!1,value:function(){throw new Error(ce+" is not supported in userland")}})})}),C0=h((e,t)=>{u(),t.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}}),Te=h((e,t)=>{u(),typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var o=function(){};o.prototype=n.prototype,r.prototype=new o,r.prototype.constructor=r}}}),P0=h(e=>{u();var t=Object.getOwnPropertyDescriptors||function(re){for(var le=Object.keys(re),me={},Be=0;Be<le.length;Be++)me[le[Be]]=Object.getOwnPropertyDescriptor(re,le[Be]);return me},r=/%[sdj%]/g;e.format=function(re){if(!J(re)){for(var le=[],me=0;me<arguments.length;me++)le.push(a(arguments[me]));return le.join(" ")}for(var me=1,Be=arguments,ze=Be.length,Ue=String(re).replace(r,function(he){if(he==="%%")return"%";if(me>=ze)return he;switch(he){case"%s":return String(Be[me++]);case"%d":return Number(Be[me++]);case"%j":try{return JSON.stringify(Be[me++])}catch{return"[Circular]"}default:return he}}),Z=Be[me];me<ze;Z=Be[++me])O(Z)||!ee(Z)?Ue+=" "+Z:Ue+=" "+a(Z);return Ue},e.deprecate=function(re,le){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return re;if(typeof process$1>"u")return function(){return e.deprecate(re,le).apply(this,arguments)};var me=!1;function Be(){if(!me){if(process$1.throwDeprecation)throw new Error(le);process$1.traceDeprecation?console.trace(le):console.error(le),me=!0}return re.apply(this,arguments)}return Be};var n={},o=/^$/;process$1.env.NODE_DEBUG&&(i=process$1.env.NODE_DEBUG,i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+i+"$","i"));var i;e.debuglog=function(re){if(re=re.toUpperCase(),!n[re])if(o.test(re)){var le=process$1.pid;n[re]=function(){var me=e.format.apply(e,arguments);console.error("%s %d: %s",re,le,me)}}else n[re]=function(){};return n[re]};function a(re,le){var me={seen:[],stylize:c};return arguments.length>=3&&(me.depth=arguments[2]),arguments.length>=4&&(me.colors=arguments[3]),T(le)?me.showHidden=le:le&&e._extend(me,le),X(me.showHidden)&&(me.showHidden=!1),X(me.depth)&&(me.depth=2),X(me.colors)&&(me.colors=!1),X(me.customInspect)&&(me.customInspect=!0),me.colors&&(me.stylize=s),d(me,re,me.depth)}e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(re,le){var me=a.styles[le];return me?"\x1B["+a.colors[me][0]+"m"+re+"\x1B["+a.colors[me][1]+"m":re}function c(re,le){return re}function l(re){var le={};return re.forEach(function(me,Be){le[me]=!0}),le}function d(re,le,me){if(re.customInspect&&le&&_e(le.inspect)&&le.inspect!==e.inspect&&!(le.constructor&&le.constructor.prototype===le)){var Be=le.inspect(me,re);return J(Be)||(Be=d(re,Be,me)),Be}var ze=E(re,le);if(ze)return ze;var Ue=Object.keys(le),Z=l(Ue);if(re.showHidden&&(Ue=Object.getOwnPropertyNames(le)),ye(le)&&(Ue.indexOf("message")>=0||Ue.indexOf("description")>=0))return D(le);if(Ue.length===0){if(_e(le)){var ae=le.name?": "+le.name:"";return re.stylize("[Function"+ae+"]","special")}if(H(le))return re.stylize(RegExp.prototype.toString.call(le),"regexp");if(pe(le))return re.stylize(Date.prototype.toString.call(le),"date");if(ye(le))return D(le)}var he="",Ie=!1,je=["{","}"];if(k(le)&&(Ie=!0,je=["[","]"]),_e(le)){var L=le.name?": "+le.name:"";he=" [Function"+L+"]"}if(H(le)&&(he=" "+RegExp.prototype.toString.call(le)),pe(le)&&(he=" "+Date.prototype.toUTCString.call(le)),ye(le)&&(he=" "+D(le)),Ue.length===0&&(!Ie||le.length==0))return je[0]+he+je[1];if(me<0)return H(le)?re.stylize(RegExp.prototype.toString.call(le),"regexp"):re.stylize("[Object]","special");re.seen.push(le);var q;return Ie?q=g(re,le,me,Z,Ue):q=Ue.map(function(we){return w(re,le,me,Z,we,Ie)}),re.seen.pop(),f(q,he,je)}function E(re,le){if(X(le))return re.stylize("undefined","undefined");if(J(le)){var me="'"+JSON.stringify(le).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return re.stylize(me,"string")}if(R(le))return re.stylize(""+le,"number");if(T(le))return re.stylize(""+le,"boolean");if(O(le))return re.stylize("null","null")}function D(re){return"["+Error.prototype.toString.call(re)+"]"}function g(re,le,me,Be,ze){for(var Ue=[],Z=0,ae=le.length;Z<ae;++Z)et(le,String(Z))?Ue.push(w(re,le,me,Be,String(Z),!0)):Ue.push("");return ze.forEach(function(he){he.match(/^\d+$/)||Ue.push(w(re,le,me,Be,he,!0))}),Ue}function w(re,le,me,Be,ze,Ue){var Z,ae,he;if(he=Object.getOwnPropertyDescriptor(le,ze)||{value:le[ze]},he.get?he.set?ae=re.stylize("[Getter/Setter]","special"):ae=re.stylize("[Getter]","special"):he.set&&(ae=re.stylize("[Setter]","special")),et(Be,ze)||(Z="["+ze+"]"),ae||(re.seen.indexOf(he.value)<0?(O(me)?ae=d(re,he.value,null):ae=d(re,he.value,me-1),ae.indexOf(`
`)>-1&&(Ue?ae=ae.split(`
`).map(function(Ie){return"  "+Ie}).join(`
`).substr(2):ae=`
`+ae.split(`
`).map(function(Ie){return"   "+Ie}).join(`
`))):ae=re.stylize("[Circular]","special")),X(Z)){if(Ue&&ze.match(/^\d+$/))return ae;Z=JSON.stringify(""+ze),Z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Z=Z.substr(1,Z.length-2),Z=re.stylize(Z,"name")):(Z=Z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Z=re.stylize(Z,"string"))}return Z+": "+ae}function f(re,le,me){var Be=0,ze=re.reduce(function(Ue,Z){return Be++,Z.indexOf(`
`)>=0&&Be++,Ue+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ze>60?me[0]+(le===""?"":le+`
 `)+" "+re.join(`,
  `)+" "+me[1]:me[0]+le+" "+re.join(", ")+" "+me[1]}e.types=A0();function k(re){return Array.isArray(re)}e.isArray=k;function T(re){return typeof re=="boolean"}e.isBoolean=T;function O(re){return re===null}e.isNull=O;function P(re){return re==null}e.isNullOrUndefined=P;function R(re){return typeof re=="number"}e.isNumber=R;function J(re){return typeof re=="string"}e.isString=J;function F(re){return typeof re=="symbol"}e.isSymbol=F;function X(re){return re===void 0}e.isUndefined=X;function H(re){return ee(re)&&Pe(re)==="[object RegExp]"}e.isRegExp=H,e.types.isRegExp=H;function ee(re){return typeof re=="object"&&re!==null}e.isObject=ee;function pe(re){return ee(re)&&Pe(re)==="[object Date]"}e.isDate=pe,e.types.isDate=pe;function ye(re){return ee(re)&&(Pe(re)==="[object Error]"||re instanceof Error)}e.isError=ye,e.types.isNativeError=ye;function _e(re){return typeof re=="function"}e.isFunction=_e;function Re(re){return re===null||typeof re=="boolean"||typeof re=="number"||typeof re=="string"||typeof re=="symbol"||typeof re>"u"}e.isPrimitive=Re,e.isBuffer=C0();function Pe(re){return Object.prototype.toString.call(re)}function Qe(re){return re<10?"0"+re.toString(10):re.toString(10)}var tt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ut(){var re=new Date,le=[Qe(re.getHours()),Qe(re.getMinutes()),Qe(re.getSeconds())].join(":");return[re.getDate(),tt[re.getMonth()],le].join(" ")}e.log=function(){console.log("%s - %s",ut(),e.format.apply(e,arguments))},e.inherits=Te(),e._extend=function(re,le){if(!le||!ee(le))return re;for(var me=Object.keys(le),Be=me.length;Be--;)re[me[Be]]=le[me[Be]];return re};function et(re,le){return Object.prototype.hasOwnProperty.call(re,le)}var it=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(it&&re[it]){var le=re[it];if(typeof le!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(le,it,{value:le,enumerable:!1,writable:!1,configurable:!0}),le}function le(){for(var me,Be,ze=new Promise(function(ae,he){me=ae,Be=he}),Ue=[],Z=0;Z<arguments.length;Z++)Ue.push(arguments[Z]);Ue.push(function(ae,he){ae?Be(ae):me(he)});try{re.apply(this,Ue)}catch(ae){Be(ae)}return ze}return Object.setPrototypeOf(le,Object.getPrototypeOf(re)),it&&Object.defineProperty(le,it,{value:le,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(le,t(re))},e.promisify.custom=it;function lt(re,le){if(!re){var me=new Error("Promise was rejected with a falsy value");me.reason=re,re=me}return le(re)}function Ke(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');function le(){for(var me=[],Be=0;Be<arguments.length;Be++)me.push(arguments[Be]);var ze=me.pop();if(typeof ze!="function")throw new TypeError("The last argument must be of type Function");var Ue=this,Z=function(){return ze.apply(Ue,arguments)};re.apply(this,me).then(function(ae){process$1.nextTick(Z.bind(null,null,ae))},function(ae){process$1.nextTick(lt.bind(null,ae,Z))})}return Object.setPrototypeOf(le,Object.getPrototypeOf(re)),Object.defineProperties(le,t(re)),le}e.callbackify=Ke}),Uf=h((e,t)=>{u(),t.exports=function(...n){let o=n.reduce((i,a)=>Object.assign(i,a),{});return Object.assign(o,{bufferKeys:o.bufferKeys||!1,snapshots:o.snapshots||!1,permanence:o.permanence||!1,seek:o.seek||!1,clear:o.clear||!1,getMany:o.getMany||!1,keyIterator:o.keyIterator||!1,valueIterator:o.valueIterator||!1,iteratorNextv:o.iteratorNextv||!1,iteratorAll:o.iteratorAll||!1,status:o.status||!1,idempotentOpen:o.idempotentOpen||!1,passiveOpen:o.passiveOpen||!1,serialize:o.serialize||!1,createIfMissing:o.createIfMissing||!1,errorIfExists:o.errorIfExists||!1,deferredOpen:o.deferredOpen||!1,openCallback:o.openCallback||!1,promises:o.promises||!1,streams:o.streams||!1,encodings:r(o.encodings),events:r(o.events),additionalMethods:Object.assign({},o.additionalMethods)})};function r(n){return n?Object.assign({},n):!1}}),L0=h((e,t)=>{u(),t.exports=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}}),j0=h((e,t)=>{u(),t.exports=typeof queueMicrotask=="function"?queueMicrotask:r=>Promise.resolve().then(r)}),ta=h(e=>{u();var t=j0();e.fromCallback=function(r,n){if(r===void 0){var o=new Promise(function(i,a){r=function(s,c){s?a(s):i(c)}});r[n!==void 0?n:"promise"]=o}else if(typeof r!="function")throw new TypeError("Callback must be a function");return r},e.fromPromise=function(r,n){if(n===void 0)return r;r.then(function(o){t(()=>n(null,o))}).catch(function(o){t(()=>n(o))})}}),ra=h((e,t)=>{u();var r;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global$1):n=>(r||(r=Promise.resolve())).then(n).catch(o=>setTimeout(()=>{throw o},0))}),na=h((e,t)=>{u();var r=ra();t.exports=function(n,...o){o.length===0?r(n):r(()=>n(...o))}}),Kf=h((e,t)=>{u();function r(n){if(typeof n!="object"||n===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=n,this._ended=!1,this._nexting=!1}r.prototype.next=function(n){let o=this;if(n===void 0)o=new Promise(function(i,a){n=function(s,c,l){s?a(s):c===void 0&&l===void 0?i():i([c,l])}});else if(typeof n!="function")throw new Error("next() requires a callback argument");return this._ended?(this._nextTick(n,new Error("cannot call next() after end()")),o):this._nexting?(this._nextTick(n,new Error("cannot call next() before previous next() has completed")),o):(this._nexting=!0,this._next((i,...a)=>{this._nexting=!1,n(i,...a)}),o)},r.prototype._next=function(n){this._nextTick(n)},r.prototype.seek=function(n){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");n=this.db._serializeKey(n),this._seek(n)},r.prototype._seek=function(n){},r.prototype.end=function(n){let o;if(n===void 0)o=new Promise(function(i,a){n=function(s){s?a(s):i()}});else if(typeof n!="function")throw new Error("end() requires a callback argument");return this._ended?(this._nextTick(n,new Error("end() already called on iterator")),o):(this._ended=!0,this._end(n),o)},r.prototype._end=function(n){this._nextTick(n)},r.prototype[Symbol.asyncIterator]=async function*(){try{let n;for(;(n=await this.next())!==void 0;)yield n}finally{this._ended||await this.end()}},r.prototype._nextTick=na(),t.exports=r}),zf=h((e,t)=>{u();var r=Object.freeze({});function n(o){if(typeof o!="object"||o===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=o,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(o,i,a){this._checkWritten();let s=this.db._checkKey(o)||this.db._checkValue(i);if(s)throw s;return o=this.db._serializeKey(o),i=this.db._serializeValue(i),this._put(o,i,a!=null?a:r),this},n.prototype._put=function(o,i,a){this._operations.push({...a,type:"put",key:o,value:i})},n.prototype.del=function(o,i){this._checkWritten();let a=this.db._checkKey(o);if(a)throw a;return o=this.db._serializeKey(o),this._del(o,i!=null?i:r),this},n.prototype._del=function(o,i){this._operations.push({...i,type:"del",key:o})},n.prototype.clear=function(){return this._checkWritten(),this._clear(),this},n.prototype._clear=function(){this._operations=[]},n.prototype.write=function(o,i){if(this._checkWritten(),typeof o=="function"&&(i=o),typeof i!="function")throw new Error("write() requires a callback argument");(typeof o!="object"||o===null)&&(o={}),this._written=!0,this._write(o,i)},n.prototype._write=function(o,i){this.db._batch(this._operations,o,i)},n.prototype._nextTick=na(),t.exports=n}),Vf=h(e=>{u(),e.getCallback=function(t,r){return typeof t=="function"?t:r},e.getOptions=function(t){return typeof t=="object"&&t!==null?t:{}}}),Y0=h((e,t)=>{u();var r=Uf(),n=L0(),o=ta(),i=Kf(),a=zf(),s=Vf().getCallback,c=Vf().getOptions,l=Object.prototype.hasOwnProperty,d=["lt","lte","gt","gte"];function E(f){this.status="new",this.supports=r(f,{status:!0})}E.prototype.open=function(f,k){let T=this.status;if(typeof f=="function"&&(k=f),typeof k!="function")throw new Error("open() requires a callback argument");(typeof f!="object"||f===null)&&(f={}),f.createIfMissing=f.createIfMissing!==!1,f.errorIfExists=!!f.errorIfExists,this.status="opening",this._open(f,O=>{if(O)return this.status=T,k(O);this.status="open",k()})},E.prototype._open=function(f,k){this._nextTick(k)},E.prototype.close=function(f){let k=this.status;if(typeof f!="function")throw new Error("close() requires a callback argument");this.status="closing",this._close(T=>{if(T)return this.status=k,f(T);this.status="closed",f()})},E.prototype._close=function(f){this._nextTick(f)},E.prototype.get=function(f,k,T){if(typeof k=="function"&&(T=k),typeof T!="function")throw new Error("get() requires a callback argument");let O=this._checkKey(f);if(O)return this._nextTick(T,O);f=this._serializeKey(f),(typeof k!="object"||k===null)&&(k={}),k.asBuffer=k.asBuffer!==!1,this._get(f,k,T)},E.prototype._get=function(f,k,T){this._nextTick(function(){T(new Error("NotFound"))})},E.prototype.getMany=function(f,k,T){if(T=s(k,T),T=o.fromCallback(T),k=c(k),w(this,T))return T.promise;if(!Array.isArray(f))return this._nextTick(T,new Error("getMany() requires an array argument")),T.promise;if(f.length===0)return this._nextTick(T,null,[]),T.promise;typeof k.asBuffer!="boolean"&&(k={...k,asBuffer:!0});let O=new Array(f.length);for(let P=0;P<f.length;P++){let R=f[P],J=this._checkKey(R);if(J)return this._nextTick(T,J),T.promise;O[P]=this._serializeKey(R)}return this._getMany(O,k,T),T.promise},E.prototype._getMany=function(f,k,T){this._nextTick(T,null,new Array(f.length).fill(void 0))},E.prototype.put=function(f,k,T,O){if(typeof T=="function"&&(O=T),typeof O!="function")throw new Error("put() requires a callback argument");let P=this._checkKey(f)||this._checkValue(k);if(P)return this._nextTick(O,P);f=this._serializeKey(f),k=this._serializeValue(k),(typeof T!="object"||T===null)&&(T={}),this._put(f,k,T,O)},E.prototype._put=function(f,k,T,O){this._nextTick(O)},E.prototype.del=function(f,k,T){if(typeof k=="function"&&(T=k),typeof T!="function")throw new Error("del() requires a callback argument");let O=this._checkKey(f);if(O)return this._nextTick(T,O);f=this._serializeKey(f),(typeof k!="object"||k===null)&&(k={}),this._del(f,k,T)},E.prototype._del=function(f,k,T){this._nextTick(T)},E.prototype.batch=function(f,k,T){if(!arguments.length)return this._chainedBatch();if(typeof k=="function"&&(T=k),typeof f=="function"&&(T=f),typeof T!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(f))return this._nextTick(T,new Error("batch(array) requires an array argument"));if(f.length===0)return this._nextTick(T);(typeof k!="object"||k===null)&&(k={});let O=new Array(f.length);for(let P=0;P<f.length;P++){if(typeof f[P]!="object"||f[P]===null)return this._nextTick(T,new Error("batch(array) element must be an object and not `null`"));let R=Object.assign({},f[P]);if(R.type!=="put"&&R.type!=="del")return this._nextTick(T,new Error("`type` must be 'put' or 'del'"));let J=this._checkKey(R.key);if(J)return this._nextTick(T,J);if(R.key=this._serializeKey(R.key),R.type==="put"){let F=this._checkValue(R.value);if(F)return this._nextTick(T,F);R.value=this._serializeValue(R.value)}O[P]=R}this._batch(O,k,T)},E.prototype._batch=function(f,k,T){this._nextTick(T)},E.prototype.clear=function(f,k){if(typeof f=="function")k=f;else if(typeof k!="function")throw new Error("clear() requires a callback argument");f=D(this,f),f.reverse=!!f.reverse,f.limit="limit"in f?f.limit:-1,this._clear(f,k)},E.prototype._clear=function(f,k){f.keys=!0,f.values=!1,f.keyAsBuffer=!0,f.valueAsBuffer=!0;let T=this._iterator(f),O={},P=R=>{if(R)return T.end(function(){k(R)});T.next((J,F)=>{if(J)return P(J);if(F===void 0)return T.end(k);this._del(F,O,P)})};P()},E.prototype._setupIteratorOptions=function(f){return f=D(this,f),f.reverse=!!f.reverse,f.keys=f.keys!==!1,f.values=f.values!==!1,f.limit="limit"in f?f.limit:-1,f.keyAsBuffer=f.keyAsBuffer!==!1,f.valueAsBuffer=f.valueAsBuffer!==!1,f};function D(f,k){let T={};for(let O in k){if(!l.call(k,O))continue;if(O==="start"||O==="end")throw new Error('Legacy range options ("start" and "end") have been removed');let P=k[O];g(O)&&(P=f._serializeKey(P)),T[O]=P}return T}function g(f){return d.indexOf(f)!==-1}E.prototype.iterator=function(f){return(typeof f!="object"||f===null)&&(f={}),f=this._setupIteratorOptions(f),this._iterator(f)},E.prototype._iterator=function(f){return new i(this)},E.prototype._chainedBatch=function(){return new a(this)},E.prototype._serializeKey=function(f){return f},E.prototype._serializeValue=function(f){return f},E.prototype._checkKey=function(f){if(f==null)return new Error("key cannot be `null` or `undefined`");if(n(f)&&f.length===0)return new Error("key cannot be an empty Buffer");if(f==="")return new Error("key cannot be an empty String");if(Array.isArray(f)&&f.length===0)return new Error("key cannot be an empty Array")},E.prototype._checkValue=function(f){if(f==null)return new Error("value cannot be `null` or `undefined`")},E.prototype.isOperational=function(){return this.status==="open"||this._isOperational()},E.prototype._isOperational=function(){return!1},E.prototype._nextTick=na(),t.exports=E;function w(f,k){return f.isOperational()?!1:(f._nextTick(k,new Error("Database is not open")),!0)}}),Nt=h(e=>{u(),e.AbstractLevelDOWN=Y0(),e.AbstractIterator=Kf(),e.AbstractChainedBatch=zf()}),Gf=h(e=>{u(),e.getCallback=function(t,r,n){let o=t[t.length-1];if(typeof o!="function"){let i=new Promise((a,s)=>{t.push(o=function(c,...l){c?s(c):a(n?n(...l):l[0])})});o[r]=i}return o}}),rv=h((e,t)=>{u();var{AbstractIterator:r}=Nt(),n=Te(),o=Gf().getCallback,i=Symbol("options"),a=Symbol("iterator"),s=Symbol("operations"),c=Symbol("promise");function l(d,E){r.call(this,d),this[i]=E,this[a]=null,this[s]=[]}n(l,r),l.prototype.setDb=function(d){this[a]=d.iterator(this[i]);for(let E of this[s].splice(0,this[s].length))this[a][E.method](...E.args)},l.prototype.next=function(...d){if(this.db.status==="open")return this[a].next(...d);let E=o(d,c,function(D,g){if(!(D===void 0&&g===void 0))return[D,g]});return this.db.status==="opening"?this[s].push({method:"next",args:d}):this._nextTick(E,new Error("Database is not open")),E[c]||this},l.prototype.seek=function(...d){if(this.db.status==="open")this[a].seek(...d);else if(this.db.status==="opening")this[s].push({method:"seek",args:d});else throw new Error("Database is not open")},l.prototype.end=function(...d){if(this.db.status==="open")return this[a].end(...d);let E=o(d,c);return this.db.status==="opening"?this[s].push({method:"end",args:d}):this._nextTick(E,new Error("Database is not open")),E[c]||this};for(let d of["next","seek","end"])l.prototype["_"+d]=function(){throw new Error("Did not expect private method to be called: "+d)};t.exports=l}),iv=h((e,t)=>{u();var{AbstractChainedBatch:r}=Nt(),n=Symbol("operations");t.exports=class extends r{constructor(o){super(o),this[n]=[]}_put(o,i,a){this[n].push({...a,type:"put",key:o,value:i})}_del(o,i){this[n].push({...i,type:"del",key:o})}_clear(){this[n]=[]}_write(o,i){this.db.batch(this[n],o,i)}}}),cv=h((e,t)=>{u();var{AbstractLevelDOWN:r}=Nt(),n=Te(),o=rv(),i=iv(),a=Gf().getCallback,s=["put","get","getMany","del","batch","clear"],c=["approximateSize","compactRange"],l=Symbol("innerDb"),d=Symbol("operations"),E=Symbol("promise");function D(w){r.call(this,w.supports||{});for(let f of c)typeof w[f]=="function"&&!this.supports.additionalMethods[f]&&(this.supports.additionalMethods[f]=!0);this[l]=w,this[d]=[],g(this)}n(D,r),D.prototype.type="deferred-leveldown",Object.defineProperty(D.prototype,"_db",{enumerable:!0,get(){return this[l]}}),D.prototype._open=function(w,f){let k=T=>{if(T||this[l].status!=="open")return f(T||new Error("Database is not open"));let O=this[d];this[d]=[];for(let P of O)P.iterator?P.iterator.setDb(this[l]):this[l][P.method](...P.args);if(this[d].length>0)throw new Error("Did not expect further operations");f()};this[l].status==="new"||this[l].status==="closed"?this[l].open(w,k):this._nextTick(k)},D.prototype._close=function(w){this[l].close(w)},D.prototype._isOperational=function(){return this.status==="opening"};function g(w){let f=Object.keys(w.supports.additionalMethods);for(let k of s.concat(f))w[k]=function(...T){if(k==="batch"&&T.length===0)return new i(this);if(this.status==="open")return this[l][k](...T);let O=a(T,E);return this.status==="opening"?this[d].push({method:k,args:T}):this._nextTick(O,new Error("Database is not open")),O[E]};w.iterator=function(k){if(this.status==="open")return this[l].iterator(k);if(this.status==="opening"){let T=new o(this,k);return this[d].push({iterator:T}),T}else throw new Error("Database is not open")};for(let k of s.concat(["iterator"]))w["_"+k]=function(){throw new Error("Did not expect private method to be called: "+k)}}t.exports=D,t.exports.DeferredIterator=o}),Jf=h((e,t)=>{u(),t.exports=Rn().EventEmitter}),Yf=h(()=>{u()}),hv=h((e,t)=>{u();function r(w,f){var k=Object.keys(w);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(w);f&&(T=T.filter(function(O){return Object.getOwnPropertyDescriptor(w,O).enumerable})),k.push.apply(k,T)}return k}function n(w){for(var f=1;f<arguments.length;f++){var k=arguments[f]!=null?arguments[f]:{};f%2?r(Object(k),!0).forEach(function(T){o(w,T,k[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(k)):r(Object(k)).forEach(function(T){Object.defineProperty(w,T,Object.getOwnPropertyDescriptor(k,T))})}return w}function o(w,f,k){return f in w?Object.defineProperty(w,f,{value:k,enumerable:!0,configurable:!0,writable:!0}):w[f]=k,w}function i(w,f){if(!(w instanceof f))throw new TypeError("Cannot call a class as a function")}function a(w,f){for(var k=0;k<f.length;k++){var T=f[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}function s(w,f,k){return f&&a(w.prototype,f),k&&a(w,k),w}var c=ct(),l=c.Buffer,d=Yf(),E=d.inspect,D=E&&E.custom||"inspect";function g(w,f,k){l.prototype.copy.call(w,f,k)}t.exports=function(){function w(){i(this,w),this.head=null,this.tail=null,this.length=0}return s(w,[{key:"push",value:function(f){var k={data:f,next:null};this.length>0?this.tail.next=k:this.head=k,this.tail=k,++this.length}},{key:"unshift",value:function(f){var k={data:f,next:this.head};this.length===0&&(this.tail=k),this.head=k,++this.length}},{key:"shift",value:function(){if(this.length!==0){var f=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,f}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(f){if(this.length===0)return"";for(var k=this.head,T=""+k.data;k=k.next;)T+=f+k.data;return T}},{key:"concat",value:function(f){if(this.length===0)return l.alloc(0);for(var k=l.allocUnsafe(f>>>0),T=this.head,O=0;T;)g(T.data,k,O),O+=T.data.length,T=T.next;return k}},{key:"consume",value:function(f,k){var T;return f<this.head.data.length?(T=this.head.data.slice(0,f),this.head.data=this.head.data.slice(f)):f===this.head.data.length?T=this.shift():T=k?this._getString(f):this._getBuffer(f),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(f){var k=this.head,T=1,O=k.data;for(f-=O.length;k=k.next;){var P=k.data,R=f>P.length?P.length:f;if(R===P.length?O+=P:O+=P.slice(0,f),f-=R,f===0){R===P.length?(++T,k.next?this.head=k.next:this.head=this.tail=null):(this.head=k,k.data=P.slice(R));break}++T}return this.length-=T,O}},{key:"_getBuffer",value:function(f){var k=l.allocUnsafe(f),T=this.head,O=1;for(T.data.copy(k),f-=T.data.length;T=T.next;){var P=T.data,R=f>P.length?P.length:f;if(P.copy(k,k.length-f,0,R),f-=R,f===0){R===P.length?(++O,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=P.slice(R));break}++O}return this.length-=O,k}},{key:D,value:function(f,k){return E(this,n({},k,{depth:0,customInspect:!1}))}}]),w}()}),Xf=h((e,t)=>{u();function r(c,l){var d=this,E=this._readableState&&this._readableState.destroyed,D=this._writableState&&this._writableState.destroyed;return E||D?(l?l(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(a,this,c)):process$1.nextTick(a,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(g){!l&&g?d._writableState?d._writableState.errorEmitted?process$1.nextTick(o,d):(d._writableState.errorEmitted=!0,process$1.nextTick(n,d,g)):process$1.nextTick(n,d,g):l?(process$1.nextTick(o,d),l(g)):process$1.nextTick(o,d)}),this)}function n(c,l){a(c,l),o(c)}function o(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(c,l){c.emit("error",l)}function s(c,l){var d=c._readableState,E=c._writableState;d&&d.autoDestroy||E&&E.autoDestroy?c.destroy(l):c.emit("error",l)}t.exports={destroy:r,undestroy:i,errorOrDestroy:s}}),Mr=h((e,t)=>{u();function r(l,d){l.prototype=Object.create(d.prototype),l.prototype.constructor=l,l.__proto__=d}var n={};function o(l,d,E){E||(E=Error);function D(w,f,k){return typeof d=="string"?d:d(w,f,k)}var g=function(w){r(f,w);function f(k,T,O){return w.call(this,D(k,T,O))||this}return f}(E);g.prototype.name=E.name,g.prototype.code=l,n[l]=g}function i(l,d){if(Array.isArray(l)){var E=l.length;return l=l.map(function(D){return String(D)}),E>2?"one of ".concat(d," ").concat(l.slice(0,E-1).join(", "),", or ")+l[E-1]:E===2?"one of ".concat(d," ").concat(l[0]," or ").concat(l[1]):"of ".concat(d," ").concat(l[0])}else return"of ".concat(d," ").concat(String(l))}function a(l,d,E){return l.substr(!E||E<0?0:+E,d.length)===d}function s(l,d,E){return(E===void 0||E>l.length)&&(E=l.length),l.substring(E-d.length,E)===d}function c(l,d,E){return typeof E!="number"&&(E=0),E+d.length>l.length?!1:l.indexOf(d,E)!==-1}o("ERR_INVALID_OPT_VALUE",function(l,d){return'The value "'+d+'" is invalid for option "'+l+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(l,d,E){var D;typeof d=="string"&&a(d,"not ")?(D="must not be",d=d.replace(/^not /,"")):D="must be";var g;if(s(l," argument"))g="The ".concat(l," ").concat(D," ").concat(i(d,"type"));else{var w=c(l,".")?"property":"argument";g='The "'.concat(l,'" ').concat(w," ").concat(D," ").concat(i(d,"type"))}return g+=". Received type ".concat(typeof E),g},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}),el=h((e,t)=>{u();var r=Mr().codes.ERR_INVALID_OPT_VALUE;function n(i,a,s){return i.highWaterMark!=null?i.highWaterMark:a?i[s]:null}function o(i,a,s,c){var l=n(a,c,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var d=c?s:"highWaterMark";throw new r(d,l)}return Math.floor(l)}return i.objectMode?16:16*1024}t.exports={getHighWaterMark:o}}),_v=h((e,t)=>{u(),t.exports=r;function r(o,i){if(n("noDeprecation"))return o;var a=!1;function s(){if(!a){if(n("throwDeprecation"))throw new Error(i);n("traceDeprecation")?console.trace(i):console.warn(i),a=!0}return o.apply(this,arguments)}return s}function n(o){try{if(!global$1.localStorage)return!1}catch{return!1}var i=global$1.localStorage[o];return i==null?!1:String(i).toLowerCase()==="true"}}),il=h((e,t)=>{u(),t.exports=pe;function r(Z){var ae=this;this.next=null,this.entry=null,this.finish=function(){Ue(ae,Z)}}var n;pe.WritableState=H;var o={deprecate:_v()},i=Jf(),a=ct().Buffer,s=global$1.Uint8Array||function(){};function c(Z){return a.from(Z)}function l(Z){return a.isBuffer(Z)||Z instanceof s}var d=Xf(),E=el(),D=E.getHighWaterMark,g=Mr().codes,w=g.ERR_INVALID_ARG_TYPE,f=g.ERR_METHOD_NOT_IMPLEMENTED,k=g.ERR_MULTIPLE_CALLBACK,T=g.ERR_STREAM_CANNOT_PIPE,O=g.ERR_STREAM_DESTROYED,P=g.ERR_STREAM_NULL_VALUES,R=g.ERR_STREAM_WRITE_AFTER_END,J=g.ERR_UNKNOWN_ENCODING,F=d.errorOrDestroy;Te()(pe,i);function X(){}function H(Z,ae,he){n=n||jr(),Z=Z||{},typeof he!="boolean"&&(he=ae instanceof n),this.objectMode=!!Z.objectMode,he&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=D(this,Z,"writableHighWaterMark",he),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ie=Z.decodeStrings===!1;this.decodeStrings=!Ie,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(je){et(ae,je)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}H.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,ae=[];Z;)ae.push(Z),Z=Z.next;return ae},function(){try{Object.defineProperty(H.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ee;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ee=Function.prototype[Symbol.hasInstance],Object.defineProperty(pe,Symbol.hasInstance,{value:function(Z){return ee.call(this,Z)?!0:this!==pe?!1:Z&&Z._writableState instanceof H}})):ee=function(Z){return Z instanceof this};function pe(Z){n=n||jr();var ae=this instanceof n;if(!ae&&!ee.call(pe,this))return new pe(Z);this._writableState=new H(Z,this,ae),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),i.call(this)}pe.prototype.pipe=function(){F(this,new T)};function ye(Z,ae){var he=new R;F(Z,he),process$1.nextTick(ae,he)}function _e(Z,ae,he,Ie){var je;return he===null?je=new P:typeof he!="string"&&!ae.objectMode&&(je=new w("chunk",["string","Buffer"],he)),je?(F(Z,je),process$1.nextTick(Ie,je),!1):!0}pe.prototype.write=function(Z,ae,he){var Ie=this._writableState,je=!1,L=!Ie.objectMode&&l(Z);return L&&!a.isBuffer(Z)&&(Z=c(Z)),typeof ae=="function"&&(he=ae,ae=null),L?ae="buffer":ae||(ae=Ie.defaultEncoding),typeof he!="function"&&(he=X),Ie.ending?ye(this,he):(L||_e(this,Ie,Z,he))&&(Ie.pendingcb++,je=Pe(this,Ie,L,Z,ae,he)),je},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&Ke(this,Z))},pe.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new J(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(pe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Re(Z,ae,he){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof ae=="string"&&(ae=a.from(ae,he)),ae}Object.defineProperty(pe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Pe(Z,ae,he,Ie,je,L){if(!he){var q=Re(ae,Ie,je);Ie!==q&&(he=!0,je="buffer",Ie=q)}var we=ae.objectMode?1:Ie.length;ae.length+=we;var $e=ae.length<ae.highWaterMark;if($e||(ae.needDrain=!0),ae.writing||ae.corked){var Ze=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:Ie,encoding:je,isBuf:he,callback:L,next:null},Ze?Ze.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else Qe(Z,ae,!1,we,Ie,je,L);return $e}function Qe(Z,ae,he,Ie,je,L,q){ae.writelen=Ie,ae.writecb=q,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new O("write")):he?Z._writev(je,ae.onwrite):Z._write(je,L,ae.onwrite),ae.sync=!1}function tt(Z,ae,he,Ie,je){--ae.pendingcb,he?(process$1.nextTick(je,Ie),process$1.nextTick(Be,Z,ae),Z._writableState.errorEmitted=!0,F(Z,Ie)):(je(Ie),Z._writableState.errorEmitted=!0,F(Z,Ie),Be(Z,ae))}function ut(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function et(Z,ae){var he=Z._writableState,Ie=he.sync,je=he.writecb;if(typeof je!="function")throw new k;if(ut(he),ae)tt(Z,he,Ie,ae,je);else{var L=re(he)||Z.destroyed;!L&&!he.corked&&!he.bufferProcessing&&he.bufferedRequest&&Ke(Z,he),Ie?process$1.nextTick(it,Z,he,L,je):it(Z,he,L,je)}}function it(Z,ae,he,Ie){he||lt(Z,ae),ae.pendingcb--,Ie(),Be(Z,ae)}function lt(Z,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,Z.emit("drain"))}function Ke(Z,ae){ae.bufferProcessing=!0;var he=ae.bufferedRequest;if(Z._writev&&he&&he.next){var Ie=ae.bufferedRequestCount,je=new Array(Ie),L=ae.corkedRequestsFree;L.entry=he;for(var q=0,we=!0;he;)je[q]=he,he.isBuf||(we=!1),he=he.next,q+=1;je.allBuffers=we,Qe(Z,ae,!0,ae.length,je,"",L.finish),ae.pendingcb++,ae.lastBufferedRequest=null,L.next?(ae.corkedRequestsFree=L.next,L.next=null):ae.corkedRequestsFree=new r(ae),ae.bufferedRequestCount=0}else{for(;he;){var $e=he.chunk,Ze=he.encoding,Le=he.callback,ce=ae.objectMode?1:$e.length;if(Qe(Z,ae,!1,ce,$e,Ze,Le),he=he.next,ae.bufferedRequestCount--,ae.writing)break}he===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequest=he,ae.bufferProcessing=!1}pe.prototype._write=function(Z,ae,he){he(new f("_write()"))},pe.prototype._writev=null,pe.prototype.end=function(Z,ae,he){var Ie=this._writableState;return typeof Z=="function"?(he=Z,Z=null,ae=null):typeof ae=="function"&&(he=ae,ae=null),Z!=null&&this.write(Z,ae),Ie.corked&&(Ie.corked=1,this.uncork()),Ie.ending||ze(this,Ie,he),this},Object.defineProperty(pe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function re(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function le(Z,ae){Z._final(function(he){ae.pendingcb--,he&&F(Z,he),ae.prefinished=!0,Z.emit("prefinish"),Be(Z,ae)})}function me(Z,ae){!ae.prefinished&&!ae.finalCalled&&(typeof Z._final=="function"&&!ae.destroyed?(ae.pendingcb++,ae.finalCalled=!0,process$1.nextTick(le,Z,ae)):(ae.prefinished=!0,Z.emit("prefinish")))}function Be(Z,ae){var he=re(ae);if(he&&(me(Z,ae),ae.pendingcb===0&&(ae.finished=!0,Z.emit("finish"),ae.autoDestroy))){var Ie=Z._readableState;(!Ie||Ie.autoDestroy&&Ie.endEmitted)&&Z.destroy()}return he}function ze(Z,ae,he){ae.ending=!0,Be(Z,ae),he&&(ae.finished?process$1.nextTick(he):Z.once("finish",he)),ae.ended=!0,Z.writable=!1}function Ue(Z,ae,he){var Ie=Z.entry;for(Z.entry=null;Ie;){var je=Ie.callback;ae.pendingcb--,je(he),Ie=Ie.next}ae.corkedRequestsFree.next=Z}Object.defineProperty(pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){!this._writableState||(this._writableState.destroyed=Z)}}),pe.prototype.destroy=d.destroy,pe.prototype._undestroy=d.undestroy,pe.prototype._destroy=function(Z,ae){ae(Z)}}),jr=h((e,t)=>{u();var r=Object.keys||function(E){var D=[];for(var g in E)D.push(g);return D};t.exports=c;var n=al(),o=il();for(Te()(c,n),i=r(o.prototype),s=0;s<i.length;s++)a=i[s],c.prototype[a]||(c.prototype[a]=o.prototype[a]);var i,a,s;function c(E){if(!(this instanceof c))return new c(E);n.call(this,E),o.call(this,E),this.allowHalfOpen=!0,E&&(E.readable===!1&&(this.readable=!1),E.writable===!1&&(this.writable=!1),E.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||process$1.nextTick(d,this)}function d(E){E.end()}Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(E){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=E,this._writableState.destroyed=E)}})}),Pv=h((e,t)=>{u();var r=ct(),n=r.Buffer;function o(a,s){for(var c in a)s[c]=a[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=i);function i(a,s,c){return n(a,s,c)}i.prototype=Object.create(n.prototype),o(n,i),i.from=function(a,s,c){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,s,c)},i.alloc=function(a,s,c){if(typeof a!="number")throw new TypeError("Argument must be a number");var l=n(a);return s!==void 0?typeof c=="string"?l.fill(s,c):l.fill(s):l.fill(0),l},i.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},i.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}),ll=h(e=>{u();var t=Pv().Buffer,r=t.isEncoding||function(O){switch(O=""+O,O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(O){if(!O)return"utf8";for(var P;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(P)return;O=(""+O).toLowerCase(),P=!0}}function o(O){var P=n(O);if(typeof P!="string"&&(t.isEncoding===r||!r(O)))throw new Error("Unknown encoding: "+O);return P||O}e.StringDecoder=i;function i(O){this.encoding=o(O);var P;switch(this.encoding){case"utf16le":this.text=D,this.end=g,P=4;break;case"utf8":this.fillLast=l,P=4;break;case"base64":this.text=w,this.end=f,P=3;break;default:this.write=k,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(P)}i.prototype.write=function(O){if(O.length===0)return"";var P,R;if(this.lastNeed){if(P=this.fillLast(O),P===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<O.length?P?P+this.text(O,R):this.text(O,R):P||""},i.prototype.end=E,i.prototype.text=d,i.prototype.fillLast=function(O){if(this.lastNeed<=O.length)return O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),this.lastNeed-=O.length};function a(O){return O<=127?0:O>>5===6?2:O>>4===14?3:O>>3===30?4:O>>6===2?-1:-2}function s(O,P,R){var J=P.length-1;if(J<R)return 0;var F=a(P[J]);return F>=0?(F>0&&(O.lastNeed=F-1),F):--J<R||F===-2?0:(F=a(P[J]),F>=0?(F>0&&(O.lastNeed=F-2),F):--J<R||F===-2?0:(F=a(P[J]),F>=0?(F>0&&(F===2?F=0:O.lastNeed=F-3),F):0))}function c(O,P,R){if((P[0]&192)!==128)return O.lastNeed=0,"\uFFFD";if(O.lastNeed>1&&P.length>1){if((P[1]&192)!==128)return O.lastNeed=1,"\uFFFD";if(O.lastNeed>2&&P.length>2&&(P[2]&192)!==128)return O.lastNeed=2,"\uFFFD"}}function l(O){var P=this.lastTotal-this.lastNeed,R=c(this,O);if(R!==void 0)return R;if(this.lastNeed<=O.length)return O.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);O.copy(this.lastChar,P,0,O.length),this.lastNeed-=O.length}function d(O,P){var R=s(this,O,P);if(!this.lastNeed)return O.toString("utf8",P);this.lastTotal=R;var J=O.length-(R-this.lastNeed);return O.copy(this.lastChar,0,J),O.toString("utf8",P,J)}function E(O){var P=O&&O.length?this.write(O):"";return this.lastNeed?P+"\uFFFD":P}function D(O,P){if((O.length-P)%2===0){var R=O.toString("utf16le",P);if(R){var J=R.charCodeAt(R.length-1);if(J>=55296&&J<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",P,O.length-1)}function g(O){var P=O&&O.length?this.write(O):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return P+this.lastChar.toString("utf16le",0,R)}return P}function w(O,P){var R=(O.length-P)%3;return R===0?O.toString("base64",P):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",P,O.length-R))}function f(O){var P=O&&O.length?this.write(O):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function k(O){return O.toString(this.encoding)}function T(O){return O&&O.length?this.write(O):""}}),pa=h((e,t)=>{u();var r=Mr().codes.ERR_STREAM_PREMATURE_CLOSE;function n(s){var c=!1;return function(){if(!c){c=!0;for(var l=arguments.length,d=new Array(l),E=0;E<l;E++)d[E]=arguments[E];s.apply(this,d)}}}function o(){}function i(s){return s.setHeader&&typeof s.abort=="function"}function a(s,c,l){if(typeof c=="function")return a(s,null,c);c||(c={}),l=n(l||o);var d=c.readable||c.readable!==!1&&s.readable,E=c.writable||c.writable!==!1&&s.writable,D=function(){s.writable||w()},g=s._writableState&&s._writableState.finished,w=function(){E=!1,g=!0,d||l.call(s)},f=s._readableState&&s._readableState.endEmitted,k=function(){d=!1,f=!0,E||l.call(s)},T=function(R){l.call(s,R)},O=function(){var R;if(d&&!f)return(!s._readableState||!s._readableState.ended)&&(R=new r),l.call(s,R);if(E&&!g)return(!s._writableState||!s._writableState.ended)&&(R=new r),l.call(s,R)},P=function(){s.req.on("finish",w)};return i(s)?(s.on("complete",w),s.on("abort",O),s.req?P():s.on("request",P)):E&&!s._writableState&&(s.on("end",D),s.on("close",D)),s.on("end",k),s.on("finish",w),c.error!==!1&&s.on("error",T),s.on("close",O),function(){s.removeListener("complete",w),s.removeListener("abort",O),s.removeListener("request",P),s.req&&s.req.removeListener("finish",w),s.removeListener("end",D),s.removeListener("close",D),s.removeListener("finish",w),s.removeListener("end",k),s.removeListener("error",T),s.removeListener("close",O)}}t.exports=a}),qv=h((e,t)=>{u();var r;function n(P,R,J){return R in P?Object.defineProperty(P,R,{value:J,enumerable:!0,configurable:!0,writable:!0}):P[R]=J,P}var o=pa(),i=Symbol("lastResolve"),a=Symbol("lastReject"),s=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),d=Symbol("handlePromise"),E=Symbol("stream");function D(P,R){return{value:P,done:R}}function g(P){var R=P[i];if(R!==null){var J=P[E].read();J!==null&&(P[l]=null,P[i]=null,P[a]=null,R(D(J,!1)))}}function w(P){process$1.nextTick(g,P)}function f(P,R){return function(J,F){P.then(function(){if(R[c]){J(D(void 0,!0));return}R[d](J,F)},F)}}var k=Object.getPrototypeOf(function(){}),T=Object.setPrototypeOf((r={get stream(){return this[E]},next:function(){var P=this,R=this[s];if(R!==null)return Promise.reject(R);if(this[c])return Promise.resolve(D(void 0,!0));if(this[E].destroyed)return new Promise(function(H,ee){process$1.nextTick(function(){P[s]?ee(P[s]):H(D(void 0,!0))})});var J=this[l],F;if(J)F=new Promise(f(J,this));else{var X=this[E].read();if(X!==null)return Promise.resolve(D(X,!1));F=new Promise(this[d])}return this[l]=F,F}},n(r,Symbol.asyncIterator,function(){return this}),n(r,"return",function(){var P=this;return new Promise(function(R,J){P[E].destroy(null,function(F){if(F){J(F);return}R(D(void 0,!0))})})}),r),k),O=function(P){var R,J=Object.create(T,(R={},n(R,E,{value:P,writable:!0}),n(R,i,{value:null,writable:!0}),n(R,a,{value:null,writable:!0}),n(R,s,{value:null,writable:!0}),n(R,c,{value:P._readableState.endEmitted,writable:!0}),n(R,d,{value:function(F,X){var H=J[E].read();H?(J[l]=null,J[i]=null,J[a]=null,F(D(H,!1))):(J[i]=F,J[a]=X)},writable:!0}),R));return J[l]=null,o(P,function(F){if(F&&F.code!=="ERR_STREAM_PREMATURE_CLOSE"){var X=J[a];X!==null&&(J[l]=null,J[i]=null,J[a]=null,X(F)),J[s]=F;return}var H=J[i];H!==null&&(J[l]=null,J[i]=null,J[a]=null,H(D(void 0,!0))),J[c]=!0}),P.on("readable",w.bind(null,J)),J};t.exports=O}),$v=h((e,t)=>{u(),t.exports=function(){throw new Error("Readable.from is not available in the browser")}}),al=h((e,t)=>{u(),t.exports=ye;var r;ye.ReadableState=pe,Rn().EventEmitter;var n=function(L,q){return L.listeners(q).length},o=Jf(),i=ct().Buffer,a=global$1.Uint8Array||function(){};function s(L){return i.from(L)}function c(L){return i.isBuffer(L)||L instanceof a}var l=Yf(),d;l&&l.debuglog?d=l.debuglog("stream"):d=function(){};var E=hv(),D=Xf(),g=el(),w=g.getHighWaterMark,f=Mr().codes,k=f.ERR_INVALID_ARG_TYPE,T=f.ERR_STREAM_PUSH_AFTER_EOF,O=f.ERR_METHOD_NOT_IMPLEMENTED,P=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,J,F;Te()(ye,o);var X=D.errorOrDestroy,H=["error","close","destroy","pause","resume"];function ee(L,q,we){if(typeof L.prependListener=="function")return L.prependListener(q,we);!L._events||!L._events[q]?L.on(q,we):Array.isArray(L._events[q])?L._events[q].unshift(we):L._events[q]=[we,L._events[q]]}function pe(L,q,we){r=r||jr(),L=L||{},typeof we!="boolean"&&(we=q instanceof r),this.objectMode=!!L.objectMode,we&&(this.objectMode=this.objectMode||!!L.readableObjectMode),this.highWaterMark=w(this,L,"readableHighWaterMark",we),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=L.emitClose!==!1,this.autoDestroy=!!L.autoDestroy,this.destroyed=!1,this.defaultEncoding=L.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,L.encoding&&(R||(R=ll().StringDecoder),this.decoder=new R(L.encoding),this.encoding=L.encoding)}function ye(L){if(r=r||jr(),!(this instanceof ye))return new ye(L);var q=this instanceof r;this._readableState=new pe(L,this,q),this.readable=!0,L&&(typeof L.read=="function"&&(this._read=L.read),typeof L.destroy=="function"&&(this._destroy=L.destroy)),o.call(this)}Object.defineProperty(ye.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(L){!this._readableState||(this._readableState.destroyed=L)}}),ye.prototype.destroy=D.destroy,ye.prototype._undestroy=D.undestroy,ye.prototype._destroy=function(L,q){q(L)},ye.prototype.push=function(L,q){var we=this._readableState,$e;return we.objectMode?$e=!0:typeof L=="string"&&(q=q||we.defaultEncoding,q!==we.encoding&&(L=i.from(L,q),q=""),$e=!0),_e(this,L,q,!1,$e)},ye.prototype.unshift=function(L){return _e(this,L,null,!0,!1)};function _e(L,q,we,$e,Ze){d("readableAddChunk",q);var Le=L._readableState;if(q===null)Le.reading=!1,et(L,Le);else{var ce;if(Ze||(ce=Pe(Le,q)),ce)X(L,ce);else if(Le.objectMode||q&&q.length>0)if(typeof q!="string"&&!Le.objectMode&&Object.getPrototypeOf(q)!==i.prototype&&(q=s(q)),$e)Le.endEmitted?X(L,new P):Re(L,Le,q,!0);else if(Le.ended)X(L,new T);else{if(Le.destroyed)return!1;Le.reading=!1,Le.decoder&&!we?(q=Le.decoder.write(q),Le.objectMode||q.length!==0?Re(L,Le,q,!1):Ke(L,Le)):Re(L,Le,q,!1)}else $e||(Le.reading=!1,Ke(L,Le))}return!Le.ended&&(Le.length<Le.highWaterMark||Le.length===0)}function Re(L,q,we,$e){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,L.emit("data",we)):(q.length+=q.objectMode?1:we.length,$e?q.buffer.unshift(we):q.buffer.push(we),q.needReadable&&it(L)),Ke(L,q)}function Pe(L,q){var we;return!c(q)&&typeof q!="string"&&q!==void 0&&!L.objectMode&&(we=new k("chunk",["string","Buffer","Uint8Array"],q)),we}ye.prototype.isPaused=function(){return this._readableState.flowing===!1},ye.prototype.setEncoding=function(L){R||(R=ll().StringDecoder);var q=new R(L);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var we=this._readableState.buffer.head,$e="";we!==null;)$e+=q.write(we.data),we=we.next;return this._readableState.buffer.clear(),$e!==""&&this._readableState.buffer.push($e),this._readableState.length=$e.length,this};var Qe=1073741824;function tt(L){return L>=Qe?L=Qe:(L--,L|=L>>>1,L|=L>>>2,L|=L>>>4,L|=L>>>8,L|=L>>>16,L++),L}function ut(L,q){return L<=0||q.length===0&&q.ended?0:q.objectMode?1:L!==L?q.flowing&&q.length?q.buffer.head.data.length:q.length:(L>q.highWaterMark&&(q.highWaterMark=tt(L)),L<=q.length?L:q.ended?q.length:(q.needReadable=!0,0))}ye.prototype.read=function(L){d("read",L),L=parseInt(L,10);var q=this._readableState,we=L;if(L!==0&&(q.emittedReadable=!1),L===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return d("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?he(this):it(this),null;if(L=ut(L,q),L===0&&q.ended)return q.length===0&&he(this),null;var $e=q.needReadable;d("need readable",$e),(q.length===0||q.length-L<q.highWaterMark)&&($e=!0,d("length less than watermark",$e)),q.ended||q.reading?($e=!1,d("reading or ended",$e)):$e&&(d("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(L=ut(we,q)));var Ze;return L>0?Ze=ae(L,q):Ze=null,Ze===null?(q.needReadable=q.length<=q.highWaterMark,L=0):(q.length-=L,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),we!==L&&q.ended&&he(this)),Ze!==null&&this.emit("data",Ze),Ze};function et(L,q){if(d("onEofChunk"),!q.ended){if(q.decoder){var we=q.decoder.end();we&&we.length&&(q.buffer.push(we),q.length+=q.objectMode?1:we.length)}q.ended=!0,q.sync?it(L):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,lt(L)))}}function it(L){var q=L._readableState;d("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(d("emitReadable",q.flowing),q.emittedReadable=!0,process$1.nextTick(lt,L))}function lt(L){var q=L._readableState;d("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(L.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,Z(L)}function Ke(L,q){q.readingMore||(q.readingMore=!0,process$1.nextTick(re,L,q))}function re(L,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var we=q.length;if(d("maybeReadMore read 0"),L.read(0),we===q.length)break}q.readingMore=!1}ye.prototype._read=function(L){X(this,new O("_read()"))},ye.prototype.pipe=function(L,q){var we=this,$e=this._readableState;switch($e.pipesCount){case 0:$e.pipes=L;break;case 1:$e.pipes=[$e.pipes,L];break;default:$e.pipes.push(L);break}$e.pipesCount+=1,d("pipe count=%d opts=%j",$e.pipesCount,q);var Ze=(!q||q.end!==!1)&&L!==process$1.stdout&&L!==process$1.stderr,Le=Ze?_t:I;$e.endEmitted?process$1.nextTick(Le):we.once("end",Le),L.on("unpipe",ce);function ce(j,Y){d("onunpipe"),j===we&&Y&&Y.hasUnpiped===!1&&(Y.hasUnpiped=!0,St())}function _t(){d("onend"),L.end()}var At=le(we);L.on("drain",At);var bt=!1;function St(){d("cleanup"),L.removeListener("close",Dt),L.removeListener("finish",y),L.removeListener("drain",At),L.removeListener("error",wt),L.removeListener("unpipe",ce),we.removeListener("end",_t),we.removeListener("end",I),we.removeListener("data",Ct),bt=!0,$e.awaitDrain&&(!L._writableState||L._writableState.needDrain)&&At()}we.on("data",Ct);function Ct(j){d("ondata");var Y=L.write(j);d("dest.write",Y),Y===!1&&(($e.pipesCount===1&&$e.pipes===L||$e.pipesCount>1&&je($e.pipes,L)!==-1)&&!bt&&(d("false write response, pause",$e.awaitDrain),$e.awaitDrain++),we.pause())}function wt(j){d("onerror",j),I(),L.removeListener("error",wt),n(L,"error")===0&&X(L,j)}ee(L,"error",wt);function Dt(){L.removeListener("finish",y),I()}L.once("close",Dt);function y(){d("onfinish"),L.removeListener("close",Dt),I()}L.once("finish",y);function I(){d("unpipe"),we.unpipe(L)}return L.emit("pipe",we),$e.flowing||(d("pipe resume"),we.resume()),L};function le(L){return function(){var q=L._readableState;d("pipeOnDrain",q.awaitDrain),q.awaitDrain&&q.awaitDrain--,q.awaitDrain===0&&n(L,"data")&&(q.flowing=!0,Z(L))}}ye.prototype.unpipe=function(L){var q=this._readableState,we={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return L&&L!==q.pipes?this:(L||(L=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,L&&L.emit("unpipe",this,we),this);if(!L){var $e=q.pipes,Ze=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var Le=0;Le<Ze;Le++)$e[Le].emit("unpipe",this,{hasUnpiped:!1});return this}var ce=je(q.pipes,L);return ce===-1?this:(q.pipes.splice(ce,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),L.emit("unpipe",this,we),this)},ye.prototype.on=function(L,q){var we=o.prototype.on.call(this,L,q),$e=this._readableState;return L==="data"?($e.readableListening=this.listenerCount("readable")>0,$e.flowing!==!1&&this.resume()):L==="readable"&&!$e.endEmitted&&!$e.readableListening&&($e.readableListening=$e.needReadable=!0,$e.flowing=!1,$e.emittedReadable=!1,d("on readable",$e.length,$e.reading),$e.length?it(this):$e.reading||process$1.nextTick(Be,this)),we},ye.prototype.addListener=ye.prototype.on,ye.prototype.removeListener=function(L,q){var we=o.prototype.removeListener.call(this,L,q);return L==="readable"&&process$1.nextTick(me,this),we},ye.prototype.removeAllListeners=function(L){var q=o.prototype.removeAllListeners.apply(this,arguments);return(L==="readable"||L===void 0)&&process$1.nextTick(me,this),q};function me(L){var q=L._readableState;q.readableListening=L.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:L.listenerCount("data")>0&&L.resume()}function Be(L){d("readable nexttick read 0"),L.read(0)}ye.prototype.resume=function(){var L=this._readableState;return L.flowing||(d("resume"),L.flowing=!L.readableListening,ze(this,L)),L.paused=!1,this};function ze(L,q){q.resumeScheduled||(q.resumeScheduled=!0,process$1.nextTick(Ue,L,q))}function Ue(L,q){d("resume",q.reading),q.reading||L.read(0),q.resumeScheduled=!1,L.emit("resume"),Z(L),q.flowing&&!q.reading&&L.read(0)}ye.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(L){var q=L._readableState;for(d("flow",q.flowing);q.flowing&&L.read()!==null;);}ye.prototype.wrap=function(L){var q=this,we=this._readableState,$e=!1;L.on("end",function(){if(d("wrapped end"),we.decoder&&!we.ended){var ce=we.decoder.end();ce&&ce.length&&q.push(ce)}q.push(null)}),L.on("data",function(ce){if(d("wrapped data"),we.decoder&&(ce=we.decoder.write(ce)),!(we.objectMode&&ce==null)&&!(!we.objectMode&&(!ce||!ce.length))){var _t=q.push(ce);_t||($e=!0,L.pause())}});for(var Ze in L)this[Ze]===void 0&&typeof L[Ze]=="function"&&(this[Ze]=function(ce){return function(){return L[ce].apply(L,arguments)}}(Ze));for(var Le=0;Le<H.length;Le++)L.on(H[Le],this.emit.bind(this,H[Le]));return this._read=function(ce){d("wrapped _read",ce),$e&&($e=!1,L.resume())},this},typeof Symbol=="function"&&(ye.prototype[Symbol.asyncIterator]=function(){return J===void 0&&(J=qv()),J(this)}),Object.defineProperty(ye.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(ye.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(ye.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(L){this._readableState&&(this._readableState.flowing=L)}}),ye._fromList=ae,Object.defineProperty(ye.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ae(L,q){if(q.length===0)return null;var we;return q.objectMode?we=q.buffer.shift():!L||L>=q.length?(q.decoder?we=q.buffer.join(""):q.buffer.length===1?we=q.buffer.first():we=q.buffer.concat(q.length),q.buffer.clear()):we=q.buffer.consume(L,q.decoder),we}function he(L){var q=L._readableState;d("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,process$1.nextTick(Ie,q,L))}function Ie(L,q){if(d("endReadableNT",L.endEmitted,L.length),!L.endEmitted&&L.length===0&&(L.endEmitted=!0,q.readable=!1,q.emit("end"),L.autoDestroy)){var we=q._writableState;(!we||we.autoDestroy&&we.finished)&&q.destroy()}}typeof Symbol=="function"&&(ye.from=function(L,q){return F===void 0&&(F=$v()),F(ye,L,q)});function je(L,q){for(var we=0,$e=L.length;we<$e;we++)if(L[we]===q)return we;return-1}}),_l=h((e,t)=>{u(),t.exports=l;var r=Mr().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,i=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,s=jr();Te()(l,s);function c(D,g){var w=this._transformState;w.transforming=!1;var f=w.writecb;if(f===null)return this.emit("error",new o);w.writechunk=null,w.writecb=null,g!=null&&this.push(g),f(D);var k=this._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}function l(D){if(!(this instanceof l))return new l(D);s.call(this,D),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,D&&(typeof D.transform=="function"&&(this._transform=D.transform),typeof D.flush=="function"&&(this._flush=D.flush)),this.on("prefinish",d)}function d(){var D=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(g,w){E(D,g,w)}):E(this,null,null)}l.prototype.push=function(D,g){return this._transformState.needTransform=!1,s.prototype.push.call(this,D,g)},l.prototype._transform=function(D,g,w){w(new n("_transform()"))},l.prototype._write=function(D,g,w){var f=this._transformState;if(f.writecb=w,f.writechunk=D,f.writeencoding=g,!f.transforming){var k=this._readableState;(f.needTransform||k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}},l.prototype._read=function(D){var g=this._transformState;g.writechunk!==null&&!g.transforming?(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform)):g.needTransform=!0},l.prototype._destroy=function(D,g){s.prototype._destroy.call(this,D,function(w){g(w)})};function E(D,g,w){if(g)return D.emit("error",g);if(w!=null&&D.push(w),D._writableState.length)throw new a;if(D._transformState.transforming)throw new i;return D.push(null)}}),nE=h((e,t)=>{u(),t.exports=n;var r=_l();Te()(n,r);function n(o){if(!(this instanceof n))return new n(o);r.call(this,o)}n.prototype._transform=function(o,i,a){a(null,o)}}),uE=h((e,t)=>{u();var r;function n(w){var f=!1;return function(){f||(f=!0,w.apply(void 0,arguments))}}var o=Mr().codes,i=o.ERR_MISSING_ARGS,a=o.ERR_STREAM_DESTROYED;function s(w){if(w)throw w}function c(w){return w.setHeader&&typeof w.abort=="function"}function l(w,f,k,T){T=n(T);var O=!1;w.on("close",function(){O=!0}),r===void 0&&(r=pa()),r(w,{readable:f,writable:k},function(R){if(R)return T(R);O=!0,T()});var P=!1;return function(R){if(!O&&!P){if(P=!0,c(w))return w.abort();if(typeof w.destroy=="function")return w.destroy();T(R||new a("pipe"))}}}function d(w){w()}function E(w,f){return w.pipe(f)}function D(w){return!w.length||typeof w[w.length-1]!="function"?s:w.pop()}function g(){for(var w=arguments.length,f=new Array(w),k=0;k<w;k++)f[k]=arguments[k];var T=D(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new i("streams");var O,P=f.map(function(R,J){var F=J<f.length-1,X=J>0;return l(R,F,X,function(H){O||(O=H),H&&P.forEach(d),!F&&(P.forEach(d),T(O))})});return f.reduce(E)}t.exports=g}),fE=h((e,t)=>{u(),e=t.exports=al(),e.Stream=e,e.Readable=e,e.Writable=il(),e.Duplex=jr(),e.Transform=_l(),e.PassThrough=nE(),e.finished=pa(),e.pipeline=uE()}),pE=h((e,t)=>{u();var r=Te(),{Readable:n}=fE();t.exports=o,r(o,n);function o(i,a){if(!(this instanceof o))return new o(i,a);a=a||{},n.call(this,Object.assign({},a,{objectMode:!0})),this._iterator=i,this._options=a,this.on("end",this.destroy.bind(this,null,null))}o.prototype._read=function(){this.destroyed||this._iterator.next((i,a,s)=>{if(!this.destroyed){if(i)return this.destroy(i);a===void 0&&s===void 0?this.push(null):this._options.keys!==!1&&this._options.values===!1?this.push(a):this._options.keys===!1&&this._options.values!==!1?this.push(s):this.push({key:a,value:s})}})},o.prototype._destroy=function(i,a){this._iterator.end(function(s){a(i||s)})}}),_a=h((e,t)=>{u();function r(o,i){let a=function(s,c){if(typeof s=="object"&&s!==null&&(c=c||s,s=s.message||s.name),s=s||"",c=c||void 0,typeof c=="object"&&c.type===o&&c.message===s)return c;Object.defineProperty(this,"type",{value:o,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"name",{value:o,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"cause",{value:c,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"message",{value:s,enumerable:!1,writable:!0,configurable:!0}),Error.call(this),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,a)};return a.prototype=new i,a}var n=r("LevelUPError",Error);t.exports={LevelUPError:n,InitializationError:r("InitializationError",n),OpenError:r("OpenError",n),ReadError:r("ReadError",n),WriteError:r("WriteError",n),NotFoundError:r("NotFoundError",n),EncodingError:r("EncodingError",n)},t.exports.NotFoundError.prototype.notFound=!0,t.exports.NotFoundError.prototype.status=404}),ro=h(e=>{u(),e.getCallback=function(t,r){return typeof t=="function"?t:r},e.getOptions=function(t){return typeof t=="object"&&t!==null?t:{}}}),yE=h((e,t)=>{u();var r=_a().WriteError,n=ta(),o=ro().getCallback,i=ro().getOptions;function a(s){this.db=s,this.batch=s.db.batch(),this.ops=[],this.length=0}a.prototype.put=function(s,c,l){try{this.batch.put(s,c,l)}catch(d){throw new r(d)}return this.ops.push({...l,type:"put",key:s,value:c}),this.length++,this},a.prototype.del=function(s,c){try{this.batch.del(s,c)}catch(l){throw new r(l)}return this.ops.push({...c,type:"del",key:s}),this.length++,this},a.prototype.clear=function(){try{this.batch.clear()}catch(s){throw new r(s)}return this.ops=[],this.length=0,this},a.prototype.write=function(s,c){let l=this.db,d=this.ops;c=o(s,c),c=n.fromCallback(c),s=i(s);try{this.batch.write(s,function(E){if(E)return c(new r(E));l.emit("batch",d),c()})}catch(E){throw new r(E)}return c.promise},t.exports=a}),wE=h((e,t)=>{u();var r=ra();t.exports=function(n,...o){o.length===0?r(n):r(()=>n(...o))}}),EE=h((e,t)=>{u();var r=Rn().EventEmitter,n=P0().inherits,o=cv(),i=pE(),a=yE(),s=_a(),c=Uf(),l=ta(),d=ro().getCallback,E=ro().getOptions,D=wE(),g=s.WriteError,w=s.ReadError,f=s.NotFoundError,k=s.OpenError,T=s.InitializationError;function O(R,J,F){if(!(this instanceof O))return new O(R,J,F);let X;if(r.call(this),this.setMaxListeners(1/0),typeof J=="function"&&(F=J,J={}),J=J||{},!R||typeof R!="object"){if(X=new T("First argument must be an abstract-leveldown compliant store"),typeof F=="function")return D(F,X);throw X}if(typeof R.status!="string")throw new Error(".status required, old abstract-leveldown");this.options=E(J),this._db=R,this.db=null,this.open(F||(H=>{H&&this.emit("error",H)})),this.supports=c(this.db.supports,{status:!0,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0});for(let H of Object.keys(this.supports.additionalMethods))this[H]==null&&(this[H]=function(...ee){return this.db[H](...ee)})}O.prototype.emit=r.prototype.emit,O.prototype.once=r.prototype.once,n(O,r),Object.defineProperty(O.prototype,"status",{enumerable:!0,get(){return this.db.status}}),O.prototype.isOperational=function(){return this.db.status==="open"||this.db.status==="opening"},O.prototype.open=function(R,J){return typeof R=="function"&&(J=R,R=null),J=l.fromCallback(J),R||(R=this.options),this.db&&this.isOpen()?(D(J,null,this),J.promise):this.db&&this._isOpening()?(this.once("open",()=>{J(null,this)}),J.promise):(this.db=new o(this._db),this.emit("opening"),this.db.open(R,F=>{if(F)return J(new k(F));this.db=this._db,J(null,this),this.emit("open"),this.emit("ready")}),J.promise)},O.prototype.close=function(R){return R=l.fromCallback(R),this.isOpen()?(this.db.close((J,...F)=>{this.emit("closed"),R(J,...F)}),this.emit("closing")):this.isClosed()?D(R):this.db.status==="closing"?this.once("closed",R):this._isOpening()&&this.once("open",()=>{this.close(R)}),R.promise},O.prototype.isOpen=function(){return this.db.status==="open"},O.prototype._isOpening=function(){return this.db.status==="opening"},O.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},O.prototype.get=function(R,J,F){return F=d(J,F),F=l.fromCallback(F),P(this,F)||(J=E(J),this.db.get(R,J,function(X,H){if(X)return/notfound/i.test(X)||X.notFound?X=new f("Key not found in database ["+R+"]",X):X=new w(X),F(X);F(null,H)})),F.promise},O.prototype.getMany=function(R,J,F){return this.db.getMany(R,J,F)},O.prototype.put=function(R,J,F,X){return X=d(F,X),X=l.fromCallback(X),P(this,X)||(F=E(F),this.db.put(R,J,F,H=>{if(H)return X(new g(H));this.emit("put",R,J),X()})),X.promise},O.prototype.del=function(R,J,F){return F=d(J,F),F=l.fromCallback(F),P(this,F)||(J=E(J),this.db.del(R,J,X=>{if(X)return F(new g(X));this.emit("del",R),F()})),F.promise},O.prototype.batch=function(R,J,F){return arguments.length?(typeof R=="function"?F=R:F=d(J,F),F=l.fromCallback(F),P(this,F)||(J=E(J),this.db.batch(R,J,X=>{if(X)return F(new g(X));this.emit("batch",R),F()})),F.promise):new a(this)},O.prototype.iterator=function(R){return this.db.iterator(R)},O.prototype.clear=function(R,J){return J=d(R,J),R=E(R),J=l.fromCallback(J),P(this,J)||this.db.clear(R,F=>{if(F)return J(new g(F));this.emit("clear",R),J()}),J.promise},O.prototype.readStream=O.prototype.createReadStream=function(R){return R=Object.assign({keys:!0,values:!0},R),typeof R.limit!="number"&&(R.limit=-1),new i(this.db.iterator(R),R)},O.prototype.keyStream=O.prototype.createKeyStream=function(R){return this.createReadStream(Object.assign({},R,{keys:!0,values:!1}))},O.prototype.valueStream=O.prototype.createValueStream=function(R){return this.createReadStream(Object.assign({},R,{keys:!1,values:!0}))},O.prototype.toString=function(){return"LevelUP"},O.prototype.type="levelup",O.prototype._nextTick=D;function P(R,J){return R.isOperational()?!1:(D(J,new w("Database is not open")),!0)}O.errors=s,t.exports=O}),_E=h(e=>{u();var{Buffer:t}=ct();e.utf8=e["utf-8"]={encode:function(i){return o(i)?i:String(i)},decode:n,buffer:!1,type:"utf8"},e.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},e.binary={encode:function(i){return o(i)?i:t.from(i)},decode:n,buffer:!0,type:"binary"},e.none={encode:n,decode:n,buffer:!1,type:"id"},e.id=e.none;var r=["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"];for(let i of r)e[i]={encode:function(a){return o(a)?a:t.from(a,i)},decode:function(a){return a.toString(i)},buffer:!0,type:i};function n(i){return i}function o(i){return i==null||t.isBuffer(i)}}),DE=h((e,t)=>{u();var r=_E(),n=new Set(["lt","gt","lte","gte"]);t.exports=o;function o(i){if(!(this instanceof o))return new o(i);this.opts=i||{},this.encodings=r}o.prototype._encoding=function(i){return typeof i=="string"&&(i=r[i]),i||(i=r.id),i},o.prototype._keyEncoding=function(i,a){return this._encoding(a&&a.keyEncoding||i&&i.keyEncoding||this.opts.keyEncoding)},o.prototype._valueEncoding=function(i,a){return this._encoding(a&&(a.valueEncoding||a.encoding)||i&&(i.valueEncoding||i.encoding)||this.opts.valueEncoding||this.opts.encoding)},o.prototype.encodeKey=function(i,a,s){return this._keyEncoding(a,s).encode(i)},o.prototype.encodeValue=function(i,a,s){return this._valueEncoding(a,s).encode(i)},o.prototype.decodeKey=function(i,a){return this._keyEncoding(a).decode(i)},o.prototype.decodeValue=function(i,a){return this._valueEncoding(a).decode(i)},o.prototype.encodeBatch=function(i,a){return i.map(s=>{let c={type:s.type,key:this.encodeKey(s.key,a,s)};return this.keyAsBuffer(a,s)&&(c.keyEncoding="binary"),s.prefix&&(c.prefix=s.prefix),"value"in s&&(c.value=this.encodeValue(s.value,a,s),this.valueAsBuffer(a,s)&&(c.valueEncoding="binary")),c})},o.prototype.encodeLtgt=function(i){let a={};for(let s of Object.keys(i)){if(s==="start"||s==="end")throw new Error('Legacy range options ("start" and "end") have been removed');a[s]=n.has(s)?this.encodeKey(i[s],i):i[s]}return a},o.prototype.createStreamDecoder=function(i){return i.keys&&i.values?(a,s)=>({key:this.decodeKey(a,i),value:this.decodeValue(s,i)}):i.keys?a=>this.decodeKey(a,i):i.values?(a,s)=>this.decodeValue(s,i):function(){}},o.prototype.keyAsBuffer=function(i){return this._keyEncoding(i).buffer},o.prototype.valueAsBuffer=function(i){return this._valueEncoding(i).buffer}}),TE=h((e,t)=>{u();var r=Nt().AbstractLevelDOWN,n=Nt().AbstractChainedBatch,o=Nt().AbstractIterator,i=Te(),a=DE(),s=_a().EncodingError,c=["approximateSize","compactRange"];t.exports=l;function l(D,g){if(!(this instanceof l))return new l(D,g);let w=D.supports||{},f=w.additionalMethods||{};r.call(this,w),this.supports.encodings=!0,this.supports.additionalMethods={},c.forEach(function(k){let T=typeof D[k]=="function";(f[k]||T)&&(this.supports.additionalMethods[k]=!0,this[k]=function(O,P,R,J){return O=this.codec.encodeKey(O,R),P=this.codec.encodeKey(P,R),this.db[k](O,P,R,J)})},this),g=g||{},typeof g.keyEncoding>"u"&&(g.keyEncoding="utf8"),typeof g.valueEncoding>"u"&&(g.valueEncoding="utf8"),this.db=D,this.codec=new a(g)}i(l,r),l.prototype.type="encoding-down",l.prototype._serializeKey=l.prototype._serializeValue=function(D){return D},l.prototype._open=function(D,g){this.db.open(D,g)},l.prototype._close=function(D){this.db.close(D)},l.prototype._put=function(D,g,w,f){D=this.codec.encodeKey(D,w),g=this.codec.encodeValue(g,w),this.db.put(D,g,w,f)},l.prototype._get=function(D,g,w){D=this.codec.encodeKey(D,g),g.asBuffer=this.codec.valueAsBuffer(g),this.db.get(D,g,(f,k)=>{if(f)return w(f);try{k=this.codec.decodeValue(k,g)}catch(T){return w(new s(T))}w(null,k)})},l.prototype._getMany=function(D,g,w){D=D.map(f=>this.codec.encodeKey(f,g)),g.asBuffer=this.codec.valueAsBuffer(g),this.db.getMany(D,g,(f,k)=>{if(f)return w(f);let T=new Array(k.length);for(let O=0;O<k.length;O++){if(k[O]===void 0){T[O]=void 0;continue}try{T[O]=this.codec.decodeValue(k[O],g)}catch(P){return w(new s(P))}}w(null,T)})},l.prototype._del=function(D,g,w){D=this.codec.encodeKey(D,g),this.db.del(D,g,w)},l.prototype._chainedBatch=function(){return new E(this)},l.prototype._batch=function(D,g,w){D=this.codec.encodeBatch(D,g),this.db.batch(D,g,w)},l.prototype._iterator=function(D){return D.keyAsBuffer=this.codec.keyAsBuffer(D),D.valueAsBuffer=this.codec.valueAsBuffer(D),new d(this,D)},l.prototype._clear=function(D,g){D=this.codec.encodeLtgt(D),this.db.clear(D,g)};function d(D,g){o.call(this,D),this.codec=D.codec,this.keys=g.keys,this.values=g.values,this.opts=this.codec.encodeLtgt(g),this.it=D.db.iterator(this.opts)}i(d,o),d.prototype._next=function(D){this.it.next((g,w,f)=>{if(g)return D(g);try{this.keys&&typeof w<"u"?w=this.codec.decodeKey(w,this.opts):w=void 0,this.values&&typeof f<"u"?f=this.codec.decodeValue(f,this.opts):f=void 0}catch(k){return D(new s(k))}D(null,w,f)})},d.prototype._seek=function(D){D=this.codec.encodeKey(D,this.opts),this.it.seek(D)},d.prototype._end=function(D){this.it.end(D)};function E(D,g){n.call(this,D),this.codec=D.codec,this.batch=D.db.batch()}i(E,n),E.prototype._put=function(D,g,w){D=this.codec.encodeKey(D,w),g=this.codec.encodeValue(g,w),this.batch.put(D,g)},E.prototype._del=function(D,g){D=this.codec.encodeKey(D,g),this.batch.del(D)},E.prototype._clear=function(){this.batch.clear()},E.prototype._write=function(D,g){this.batch.write(D,g)}}),BE=h((e,t)=>{u();var r=EE(),n=TE();function o(i){function a(c,l,d){return typeof c=="function"?d=c:typeof l=="function"&&(d=l),s(l)||(l=s(c)?c:{}),r(n(i(c,l),l),l,d)}function s(c){return typeof c=="object"&&c!==null}for(let c of["destroy","repair"])typeof i[c]=="function"&&(a[c]=function(...l){i[c](...l)});return a.errors=r.errors,a}t.exports=o}),kE=h((e,t)=>{u(),t.exports=n;var r=ra();function n(o,i,a){if(typeof i!="number")throw new Error("second argument must be a Number");let s,c,l,d,E,D=!0,g;Array.isArray(o)?(s=[],l=c=o.length):(d=Object.keys(o),s={},l=c=d.length);function w(k){function T(){a&&a(k,s),a=null}D?r(T):T()}function f(k,T,O){if(s[k]=O,T&&(E=!0),--l===0||T)w(T);else if(!E&&g<c){let P;d?(P=d[g],g+=1,o[P](function(R,J){f(P,R,J)})):(P=g,g+=1,o[P](function(R,J){f(P,R,J)}))}}g=i,l?d?d.some(function(k,T){return o[k](function(O,P){f(k,O,P)}),T===i-1}):o.some(function(k,T){return k(function(O,P){f(T,O,P)}),T===i-1}):w(null),D=!1}}),NE=h(e=>{u(),e.compare=function(g,w){if(Buffer.isBuffer(g)){for(var f=Math.min(g.length,w.length),k=0;k<f;k++){var T=g[k]-w[k];if(T)return T}return g.length-w.length}return g<w?-1:g>w?1:0};function t(g){return g!==void 0&&g!==""}function r(g,w){return Object.hasOwnProperty.call(g,w)}function n(g,w){return Object.hasOwnProperty.call(g,w)&&w}var o=e.lowerBoundKey=function(g){return n(g,"gt")||n(g,"gte")||n(g,"min")||(g.reverse?n(g,"end"):n(g,"start"))||void 0},i=e.lowerBound=function(g,w){var f=o(g);return f?g[f]:w},a=e.lowerBoundInclusive=function(g){return!r(g,"gt")},s=e.upperBoundInclusive=function(g){return!r(g,"lt")},c=e.lowerBoundExclusive=function(g){return!a(g)},l=e.upperBoundExclusive=function(g){return!s(g)},d=e.upperBoundKey=function(g){return n(g,"lt")||n(g,"lte")||n(g,"max")||(g.reverse?n(g,"start"):n(g,"end"))||void 0},E=e.upperBound=function(g,w){var f=d(g);return f?g[f]:w};e.start=function(g,w){return g.reverse?E(g,w):i(g,w)},e.end=function(g,w){return g.reverse?i(g,w):E(g,w)},e.startInclusive=function(g){return g.reverse?s(g):a(g)},e.endInclusive=function(g){return g.reverse?a(g):s(g)};function D(g){return g}e.toLtgt=function(g,w,f,k,T){w=w||{},f=f||D;var O=arguments.length>3,P=e.lowerBoundKey(g),R=e.upperBoundKey(g);return P?P==="gt"?w.gt=f(g.gt,!1):w.gte=f(g[P],!1):O&&(w.gte=f(k,!1)),R?R==="lt"?w.lt=f(g.lt,!0):w.lte=f(g[R],!0):O&&(w.lte=f(T,!0)),g.reverse!=null&&(w.reverse=!!g.reverse),r(w,"max")&&delete w.max,r(w,"min")&&delete w.min,r(w,"start")&&delete w.start,r(w,"end")&&delete w.end,w},e.contains=function(g,w,f){f=f||e.compare;var k=i(g);if(t(k)){var T=f(w,k);if(T<0||T===0&&c(g))return!1}var O=E(g);if(t(O)){var T=f(w,O);if(T>0||T===0&&l(g))return!1}return!0},e.filter=function(g,w){return function(f){return e.contains(g,f,w)}}}),kl=h((e,t)=>{u();var r=NE(),n=Symbol("none");t.exports=function(o){let i=r.lowerBound(o,n),a=r.upperBound(o,n),s=r.lowerBoundExclusive(o,n),c=r.upperBoundExclusive(o,n);return i!==n&&a!==n?IDBKeyRange.bound(i,a,s,c):i!==n?IDBKeyRange.lowerBound(i,s):a!==n?IDBKeyRange.upperBound(a,c):null}}),Fl=h((e,t)=>{u();var r=ct().Buffer,n=function(){if(global$1.TextDecoder){let a=new TextDecoder("utf-8");return a.decode.bind(a)}else return function(a){return i(a).toString()}}(),o=function(){if(global$1.TextDecoder){let a=new TextDecoder("utf-8");return a.decode.bind(a)}else return function(a){return r.from(a).toString()}}();function i(a){let s=r.from(a.buffer);return a.byteLength===a.buffer.byteLength?s:s.slice(a.byteOffset,a.byteOffset+a.byteLength)}t.exports=function(a,s){return a instanceof Uint8Array?s?i(a):n(a):a instanceof ArrayBuffer?s?r.from(a):o(a):s?r.from(String(a)):String(a)}}),KE=h((e,t)=>{u();var r=Te(),n=Nt().AbstractIterator,o=kl(),i=Fl(),a=function(){};t.exports=s;function s(c,l,d){if(n.call(this,c),this._limit=d.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=d.keys,this._values=d.values,this._keyAsBuffer=d.keyAsBuffer,this._valueAsBuffer=d.valueAsBuffer,this._limit===0){this._completed=!0;return}let E;try{E=o(d)}catch{this._completed=!0;return}this.createIterator(l,E,d.reverse)}r(s,n),s.prototype.createIterator=function(c,l,d){let E=this.db.db.transaction([c],"readonly"),D=E.objectStore(c).openCursor(l,d?"prev":"next");D.onsuccess=g=>{let w=g.target.result;w&&this.onItem(w)},this._transaction=E,E.onabort=()=>{this.onAbort(this._transaction.error||new Error("aborted by user"))},E.oncomplete=()=>{this.onComplete()}},s.prototype.onItem=function(c){this._cache.push(c.key,c.value),(this._limit<=0||++this._count<this._limit)&&c.continue(),this.maybeNext()},s.prototype.onAbort=function(c){this._aborted=!0,this._error=c,this.maybeNext()},s.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},s.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},s.prototype._next=function(c){if(this._aborted){let l=this._error;this._error=null,this._nextTick(c,l)}else if(this._cache.length>0){let l=this._cache.shift(),d=this._cache.shift();this._keys&&l!==void 0?l=this._deserializeKey(l,this._keyAsBuffer):l=void 0,this._values&&d!==void 0?d=this._deserializeValue(d,this._valueAsBuffer):d=void 0,this._nextTick(c,null,l,d)}else this._completed?this._nextTick(c):this._callback=c},s.prototype._deserializeKey=i,s.prototype._deserializeValue=i,s.prototype._end=function(c){if(this._aborted||this._completed)return this._nextTick(c,this._error);this.onItem=a,this.onAbort=c,this.onComplete=c}}),VE=h((e,t)=>{u();var r=ct().Buffer,n=function(){if(global$1.TextEncoder){let o=new TextEncoder("utf-8");return o.encode.bind(o)}else return r.from}();t.exports=function(o,i){return i?r.isBuffer(o)?o:n(String(o)):String(o)}}),GE=h(e=>{u();var t=ct().Buffer;e.test=function(r){return function(n){try{return n.cmp(r,0),!0}catch{return!1}}},e.bufferKeys=e.test(t.alloc(0))}),JE=h((e,t)=>{u(),t.exports=function(r,n,o,i,a){if(i.limit===0)return r._nextTick(a);let s=r.db.transaction([n],"readwrite"),c=s.objectStore(n),l=0;s.oncomplete=function(){a()},s.onabort=function(){a(s.error||new Error("aborted by user"))};let d=c.openKeyCursor?"openKeyCursor":"openCursor",E=i.reverse?"prev":"next";c[d](o,E).onsuccess=function(D){let g=D.target.result;g&&(c.delete(g.key).onsuccess=function(){(i.limit<=0||++l<i.limit)&&g.continue()})}}}),e_=h((e,t)=>{u(),t.exports=D;var r=Nt().AbstractLevelDOWN,n=Te(),o=kE(),i=KE(),a=VE(),s=Fl(),c=GE(),l=JE(),d=kl(),E="level-js-";function D(g,w){if(!(this instanceof D))return new D(g,w);if(r.call(this,{bufferKeys:c.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0,getMany:!0}),w=w||{},typeof g!="string")throw new Error("constructor requires a location string argument");this.location=g,this.prefix=w.prefix==null?E:w.prefix,this.version=parseInt(w.version||1,10)}n(D,r),D.prototype.type="level-js",D.prototype._open=function(g,w){let f=indexedDB.open(this.prefix+this.location,this.version);f.onerror=function(){w(f.error||new Error("unknown error"))},f.onsuccess=()=>{this.db=f.result,w()},f.onupgradeneeded=k=>{let T=k.target.result;T.objectStoreNames.contains(this.location)||T.createObjectStore(this.location)}},D.prototype.store=function(g){return this.db.transaction([this.location],g).objectStore(this.location)},D.prototype.await=function(g,w){let f=g.transaction;f.onabort=function(){w(f.error||new Error("aborted by user"))},f.oncomplete=function(){w(null,g.result)}},D.prototype._get=function(g,w,f){let k=this.store("readonly"),T;try{T=k.get(g)}catch(O){return this._nextTick(f,O)}this.await(T,function(O,P){if(O)return f(O);if(P===void 0)return f(new Error("NotFound"));f(null,s(P,w.asBuffer))})},D.prototype._getMany=function(g,w,f){let k=w.asBuffer,T=this.store("readonly"),O=g.map(P=>R=>{let J;try{J=T.get(P)}catch(F){return R(F)}J.onsuccess=()=>{let F=J.result;R(null,F===void 0?F:s(F,k))},J.onerror=F=>{F.stopPropagation(),R(J.error)}});o(O,16,f)},D.prototype._del=function(g,w,f){let k=this.store("readwrite"),T;try{T=k.delete(g)}catch(O){return this._nextTick(f,O)}this.await(T,f)},D.prototype._put=function(g,w,f,k){let T=this.store("readwrite"),O;try{O=T.put(w,g)}catch(P){return this._nextTick(k,P)}this.await(O,k)},D.prototype._serializeKey=function(g){return a(g,this.supports.bufferKeys)},D.prototype._serializeValue=function(g){return a(g,!0)},D.prototype._iterator=function(g){return new i(this,this.location,g)},D.prototype._batch=function(g,w,f){if(g.length===0)return this._nextTick(f);let k=this.store("readwrite"),T=k.transaction,O=0,P;T.onabort=function(){f(P||T.error||new Error("aborted by user"))},T.oncomplete=function(){f()};function R(){let J=g[O++],F=J.key,X;try{X=J.type==="del"?k.delete(F):k.put(J.value,F)}catch(H){P=H,T.abort();return}O<g.length&&(X.onsuccess=R)}R()},D.prototype._clear=function(g,w){let f,k;try{f=d(g)}catch{return this._nextTick(w)}if(g.limit>=0)return l(this,this.location,f,g,w);try{let T=this.store("readwrite");k=f?T.delete(f):T.clear()}catch(T){return this._nextTick(w,T)}this.await(k,w)},D.prototype._close=function(g){this.db.close(),this._nextTick(g)},D.prototype.upgrade=function(g){if(this.status!=="open")return this._nextTick(g,new Error("cannot upgrade() before open()"));let w=this.iterator(),f={},k=this;w._deserializeKey=w._deserializeValue=R,T();function T(J){if(J)return P(J);w.next(O)}function O(J,F,X){if(J||F===void 0)return P(J);let H=k._serializeKey(s(F,!0)),ee=k._serializeValue(s(X,!0));k._batch([{type:"del",key:F},{type:"put",key:H,value:ee}],f,T)}function P(J){w.end(function(F){g(J||F)})}function R(J){return J}},D.destroy=function(g,w,f){typeof w=="function"&&(f=w,w=E);let k=indexedDB.deleteDatabase(w+g);k.onsuccess=function(){f()},k.onerror=function(T){f(T)}}}),r_=h((e,t)=>{u(),t.exports=BE()(e_())}),s_=h((e,t)=>{u();var r=Fi();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let i=new r,a,s,c,l=()=>{if(!i.isEmpty()){if(n.writev){let O,P=[];for(;!i.isEmpty();){if(O=i.shift(),O.error)throw O.error;P.push(O.value)}return{done:O.done,value:P}}let T=i.shift();if(T.error)throw T.error;return T}return c?{done:!0}:new Promise((T,O)=>{s=P=>(s=null,P.error?O(P.error):n.writev&&!P.done?T({done:P.done,value:[P.value]}):T(P),a)})},d=T=>s?s(T):(i.push(T),a),E=T=>(i=new r,s?s({error:T}):(i.push({error:T}),a)),D=T=>c?a:d({done:!1,value:T}),g=T=>c?a:(c=!0,T?E(T):d({done:!0})),w=()=>(i=new r,g(),{done:!0}),f=T=>(g(T),{done:!0});if(a={[Symbol.asyncIterator](){return this},next:l,return:w,throw:f,push:D,end:g},!o)return a;let k=a;return a={[Symbol.asyncIterator](){return this},next(){return k.next()},throw(T){return k.throw(T),o&&(o(T),o=null),{done:!0}},return(){return k.return(),o&&(o(),o=null),{done:!0}},push:D,end(T){return k.end(T),o&&(o(T),o=null),a}},a}});u();u();var cf=_(za(),1),Xw=_(We(),1),Ir=_(dt(),1);u();u();u();ge();u();xo();ke();yt();var Tt="/",np=new TextEncoder().encode(Tt),To=np[0],A=class{constructor(e,t){if(typeof e=="string")this._buf=oe(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(t==null&&(t=!0),t&&this.clean(),this._buf.byteLength===0||this._buf[0]!==To)throw new Error("Invalid key")}toString(e="utf8"){return de(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new A(e.join(Tt))}static random(){return new A(eu().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new A(e):e.uint8Array?new A(e.uint8Array()):null}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=np),this._buf[0]!==To){let e=new Uint8Array(this._buf.byteLength+1);e.fill(To,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===To;)this._buf=this._buf.subarray(0,-1)}less(e){let t=this.list(),r=e.list();for(let n=0;n<t.length;n++){if(r.length<n+1)return!1;let o=t[n],i=r[n];if(o<i)return!0;if(o>i)return!1}return t.length<r.length}reverse(){return A.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Tt).slice(1)}type(){return gx(this.baseNamespace())}name(){return mx(this.baseNamespace())}instance(e){return new A(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Tt)||(e+=Tt),e+=this.type(),new A(e)}parent(){let e=this.list();return e.length===1?new A(Tt):new A(e.slice(0,-1).join(Tt))}child(e){return this.toString()===Tt?e:e.toString()===Tt?this:new A(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return A.withNamespaces([...this.namespaces(),...wx(e.map(t=>t.namespaces()))])}};function gx(e){let t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}function mx(e){let t=e.split(":");return t[t.length-1]}function wx(e){return[].concat(...e)}var sp=_(We(),1),ap=_(Eu(),1);ht();ci();pt();var vx=(0,sp.default)("ipfs:repo:migrator:migration-8");function up(e){return e.child?up(e.child):e}function Ex(e){try{let t=U.decode(`b${e.toString().toLowerCase().slice(1)}`),r=S.decode(t).multihash.bytes,n=U.encode(r).slice(1).toUpperCase();return new A(`/${n}`,!1)}catch{return e}}function _x(e){try{let t=U.decode(`b${e.toString().toLowerCase().slice(1)}`),r=Ve(t),n=U.encode(S.createV1(ui,r).bytes).slice(1);return new A(`/${n.toUpperCase()}`,!1)}catch{return e}}async function op(e,t,r){let n=e.blocks;await n.open();let o=up(n),i=await(0,ap.default)(o.queryKeys({filters:[a=>r(a).toString()!==a.toString()]}));try{let a=0;for await(let s of o.query({})){let c=r(s.key);c.toString()!==s.key.toString()&&(a+=1,vx(`Migrating Block from ${s.key} to ${c}`,await o.has(s.key)),await o.delete(s.key),await o.put(c,s.value),t(a/i*100,`Migrated Block from ${s.key} to ${c}`))}}finally{await n.close()}}var cp={version:8,description:"Transforms key names into base32 encoding and converts Block store to use bare multihashes encoded as base32",migrate:(e,t=()=>{})=>op(e,t,Ex),revert:(e,t=()=>{})=>op(e,t,_x)};u();ge();u();ge();u();var xx=new TextDecoder;function _u(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");let o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function Io(e,t){let r;[r,t]=_u(e,t);let n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function fp(e,t){let r;return[r,t]=_u(e,t),[r&7,r>>3,t]}function Dx(e){let t={},r=e.length,n=0;for(;n<r;){let o,i;if([o,i,n]=fp(e,n),i===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=Io(e,n)}else if(i===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let a;[a,n]=Io(e,n),t.Name=xx.decode(a)}else if(i===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=_u(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function lp(e){let t=e.length,r=0,n,o=!1,i;for(;r<t;){let s,c;if([s,c,r]=fp(e,r),s!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${s}`);if(c===1){if(i)throw new Error("protobuf: (PBNode) duplicate Data section");[i,r]=Io(e,r),n&&(o=!0)}else if(c===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let l;[l,r]=Io(e,r),n.push(Dx(l))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");let a={};return i&&(a.Data=i),a.Links=n||[],a}u();var pp=new TextEncoder,dp=2**32,Ax=2**31;function Sx(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=li(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){let n=pp.encode(e.Name);r-=n.length,t.set(n,r),r=li(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=li(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function hp(e){let t=Ox(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=li(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){let i=Sx(e.Links[o],r.subarray(0,n));n-=i,n=li(r,n,i)-1,r[n]=18}return r}function Cx(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+cn(r)}if(typeof e.Name=="string"){let r=pp.encode(e.Name).length;t+=1+r+cn(r)}return typeof e.Tsize=="number"&&(t+=1+cn(e.Tsize)),t}function Ox(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+cn(r)}if(e.Links)for(let r of e.Links){let n=Cx(r);t+=1+n+cn(n)}return t}function li(e,t,r){t-=cn(r);let n=t;for(;r>=Ax;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function cn(e){return e%2===0&&e++,Math.floor((Tx(e)+6)/7)}function Tx(e){let t=0;return e>=dp&&(e=Math.floor(e/dp),t=32),e>=1<<16&&(e>>>=16,t+=16),e>=1<<8&&(e>>>=8,t+=8),t+Ix[e]}var Ix=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];u();ge();var Rx=["Data","Links"],Bx=["Hash","Name","Tsize"],yp=new TextEncoder;function Px(e,t){if(e===t)return 0;let r=e.Name?yp.encode(e.Name):[],n=t.Name?yp.encode(t.Name):[],o=r.length,i=n.length;for(let a=0,s=Math.min(o,i);a<s;++a)if(r[a]!==n[a]){o=r[a],i=n[a];break}return o<i?-1:i<o?1:0}function gp(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function mp(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!gp(e,Rx))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!gp(r,Bx))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&Px(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}var It=112;function di(e){mp(e);let t={};return e.Links&&(t.Links=e.Links.map(r=>{let n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),e.Data&&(t.Data=e.Data),hp(t)}function pi(e){let t=lp(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(n=>{let o={};try{o.Hash=S.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}u();u();u();var kx=["string","number","bigint","symbol"],Fx=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function wp(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;return kx.includes(t)?t:t==="function"?"Function":Array.isArray(e)?"Array":Nx(e)?"Buffer":Lx(e)||"Object"}function Nx(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function Lx(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(Fx.includes(t))return t}u();var m=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};m.uint=new m(0,"uint",!0);m.negint=new m(1,"negint",!0);m.bytes=new m(2,"bytes",!0);m.string=new m(3,"string",!0);m.array=new m(4,"array",!1);m.map=new m(5,"map",!1);m.tag=new m(6,"tag",!1);m.float=new m(7,"float",!0);m.false=new m(7,"false",!0);m.true=new m(7,"true",!0);m.null=new m(7,"null",!0);m.undefined=new m(7,"undefined",!0);m.break=new m(7,"break",!0);var x=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};u();u();var fn=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Mx=new TextDecoder,jx=new TextEncoder;function Ro(e){return fn&&globalThis.Buffer.isBuffer(e)}function Du(e){return e instanceof Uint8Array?Ro(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var _p=fn?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):vp(e,t,r):(e,t,r)=>r-t>64?Mx.decode(e.subarray(t,r)):vp(e,t,r),xp=fn?e=>e.length>64?globalThis.Buffer.from(e):bp(e):e=>e.length>64?jx.encode(e):bp(e),gt=e=>Uint8Array.from(e),ln=fn?(e,t,r)=>Ro(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Dp=fn?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Du(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Ap=fn?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Sp(e,t){if(Ro(e)&&Ro(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function bp(e,t=1/0){let r,n=e.length,o=null,i=[];for(let a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function vp(e,t,r){let n=[];for(;t<r;){let o=e[t],i=null,a=o>239?4:o>223?3:o>191?2:1;if(t+a<=r){let s,c,l,d;switch(a){case 1:o<128&&(i=o);break;case 2:s=e[t+1],(s&192)===128&&(d=(o&31)<<6|s&63,d>127&&(i=d));break;case 3:s=e[t+1],c=e[t+2],(s&192)===128&&(c&192)===128&&(d=(o&15)<<12|(s&63)<<6|c&63,d>2047&&(d<55296||d>57343)&&(i=d));break;case 4:s=e[t+1],c=e[t+2],l=e[t+3],(s&192)===128&&(c&192)===128&&(l&192)===128&&(d=(o&15)<<18|(s&63)<<12|(c&63)<<6|l&63,d>65535&&d<1114112&&(i=d))}}i===null?(i=65533,a=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|i&1023),n.push(i),t+=a}return qx(n)}var Ep=4096;function qx(e){let t=e.length;if(t<=Ep)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Ep));return r}var Ux=256,hi=class{constructor(e=Ux){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let r=t.length-(this.maxCursor-this.cursor)-1;r<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,r),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Ap(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=ln(r,0,this.cursor)}else t=Dp(this.chunks,this.cursor);return e&&this.reset(),t}};u();var C="CBOR decode error:",Au="CBOR encode error:";function Rt(e,t,r){if(e.length-t<r)throw new Error(`${C} not enough data for type`)}u();u();var te=[24,256,65536,4294967296,BigInt("18446744073709551616")];function De(e,t,r){Rt(e,t,1);let n=e[t];if(r.strict===!0&&n<te[0])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);return n}function Ae(e,t,r){Rt(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<te[1])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);return n}function Se(e,t,r){Rt(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<te[2])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);return n}function Ce(e,t,r){Rt(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&i<te[3])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(r.allowBigInt===!0)return i;throw new Error(`${C} integers outside of the safe integer range are not supported`)}function Cp(e,t,r,n){return new x(m.uint,De(e,t+1,n),2)}function Op(e,t,r,n){return new x(m.uint,Ae(e,t+1,n),3)}function Tp(e,t,r,n){return new x(m.uint,Se(e,t+1,n),5)}function Ip(e,t,r,n){return new x(m.uint,Ce(e,t+1,n),9)}function Fe(e,t){return se(e,0,t.value)}function se(e,t,r){if(r<te[0]){let n=Number(r);e.push([t|n])}else if(r<te[1]){let n=Number(r);e.push([t|24,n])}else if(r<te[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<te[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<te[4]){let o=[t|27,0,0,0,0,0,0,0],i=Number(n&BigInt(4294967295)),a=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=i&255,i=i>>8,o[7]=i&255,i=i>>8,o[6]=i&255,i=i>>8,o[5]=i&255,o[4]=a&255,a=a>>8,o[3]=a&255,a=a>>8,o[2]=a&255,a=a>>8,o[1]=a&255,e.push(o)}else throw new Error(`${C} encountered BigInt larger than allowable range`)}}Fe.encodedSize=function(e){return se.encodedSize(e.value)};se.encodedSize=function(e){return e<te[0]?1:e<te[1]?2:e<te[2]?3:e<te[3]?5:9};Fe.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};u();function Rp(e,t,r,n){return new x(m.negint,-1-De(e,t+1,n),2)}function Bp(e,t,r,n){return new x(m.negint,-1-Ae(e,t+1,n),3)}function Pp(e,t,r,n){return new x(m.negint,-1-Se(e,t+1,n),5)}var Su=BigInt(-1),kp=BigInt(1);function Fp(e,t,r,n){let o=Ce(e,t+1,n);if(typeof o!="bigint"){let i=-1-o;if(i>=Number.MIN_SAFE_INTEGER)return new x(m.negint,i,9)}if(n.allowBigInt!==!0)throw new Error(`${C} integers outside of the safe integer range are not supported`);return new x(m.negint,Su-BigInt(o),9)}function Bo(e,t){let r=t.value,n=typeof r=="bigint"?r*Su-kp:r*-1-1;se(e,t.type.majorEncoded,n)}Bo.encodedSize=function(e){let t=e.value,r=typeof t=="bigint"?t*Su-kp:t*-1-1;return r<te[0]?1:r<te[1]?2:r<te[2]?3:r<te[3]?5:9};Bo.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};u();function gi(e,t,r,n){Rt(e,t,r+n);let o=ln(e,t+r,t+r+n);return new x(m.bytes,o,r+n)}function Np(e,t,r,n){return gi(e,t,1,r)}function Lp(e,t,r,n){return gi(e,t,2,De(e,t+1,n))}function Mp(e,t,r,n){return gi(e,t,3,Ae(e,t+1,n))}function jp(e,t,r,n){return gi(e,t,5,Se(e,t+1,n))}function qp(e,t,r,n){let o=Ce(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer bytes lengths not supported`);return gi(e,t,9,o)}function Po(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===m.string?xp(e.value):e.value),e.encodedBytes}function dn(e,t){let r=Po(t);se(e,t.type.majorEncoded,r.length),e.push(r)}dn.encodedSize=function(e){let t=Po(e);return se.encodedSize(t.length)+t.length};dn.compareTokens=function(e,t){return Kx(Po(e),Po(t))};function Kx(e,t){return e.length<t.length?-1:e.length>t.length?1:Sp(e,t)}u();function mi(e,t,r,n,o){let i=r+n;Rt(e,t,i);let a=new x(m.string,_p(e,t+r,t+i),i);return o.retainStringBytes===!0&&(a.byteValue=ln(e,t+r,t+i)),a}function Up(e,t,r,n){return mi(e,t,1,r,n)}function $p(e,t,r,n){return mi(e,t,2,De(e,t+1,n),n)}function Kp(e,t,r,n){return mi(e,t,3,Ae(e,t+1,n),n)}function zp(e,t,r,n){return mi(e,t,5,Se(e,t+1,n),n)}function Wp(e,t,r,n){let o=Ce(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer string lengths not supported`);return mi(e,t,9,o,n)}var Vp=dn;u();function pn(e,t,r,n){return new x(m.array,n,r)}function Gp(e,t,r,n){return pn(e,t,1,r)}function Hp(e,t,r,n){return pn(e,t,2,De(e,t+1,n))}function Jp(e,t,r,n){return pn(e,t,3,Ae(e,t+1,n))}function Yp(e,t,r,n){return pn(e,t,5,Se(e,t+1,n))}function Qp(e,t,r,n){let o=Ce(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer array lengths not supported`);return pn(e,t,9,o)}function Zp(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C} indefinite length items not allowed`);return pn(e,t,1,1/0)}function ko(e,t){se(e,m.array.majorEncoded,t.value)}ko.compareTokens=Fe.compareTokens;ko.encodedSize=function(e){return se.encodedSize(e.value)};u();function hn(e,t,r,n){return new x(m.map,n,r)}function Xp(e,t,r,n){return hn(e,t,1,r)}function eh(e,t,r,n){return hn(e,t,2,De(e,t+1,n))}function th(e,t,r,n){return hn(e,t,3,Ae(e,t+1,n))}function rh(e,t,r,n){return hn(e,t,5,Se(e,t+1,n))}function nh(e,t,r,n){let o=Ce(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer map lengths not supported`);return hn(e,t,9,o)}function ih(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C} indefinite length items not allowed`);return hn(e,t,1,1/0)}function Fo(e,t){se(e,m.map.majorEncoded,t.value)}Fo.compareTokens=Fe.compareTokens;Fo.encodedSize=function(e){return se.encodedSize(e.value)};u();function oh(e,t,r,n){return new x(m.tag,r,1)}function sh(e,t,r,n){return new x(m.tag,De(e,t+1,n),2)}function ah(e,t,r,n){return new x(m.tag,Ae(e,t+1,n),3)}function uh(e,t,r,n){return new x(m.tag,Se(e,t+1,n),5)}function ch(e,t,r,n){return new x(m.tag,Ce(e,t+1,n),9)}function No(e,t){se(e,m.tag.majorEncoded,t.value)}No.compareTokens=Fe.compareTokens;No.encodedSize=function(e){return se.encodedSize(e.value)};u();var Jx=20,Yx=21,Qx=22,Zx=23;function fh(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${C} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new x(m.null,null,1):new x(m.undefined,void 0,1)}function lh(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C} indefinite length items not allowed`);return new x(m.break,void 0,1)}function Cu(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${C} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${C} Infinity values are not supported`)}return new x(m.float,e,t)}function dh(e,t,r,n){return Cu(Ou(e,t+1),3,n)}function ph(e,t,r,n){return Cu(Tu(e,t+1),5,n)}function hh(e,t,r,n){return Cu(wh(e,t+1),9,n)}function Lo(e,t,r){let n=t.value;if(n===!1)e.push([m.float.majorEncoded|Jx]);else if(n===!0)e.push([m.float.majorEncoded|Yx]);else if(n===null)e.push([m.float.majorEncoded|Qx]);else if(n===void 0)e.push([m.float.majorEncoded|Zx]);else{let o,i=!1;(!r||r.float64!==!0)&&(gh(n),o=Ou(Je,1),n===o||Number.isNaN(n)?(Je[0]=249,e.push(Je.slice(0,3)),i=!0):(mh(n),o=Tu(Je,1),n===o&&(Je[0]=250,e.push(Je.slice(0,5)),i=!0))),i||(Xx(n),o=wh(Je,1),Je[0]=251,e.push(Je.slice(0,9)))}}Lo.encodedSize=function(e,t){let r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){gh(r);let n=Ou(Je,1);if(r===n||Number.isNaN(r))return 3;if(mh(r),n=Tu(Je,1),r===n)return 5}return 9};var yh=new ArrayBuffer(9),Ne=new DataView(yh,1),Je=new Uint8Array(yh,0);function gh(e){if(e===1/0)Ne.setUint16(0,31744,!1);else if(e===-1/0)Ne.setUint16(0,64512,!1);else if(Number.isNaN(e))Ne.setUint16(0,32256,!1);else{Ne.setFloat32(0,e);let t=Ne.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)Ne.setUint16(0,31744,!1);else if(r===0)Ne.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Ne.setUint16(0,0):o<-14?Ne.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):Ne.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function Ou(e,t){if(e.length-t<2)throw new Error(`${C} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,i;return n===0?i=o*2**-24:n!==31?i=(o+1024)*2**(n-25):i=o===0?1/0:NaN,r&32768?-i:i}function mh(e){Ne.setFloat32(0,e,!1)}function Tu(e,t){if(e.length-t<4)throw new Error(`${C} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Xx(e){Ne.setFloat64(0,e,!1)}function wh(e,t){if(e.length-t<8)throw new Error(`${C} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}Lo.compareTokens=Fe.compareTokens;function N(e,t,r){throw new Error(`${C} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Mo(e){return()=>{throw new Error(`${C} ${e}`)}}var v=[];for(let e=0;e<=23;e++)v[e]=N;v[24]=Cp;v[25]=Op;v[26]=Tp;v[27]=Ip;v[28]=N;v[29]=N;v[30]=N;v[31]=N;for(let e=32;e<=55;e++)v[e]=N;v[56]=Rp;v[57]=Bp;v[58]=Pp;v[59]=Fp;v[60]=N;v[61]=N;v[62]=N;v[63]=N;for(let e=64;e<=87;e++)v[e]=Np;v[88]=Lp;v[89]=Mp;v[90]=jp;v[91]=qp;v[92]=N;v[93]=N;v[94]=N;v[95]=Mo("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)v[e]=Up;v[120]=$p;v[121]=Kp;v[122]=zp;v[123]=Wp;v[124]=N;v[125]=N;v[126]=N;v[127]=Mo("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)v[e]=Gp;v[152]=Hp;v[153]=Jp;v[154]=Yp;v[155]=Qp;v[156]=N;v[157]=N;v[158]=N;v[159]=Zp;for(let e=160;e<=183;e++)v[e]=Xp;v[184]=eh;v[185]=th;v[186]=rh;v[187]=nh;v[188]=N;v[189]=N;v[190]=N;v[191]=ih;for(let e=192;e<=215;e++)v[e]=oh;v[216]=sh;v[217]=ah;v[218]=uh;v[219]=ch;v[220]=N;v[221]=N;v[222]=N;v[223]=N;for(let e=224;e<=243;e++)v[e]=Mo("simple values are not supported");v[244]=N;v[245]=N;v[246]=N;v[247]=fh;v[248]=Mo("simple values are not supported");v[249]=dh;v[250]=ph;v[251]=hh;v[252]=N;v[253]=N;v[254]=N;v[255]=lh;var Ye=[];for(let e=0;e<24;e++)Ye[e]=new x(m.uint,e,1);for(let e=-1;e>=-24;e--)Ye[31-e]=new x(m.negint,e,1);Ye[64]=new x(m.bytes,new Uint8Array(0),1);Ye[96]=new x(m.string,"",1);Ye[128]=new x(m.array,0,1);Ye[160]=new x(m.map,0,1);Ye[244]=new x(m.false,!1,1);Ye[245]=new x(m.true,!0,1);Ye[246]=new x(m.null,null,1);function bh(e){switch(e.type){case m.false:return gt([244]);case m.true:return gt([245]);case m.null:return gt([246]);case m.bytes:return e.value.length?void 0:gt([64]);case m.string:return e.value===""?gt([96]):void 0;case m.array:return e.value===0?gt([128]):void 0;case m.map:return e.value===0?gt([160]):void 0;case m.uint:return e.value<24?gt([Number(e.value)]):void 0;case m.negint:if(e.value>=-24)return gt([31-Number(e.value)])}}var t2={float64:!1,mapSorter:i2,quickEncodeToken:bh};function r2(){let e=[];return e[m.uint.major]=Fe,e[m.negint.major]=Bo,e[m.bytes.major]=dn,e[m.string.major]=Vp,e[m.array.major]=ko,e[m.map.major]=Fo,e[m.tag.major]=No,e[m.float.major]=Lo,e}var vh=r2(),Iu=new hi,yn=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${Au} object contains circular references`);return new yn(t,e)}},Kt={null:new x(m.null,null),undefined:new x(m.undefined,void 0),true:new x(m.true,!0),false:new x(m.false,!1),emptyArray:new x(m.array,0),emptyMap:new x(m.map,0)},zt={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new x(m.float,e):e>=0?new x(m.uint,e):new x(m.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new x(m.uint,e):new x(m.negint,e)},Uint8Array(e,t,r,n){return new x(m.bytes,e)},string(e,t,r,n){return new x(m.string,e)},boolean(e,t,r,n){return e?Kt.true:Kt.false},null(e,t,r,n){return Kt.null},undefined(e,t,r,n){return Kt.undefined},ArrayBuffer(e,t,r,n){return new x(m.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new x(m.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Kt.emptyArray,new x(m.break)]:Kt.emptyArray;n=yn.createCheck(n,e);let o=[],i=0;for(let a of e)o[i++]=jo(a,r,n);return r.addBreakTokens?[new x(m.array,e.length),o,new x(m.break)]:[new x(m.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",i=o?e.keys():Object.keys(e),a=o?e.size:i.length;if(!a)return r.addBreakTokens===!0?[Kt.emptyMap,new x(m.break)]:Kt.emptyMap;n=yn.createCheck(n,e);let s=[],c=0;for(let l of i)s[c++]=[jo(l,r,n),jo(o?e.get(l):e[l],r,n)];return n2(s,r),r.addBreakTokens?[new x(m.map,a),s,new x(m.break)]:[new x(m.map,a),s]}};zt.Map=zt.Object;zt.Buffer=zt.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))zt[`${e}Array`]=zt.DataView;function jo(e,t={},r){let n=wp(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||zt[n];if(typeof o=="function"){let a=o(e,n,t,r);if(a!=null)return a}let i=zt[n];if(!i)throw new Error(`${Au} unsupported type: ${n}`);return i(e,n,t,r)}function n2(e,t){t.mapSorter&&e.sort(t.mapSorter)}function i2(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,i=vh[o].compareTokens(r,n);return i===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),i}function Eh(e,t,r,n){if(Array.isArray(t))for(let o of t)Eh(e,o,r,n);else r[t.type.major](e,t,n)}function o2(e,t,r){let n=jo(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let i=t[n.type.major];if(i.encodedSize){let a=i.encodedSize(n,r),s=new hi(a);if(i(s,n,r),s.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Du(s.chunks[0])}}return Iu.reset(),Eh(Iu,n,t,r),Iu.toBytes(!0)}function wr(e,t){return t=Object.assign({},t2,t),o2(e,vh,t)}u();var s2={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Ru=class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=Ye[e];if(t===void 0){let r=v[e];if(!r)throw new Error(`${C} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}},wi=Symbol.for("DONE"),qo=Symbol.for("BREAK");function a2(e,t,r){let n=[];for(let o=0;o<e.value;o++){let i=bi(t,r);if(i===qo){if(e.value===1/0)break;throw new Error(`${C} got unexpected break to lengthed array`)}if(i===wi)throw new Error(`${C} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=i}return n}function u2(e,t,r){let n=r.useMaps===!0,o=n?void 0:{},i=n?new Map:void 0;for(let a=0;a<e.value;a++){let s=bi(t,r);if(s===qo){if(e.value===1/0)break;throw new Error(`${C} got unexpected break to lengthed map`)}if(s===wi)throw new Error(`${C} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(n!==!0&&typeof s!="string")throw new Error(`${C} non-string keys not supported (got ${typeof s})`);let c=bi(t,r);if(c===wi)throw new Error(`${C} found map but not enough entries (got ${a} [no value], expected ${e.value})`);n?i.set(s,c):o[s]=c}return n?i:o}function bi(e,t){if(e.done())return wi;let r=e.next();if(r.type===m.break)return qo;if(r.type.terminal)return r.value;if(r.type===m.array)return a2(r,e,t);if(r.type===m.map)return u2(r,e,t);if(r.type===m.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=bi(e,t);return t.tags[r.value](n)}throw new Error(`${C} tag not supported (${r.value})`)}throw new Error("unsupported")}function mt(e,t){if(!(e instanceof Uint8Array))throw new Error(`${C} data to decode must be a Uint8Array`);t=Object.assign({},s2,t);let r=t.tokenizer||new Ru(e,t),n=bi(r,t);if(n===wi)throw new Error(`${C} did not find any content to decode`);if(n===qo)throw new Error(`${C} got unexpected break`);if(!r.done())throw new Error(`${C} too many terminals, data makes no sense`);return n}u();ge();u();var Er=_(Ht(),1),by=Er.default.Reader,w2=Er.default.Writer;Er.default.util;var Wo=Er.default.roots.default||(Er.default.roots.default={}),vy=Wo.ipfs=(()=>{let e={};return e.pin=function(){let t={};return t.Set=function(){function r(n){if(n)for(var o=Object.keys(n),i=0;i<o.length;++i)n[o[i]]!=null&&(this[o[i]]=n[o[i]])}return r.prototype.version=0,r.prototype.fanout=0,r.prototype.seed=0,r.encode=function(n,o){return o||(o=w2.create()),n.version!=null&&Object.hasOwnProperty.call(n,"version")&&o.uint32(8).uint32(n.version),n.fanout!=null&&Object.hasOwnProperty.call(n,"fanout")&&o.uint32(16).uint32(n.fanout),n.seed!=null&&Object.hasOwnProperty.call(n,"seed")&&o.uint32(29).fixed32(n.seed),o},r.decode=function(n,o){n instanceof by||(n=by.create(n));for(var i=o===void 0?n.len:n.pos+o,a=new Wo.ipfs.pin.Set;n.pos<i;){var s=n.uint32();switch(s>>>3){case 1:a.version=n.uint32();break;case 2:a.fanout=n.uint32();break;case 3:a.seed=n.fixed32();break;default:n.skipType(s&7);break}}return a},r.fromObject=function(n){if(n instanceof Wo.ipfs.pin.Set)return n;var o=new Wo.ipfs.pin.Set;return n.version!=null&&(o.version=n.version>>>0),n.fanout!=null&&(o.fanout=n.fanout>>>0),n.seed!=null&&(o.seed=n.seed>>>0),o},r.toObject=function(n,o){o||(o={});var i={};return o.defaults&&(i.version=0,i.fanout=0,i.seed=0),n.version!=null&&n.hasOwnProperty("version")&&(i.version=n.version),n.fanout!=null&&n.hasOwnProperty("fanout")&&(i.fanout=n.fanout),n.seed!=null&&n.hasOwnProperty("seed")&&(i.seed=n.seed),i},r.prototype.toJSON=function(){return this.constructor.toObject(this,Er.default.util.toJSONOptions)},r}(),t}(),e})(),ky=_(_y(),1),Jo=_(xi(),1);u();ht();ge();var Di=new A("/local/pins"),Go=256,By=8192,Hu=S.parse("QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n"),_r={direct:"direct",recursive:"recursive"};function Ju(e){return new A(`/${U.encode(e.multihash.bytes).toUpperCase().substring(1)}`)}Ho();u();function Py(e,t){for(let r=0;r<e.byteLength;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}ke();yt();Do();var Qu=vy.pin.Set;function B2(e){let t=e.Data;if(!t)throw new Error("No data present");let r=Jo.default.decode(t),n=Jo.default.decode.bytes;if(n<=0)throw new Error("Invalid Set header length");if(n+r>t.length)throw new Error("Impossibly large set header length");let o=t.slice(n,r+n),i=Qu.toObject(Qu.decode(o),{defaults:!1,arrays:!0,longs:Number,objects:!1});if(i.version!==1)throw new Error(`Unsupported Set version: ${i.version}`);if(i.fanout>e.Links.length)throw new Error("Impossibly large fanout");return{header:i,data:t.slice(r+n)}}function P2(e,t){let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,e,!0);let n=oe(t.toString()),o=Ai([r,n],r.byteLength+n.byteLength);return(0,ky.default)(de(o))}async function*Fy(e,t){let r=B2(t),n=0;for(let o of t.Links){if(n<r.header.fanout){let i=o.Hash;if(!Hu.equals(i)){let a=await e.get(i),s=pi(a);yield*Fy(e,s)}}else yield o.Hash;n++}}async function*Si(e,t,r){let n=t.Links.find(a=>a.Name===r);if(!n)throw new Error("No link found with name "+r);let o=await e.get(n.Hash),i=pi(o);yield*Fy(e,i)}function k2(e,t){return r(t,0);async function r(n,o){let i=Qu.encode({version:1,fanout:Go,seed:o}).finish(),a=Jo.default.encode(i.length),s=Ai([a,i]),c=[];for(let d=0;d<Go;d++)c.push({Name:"",Tsize:1,Hash:Hu});if(n.length<=By){let d=n.map(D=>({link:{Name:"",Tsize:1,Hash:D.key},data:D.data||new Uint8Array})).sort((D,g)=>Py(D.link.Hash.bytes,g.link.Hash.bytes)),E=c.concat(d.map(D=>D.link));return{Data:Ai([s,...d.map(D=>D.data)]),Links:E}}else{let d=n.reduce((D,g)=>{let w=P2(o,g.key)%Go;return D[w]=w in D?D[w].concat([g]):[g],D},[]),E=0;for(let D of d){let g=await r(D,o+1);await l(g,E),E++}return{Data:s,Links:c}}async function l(d,E){let D=di(d),g=await un.digest(D),w=S.createV0(g);await e.put(w,D);let f=d.Links.reduce((k,T)=>k+(T.Tsize||0),0)+D.length;c[E]={Name:"",Tsize:f,Hash:w}}}}async function Zu(e,t,r){let n=await k2(e,r.map(c=>({key:c}))),o=di(n),i=await un.digest(o),a=S.createV0(i);await e.put(a,o);let s=n.Links.reduce((c,l)=>c+l.Tsize,0)+o.length;return{Name:t,Tsize:s,Hash:a}}var Yo=_(Eu(),1);Do();pt();ht();async function N2(e,t,r,n){if(!await t.has(Di))return;let o=await t.get(Di),i=S.decode(o),a=await e.get(i),s=pi(a),c=0,l=await(0,Yo.default)(Si(e,s,_r.recursive))+await(0,Yo.default)(Si(e,s,_r.direct));for await(let d of Si(e,s,_r.recursive)){c++;let E={depth:1/0};d.version!==0&&(E.version=d.version),d.code!==It&&(E.codec=d.code),await r.put(Ju(d),wr(E)),n(c/l*100,`Migrated recursive pin ${d}`)}for await(let d of Si(e,s,_r.direct)){c++;let E={depth:0};d.version!==0&&(E.version=d.version),d.code!==It&&(E.codec=d.code),await r.put(Ju(d),wr(E)),n(c/l*100,`Migrated direct pin ${d}`)}await e.delete(i),await t.delete(Di)}async function L2(e,t,r,n){let o=[],i=[],a=0,s=await(0,Yo.default)(r.queryKeys({}));for await(let{key:D,value:g}of r.query({})){a++;let w=mt(g),f=S.create(w.version||0,w.codec||It,Ve(U.decode("b"+D.toString().toLowerCase().split("/").pop())));w.depth===0?(n(a/s*100,`Reverted direct pin ${f}`),i.push(f)):(n(a/s*100,`Reverted recursive pin ${f}`),o.push(f))}n(100,"Updating pin root");let c={Links:[await Zu(e,_r.direct,i),await Zu(e,_r.recursive,o)]},l=di(c),d=await un.digest(l),E=S.createV0(d);await e.put(E,l),await t.put(Di,E.bytes)}async function Ny(e,t,r){let n=e.blocks,o=e.datastore,i=e.pins;await n.open(),await o.open(),await i.open();try{await r(n,o,i,t)}finally{await i.close(),await o.close(),await n.close()}}var Ly={version:9,description:"Migrates pins to datastore",migrate:(e,t=()=>{})=>Ny(e,t,N2),revert:(e,t=()=>{})=>Ny(e,t,L2)};u();u();var Me={};G(Me,{abortedError:()=>M2,dbDeleteFailedError:()=>ec,dbOpenFailedError:()=>Xu,dbWriteFailedError:()=>tc,notFoundError:()=>Bt});u();var mn=_(dt(),1);function Xu(e){return e=e||new Error("Cannot open database"),(0,mn.default)(e,"ERR_DB_OPEN_FAILED")}function ec(e){return e=e||new Error("Delete failed"),(0,mn.default)(e,"ERR_DB_DELETE_FAILED")}function tc(e){return e=e||new Error("Write failed"),(0,mn.default)(e,"ERR_DB_WRITE_FAILED")}function Bt(e){return e=e||new Error("Not Found"),(0,mn.default)(e,"ERR_NOT_FOUND")}function M2(e){return e=e||new Error("Aborted"),(0,mn.default)(e,"ERR_ABORTED")}var My=new A("/config"),Ci=new A("/version");function Oi(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,t.type==="level-js"||t.constructor.name==="Level")return t}async function j2(e,t,r){let n=await t(e);if(n)return n;let o=Oi(r);return o?new Promise((i,a)=>{let s=o.store("readonly").get(e.toString());s.transaction.onabort=()=>{a(s.transaction.error)},s.transaction.oncomplete=()=>{i(Boolean(s.result))}}):!1}async function q2(e,t,r,n){if(await r(e))return t(e);let o=Oi(n);if(!o)throw Bt();return new Promise((i,a)=>{let s=o.store("readonly").get(e.toString());s.transaction.onabort=()=>{a(s.transaction.error)},s.transaction.oncomplete=()=>{if(s.result)return i(s.result);a(Bt())}})}function Qo(e){let t=e.get.bind(e),r=e.has.bind(e);return e.get=n=>q2(n,t,r,e),e.has=n=>j2(n,r,e),e}function rc(e){return{...e,root:Qo(e.root),datastore:Qo(e.datastore),pins:Qo(e.pins),keys:Qo(e.keys)}}yt();ke();async function U2(e,t,r=()=>{}){let n=Oi(t);if(!n){r(`${e} did not need an upgrade`);return}r(`Upgrading ${e}`),await $y(n,(o,i)=>[{type:"del",key:o},{type:"put",key:oe(o),value:i}])}async function $2(e,t,r=()=>{}){let n=Oi(t);if(!n){r(`${e} did not need a downgrade`);return}r(`Downgrading ${e}`),await $y(n,(o,i)=>[{type:"del",key:o},{type:"put",key:de(o),value:i}])}function qy(e){return e.child?qy(e.child):e}async function jy(e,t,r){let n=Object.entries(e).map(([a,s])=>({key:a,backend:qy(s)})).filter(({key:a,backend:s})=>s.constructor.name==="LevelDatastore").map(({key:a,backend:s})=>({name:a,store:s}));t(0,`Migrating ${n.length} dbs`);let o=0,i=a=>{t(Math.round(o/n.length*100),a)};for(let{name:a,store:s}of n){await s.open();try{await r(a,s,i)}finally{o++,await s.close()}}t(100,`Migrated ${n.length} dbs`)}var Uy={version:10,description:"Migrates datastore-level keys to binary",migrate:(e,t=()=>{})=>jy(e,t,U2),revert:(e,t=()=>{})=>jy(e,t,$2)};function $y(e,t){function r(n,o){let i=e.store("readwrite"),a=i.transaction,s=0,c;a.onabort=()=>o(c||a.error||new Error("aborted by user")),a.oncomplete=()=>o();function l(){let d=n[s++],E=d.key,D;try{D=d.type==="del"?i.delete(E):i.put(d.value,E)}catch(g){c=g,a.abort();return}s<n.length&&(D.onsuccess=l)}l()}return new Promise((n,o)=>{let i=e.iterator(),a=c=>c;i._deserializeKey=i._deserializeValue=a,s();function s(){let c=(l,d,E)=>{if(l||d===void 0){let D=g=>{if(g){o(g);return}n()};i.end(D);return}r(t(d,E),s)};i.next(c)}})}u();var Jt=new A("/local/filesroot");async function K2(e,t=()=>{}){if(t(100,"Migrating MFS root to repo datastore"),await e.root.open(),await e.datastore.open(),await e.root.has(Jt)){let r=await e.root.get(Jt);await e.datastore.put(Jt,r),await e.root.delete(Jt)}await e.datastore.close(),await e.root.close(),t(100,"Stored MFS root in repo datastore")}async function z2(e,t=()=>{}){if(t(100,"Migrating MFS root to repo root datastore"),await e.root.open(),await e.datastore.open(),await e.datastore.has(Jt)){let r=await e.datastore.get(Jt);await e.root.put(Jt,r),await e.datastore.delete(Jt)}await e.datastore.close(),await e.root.close(),t(100,"Stored MFS root in repo root datastore")}var Ky={version:11,description:"Store mfs root in the datastore",migrate:K2,revert:z2};u();var bc=_(Ht(),1);u();var xr=_(Ht(),1),zy=xr.default.Reader,W2=xr.default.Writer,V2=xr.default.util,Zo=xr.default.roots.default||(xr.default.roots.default={}),nc=Zo.Protocols=(()=>{function e(t){if(this.protocols=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.protocols=V2.emptyArray,e.encode=function(t,r){if(r||(r=W2.create()),t.protocols!=null&&t.protocols.length)for(var n=0;n<t.protocols.length;++n)r.uint32(10).string(t.protocols[n]);return r},e.decode=function(t,r){t instanceof zy||(t=zy.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Zo.Protocols;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:o.protocols&&o.protocols.length||(o.protocols=[]),o.protocols.push(t.string());break;default:t.skipType(i&7);break}}return o},e.fromObject=function(t){if(t instanceof Zo.Protocols)return t;var r=new Zo.Protocols;if(t.protocols){if(!Array.isArray(t.protocols))throw TypeError(".Protocols.protocols: array expected");r.protocols=[];for(var n=0;n<t.protocols.length;++n)r.protocols[n]=String(t.protocols[n])}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.protocols=[]),t.protocols&&t.protocols.length){n.protocols=[];for(var o=0;o<t.protocols.length;++o)n.protocols[o]=t.protocols[o]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,xr.default.util.toJSONOptions)},e})();u();var Pt=_(Ht(),1),wn=Pt.default.Reader,ic=Pt.default.Writer,$=Pt.default.util,ne=Pt.default.roots.default||(Pt.default.roots.default={}),oc=ne.Addresses=(()=>{function e(t){if(this.addrs=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.addrs=$.emptyArray,e.prototype.certifiedRecord=null,e.encode=function(t,r){if(r||(r=ic.create()),t.addrs!=null&&t.addrs.length)for(var n=0;n<t.addrs.length;++n)ne.Addresses.Address.encode(t.addrs[n],r.uint32(10).fork()).ldelim();return t.certifiedRecord!=null&&Object.hasOwnProperty.call(t,"certifiedRecord")&&ne.Addresses.CertifiedRecord.encode(t.certifiedRecord,r.uint32(18).fork()).ldelim(),r},e.decode=function(t,r){t instanceof wn||(t=wn.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new ne.Addresses;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:o.addrs&&o.addrs.length||(o.addrs=[]),o.addrs.push(ne.Addresses.Address.decode(t,t.uint32()));break;case 2:o.certifiedRecord=ne.Addresses.CertifiedRecord.decode(t,t.uint32());break;default:t.skipType(i&7);break}}return o},e.fromObject=function(t){if(t instanceof ne.Addresses)return t;var r=new ne.Addresses;if(t.addrs){if(!Array.isArray(t.addrs))throw TypeError(".Addresses.addrs: array expected");r.addrs=[];for(var n=0;n<t.addrs.length;++n){if(typeof t.addrs[n]!="object")throw TypeError(".Addresses.addrs: object expected");r.addrs[n]=ne.Addresses.Address.fromObject(t.addrs[n])}}if(t.certifiedRecord!=null){if(typeof t.certifiedRecord!="object")throw TypeError(".Addresses.certifiedRecord: object expected");r.certifiedRecord=ne.Addresses.CertifiedRecord.fromObject(t.certifiedRecord)}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.addrs=[]),r.defaults&&(n.certifiedRecord=null),t.addrs&&t.addrs.length){n.addrs=[];for(var o=0;o<t.addrs.length;++o)n.addrs[o]=ne.Addresses.Address.toObject(t.addrs[o],r)}return t.certifiedRecord!=null&&t.hasOwnProperty("certifiedRecord")&&(n.certifiedRecord=ne.Addresses.CertifiedRecord.toObject(t.certifiedRecord,r)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Pt.default.util.toJSONOptions)},e.Address=function(){function t(n){if(n)for(var o=Object.keys(n),i=0;i<o.length;++i)n[o[i]]!=null&&(this[o[i]]=n[o[i]])}t.prototype.multiaddr=$.newBuffer([]),t.prototype.isCertified=null;let r;return Object.defineProperty(t.prototype,"_isCertified",{get:$.oneOfGetter(r=["isCertified"]),set:$.oneOfSetter(r)}),t.encode=function(n,o){return o||(o=ic.create()),n.multiaddr!=null&&Object.hasOwnProperty.call(n,"multiaddr")&&o.uint32(10).bytes(n.multiaddr),n.isCertified!=null&&Object.hasOwnProperty.call(n,"isCertified")&&o.uint32(16).bool(n.isCertified),o},t.decode=function(n,o){n instanceof wn||(n=wn.create(n));for(var i=o===void 0?n.len:n.pos+o,a=new ne.Addresses.Address;n.pos<i;){var s=n.uint32();switch(s>>>3){case 1:a.multiaddr=n.bytes();break;case 2:a.isCertified=n.bool();break;default:n.skipType(s&7);break}}return a},t.fromObject=function(n){if(n instanceof ne.Addresses.Address)return n;var o=new ne.Addresses.Address;return n.multiaddr!=null&&(typeof n.multiaddr=="string"?$.base64.decode(n.multiaddr,o.multiaddr=$.newBuffer($.base64.length(n.multiaddr)),0):n.multiaddr.length&&(o.multiaddr=n.multiaddr)),n.isCertified!=null&&(o.isCertified=Boolean(n.isCertified)),o},t.toObject=function(n,o){o||(o={});var i={};return o.defaults&&(o.bytes===String?i.multiaddr="":(i.multiaddr=[],o.bytes!==Array&&(i.multiaddr=$.newBuffer(i.multiaddr)))),n.multiaddr!=null&&n.hasOwnProperty("multiaddr")&&(i.multiaddr=o.bytes===String?$.base64.encode(n.multiaddr,0,n.multiaddr.length):o.bytes===Array?Array.prototype.slice.call(n.multiaddr):n.multiaddr),n.isCertified!=null&&n.hasOwnProperty("isCertified")&&(i.isCertified=n.isCertified,o.oneofs&&(i._isCertified="isCertified")),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,Pt.default.util.toJSONOptions)},t}(),e.CertifiedRecord=function(){function t(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}return t.prototype.seq=$.Long?$.Long.fromBits(0,0,!0):0,t.prototype.raw=$.newBuffer([]),t.encode=function(r,n){return n||(n=ic.create()),r.seq!=null&&Object.hasOwnProperty.call(r,"seq")&&n.uint32(8).uint64(r.seq),r.raw!=null&&Object.hasOwnProperty.call(r,"raw")&&n.uint32(18).bytes(r.raw),n},t.decode=function(r,n){r instanceof wn||(r=wn.create(r));for(var o=n===void 0?r.len:r.pos+n,i=new ne.Addresses.CertifiedRecord;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:i.seq=r.uint64();break;case 2:i.raw=r.bytes();break;default:r.skipType(a&7);break}}return i},t.fromObject=function(r){if(r instanceof ne.Addresses.CertifiedRecord)return r;var n=new ne.Addresses.CertifiedRecord;return r.seq!=null&&($.Long?(n.seq=$.Long.fromValue(r.seq)).unsigned=!0:typeof r.seq=="string"?n.seq=parseInt(r.seq,10):typeof r.seq=="number"?n.seq=r.seq:typeof r.seq=="object"&&(n.seq=new $.LongBits(r.seq.low>>>0,r.seq.high>>>0).toNumber(!0))),r.raw!=null&&(typeof r.raw=="string"?$.base64.decode(r.raw,n.raw=$.newBuffer($.base64.length(r.raw)),0):r.raw.length&&(n.raw=r.raw)),n},t.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if($.Long){var i=new $.Long(0,0,!0);o.seq=n.longs===String?i.toString():n.longs===Number?i.toNumber():i}else o.seq=n.longs===String?"0":0;n.bytes===String?o.raw="":(o.raw=[],n.bytes!==Array&&(o.raw=$.newBuffer(o.raw)))}return r.seq!=null&&r.hasOwnProperty("seq")&&(typeof r.seq=="number"?o.seq=n.longs===String?String(r.seq):r.seq:o.seq=n.longs===String?$.Long.prototype.toString.call(r.seq):n.longs===Number?new $.LongBits(r.seq.low>>>0,r.seq.high>>>0).toNumber(!0):r.seq),r.raw!=null&&r.hasOwnProperty("raw")&&(o.raw=n.bytes===String?$.base64.encode(r.raw,0,r.raw.length):n.bytes===Array?Array.prototype.slice.call(r.raw):r.raw),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Pt.default.util.toJSONOptions)},t}(),e})();u();var kt=_(Ht(),1),bn=kt.default.Reader,sc=kt.default.Writer,M=kt.default.util,Q=kt.default.roots.default||(kt.default.roots.default={}),ac=Q.Peer=(()=>{function e(r){if(this.addresses=[],this.protocols=[],this.metadata=[],r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}e.prototype.addresses=M.emptyArray,e.prototype.protocols=M.emptyArray,e.prototype.metadata=M.emptyArray,e.prototype.pubKey=null,e.prototype.peerRecordEnvelope=null;let t;return Object.defineProperty(e.prototype,"_pubKey",{get:M.oneOfGetter(t=["pubKey"]),set:M.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_peerRecordEnvelope",{get:M.oneOfGetter(t=["peerRecordEnvelope"]),set:M.oneOfSetter(t)}),e.encode=function(r,n){if(n||(n=sc.create()),r.addresses!=null&&r.addresses.length)for(var o=0;o<r.addresses.length;++o)Q.Address.encode(r.addresses[o],n.uint32(10).fork()).ldelim();if(r.protocols!=null&&r.protocols.length)for(var o=0;o<r.protocols.length;++o)n.uint32(18).string(r.protocols[o]);if(r.metadata!=null&&r.metadata.length)for(var o=0;o<r.metadata.length;++o)Q.Metadata.encode(r.metadata[o],n.uint32(26).fork()).ldelim();return r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(34).bytes(r.pubKey),r.peerRecordEnvelope!=null&&Object.hasOwnProperty.call(r,"peerRecordEnvelope")&&n.uint32(42).bytes(r.peerRecordEnvelope),n},e.decode=function(r,n){r instanceof bn||(r=bn.create(r));for(var o=n===void 0?r.len:r.pos+n,i=new Q.Peer;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:i.addresses&&i.addresses.length||(i.addresses=[]),i.addresses.push(Q.Address.decode(r,r.uint32()));break;case 2:i.protocols&&i.protocols.length||(i.protocols=[]),i.protocols.push(r.string());break;case 3:i.metadata&&i.metadata.length||(i.metadata=[]),i.metadata.push(Q.Metadata.decode(r,r.uint32()));break;case 4:i.pubKey=r.bytes();break;case 5:i.peerRecordEnvelope=r.bytes();break;default:r.skipType(a&7);break}}return i},e.fromObject=function(r){if(r instanceof Q.Peer)return r;var n=new Q.Peer;if(r.addresses){if(!Array.isArray(r.addresses))throw TypeError(".Peer.addresses: array expected");n.addresses=[];for(var o=0;o<r.addresses.length;++o){if(typeof r.addresses[o]!="object")throw TypeError(".Peer.addresses: object expected");n.addresses[o]=Q.Address.fromObject(r.addresses[o])}}if(r.protocols){if(!Array.isArray(r.protocols))throw TypeError(".Peer.protocols: array expected");n.protocols=[];for(var o=0;o<r.protocols.length;++o)n.protocols[o]=String(r.protocols[o])}if(r.metadata){if(!Array.isArray(r.metadata))throw TypeError(".Peer.metadata: array expected");n.metadata=[];for(var o=0;o<r.metadata.length;++o){if(typeof r.metadata[o]!="object")throw TypeError(".Peer.metadata: object expected");n.metadata[o]=Q.Metadata.fromObject(r.metadata[o])}}return r.pubKey!=null&&(typeof r.pubKey=="string"?M.base64.decode(r.pubKey,n.pubKey=M.newBuffer(M.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.peerRecordEnvelope!=null&&(typeof r.peerRecordEnvelope=="string"?M.base64.decode(r.peerRecordEnvelope,n.peerRecordEnvelope=M.newBuffer(M.base64.length(r.peerRecordEnvelope)),0):r.peerRecordEnvelope.length&&(n.peerRecordEnvelope=r.peerRecordEnvelope)),n},e.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.addresses=[],o.protocols=[],o.metadata=[]),r.addresses&&r.addresses.length){o.addresses=[];for(var i=0;i<r.addresses.length;++i)o.addresses[i]=Q.Address.toObject(r.addresses[i],n)}if(r.protocols&&r.protocols.length){o.protocols=[];for(var i=0;i<r.protocols.length;++i)o.protocols[i]=r.protocols[i]}if(r.metadata&&r.metadata.length){o.metadata=[];for(var i=0;i<r.metadata.length;++i)o.metadata[i]=Q.Metadata.toObject(r.metadata[i],n)}return r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(o.pubKey=n.bytes===String?M.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey,n.oneofs&&(o._pubKey="pubKey")),r.peerRecordEnvelope!=null&&r.hasOwnProperty("peerRecordEnvelope")&&(o.peerRecordEnvelope=n.bytes===String?M.base64.encode(r.peerRecordEnvelope,0,r.peerRecordEnvelope.length):n.bytes===Array?Array.prototype.slice.call(r.peerRecordEnvelope):r.peerRecordEnvelope,n.oneofs&&(o._peerRecordEnvelope="peerRecordEnvelope")),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();Q.Address=(()=>{function e(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}e.prototype.multiaddr=M.newBuffer([]),e.prototype.isCertified=null;let t;return Object.defineProperty(e.prototype,"_isCertified",{get:M.oneOfGetter(t=["isCertified"]),set:M.oneOfSetter(t)}),e.encode=function(r,n){return n||(n=sc.create()),r.multiaddr!=null&&Object.hasOwnProperty.call(r,"multiaddr")&&n.uint32(10).bytes(r.multiaddr),r.isCertified!=null&&Object.hasOwnProperty.call(r,"isCertified")&&n.uint32(16).bool(r.isCertified),n},e.decode=function(r,n){r instanceof bn||(r=bn.create(r));for(var o=n===void 0?r.len:r.pos+n,i=new Q.Address;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:i.multiaddr=r.bytes();break;case 2:i.isCertified=r.bool();break;default:r.skipType(a&7);break}}return i},e.fromObject=function(r){if(r instanceof Q.Address)return r;var n=new Q.Address;return r.multiaddr!=null&&(typeof r.multiaddr=="string"?M.base64.decode(r.multiaddr,n.multiaddr=M.newBuffer(M.base64.length(r.multiaddr)),0):r.multiaddr.length&&(n.multiaddr=r.multiaddr)),r.isCertified!=null&&(n.isCertified=Boolean(r.isCertified)),n},e.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(n.bytes===String?o.multiaddr="":(o.multiaddr=[],n.bytes!==Array&&(o.multiaddr=M.newBuffer(o.multiaddr)))),r.multiaddr!=null&&r.hasOwnProperty("multiaddr")&&(o.multiaddr=n.bytes===String?M.base64.encode(r.multiaddr,0,r.multiaddr.length):n.bytes===Array?Array.prototype.slice.call(r.multiaddr):r.multiaddr),r.isCertified!=null&&r.hasOwnProperty("isCertified")&&(o.isCertified=r.isCertified,n.oneofs&&(o._isCertified="isCertified")),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();Q.Metadata=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.key="",e.prototype.value=M.newBuffer([]),e.encode=function(t,r){return r||(r=sc.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&r.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&r.uint32(18).bytes(t.value),r},e.decode=function(t,r){t instanceof bn||(t=bn.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Q.Metadata;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:o.key=t.string();break;case 2:o.value=t.bytes();break;default:t.skipType(i&7);break}}return o},e.fromObject=function(t){if(t instanceof Q.Metadata)return t;var r=new Q.Metadata;return t.key!=null&&(r.key=String(t.key)),t.value!=null&&(typeof t.value=="string"?M.base64.decode(t.value,r.value=M.newBuffer(M.base64.length(t.value)),0):t.value.length&&(r.value=t.value)),r},e.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(n.key="",r.bytes===String?n.value="":(n.value=[],r.bytes!==Array&&(n.value=M.newBuffer(n.value)))),t.key!=null&&t.hasOwnProperty("key")&&(n.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(n.value=r.bytes===String?M.base64.encode(t.value,0,t.value.length):r.bytes===Array?Array.prototype.slice.call(t.value):t.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();u();var Dr=_(Ht(),1),Wy=Dr.default.Reader,G2=Dr.default.Writer,K=Dr.default.util,Xo=Dr.default.roots.default||(Dr.default.roots.default={}),Vy=Xo.Envelope=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.publicKey=K.newBuffer([]),e.prototype.payloadType=K.newBuffer([]),e.prototype.payload=K.newBuffer([]),e.prototype.signature=K.newBuffer([]),e.encode=function(t,r){return r||(r=G2.create()),t.publicKey!=null&&Object.hasOwnProperty.call(t,"publicKey")&&r.uint32(10).bytes(t.publicKey),t.payloadType!=null&&Object.hasOwnProperty.call(t,"payloadType")&&r.uint32(18).bytes(t.payloadType),t.payload!=null&&Object.hasOwnProperty.call(t,"payload")&&r.uint32(26).bytes(t.payload),t.signature!=null&&Object.hasOwnProperty.call(t,"signature")&&r.uint32(42).bytes(t.signature),r},e.decode=function(t,r){t instanceof Wy||(t=Wy.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Xo.Envelope;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:o.publicKey=t.bytes();break;case 2:o.payloadType=t.bytes();break;case 3:o.payload=t.bytes();break;case 5:o.signature=t.bytes();break;default:t.skipType(i&7);break}}return o},e.fromObject=function(t){if(t instanceof Xo.Envelope)return t;var r=new Xo.Envelope;return t.publicKey!=null&&(typeof t.publicKey=="string"?K.base64.decode(t.publicKey,r.publicKey=K.newBuffer(K.base64.length(t.publicKey)),0):t.publicKey.length&&(r.publicKey=t.publicKey)),t.payloadType!=null&&(typeof t.payloadType=="string"?K.base64.decode(t.payloadType,r.payloadType=K.newBuffer(K.base64.length(t.payloadType)),0):t.payloadType.length&&(r.payloadType=t.payloadType)),t.payload!=null&&(typeof t.payload=="string"?K.base64.decode(t.payload,r.payload=K.newBuffer(K.base64.length(t.payload)),0):t.payload.length&&(r.payload=t.payload)),t.signature!=null&&(typeof t.signature=="string"?K.base64.decode(t.signature,r.signature=K.newBuffer(K.base64.length(t.signature)),0):t.signature.length&&(r.signature=t.signature)),r},e.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(r.bytes===String?n.publicKey="":(n.publicKey=[],r.bytes!==Array&&(n.publicKey=K.newBuffer(n.publicKey))),r.bytes===String?n.payloadType="":(n.payloadType=[],r.bytes!==Array&&(n.payloadType=K.newBuffer(n.payloadType))),r.bytes===String?n.payload="":(n.payload=[],r.bytes!==Array&&(n.payload=K.newBuffer(n.payload))),r.bytes===String?n.signature="":(n.signature=[],r.bytes!==Array&&(n.signature=K.newBuffer(n.signature)))),t.publicKey!=null&&t.hasOwnProperty("publicKey")&&(n.publicKey=r.bytes===String?K.base64.encode(t.publicKey,0,t.publicKey.length):r.bytes===Array?Array.prototype.slice.call(t.publicKey):t.publicKey),t.payloadType!=null&&t.hasOwnProperty("payloadType")&&(n.payloadType=r.bytes===String?K.base64.encode(t.payloadType,0,t.payloadType.length):r.bytes===Array?Array.prototype.slice.call(t.payloadType):t.payloadType),t.payload!=null&&t.hasOwnProperty("payload")&&(n.payload=r.bytes===String?K.base64.encode(t.payload,0,t.payload.length):r.bytes===Array?Array.prototype.slice.call(t.payload):t.payload),t.signature!=null&&t.hasOwnProperty("signature")&&(n.signature=r.bytes===String?K.base64.encode(t.signature,0,t.signature.length):r.bytes===Array?Array.prototype.slice.call(t.signature):t.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Dr.default.util.toJSONOptions)},e})();u();var Yt=_(Ht(),1),es=Yt.default.Reader,Gy=Yt.default.Writer,W=Yt.default.util,Xe=Yt.default.roots.default||(Yt.default.roots.default={}),Hy=Xe.PeerRecord=(()=>{function e(t){if(this.addresses=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.peerId=W.newBuffer([]),e.prototype.seq=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.addresses=W.emptyArray,e.encode=function(t,r){if(r||(r=Gy.create()),t.peerId!=null&&Object.hasOwnProperty.call(t,"peerId")&&r.uint32(10).bytes(t.peerId),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&r.uint32(16).uint64(t.seq),t.addresses!=null&&t.addresses.length)for(var n=0;n<t.addresses.length;++n)Xe.PeerRecord.AddressInfo.encode(t.addresses[n],r.uint32(26).fork()).ldelim();return r},e.decode=function(t,r){t instanceof es||(t=es.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Xe.PeerRecord;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:o.peerId=t.bytes();break;case 2:o.seq=t.uint64();break;case 3:o.addresses&&o.addresses.length||(o.addresses=[]),o.addresses.push(Xe.PeerRecord.AddressInfo.decode(t,t.uint32()));break;default:t.skipType(i&7);break}}return o},e.fromObject=function(t){if(t instanceof Xe.PeerRecord)return t;var r=new Xe.PeerRecord;if(t.peerId!=null&&(typeof t.peerId=="string"?W.base64.decode(t.peerId,r.peerId=W.newBuffer(W.base64.length(t.peerId)),0):t.peerId.length&&(r.peerId=t.peerId)),t.seq!=null&&(W.Long?(r.seq=W.Long.fromValue(t.seq)).unsigned=!0:typeof t.seq=="string"?r.seq=parseInt(t.seq,10):typeof t.seq=="number"?r.seq=t.seq:typeof t.seq=="object"&&(r.seq=new W.LongBits(t.seq.low>>>0,t.seq.high>>>0).toNumber(!0))),t.addresses){if(!Array.isArray(t.addresses))throw TypeError(".PeerRecord.addresses: array expected");r.addresses=[];for(var n=0;n<t.addresses.length;++n){if(typeof t.addresses[n]!="object")throw TypeError(".PeerRecord.addresses: object expected");r.addresses[n]=Xe.PeerRecord.AddressInfo.fromObject(t.addresses[n])}}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.addresses=[]),r.defaults)if(r.bytes===String?n.peerId="":(n.peerId=[],r.bytes!==Array&&(n.peerId=W.newBuffer(n.peerId))),W.Long){var o=new W.Long(0,0,!0);n.seq=r.longs===String?o.toString():r.longs===Number?o.toNumber():o}else n.seq=r.longs===String?"0":0;if(t.peerId!=null&&t.hasOwnProperty("peerId")&&(n.peerId=r.bytes===String?W.base64.encode(t.peerId,0,t.peerId.length):r.bytes===Array?Array.prototype.slice.call(t.peerId):t.peerId),t.seq!=null&&t.hasOwnProperty("seq")&&(typeof t.seq=="number"?n.seq=r.longs===String?String(t.seq):t.seq:n.seq=r.longs===String?W.Long.prototype.toString.call(t.seq):r.longs===Number?new W.LongBits(t.seq.low>>>0,t.seq.high>>>0).toNumber(!0):t.seq),t.addresses&&t.addresses.length){n.addresses=[];for(var i=0;i<t.addresses.length;++i)n.addresses[i]=Xe.PeerRecord.AddressInfo.toObject(t.addresses[i],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Yt.default.util.toJSONOptions)},e.AddressInfo=function(){function t(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}return t.prototype.multiaddr=W.newBuffer([]),t.encode=function(r,n){return n||(n=Gy.create()),r.multiaddr!=null&&Object.hasOwnProperty.call(r,"multiaddr")&&n.uint32(10).bytes(r.multiaddr),n},t.decode=function(r,n){r instanceof es||(r=es.create(r));for(var o=n===void 0?r.len:r.pos+n,i=new Xe.PeerRecord.AddressInfo;r.pos<o;){var a=r.uint32();switch(a>>>3){case 1:i.multiaddr=r.bytes();break;default:r.skipType(a&7);break}}return i},t.fromObject=function(r){if(r instanceof Xe.PeerRecord.AddressInfo)return r;var n=new Xe.PeerRecord.AddressInfo;return r.multiaddr!=null&&(typeof r.multiaddr=="string"?W.base64.decode(r.multiaddr,n.multiaddr=W.newBuffer(W.base64.length(r.multiaddr)),0):r.multiaddr.length&&(n.multiaddr=r.multiaddr)),n},t.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(n.bytes===String?o.multiaddr="":(o.multiaddr=[],n.bytes!==Array&&(o.multiaddr=W.newBuffer(o.multiaddr)))),r.multiaddr!=null&&r.hasOwnProperty("multiaddr")&&(o.multiaddr=n.bytes===String?W.base64.encode(r.multiaddr,0,r.multiaddr.length):n.bytes===Array?Array.prototype.slice.call(r.multiaddr):r.multiaddr),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Yt.default.util.toJSONOptions)},t}(),e})(),wc=_(Bg(),1);bc.default.util.Long=void 0;bc.default.configure();async function vD(e,t=()=>{}){t(0,"Storing each peerstore key under a single datastore key"),await e.datastore.open();let r={},n=[];for await(let{key:o,value:i}of e.datastore.query({prefix:"/peers"})){n.push(o);let a=o.toString(),[s,c,l,d,E]=a.split("/");if(c==="peers"&&!!["protos","addrs","metadata","keys"].includes(l)&&!!d)if(r[d]=r[d]||{addresses:[],protocols:[],metadata:[]},l==="protos"){let D=nc.decode(i);r[d].protocols=D.protocols.sort()}else if(l==="addrs"){let D=oc.decode(i);r[d].addresses=D.addrs.sort((g,w)=>new wc.Multiaddr(g.multiaddr).toString().localeCompare(new wc.Multiaddr(w.multiaddr).toString())),D.certifiedRecord&&D.certifiedRecord.raw&&(r[d].peerRecordEnvelope=D.certifiedRecord.raw)}else l==="metadata"?r[d].metadata.push({key:E,value:i}):l==="keys"&&(r[d].pubKey=i)}t(33,"Read peer data from store");for(let o of n)await e.datastore.delete(o);t(66,"Removed existing peer data from store");for(let o of Object.keys(r)){let i=r[o];i.metadata=i.metadata.sort((s,c)=>s.key.localeCompare(c.key));let a=ac.encode(i).finish();await e.datastore.put(new A(`/peers/${o}`),a)}await e.datastore.close(),t(100,"Stored each peerstore key under a single datastore key")}async function ED(e,t=()=>{}){t(0,"Storing each peerstore key under a multiple datastore keys"),await e.datastore.open();let r={},n=[];for await(let{key:o,value:i}of e.datastore.query({prefix:"/peers"})){n.push(o);let a=o.toString(),[s,c,l]=a.split("/");r[l]=ac.decode(i)}t(33,"Read peer data from store");for(let o of n)await e.datastore.delete(o);t(66,"Removed existing peer data from store");for(let[o,i]of Object.entries(r)){if(i.protocols&&i.protocols.length>0&&await e.datastore.put(new A(`/peers/protos/${o}`),nc.encode({protocols:i.protocols}).finish()),i.addresses&&i.addresses.length>0){let a=i.peerRecordEnvelope,s;if(a){let c=Vy.decode(a),l=Hy.decode(c.payload);s={raw:a,seq:l.seq}}await e.datastore.put(new A(`/peers/addrs/${o}`),oc.encode({addrs:i.addresses,certifiedRecord:s}).finish())}if(i.metadata&&i.metadata.length>0)for(let{key:a,value:s}of i.metadata)await e.datastore.put(new A(`/peers/metadata/${o}/${a}`),s);i.pubKey&&await e.datastore.put(new A(`/peers/keys/${o}`),i.pubKey)}await e.datastore.close(),t(100,"Stored each peerstore key under multiple datastore keys")}var Pg={version:12,description:"Store each peerstore peer under a single datastore key",migrate:vD,revert:ED},Ar={description:"Empty migration.",migrate:()=>{},revert:()=>{},empty:!0},us=[Object.assign({version:1},Ar),Object.assign({version:2},Ar),Object.assign({version:3},Ar),Object.assign({version:4},Ar),Object.assign({version:5},Ar),Object.assign({version:6},Ar),Object.assign({version:7},Ar),cp,Ly,Uy,Ky,Pg];u();u();var kg=_(We(),1),vc={};G(vc,{InvalidValueError:()=>An,MissingRepoOptionsError:()=>vt,NonReversibleMigrationError:()=>xn,NotInitializedRepoError:()=>Zt,RequiredParameterError:()=>Dn});u();var xn=class extends Error{constructor(e){super(e),this.name="NonReversibleMigrationError",this.code=xn.code,this.message=e}};xn.code="ERR_NON_REVERSIBLE_MIGRATION";var Zt=class extends Error{constructor(e){super(e),this.name="NotInitializedRepoError",this.code=Zt.code,this.message=e}};Zt.code="ERR_NOT_INITIALIZED_REPO";var Dn=class extends Error{constructor(e){super(e),this.name="RequiredParameterError",this.code=Dn.code,this.message=e}};Dn.code="ERR_REQUIRED_PARAMETER";var An=class extends Error{constructor(e){super(e),this.name="InvalidValueError",this.code=An.code,this.message=e}};An.code="ERR_INVALID_VALUE";var vt=class extends Error{constructor(e){super(e),this.name="MissingRepoOptionsError",this.code=vt.code,this.message=e}};vt.code="ERR_MISSING_REPO_OPTIONS";var Ec=(0,kg.default)("ipfs:repo:migrator:repo:init");async function Fg(e){if(!e)throw new vt("Please pass repo options when trying to open a repo");let t=e.root;try{await t.open();let r=await t.has(Ci),n=await t.has(My);return!r||!n?(Ec(`Version entry present: ${r}`),Ec(`Config entry present: ${n}`),!1):!0}catch(r){return Ec("While checking if repo is initialized error was thrown: "+r.message),!1}finally{if(t!==void 0)try{await t.close()}catch{}}}yt();ke();async function _c(e){if(!await Fg(e))throw new Zt("Repo is not initialized!");let t=e.root;await t.open();try{return parseInt(de(await t.get(Ci)))}finally{await t.close()}}async function Bi(e,t){if(!t)throw new vt("Please pass repo options when trying to open a repo");let r=t.root;await r.open(),await r.put(Ci,oe(String(e))),await r.close()}var Ng=_(We(),1),rt=(0,Ng.default)("ipfs:repo:migrator");function xD(e){return e=e||us,!Array.isArray(e)||e.length===0?0:e[e.length-1].version}async function Lg(e,t,r,n,{ignoreLock:o=!1,onProgress:i,isDryRun:a=!1,migrations:s}){if(s=s||us,!e)throw new qe.RequiredParameterError("Path argument is required!");if(!r)throw new qe.RequiredParameterError("repoOptions argument is required!");if(!n)throw new qe.RequiredParameterError("toVersion argument is required!");if(!Number.isInteger(n)||n<=0)throw new qe.InvalidValueError("Version has to be positive integer!");t=rc(t);let c=await _c(t);if(c===n){rt("Nothing to migrate.");return}if(c>n)throw new qe.InvalidValueError(`Current repo's version (${c}) is higher then toVersion (${n}), you probably wanted to revert it?`);jg(s,c,n);let l;!a&&!o&&(l=await r.repoLock.lock(e));try{for(let d of s){if(n!==void 0&&d.version>n)break;if(!(d.version<=c)){rt(`Migrating version ${d.version}`);try{if(!a){let E=()=>{};i&&(E=(D,g)=>i(d.version,D.toFixed(2),g)),await d.migrate(t,E)}}catch(E){let D=d.version-1;throw rt(`An exception was raised during execution of migration. Setting the repo's version to last successfully migrated version: ${D}`),await Bi(D,t),new Error(`During migration to version ${d.version} exception was raised: ${E.stack||E.message||E}`)}rt(`Migrating to version ${d.version} finished`)}}a||await Bi(n||xD(s),t),rt("Repo successfully migrated",n!==void 0?`to version ${n}!`:"to latest version!")}finally{!a&&!o&&l&&await l.close()}}async function Mg(e,t,r,n,{ignoreLock:o=!1,onProgress:i,isDryRun:a=!1,migrations:s}){if(s=s||us,!e)throw new qe.RequiredParameterError("Path argument is required!");if(!r)throw new qe.RequiredParameterError("repoOptions argument is required!");if(!n)throw new qe.RequiredParameterError("When reverting migrations, you have to specify to which version to revert!");if(!Number.isInteger(n)||n<=0)throw new qe.InvalidValueError("Version has to be positive integer!");t=rc(t);let c=await _c(t);if(c===n){rt("Nothing to revert.");return}if(c<n)throw new qe.InvalidValueError(`Current repo's version (${c}) is lower then toVersion (${n}), you probably wanted to migrate it?`);jg(s,n,c,!0);let l;!a&&!o&&(l=await r.repoLock.lock(e)),rt(`Reverting from version ${c} to ${n}`);try{let d=s.slice().reverse();for(let E of d){if(E.version<=n)break;if(!(E.version>c)){rt(`Reverting migration version ${E.version}`);try{if(!a){let D=()=>{};i&&(D=(g,w)=>i(E.version,g.toFixed(2),w)),await E.revert(t,D)}}catch(D){let g=E.version;throw rt(`An exception was raised during execution of migration. Setting the repo's version to last successfully reverted version: ${g}`),await Bi(g,t),D.message=`During reversion to version ${E.version} exception was raised: ${D.message}`,D}rt(`Reverting to version ${E.version} finished`)}}a||await Bi(n,t),rt(`All migrations successfully reverted to version ${n}!`)}finally{!a&&!o&&l&&await l.close()}}function jg(e,t,r,n=!1){let o=0;for(let i of e){if(i.version>r)break;if(i.version>t){if(n&&!i.revert)throw new qe.NonReversibleMigrationError(`It is not possible to revert to version ${t} because migration version ${i.version} is not reversible. Cancelling reversion.`);o++}}if(o!==r-t)throw new qe.InvalidValueError(`The ipfs-repo-migrations package does not have all migration to migrate from version ${t} to ${r}`)}var qe=vc,eb=_($g(),1);u();var Yg=_(Jg(),1),Qg=Yg.default;u();u();var tm=_(We(),1);ke();yt();u();u();var Sr=class extends Error{constructor(e){super(e),this.name="LockExistsError",this.code=Sr.code}};Sr.code="ERR_LOCK_EXISTS";var Oe=class extends Error{constructor(e){super(e),this.name="NotFoundError",this.code=Oe.code}};Oe.code="ERR_NOT_FOUND";var Cr=class extends Error{constructor(e){super(e),this.name="InvalidRepoVersionError",this.code=Cr.code}};Cr.code="ERR_INVALID_REPO_VERSION";var Pi="ERR_REPO_NOT_INITIALIZED",Zg="ERR_REPO_ALREADY_OPEN",Xg="ERR_REPO_ALREADY_CLOSED";async function ds(e,t,r){let n=await t(e);if(n)return n;let o=em(r);return o?new Promise((i,a)=>{let s=o.store("readonly").get(e.toString());s.transaction.onabort=()=>{a(s.transaction.error)},s.transaction.oncomplete=()=>{i(Boolean(s.result))}}):!1}async function ps(e,t,r,n){if(await r(e))return t(e);let o=em(n);if(!o)throw new Oe;return new Promise((i,a)=>{let s=o.store("readonly").get(e.toString());s.transaction.onabort=()=>{a(s.transaction.error)},s.transaction.oncomplete=()=>{if(s.result)return i(s.result);a(new Oe)}})}function em(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,t.type==="level-js"||t.constructor.name==="Level")return t}var ND=(0,tm.default)("ipfs:repo:version"),Ac=new A("version");function rm(e){return{async exists(){return ds(Ac,e.has.bind(e),e)},async get(){let t=await ps(Ac,e.get.bind(e),e.has.bind(e),e);return parseInt(de(t),10)},set(t){return e.put(Ac,oe(String(t)))},async check(t){let r=await this.get();return ND("comparing version: %s and %s",r,t),r===t||r===6&&t===7||t===6&&r===7}}}u();var ws=_(fm(),1),hm=_(za(),1),ym=_(pm(),1),bs=_(dt(),1);ke();yt();var VD=ws.default.default?ws.default.default:ws.default,kc=new A("config");function gm(e){let t=new VD({concurrency:1}),r={async getAll(i={}){let a=await ps(kc,e.get.bind(e),e.has.bind(e),e);return JSON.parse(de(a))},async get(i,a={}){if(i==null)throw new Oe(`Key ${i} does not exist in config`);let s=await this.getAll(a),c=(0,hm.default)(s,i);if(c===void 0)throw new Oe(`Key ${i} does not exist in config`);return c},set(i,a,s={}){if(typeof i!="string"&&!(i instanceof String))throw(0,bs.default)(new Error("Invalid key type: "+typeof i),"ERR_INVALID_KEY");if(a===void 0||a instanceof Uint8Array)throw(0,bs.default)(new Error("Invalid value type: "+typeof a),"ERR_INVALID_VALUE");return t.add(()=>n({key:i,value:a},s.signal))},replace(i,a={}){if(!i||i instanceof Uint8Array)throw(0,bs.default)(new Error("Invalid value type: "+typeof i),"ERR_INVALID_VALUE");return t.add(()=>n({key:void 0,value:i},a.signal))},async exists(){return ds(kc,e.has.bind(e),e)}};return r;async function n(i,a){if(a&&a.aborted)return;let s=i.key,c=i.value;if(s){let l=await r.getAll();return typeof l=="object"&&l!==null&&(0,ym.default)(l,s,c),o(l)}return o(c)}function o(i){let a=oe(JSON.stringify(i,null,2));return e.put(kc,a)}}u();u();var bm=_(wm(),1);ke();yt();var Nc=new A("datastore_spec");function vm(e){return{exists(){return e.has(Nc)},async get(){let t=await e.get(Nc);return JSON.parse(de(t))},async set(t){return e.put(Nc,oe(JSON.stringify((0,bm.default)(t,{deep:!0}))))}}}u();yt();var Lc=new A("api");function Em(e){return{async get(){let t=await e.get(Lc);return t&&t.toString()},set(t){return e.put(Lc,oe(t.toString()))},delete(){return e.delete(Lc)}}}u();var Im=_(Or(),1),Rm=_(Om(),1),Bm=_(On(),1);ge();var Pm=_(dt(),1);gu();function km(e){return{open(){return e.open()},close(){return e.close()},query(t,r){return e.query(t,r)},queryKeys(t,r){return e.queryKeys(t,r)},async get(t,r){let n=er(t);return n.isIdentity?Promise.resolve(n.digest):e.get(t,r)},async*getMany(t,r){for await(let n of t)yield this.get(n,r)},async put(t,r,n){let{isIdentity:o}=er(t);o||await e.put(t,r,n)},async*putMany(t,r){let n=(0,Rm.default)();(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)(async()=>{try{await(0,Bm.default)(e.putMany(async function*(){for await(let{key:o,value:i}of t)er(o).isIdentity||(yield{key:o,value:i}),n.push({key:o,value:i})}())),n.end()}catch(o){n.end(o)}}),yield*n},has(t,r){let{isIdentity:n}=er(t);return n?Promise.resolve(!0):e.has(t,r)},delete(t,r){let{isIdentity:n}=er(t);return n?Promise.resolve():e.delete(t,r)},deleteMany(t,r){return e.deleteMany((0,Im.default)(t,n=>!er(n).isIdentity),r)},batch(){let t=e.batch();return{put(r,n){let{isIdentity:o}=er(r);o||t.put(r,n)},delete(r){let{isIdentity:n}=er(r);n||t.delete(r)},commit:r=>t.commit(r)}}}}function er(e){let t=S.asCID(e);if(t==null)throw(0,Pm.default)(new Error("Not a valid cid"),"ERR_INVALID_CID");return t.multihash.code!==hu.code?{isIdentity:!1}:{isIdentity:!0,digest:t.multihash.digest}}u();u();var Fm=_(We(),1),Nm=(0,Fm.default)("ipfs:repo:lock:memory"),Lm="repo.lock",Ni={};async function JD(e){let t=e+"/"+Lm;if(Nm("locking %s",t),Ni[t]===!0)throw new Sr(`Lock already being held for file: ${t}`);return Ni[t]=!0,{async close(){Ni[t]&&delete Ni[t]}}}async function YD(e){let t=e+"/"+Lm;return Nm(`checking lock: ${t}`),Boolean(Ni[t])}var vs={lock:JD,locked:YD},Mm={autoMigrate:!0,onMigrationProgress:()=>{},repoOwner:!0,repoLock:vs};u();var jc={Spec:{type:"mount",mounts:[{mountpoint:"/blocks",type:"measure",prefix:"flatfs.datastore",child:{type:"flatfs",path:"blocks",sync:!0,shardFunc:"/repo/flatfs/shard/v1/next-to-last/2"}},{mountpoint:"/",type:"measure",prefix:"leveldb.datastore",child:{type:"levelds",path:"datastore",compression:"none"}}]}};u();ge();var Km=_(dt(),1),zm=_(We(),1),zc=_(qm(),1);u();So();var Es=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),qc=function*(e,t){if(e!=null&&!(e instanceof Uint8Array))for(let[r,n]of Object.entries(e)){let o=[...t,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let[i,a]of n.entries()){let s=[...o,i],c=S.asCID(a);c?yield[s.join("/"),c]:typeof a=="object"&&(yield*qc(a,s))}else{let i=S.asCID(n);i?yield[o.join("/"),i]:yield*qc(n,o)}}},Uc=function*(e,t){if(e!=null)for(let[r,n]of Object.entries(e)){let o=[...t,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!S.asCID(n))if(Array.isArray(n))for(let[i,a]of n.entries()){let s=[...o,i];yield s.join("/"),typeof a=="object"&&!S.asCID(a)&&(yield*Uc(a,s))}else yield*Uc(n,o)}},ZD=(e,t)=>{let r=e;for(let[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(a=>`[${JSON.stringify(a)}]`).join("")}`);let i=S.asCID(r);if(i)return{value:i,remaining:t.slice(n+1).join("/")}}return{value:r}},$c=class{constructor({cid:e,bytes:t,value:r}){if(!e||!t||typeof r>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:Es(),bytes:Es(),value:Es(),asBlock:Es()})}links(){return qc(this.value,[])}tree(){return Uc(this.value,[])}get(e="/"){return ZD(this.value,e.split("/").filter(Boolean))}},_s=({bytes:e,cid:t,value:r,codec:n})=>{let o=r!==void 0?r:n&&n.decode(e);if(o===void 0)throw new Error('Missing required argument, must either provide "value" or "codec"');return new $c({cid:t,bytes:e,value:o})};u();So();ci();var Um=_(dt(),1);ht();pt();function Li(e){let t=S.asCID(e);if(t==null)throw(0,Um.default)(new Error("Not a valid cid"),"ERR_INVALID_CID");let r=U.encode(t.multihash.bytes);return new A("/"+r.slice(1).toUpperCase(),!1)}function Kc(e){return Ve(U.decode(`b${e.toString().toLowerCase().substring(1)}`))}u();var $m=_(We(),1),XD=(0,$m.default)("ipfs:repo:utils:walk-dag");async function*Tn(e,t,r,n){try{let o=await t.get(e,n),i=await r(e.code),a=_s({bytes:o,cid:e,codec:i});for(let[,s]of a.links())yield s,yield*Tn(s,t,r,n)}catch(o){throw XD("Could not walk DAG for CID",e.toString(),o),o}}u();var be={direct:"direct",recursive:"recursive",indirect:"indirect",all:"all"};function eA(e){let t=`Invalid type '${e}', must be one of {direct, indirect, recursive, all}`;return(0,Km.default)(new Error(t),"ERR_INVALID_PIN_TYPE")}var xs=class{constructor({pinstore:e,blockstore:t,loadCodec:r}){this.pinstore=e,this.blockstore=t,this.loadCodec=r,this.log=(0,zm.default)("ipfs:repo:pin"),this.directPins=new Set,this.recursivePins=new Set}async pinDirectly(e,t={}){await this.blockstore.get(e,t);let r={depth:0};return e.version!==0&&(r.version=e.version),e.code!==It&&(r.codec=e.code),t.metadata&&(r.metadata=t.metadata),this.pinstore.put(Li(e),wr(r))}unpin(e,t){return this.pinstore.delete(Li(e),t)}async pinRecursively(e,t={}){await this.fetchCompleteDag(e,t);let r={depth:1/0};e.version!==0&&(r.version=e.version),e.code!==It&&(r.codec=e.code),t.metadata&&(r.metadata=t.metadata),await this.pinstore.put(Li(e),wr(r))}async*directKeys(e){for await(let t of this.pinstore.query({filters:[r=>mt(r.value).depth===0]})){let r=mt(t.value),n=r.version||0,o=r.codec!=null?r.codec:It,i=Kc(t.key);yield{cid:S.create(n,o,i),metadata:r.metadata}}}async*recursiveKeys(e){for await(let t of this.pinstore.query({filters:[r=>mt(r.value).depth===1/0]})){let r=mt(t.value),n=r.version||0,o=r.codec!=null?r.codec:It,i=Kc(t.key);yield{cid:S.create(n,o,i),metadata:r.metadata}}}async*indirectKeys(e){for await(let{cid:t}of this.recursiveKeys())for await(let r of Tn(t,this.blockstore,this.loadCodec,e)){let n=[be.recursive];(await this.isPinnedWithType(r,n)).pinned||(yield r)}}async isPinnedWithType(e,t,r){Array.isArray(t)||(t=[t]);let n=t.includes(be.all),o=t.includes(be.direct),i=t.includes(be.recursive),a=t.includes(be.indirect);if(i||o||n){let l=await(0,zc.default)(this.pinstore.query({prefix:Li(e).toString(),filters:[d=>{if(n)return!0;let E=mt(d.value);return t.includes(E.depth===0?be.direct:be.recursive)}],limit:1}));if(l){let d=mt(l.value);return{cid:e,pinned:!0,reason:d.depth===0?be.direct:be.recursive,metadata:d.metadata}}}let s=this;async function*c(l,d){for await(let{cid:E}of d)for await(let D of Tn(E,s.blockstore,s.loadCodec))if(D.equals(l)){yield E;return}}if(n||a){let l=await(0,zc.default)(c(e,this.recursiveKeys()));if(l)return{cid:e,pinned:!0,reason:be.indirect,parent:l}}return{cid:e,pinned:!1}}async fetchCompleteDag(e,t){let r=new Set,n=async(o,i)=>{if(r.has(o.toString()))return;r.add(o.toString());let a=await this.blockstore.get(o,i),s=await this.loadCodec(o.code),c=_s({bytes:a,cid:o,codec:s});await Promise.all([...c.links()].map(([,l])=>n(l,i)))};await n(e,t)}static checkPinType(e){if(typeof e!="string"||!Object.keys(be).includes(e))throw eA(e);return!0}};u();var Gm=_(Mi(),1),Hm=_(dt(),1);function Jm(e,t){return{open(){return t.open()},close(){return t.close()},query(r,n){return t.query(r,n)},queryKeys(r,n){return t.queryKeys(r,n)},async get(r,n){return t.get(r,n)},async*getMany(r,n){yield*t.getMany(r,n)},async put(r,n,o){await t.put(r,n,o)},async*putMany(r,n){yield*t.putMany(r,n)},has(r,n){return t.has(r,n)},async delete(r,n){return await Vm(r,e),t.delete(r,n)},deleteMany(r,n){return t.deleteMany((0,Gm.default)(r,async o=>(await Vm(o,e),o)),n)},batch(){return t.batch()}}}async function Vm(e,t){let{pinned:r,reason:n}=await t.isPinnedWithType(e,be.all);if(r)throw(0,Hm.default)(new Error(`pinned: ${n}`),"ERR_BLOCK_PINNED")}var tb=_(Nw(),1);u();ge();var Gw=_(We(),1),Hw=_(qw(),1),Jw=_(Kw(),1),sf=_(of(),1),Ts=_(Mi(),1),Yw=_(Or(),1);ht();var qi=(0,Gw.default)("ipfs:repo:gc"),IA=Bt().code,RA=256,BA=new A("/local/filesroot");function Qw({gcLock:e,pins:t,blockstore:r,root:n,loadCodec:o}){async function*i(){let a=Date.now();qi("Creating set of marked blocks");let s=await e.writeLock();try{let c=await PA({pins:t,blockstore:r,root:n,loadCodec:o}),l=r.queryKeys({});yield*kA({blockstore:r},c,l),qi(`Complete (${Date.now()-a}ms)`)}finally{s()}}return i}async function PA({pins:e,blockstore:t,loadCodec:r,root:n}){let o=async function*(){let s;try{s=await n.get(BA)}catch(l){if(l.code===IA){qi("No blocks in MFS");return}throw l}let c=S.decode(s);yield c,yield*Tn(c,t,r)}(),i=(0,sf.default)((0,Ts.default)(e.recursiveKeys(),({cid:s})=>s),e.indirectKeys(),(0,Ts.default)(e.directKeys(),({cid:s})=>s),o),a=new Set;for await(let s of(0,sf.default)(i,o))a.add(U.encode(s.multihash.bytes));return a}async function*kA({blockstore:e},t,r){let n=0,o=0;yield*(0,Jw.pipe)((0,Hw.default)((0,Ts.default)(r,async i=>async function(){n++;try{let a=U.encode(i.multihash.bytes);if(t.has(a))return null;try{await e.delete(i),o++}catch(s){return{err:new Error(`Could not delete block with CID ${i}: ${s.message}`)}}return{cid:i}}catch(a){let s=`Could delete block with CID ${i}`;return qi(s,a),{err:new Error(s+`: ${a.message}`)}}}),RA),i=>(0,Yw.default)(i,Boolean)),qi(`Marked set has ${t.size} unique blocks. Blockstore has ${n} blocks. Deleted ${o} blocks.`)}var ve=(0,Xw.default)("ipfs:repo"),FA=Number.MAX_SAFE_INTEGER,NA="repoAutoMigrate",uf=class{constructor(e,t,r,n){if(typeof e!="string")throw new Error("missing repo path");if(typeof t!="function")throw new Error("missing codec loader");this.options=Qg(Mm,n),this.closed=!0,this.path=e,this.root=r.root,this.datastore=r.datastore,this.keys=r.keys;let o=r.blocks,i=r.pins;this.pins=new xs({pinstore:i,blockstore:o,loadCodec:t});let a=Jm(this.pins,o);this.blocks=km(a),this.version=rm(this.root),this.config=gm(this.root),this.spec=vm(this.root),this.apiAddr=Em(this.root),this.gcLock=(0,tb.default)(e,{singleProcess:this.options.repoOwner!==!1}),this.gc=Qw({gcLock:this.gcLock,pins:this.pins,blockstore:this.blocks,root:this.root,loadCodec:t})}async init(e){ve("initializing at: %s",this.path),await this._openRoot(),await this.config.replace(LA(e)),await this.spec.set(MA(e)),await this.version.set(12)}async isInitialized(){if(!this.closed)return!0;try{return await this._openRoot(),await this._checkInitialized(),await this.root.close(),!0}catch{return!1}}async open(){if(!this.closed)throw(0,Ir.default)(new Error("repo is already open"),Zg);ve("opening at: %s",this.path);try{if(await this._openRoot(),await this._checkInitialized(),this._lockfile=await this._openLock(),ve("acquired repo.lock"),!await this.version.check(12))if(await this._isAutoMigrationEnabled())await this._migrate(12,{root:this.root,datastore:this.datastore,pins:this.pins.pinstore,blocks:this.pins.blockstore,keys:this.keys});else throw new Cr("Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.");ve("creating datastore"),await this.datastore.open(),ve("creating blocks"),await this.blocks.open(),ve("creating keystore"),await this.keys.open(),ve("creating pins"),await this.pins.pinstore.open(),this.closed=!1,ve("all opened")}catch(e){if(this._lockfile)try{await this._closeLock(),this._lockfile=null}catch(t){ve("error removing lock",t)}throw e}}async _openRoot(){try{await this.root.open()}catch(e){if(e.message!=="Already open")throw e}}async _openLock(){let e=await this.options.repoLock.lock(this.path);if(typeof e.close!="function")throw(0,Ir.default)(new Error("Locks must have a close method"),"ERR_NO_CLOSE_FUNCTION");return e}_closeLock(){return this._lockfile&&this._lockfile.close()}async _checkInitialized(){ve("init check");let e;try{[e]=await Promise.all([this.config.exists(),this.spec.exists(),this.version.exists()])}catch(t){throw t.code==="ERR_NOT_FOUND"?(0,Ir.default)(new Error("repo is not initialized yet"),Pi,{path:this.path}):t}if(!e)throw(0,Ir.default)(new Error("repo is not initialized yet"),Pi,{path:this.path})}async close(){if(this.closed)throw(0,Ir.default)(new Error("repo is already closed"),Xg);ve("closing at: %s",this.path);try{await this.apiAddr.delete()}catch(e){if(e.code!==Pi&&!e.message.startsWith("ENOENT"))throw e}await Promise.all([this.root,this.blocks,this.keys,this.datastore,this.pins.pinstore].map(e=>e&&e.close())),ve("unlocking"),this.closed=!0,await this._closeLock()}exists(){return this.version.exists()}async stat(){if(this.datastore&&this.keys){let[e,t,r,n,o]=await Promise.all([this._storageMaxStat(),this._blockStat(),this.version.get(),Zw(this.datastore),Zw(this.keys)]),i=t.size+n+o;return{repoPath:this.path,storageMax:e,version:r,numObjects:t.count,repoSize:i}}throw(0,Ir.default)(new Error("repo is not initialized yet"),Pi,{path:this.path})}async _isAutoMigrationEnabled(){if(this.options.autoMigrate!==void 0)return this.options.autoMigrate;let e;try{e=await this.config.get(NA)}catch(t){if(t.code===Oe.code)e=!0;else throw t}return e}async _migrate(e,t){return await this.version.get()>e?(ve(`reverting to version ${e}`),Mg(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress})):(ve(`migrating to version ${e}`),Lg(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress}))}async _storageMaxStat(){try{let e=await this.config.get("Datastore.StorageMax");return BigInt((0,eb.default)(e))}catch{return BigInt(FA)}}async _blockStat(){let e=BigInt(0),t=BigInt(0);if(this.blocks)for await(let{key:r,value:n}of this.blocks.query({}))e+=BigInt(1),t+=BigInt(n.byteLength),t+=BigInt(r.bytes.byteLength);return{count:e,size:t}}};async function Zw(e){let t=BigInt(0);for await(let r of e.query({}))t+=BigInt(r.value.byteLength),t+=BigInt(r.key.uint8Array().byteLength);return t}function rb(e,t,r,n){return new uf(e,t,r,n)}function LA(e){return e.Datastore=Object.assign({},jc,(0,cf.default)(e,"datastore")),e}function MA(e){let t={...jc.Spec,...(0,cf.default)(e,"Datastore.Spec")};return{type:t.type,mounts:t.mounts.map(r=>({mountpoint:r.mountpoint,type:r.child.type,path:r.child.path,shardFunc:r.child.shardFunc}))}}u();u();u();u();var nb="SHARDING",ib="_README";u();u();var sb=_(Is(),1),Rs=(e,t)=>async function*(){yield*(await(0,sb.default)(e)).sort(t)}(),ff=_(On(),1),Rr=_(Or(),1),lf=_(Ui(),1),Et=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,r){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(let{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async*getMany(e,t={}){for await(let r of e)yield this.get(r,t)}async*deleteMany(e,t={}){for await(let r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(r,n){e.push({key:r,value:n})},delete(r){t.push(r)},commit:async r=>{await(0,ff.default)(this.putMany(e,r)),e=[],await(0,ff.default)(this.deleteMany(t,r)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(e.prefix!=null&&(r=(0,Rr.default)(r,n=>n.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Rr.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>Rs(n,o),r)),e.offset!=null){let n=0;r=(0,Rr.default)(r,()=>n++>=e.offset)}return e.limit!=null&&(r=(0,lf.default)(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(e.prefix!=null&&(r=(0,Rr.default)(r,n=>n.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Rr.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>Rs(n,o),r)),e.offset!=null){let n=0;r=(0,Rr.default)(r,()=>n++>=e.offset)}return e.limit!=null&&(r=(0,lf.default)(r,e.limit)),r}};u();u();_(Mi(),1);_(fb(),1);u();new A(nb);new A(ib);u();_(Or(),1);_(Ui(),1);_(of(),1);u();var hb=_(We(),1);_(pb(),1);_(On(),1);(0,hb.default)("datastore:core:tiered");u();var co=_(Or(),1),n_=_(Mi(),1),Nl=_(Ui(),1),Ll=_(gb(),1),i_=_(r_(),1),fr=class extends Et{constructor(e,t){super(),this.path=e,this.opts=t,t&&t.db?(this.database=t.db,delete t.db):this.database=i_.default}_initDb(){return new Promise((e,t)=>{this.db=this.database(this.path,{...this.opts,valueEncoding:"binary",compression:!1},r=>{if(r)return t(r);e(this.db)})})}async open(){try{this.db?await this.db.open():this.db=await this._initDb()}catch(e){throw Me.dbOpenFailedError(e)}}async put(e,t){try{await this.db.put(e.toString(),t)}catch(r){throw Me.dbWriteFailedError(r)}}async get(e){let t;try{t=await this.db.get(e.toString())}catch(r){throw r.notFound?Me.notFoundError(r):Me.dbWriteFailedError(r)}return t}async has(e){try{await this.db.get(e.toString())}catch(t){if(t.notFound)return!1;throw t}return!0}async delete(e){try{await this.db.del(e.toString())}catch(t){throw Me.dbDeleteFailedError(t)}}close(){return this.db&&this.db.close()}batch(){let e=[];return{put:(t,r)=>{e.push({type:"put",key:t.toString(),value:r})},delete:t=>{e.push({type:"del",key:t.toString()})},commit:()=>this.db.batch(e)}}query(e){let t=this._query({values:!0,prefix:e.prefix});Array.isArray(e.filters)&&(t=e.filters.reduce((o,i)=>(0,co.default)(o,i),t)),Array.isArray(e.orders)&&(t=e.orders.reduce((o,i)=>(0,Ll.default)(o,i),t));let{offset:r,limit:n}=e;if(r){let o=0;t=(0,co.default)(t,()=>o++>=r)}return n&&(t=(0,Nl.default)(t,n)),t}queryKeys(e){let t=(0,n_.default)(this._query({values:!1,prefix:e.prefix}),({key:o})=>o);Array.isArray(e.filters)&&(t=e.filters.reduce((o,i)=>(0,co.default)(o,i),t)),Array.isArray(e.orders)&&(t=e.orders.reduce((o,i)=>(0,Ll.default)(o,i),t));let{offset:r,limit:n}=e;if(r){let o=0;t=(0,co.default)(t,()=>o++>=r)}return n&&(t=(0,Nl.default)(t,n)),t}_query(e){let t={keys:!0,keyAsBuffer:!0,values:e.values};if(e.prefix!=null){let r=e.prefix.toString();t.gte=r,t.lt=r+"\xFF"}return qO(this.db.iterator(t))}};function qO(e){return{[Symbol.asyncIterator](){return{next:()=>new Promise((t,r)=>{e.next((n,o,i)=>{if(n)return r(n);if(o==null)return e.end(a=>{if(a)return r(a);t({done:!0,value:void 0})});t({done:!1,value:{key:new A(o,!1),value:i}})})}),return:()=>new Promise((t,r)=>{e.end(n=>{if(n)return r(n);t({done:!0,value:void 0})})})}}}}u();var Ul=_(On(),1),$l=_(s_(),1);ge();ci();pt();ht();an();var c_=_(dt(),1);u();var jl=_(On(),1),Gr=_(Or(),1),ql=_(Ui(),1),u_=_(Is(),1),a_=(e,t)=>async function*(){yield*(await(0,u_.default)(e)).sort(t)}(),Ia=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,r){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(let{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async*getMany(e,t={}){for await(let r of e)yield this.get(r,t)}async*deleteMany(e,t={}){for await(let r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(r,n){e.push({key:r,value:n})},delete(r){t.push(r)},commit:async r=>{await(0,jl.default)(this.putMany(e,r)),e=[],await(0,jl.default)(this.deleteMany(t,r)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(e.prefix!=null&&(r=(0,Gr.default)(r,n=>n.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Gr.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>a_(n,o),r)),e.offset!=null){let n=0;r=(0,Gr.default)(r,()=>n++>=(e.offset||0))}return e.limit!=null&&(r=(0,ql.default)(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(e.prefix!=null&&(r=(0,Gr.default)(r,n=>n.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Gr.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>a_(n,o),r)),e.offset!=null){let n=0;r=(0,Gr.default)(r,()=>n++>=e.offset)}return e.limit!=null&&(r=(0,ql.default)(r,e.limit)),r}};function ri(e){let t=S.asCID(e);if(!t)throw(0,c_.default)(new Error("Not a valid cid"),"ERR_INVALID_CID");return new A("/"+U.encode(t.multihash.bytes).slice(1).toUpperCase(),!1)}function lr(e){return S.createV1(ui,Ve(U.decode("b"+e.toString().slice(1).toLowerCase())))}function Kl(e){let t=e.substring(0,1);if(t==="/")return Kl(e.substring(1));let r;t.toLowerCase()==="b"?r=i=>U.decode(i.toLowerCase()).subarray(2):t.toLowerCase()==="c"?r=i=>Za.decode(i.toLowerCase()).subarray(2):t==="z"?r=i=>xe.decode(i).subarray(2):t==="Q"?r=i=>xe.decode("z"+i):r=i=>U.decode("b"+i.toLowerCase()).subarray(2);let n;for(let i=1;i<e.length;i++)try{n=r(e.substring(0,i))}catch(a){if(a.message!=="Unexpected end of data")throw a}let o="/C";return n&&(o=`/${U.encode(n).slice(1,-1).toUpperCase()||"C"}`),o}function UO(e){return{...e,prefix:e.prefix?Kl(e.prefix):void 0,filters:e.filters?e.filters.map(t=>r=>t({key:lr(r.key),value:r.value})):void 0,orders:e.orders?e.orders.map(t=>(r,n)=>t({key:lr(r.key),value:r.value},{key:lr(n.key),value:n.value})):void 0}}function $O(e){return{...e,prefix:e.prefix?Kl(e.prefix):void 0,filters:e.filters?e.filters.map(t=>r=>t(lr(r))):void 0,orders:e.orders?e.orders.map(t=>(r,n)=>t(lr(r),lr(n))):void 0}}var Ra=class extends Ia{constructor(e){super(),this.child=e}open(){return this.child.open()}close(){return this.child.close()}async*query(e,t){for await(let{key:r,value:n}of this.child.query(UO(e),t))yield{key:lr(r),value:n}}async*queryKeys(e,t){for await(let r of this.child.queryKeys($O(e),t))yield lr(r)}async get(e,t){return this.child.get(ri(e),t)}async*getMany(e,t){for await(let r of e)yield this.get(r,t)}async put(e,t,r){await this.child.put(ri(e),t,r)}async*putMany(e,t){let r=(0,$l.default)();(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)(async()=>{try{let n=this.child;await(0,Ul.default)(this.child.putMany(async function*(){for await(let o of e){let i=ri(o.key);await n.has(i,t)||(yield{key:i,value:o.value}),r.push(o)}}())),r.end()}catch(n){r.end(n)}}),yield*r}has(e,t){return this.child.has(ri(e),t)}delete(e,t){return this.child.delete(ri(e),t)}deleteMany(e,t){let r=(0,$l.default)();return(0,Ul.default)(this.child.deleteMany(async function*(){for await(let n of e)yield ri(n),r.push(n);r.end()}(),t)).catch(n=>{r.end(n)}),r}};function cF(e,t,r){let n=r.path||"ipfs";return rb(n,o=>t.getCodec(o),{root:new fr(n,{prefix:"",version:2}),blocks:new Ra(new fr(`${n}/blocks`,{prefix:"",version:2})),datastore:new fr(`${n}/datastore`,{prefix:"",version:2}),keys:new fr(`${n}/keys`,{prefix:"",version:2}),pins:new fr(`${n}/pins`,{prefix:"",version:2})},{autoMigrate:r.autoMigrate,onMigrationProgress:r.onMigrationProgress||e,repoLock:vs})}/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var timeBrowser=function e(){return Date.now()};const getTime=timeBrowser;class Retimer{constructor(t,r,n){const o=this;this._started=getTime(),this._rescheduled=0,this._scheduled=r,this._args=n,this._triggered=!1,this._timerWrapper=()=>{o._rescheduled>0?(o._scheduled=o._rescheduled-(getTime()-o._started),o._schedule(o._scheduled)):(o._triggered=!0,t.apply(null,o._args))},this._timer=setTimeout(this._timerWrapper,r)}reschedule(t){t||(t=this._scheduled);const r=getTime();r+t-(this._started+this._scheduled)<0?(clearTimeout(this._timer),this._schedule(t)):this._triggered?this._schedule(t):(this._started=r,this._rescheduled=t)}_schedule(t){this._triggered=!1,this._started=getTime(),this._rescheduled=0,this._scheduled=t,this._timer=setTimeout(this._timerWrapper,t)}clear(){clearTimeout(this._timer)}}function retimer$1(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");let e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new Retimer(arguments[0],arguments[1],e)}var retimer_1=retimer$1;const{AbortController}=globalThis,retimer=retimer_1;class TimeoutController extends AbortController{constructor(t){super(),this._ms=t,this._timer=retimer(()=>this.abort(),t),Object.setPrototypeOf(this,TimeoutController.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=retimer(()=>this.abort(),this._ms)}}var timeoutAbortController={TimeoutController},anySignal$1={exports:{}};function anySignal(e){const t=new globalThis.AbortController;function r(){t.abort();for(const n of e)!n||!n.removeEventListener||n.removeEventListener("abort",r)}for(const n of e)if(!(!n||!n.addEventListener)){if(n.aborted){r();break}n.addEventListener("abort",r)}return t.signal}anySignal$1.exports=anySignal;var anySignal_2=anySignal$1.exports.anySignal=anySignal;let durationRE=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;parse.nanosecond=parse.ns=1/1e6;parse.\u00B5s=parse.\u03BCs=parse.us=parse.microsecond=1/1e3;parse.millisecond=parse.ms=parse[""]=1;parse.second=parse.sec=parse.s=parse.ms*1e3;parse.minute=parse.min=parse.m=parse.s*60;parse.hour=parse.hr=parse.h=parse.m*60;parse.day=parse.d=parse.h*24;parse.week=parse.wk=parse.w=parse.d*7;parse.month=parse.b=parse.d*(365.25/12);parse.year=parse.yr=parse.y=parse.d*365.25;function parse(e="",t="ms"){var r=null;return e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2"),e.replace(durationRE,function(n,o,i){i=unitRatio(i),i&&(r=(r||0)+parseFloat(o,10)*i)}),r&&r/(unitRatio(t)||1)}function unitRatio(e){return parse[e]||parse[e.toLowerCase().replace(/s$/,"")]}class TimeoutError extends Error{constructor(t="request timed out"){super(t),this.name="TimeoutError",this.code=TimeoutError.code}}TimeoutError.code="ERR_TIMEOUT";function withTimeoutOption(e,t){return(...r)=>{const n=r[t==null?r.length-1:t];if(!n||!n.timeout)return e(...r);const o=typeof n.timeout=="string"?parse(n.timeout):n.timeout,i=new timeoutAbortController.TimeoutController(o);n.signal=anySignal_2([n.signal,i.signal]);const a=e(...r),s=new Promise((d,E)=>{i.signal.addEventListener("abort",()=>{E(new TimeoutError)})}),c=Date.now(),l=()=>{if(i.signal.aborted)throw new TimeoutError;if(Date.now()-c>o)throw i.abort(),new TimeoutError};return a[Symbol.asyncIterator]?async function*(){const d=a[Symbol.asyncIterator]();try{for(;;){const{value:E,done:D}=await Promise.race([d.next(),s]);if(D)break;l(),yield E}}catch(E){throw l(),E}finally{i.clear(),d.return&&d.return()}}():(async()=>{try{const d=await Promise.race([a,s]);return l(),d}catch(d){throw l(),d}finally{i.clear()}})()}}var browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var e=1e3,t=e*60,r=t*60,n=r*24,o=n*7,i=n*365.25;ms=function(d,E){E=E||{};var D=typeof d;if(D==="string"&&d.length>0)return a(d);if(D==="number"&&isFinite(d))return E.long?c(d):s(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function a(d){if(d=String(d),!(d.length>100)){var E=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(!!E){var D=parseFloat(E[1]),g=(E[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return D*i;case"weeks":case"week":case"w":return D*o;case"days":case"day":case"d":return D*n;case"hours":case"hour":case"hrs":case"hr":case"h":return D*r;case"minutes":case"minute":case"mins":case"min":case"m":return D*t;case"seconds":case"second":case"secs":case"sec":case"s":return D*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}function s(d){var E=Math.abs(d);return E>=n?Math.round(d/n)+"d":E>=r?Math.round(d/r)+"h":E>=t?Math.round(d/t)+"m":E>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var E=Math.abs(d);return E>=n?l(d,E,n,"day"):E>=r?l(d,E,r,"hour"):E>=t?l(d,E,t,"minute"):E>=e?l(d,E,e,"second"):d+" ms"}function l(d,E,D,g){var w=E>=D*1.5;return Math.round(d/D)+" "+g+(w?"s":"")}return ms}function setup(e){r.debug=r,r.default=r,r.coerce=c,r.disable=i,r.enable=o,r.enabled=a,r.humanize=requireMs(),r.destroy=l,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let E=0;for(let D=0;D<d.length;D++)E=(E<<5)-E+d.charCodeAt(D),E|=0;return r.colors[Math.abs(E)%r.colors.length]}r.selectColor=t;function r(d){let E,D=null,g,w;function f(...k){if(!f.enabled)return;const T=f,O=Number(new Date),P=O-(E||O);T.diff=P,T.prev=E,T.curr=O,E=O,k[0]=r.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");let R=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,(F,X)=>{if(F==="%%")return"%";R++;const H=r.formatters[X];if(typeof H=="function"){const ee=k[R];F=H.call(T,ee),k.splice(R,1),R--}return F}),r.formatArgs.call(T,k),(T.log||r.log).apply(T,k)}return f.namespace=d,f.useColors=r.useColors(),f.color=r.selectColor(d),f.extend=n,f.destroy=r.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>D!==null?D:(g!==r.namespaces&&(g=r.namespaces,w=r.enabled(d)),w),set:k=>{D=k}}),typeof r.init=="function"&&r.init(f),f}function n(d,E){const D=r(this.namespace+(typeof E>"u"?":":E)+d);return D.log=this.log,D}function o(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let E;const D=(typeof d=="string"?d:"").split(/[\s,]+/),g=D.length;for(E=0;E<g;E++)!D[E]||(d=D[E].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...r.names.map(s),...r.skips.map(s).map(E=>"-"+E)].join(",");return r.enable(""),d}function a(d){if(d[d.length-1]==="*")return!0;let E,D;for(E=0,D=r.skips.length;E<D;E++)if(r.skips[E].test(d))return!1;for(E=0,D=r.names.length;E<D;E++)if(r.names[E].test(d))return!0;return!1}function s(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var common=setup;(function(e,t){t.formatArgs=n,t.save=o,t.load=i,t.useColors=r,t.storage=a(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const l="color: "+this.color;c.splice(1,0,l,"color: inherit");let d=0,E=0;c[0].replace(/%[a-zA-Z%]/g,D=>{D!=="%%"&&(d++,D==="%c"&&(E=d))}),c.splice(E,0,l)}t.log=console.debug||console.log||(()=>{});function o(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function i(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function a(){try{return localStorage}catch{}}e.exports=common(t);const{formatters:s}=e.exports;s.j=function(c){try{return JSON.stringify(c)}catch(l){return"[UnexpectedJSONParseError]: "+l.message}}})(browser,browser.exports);const debug=browser.exports,base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"}));debug.formatters.b=e=>e==null?"undefined":base58btc$2.baseEncode(e);debug.formatters.t=e=>e==null?"undefined":base32$1.baseEncode(e);debug.formatters.m=e=>e==null?"undefined":base64.baseEncode(e);debug.formatters.p=e=>e==null?"undefined":e.toString();debug.formatters.c=e=>e==null?"undefined":e.toString();debug.formatters.k=e=>e==null?"undefined":e.toString();function logger(e){return Object.assign(debug(e),{error:debug(`${e}:error`),trace:debug(`${e}:trace`)})}const textEncoder$2=new TextEncoder,textDecoder$1=new TextDecoder,name$3="json",code$3=512,encode$5=e=>textEncoder$2.encode(JSON.stringify(e)),decode$4=e=>JSON.parse(textDecoder$1.decode(e)),json=Object.freeze(Object.defineProperty({__proto__:null,name:name$3,code:code$3,encode:encode$5,decode:decode$4},Symbol.toStringTag,{value:"Module"})),walk=async({cid:e,load:t,seen:r})=>{r=r||new Set;const n=e.toString(base58btc$2);if(r.has(n))return;const o=await t(e);if(r.add(n),o!==null)for(const[,i]of o.links())await walk({cid:i,load:t,seen:r})},log$1=logger("ipfs:components:dag:import"),NO_LINKS_CODECS=[code$4,code$3];function createExport({repo:e,preload:t,codecs:r}){async function*n(o,i={}){i.preload!==!1&&t(o);const a=CID$2.asCID(o);if(!a)throw new Error(`Unexpected error converting CID type: ${o}`);log$1(`Exporting ${a} as car`);const{writer:s,out:c}=await CarWriter.create([a]);let l=null;(async()=>{try{const d=makeLoader(e,s,{signal:i.signal,timeout:i.timeout},r);await walk({cid:a,load:d})}catch(d){l=d}finally{s.close()}})();for await(const d of c){if(l)break;yield d}if(l)throw l}return withTimeoutOption(n)}function makeLoader(e,t,r,n){return async o=>{const i=await n.getCodec(o.code);if(!i)throw new Error(`Can't decode links in block with codec 0x${o.code.toString(16)} to form complete DAG`);const a=await e.blocks.get(o,r);return log$1(`Adding block ${o} to car`),await t.put({cid:o,bytes:a}),NO_LINKS_CODECS.includes(o.code)?null:createUnsafe({bytes:a,cid:o,codec:i})}}const require$$0=getAugmentedNamespace(base58),require$$1=getAugmentedNamespace(base32$2),require$$2=getAugmentedNamespace(digest$1),word="[a-fA-F\\d:]",b=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${word})|(?<=${word})(?=\\s|$))`:"",v4="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",v6seg="[a-fA-F\\d]{1,4}",v6=`
(?:
(?:${v6seg}:){7}(?:${v6seg}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${v6seg}:){6}(?:${v4}|:${v6seg}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${v6seg}:){5}(?::${v4}|(?::${v6seg}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${v6seg}:){4}(?:(?::${v6seg}){0,1}:${v4}|(?::${v6seg}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${v6seg}:){3}(?:(?::${v6seg}){0,2}:${v4}|(?::${v6seg}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${v6seg}:){2}(?:(?::${v6seg}){0,3}:${v4}|(?::${v6seg}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${v6seg}:){1}(?:(?::${v6seg}){0,4}:${v4}|(?::${v6seg}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${v6seg}){0,5}:${v4}|(?::${v6seg}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),v46Exact=new RegExp(`(?:^${v4}$)|(?:^${v6}$)`),v4exact=new RegExp(`^${v4}$`),v6exact=new RegExp(`^${v6}$`),ip$2=e=>e&&e.exact?v46Exact:new RegExp(`(?:${b(e)}${v4}${b(e)})|(?:${b(e)}${v6}${b(e)})`,"g");ip$2.v4=e=>e&&e.exact?v4exact:new RegExp(`${b(e)}${v4}${b(e)}`,"g");ip$2.v6=e=>e&&e.exact?v6exact:new RegExp(`${b(e)}${v6}${b(e)}`,"g");var ipRegex$1=ip$2;const ipRegex=ipRegex$1,isIp$1=e=>ipRegex({exact:!0}).test(e);isIp$1.v4=e=>ipRegex.v4({exact:!0}).test(e);isIp$1.v6=e=>ipRegex.v6({exact:!0}).test(e);isIp$1.version=e=>isIp$1(e)?isIp$1.v4(e)?4:6:void 0;var isIp_1=isIp$1;const identity$2=from$1({prefix:"\0",name:"identity",encode:e=>toString$3(e),decode:e=>fromString$3(e)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$2},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),alphabetBytesToChars=alphabet.reduce((e,t,r)=>(e[r]=t,e),[]),alphabetCharsToBytes=alphabet.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function encode$4(e){return e.reduce((t,r)=>(t+=alphabetBytesToChars[r],t),"")}function decode$3(e){const t=[];for(const r of e){const n=alphabetCharsToBytes[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const base256emoji=from$1({prefix:"\u{1F680}",name:"base256emoji",encode:encode$4,decode:decode$3}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"})),code$2=0,name$2="identity",encode$3=coerce,digest=e=>create$2(code$2,encode$3(e)),identity={code:code$2,name:name$2,encode:encode$3,digest},identity$1=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),bases={...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$2,...base36$1,...base58,...base64$1,...base256emoji$1},hashes={...sha2,...identity$1},codecs={raw,json};function allocUnsafe(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function createCodec(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const string=createCodec("utf8","u",e=>{const t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),ascii=createCodec("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=allocUnsafe(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),BASES={utf8:string,"utf-8":string,hex:bases.base16,latin1:ascii,ascii,binary:ascii,...bases};function toString$1(e,t="utf8"){const r=BASES[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}const toString$2=Object.freeze(Object.defineProperty({__proto__:null,toString:toString$1},Symbol.toStringTag,{value:"Module"})),require$$7$1=getAugmentedNamespace(toString$2),isIp=isIp_1,{toString:uint8ArrayToString$3}=require$$7$1,isIP=isIp,isV4=isIp.v4,isV6=isIp.v6,toBytes=function(e,t,r){r=~~r;let n;if(isV4(e))n=t||new Uint8Array(r+4),e.split(/\./g).map(function(o){n[r++]=parseInt(o,10)&255});else if(isV6(e)){const o=e.split(":",8);let i;for(i=0;i<o.length;i++){const a=isV4(o[i]);let s;a&&(s=toBytes(o[i]),o[i]=uint8ArrayToString$3(s.slice(0,2),"base16")),s&&++i<8&&o.splice(i,0,uint8ArrayToString$3(s.slice(2,4),"base16"))}if(o[0]==="")for(;o.length<8;)o.unshift("0");else if(o[o.length-1]==="")for(;o.length<8;)o.push("0");else if(o.length<8){for(i=0;i<o.length&&o[i]!=="";i++);const a=[i,"1"];for(i=9-o.length;i>0;i--)a.push("0");o.splice.apply(o,a)}for(n=t||new Uint8Array(r+16),i=0;i<o.length;i++){const a=parseInt(o[i],16);n[r++]=a>>8&255,n[r++]=a&255}}if(!n)throw Error("Invalid ip address: "+e);return n},toString=function(e,t,r){t=~~t,r=r||e.length-t;const n=[];let o;const i=new DataView(e.buffer);if(r===4){for(let a=0;a<r;a++)n.push(e[t+a]);o=n.join(".")}else if(r===16){for(let a=0;a<r;a+=2)n.push(i.getUint16(t+a).toString(16));o=n.join(":"),o=o.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),o=o.replace(/:{3,4}/,"::")}return o};var ip$1={isIP,isV4,isV6,toBytes,toString};function Protocols(e){if(typeof e=="number"){if(Protocols.codes[e])return Protocols.codes[e];throw new Error("no protocol with code: "+e)}else if(typeof e=="string"){if(Protocols.names[e])return Protocols.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}const V=-1;Protocols.lengthPrefixedVarSize=V;Protocols.V=V;Protocols.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,V,"ip6zone"],[53,V,"dns","resolvable"],[54,V,"dns4","resolvable"],[55,V,"dns6","resolvable"],[56,V,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,V,"unix",!1,"path"],[421,V,"ipfs"],[421,V,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,V,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,V,"memory"]];Protocols.names={};Protocols.codes={};Protocols.table.map(e=>{const t=p.apply(null,e);return Protocols.codes[t.code]=t,Protocols.names[t.name]=t,null});Protocols.object=p;function p(e,t,r,n,o){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(o)}}var protocolsTable=Protocols;const require$$5=getAugmentedNamespace(cid);function fromString$1(e,t="utf8"){const r=BASES[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}const fromString$2=Object.freeze(Object.defineProperty({__proto__:null,fromString:fromString$1},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(fromString$2);function concat(e,t){t||(t=e.reduce((o,i)=>o+i.length,0));const r=allocUnsafe(t);let n=0;for(const o of e)r.set(o,n),n+=o.length;return r}const concat$1=Object.freeze(Object.defineProperty({__proto__:null,concat},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(concat$1),ip=ip$1,protocols$2=protocolsTable,{CID:CID$1}=require$$5,{base32}=require$$1,{base58btc:base58btc$1}=require$$0,Digest=require$$2,varint$2=varint$4,{toString:uint8ArrayToString$2}=require$$7$1,{fromString:uint8ArrayFromString}=require$$8,{concat:uint8ArrayConcat$1}=require$$3;var convert$1=Convert;function Convert(e,t){return t instanceof Uint8Array?Convert.toString(e,t):Convert.toBytes(e,t)}Convert.toString=function e(t,r){switch(protocols$2(t).code){case 4:case 41:return bytes2ip(r);case 6:case 273:case 33:case 132:return bytes2port(r).toString();case 53:case 54:case 55:case 56:case 400:case 777:return bytes2str(r);case 421:return bytes2mh(r);case 444:return bytes2onion(r);case 445:return bytes2onion(r);default:return uint8ArrayToString$2(r,"base16")}};Convert.toBytes=function e(t,r){switch(protocols$2(t).code){case 4:return ip2bytes(r);case 41:return ip2bytes(r);case 6:case 273:case 33:case 132:return port2bytes(parseInt(r,10));case 53:case 54:case 55:case 56:case 400:case 777:return str2bytes(r);case 421:return mh2bytes(r);case 444:return onion2bytes(r);case 445:return onion32bytes(r);default:return uint8ArrayFromString(r,"base16")}};function ip2bytes(e){if(!ip.isIP(e))throw new Error("invalid ip address");return ip.toBytes(e)}function bytes2ip(e){const t=ip.toString(e);if(!t||!ip.isIP(t))throw new Error("invalid ip address");return t}function port2bytes(e){const t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function bytes2port(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function str2bytes(e){const t=uint8ArrayFromString(e),r=Uint8Array.from(varint$2.encode(t.length));return uint8ArrayConcat$1([r,t],r.length+t.length)}function bytes2str(e){const t=varint$2.decode(e);if(e=e.slice(varint$2.decode.bytes),e.length!==t)throw new Error("inconsistent lengths");return uint8ArrayToString$2(e)}function mh2bytes(e){let t;e[0]==="Q"||e[0]==="1"?t=Digest.decode(base58btc$1.decode(`z${e}`)).bytes:t=CID$1.parse(e).multihash.bytes;const r=Uint8Array.from(varint$2.encode(t.length));return uint8ArrayConcat$1([r,t],r.length+t.length)}function bytes2mh(e){const t=varint$2.decode(e),r=e.slice(varint$2.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return uint8ArrayToString$2(r,"base58btc")}function onion2bytes(e){const t=e.split(":");if(t.length!==2)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(t[0].length!==16)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion address.");const r=base32.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");const o=port2bytes(n);return uint8ArrayConcat$1([r,o],r.length+o.length)}function onion32bytes(e){const t=e.split(":");if(t.length!==2)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(t[0].length!==56)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion3 address.");const r=base32.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");const o=port2bytes(n);return uint8ArrayConcat$1([r,o],r.length+o.length)}function bytes2onion(e){const t=e.slice(0,e.length-2),r=e.slice(e.length-2),n=uint8ArrayToString$2(t,"base32"),o=bytes2port(r);return n+":"+o}const convert=convert$1,protocols$1=protocolsTable,varint$1=varint$4,{concat:uint8ArrayConcat}=require$$3,{toString:uint8ArrayToString$1}=require$$7$1;var codec$1={stringToStringTuples,stringTuplesToString,tuplesToStringTuples,stringTuplesToTuples,bytesToTuples,tuplesToBytes,bytesToString,stringToBytes,fromString,fromBytes,validateBytes,isValidBytes,cleanPath,ParseError,protoFromTuple,sizeForAddr};function stringToStringTuples(e){const t=[],r=e.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){const o=r[n],i=protocols$1(o);if(i.size===0){t.push([o]);continue}if(n++,n>=r.length)throw ParseError("invalid address: "+e);if(i.path){t.push([o,cleanPath(r.slice(n).join("/"))]);break}t.push([o,r[n]])}return t}function stringTuplesToString(e){const t=[];return e.map(r=>{const n=protoFromTuple(r);return t.push(n.name),r.length>1&&t.push(r[1]),null}),cleanPath(t.join("/"))}function stringTuplesToTuples(e){return e.map(t=>{Array.isArray(t)||(t=[t]);const r=protoFromTuple(t);return t.length>1?[r.code,convert.toBytes(r.code,t[1])]:[r.code]})}function tuplesToStringTuples(e){return e.map(t=>{const r=protoFromTuple(t);return t[1]?[r.code,convert.toString(r.code,t[1])]:[r.code]})}function tuplesToBytes(e){return fromBytes(uint8ArrayConcat(e.map(t=>{const r=protoFromTuple(t);let n=Uint8Array.from(varint$1.encode(r.code));return t.length>1&&(n=uint8ArrayConcat([n,t[1]])),n})))}function sizeForAddr(e,t){return e.size>0?e.size/8:e.size===0?0:varint$1.decode(t)+varint$1.decode.bytes}function bytesToTuples(e){const t=[];let r=0;for(;r<e.length;){const n=varint$1.decode(e,r),o=varint$1.decode.bytes,i=protocols$1(n),a=sizeForAddr(i,e.slice(r+o));if(a===0){t.push([n]),r+=o;continue}const s=e.slice(r+o,r+o+a);if(r+=a+o,r>e.length)throw ParseError("Invalid address Uint8Array: "+uint8ArrayToString$1(e,"base16"));t.push([n,s])}return t}function bytesToString(e){const t=bytesToTuples(e),r=tuplesToStringTuples(t);return stringTuplesToString(r)}function stringToBytes(e){e=cleanPath(e);const t=stringToStringTuples(e),r=stringTuplesToTuples(t);return tuplesToBytes(r)}function fromString(e){return stringToBytes(e)}function fromBytes(e){const t=validateBytes(e);if(t)throw t;return Uint8Array.from(e)}function validateBytes(e){try{bytesToTuples(e)}catch(t){return t}}function isValidBytes(e){return validateBytes(e)===void 0}function cleanPath(e){return"/"+e.trim().split("/").filter(t=>t).join("/")}function ParseError(e){return new Error("Error parsing address: "+e)}function protoFromTuple(e){return protocols$1(e[0])}function assign(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}function createError(e,t,r){if(!e||typeof e=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof t=="object"&&(r=t,t=""),t&&(r.code=t);try{return assign(e,r)}catch{r.message=e.message,r.stack=e.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(e)),assign(new o,r)}}var errCode$1=createError;function equals(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}const equals$1=Object.freeze(Object.defineProperty({__proto__:null,equals},Symbol.toStringTag,{value:"Module"})),require$$7=getAugmentedNamespace(equals$1),codec=codec$1,protocols=protocolsTable,varint=varint$4,{CID}=require$$5,{base58btc}=require$$0,errCode=errCode$1,inspect=Symbol.for("nodejs.util.inspect.custom"),{toString:uint8ArrayToString}=require$$7$1,{equals:uint8ArrayEquals}=require$$7,resolvers=new Map,symbol=Symbol.for("@multiformats/js-multiaddr/multiaddr");class Multiaddr{constructor(t){if(t==null&&(t=""),Object.defineProperty(this,symbol,{value:!0}),t instanceof Uint8Array)this.bytes=codec.fromBytes(t);else if(typeof t=="string"){if(t.length>0&&t.charAt(0)!=="/")throw new Error(`multiaddr "${t}" must start with a "/"`);this.bytes=codec.fromString(t)}else if(Multiaddr.isMultiaddr(t))this.bytes=codec.fromBytes(t.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return codec.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){const t={},r=this.toString().split("/");return t.family=r[1]==="ip4"?4:6,t.host=r[2],t.transport=r[3],t.port=parseInt(r[4]),t}protos(){return this.protoCodes().map(t=>Object.assign({},protocols(t)))}protoCodes(){const t=[],r=this.bytes;let n=0;for(;n<r.length;){const o=varint.decode(r,n),i=varint.decode.bytes,a=protocols(o);n+=codec.sizeForAddr(a,r.slice(n+i))+i,t.push(o)}return t}protoNames(){return this.protos().map(t=>t.name)}tuples(){return codec.bytesToTuples(this.bytes)}stringTuples(){const t=codec.bytesToTuples(this.bytes);return codec.tuplesToStringTuples(t)}encapsulate(t){return t=new Multiaddr(t),new Multiaddr(this.toString()+t.toString())}decapsulate(t){const r=t.toString(),n=this.toString(),o=n.lastIndexOf(r);if(o<0)throw new Error("Address "+this+" does not contain subaddress: "+t);return new Multiaddr(n.slice(0,o))}decapsulateCode(t){const r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===t)return new Multiaddr(codec.tuplesToBytes(r.slice(0,n)));return this}getPeerId(){try{const r=this.stringTuples().filter(n=>n[0]===protocols.names.ipfs.code).pop();if(r&&r[1]){const n=r[1];return n[0]==="Q"||n[0]==="1"?uint8ArrayToString(base58btc.decode(`z${n}`),"base58btc"):uint8ArrayToString(CID.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let t=null;try{t=this.stringTuples().filter(r=>!!protocols(r[0]).path)[0][1],t||(t=null)}catch{t=null}return t}equals(t){return uint8ArrayEquals(this.bytes,t.bytes)}async resolve(){const t=this.protos().find(o=>o.resolvable);if(!t)return[this];const r=resolvers.get(t.name);if(!r)throw errCode(new Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this)).map(o=>new Multiaddr(o))}nodeAddress(){const t=this.protoCodes(),r=this.protoNames(),n=this.toString().split("/").slice(1);if(n.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(t[0]!==4&&t[0]!==41&&t[0]!==54&&t[0]!==55)throw new Error(`no protocol with name: "'${r[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(n[2]!=="tcp"&&n[2]!=="udp")throw new Error(`no protocol with name: "'${r[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:t[0]===41||t[0]===55?6:4,address:n[1],port:parseInt(n[3])}}isThinWaistAddress(t){const r=(t||this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}static fromNodeAddress(t,r){if(!t)throw new Error("requires node address object");if(!r)throw new Error("requires transport protocol");let n;switch(t.family){case 4:n="ip4";break;case 6:n="ip6";break;default:throw Error(`Invalid addr family. Got '${t.family}' instead of 4 or 6`)}return new Multiaddr("/"+[n,t.address,r,t.port].join("/"))}static isName(t){return Multiaddr.isMultiaddr(t)?t.protos().some(r=>r.resolvable):!1}static isMultiaddr(t){return t instanceof Multiaddr||Boolean(t&&t[symbol])}[inspect](){return"<Multiaddr "+uint8ArrayToString(this.bytes,"base16")+" - "+codec.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+uint8ArrayToString(this.bytes,"base16")+" - "+codec.bytesToString(this.bytes)+">"}}Multiaddr.protocols=protocols;Multiaddr.resolvers=resolvers;let nanoid=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");const pathSepS="/",pathSepB=new TextEncoder().encode(pathSepS),pathSep=pathSepB[0];class Key{constructor(t,r){if(typeof t=="string")this._buf=fromString$1(t);else if(t instanceof Uint8Array)this._buf=t;else throw new Error("Invalid key, should be String of Uint8Array");if(r==null&&(r=!0),r&&this.clean(),this._buf.byteLength===0||this._buf[0]!==pathSep)throw new Error("Invalid key")}toString(t="utf8"){return toString$1(this._buf,t)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(t){return new Key(t.join(pathSepS))}static random(){return new Key(nanoid().replace(/-/g,""))}static asKey(t){return t instanceof Uint8Array||typeof t=="string"?new Key(t):t.uint8Array?new Key(t.uint8Array()):null}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=pathSepB),this._buf[0]!==pathSep){const t=new Uint8Array(this._buf.byteLength+1);t.fill(pathSep,0,1),t.set(this._buf,1),this._buf=t}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===pathSep;)this._buf=this._buf.subarray(0,-1)}less(t){const r=this.list(),n=t.list();for(let o=0;o<r.length;o++){if(n.length<o+1)return!1;const i=r[o],a=n[o];if(i<a)return!0;if(i>a)return!1}return r.length<n.length}reverse(){return Key.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const t=this.namespaces();return t[t.length-1]}list(){return this.toString().split(pathSepS).slice(1)}type(){return namespaceType(this.baseNamespace())}name(){return namespaceValue(this.baseNamespace())}instance(t){return new Key(this.toString()+":"+t)}path(){let t=this.parent().toString();return t.endsWith(pathSepS)||(t+=pathSepS),t+=this.type(),new Key(t)}parent(){const t=this.list();return t.length===1?new Key(pathSepS):new Key(t.slice(0,-1).join(pathSepS))}child(t){return this.toString()===pathSepS?t:t.toString()===pathSepS?this:new Key(this.toString()+t.toString(),!1)}isAncestorOf(t){return t.toString()===this.toString()?!1:t.toString().startsWith(this.toString())}isDecendantOf(t){return t.toString()===this.toString()?!1:this.toString().startsWith(t.toString())}isTopLevel(){return this.list().length===1}concat(...t){return Key.withNamespaces([...this.namespaces(),...flatten(t.map(r=>r.namespaces()))])}}function namespaceType(e){const t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}function namespaceValue(e){const t=e.split(":");return t[t.length-1]}function flatten(e){return[].concat(...e)}const IPFS_PREFIX="/ipfs/";function toCidAndPath(e){if(e instanceof Uint8Array)try{e=CID$2.decode(e)}catch(o){throw errCode$1(o,"ERR_INVALID_CID")}let t=CID$2.asCID(e);if(t)return{cid:t,path:void 0};e=e.toString(),e.startsWith(IPFS_PREFIX)&&(e=e.substring(IPFS_PREFIX.length));const r=e.split("/");let n;try{t=CID$2.parse(r.shift()||"")}catch(o){throw errCode$1(o,"ERR_INVALID_CID")}return r.length&&(n=`/${r.join("/")}`),{cid:t,path:n}}const textDecoder=new TextDecoder;function decodeVarint(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function decodeBytes(e,t){let r;[r,t]=decodeVarint(e,t);const n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function decodeKey(e,t){let r;return[r,t]=decodeVarint(e,t),[r&7,r>>3,t]}function decodeLink(e){const t={},r=e.length;let n=0;for(;n<r;){let o,i;if([o,i,n]=decodeKey(e,n),i===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=decodeBytes(e,n)}else if(i===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let a;[a,n]=decodeBytes(e,n),t.Name=textDecoder.decode(a)}else if(i===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=decodeVarint(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${i}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function decodeNode(e){const t=e.length;let r=0,n,o=!1,i;for(;r<t;){let s,c;if([s,c,r]=decodeKey(e,r),s!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${s}`);if(c===1){if(i)throw new Error("protobuf: (PBNode) duplicate Data section");[i,r]=decodeBytes(e,r),n&&(o=!0)}else if(c===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let l;[l,r]=decodeBytes(e,r),n.push(decodeLink(l))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${c}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");const a={};return i&&(a.Data=i),a.Links=n||[],a}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=encodeVarint(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){const n=textEncoder$1.encode(e.Name);r-=n.length,t.set(n,r),r=encodeVarint(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=encodeVarint(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function encodeNode(e){const t=sizeNode(e),r=new Uint8Array(t);let n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=encodeVarint(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){const i=encodeLink(e.Links[o],r.subarray(0,n));n-=i,n=encodeVarint(r,n,i)-1,r[n]=18}return r}function sizeLink(e){let t=0;if(e.Hash){const r=e.Hash.length;t+=1+r+sov(r)}if(typeof e.Name=="string"){const r=textEncoder$1.encode(e.Name).length;t+=1+r+sov(r)}return typeof e.Tsize=="number"&&(t+=1+sov(e.Tsize)),t}function sizeNode(e){let t=0;if(e.Data){const r=e.Data.length;t+=1+r+sov(r)}if(e.Links)for(const r of e.Links){const n=sizeLink(r);t+=1+n+sov(n)}return t}function encodeVarint(e,t,r){t-=sov(r);const n=t;for(;r>=maxUInt32;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function sov(e){return e%2===0&&e++,Math.floor((len64(e)+6)/7)}function len64(e){let t=0;return e>=maxInt32&&(e=Math.floor(e/maxInt32),t=32),e>=1<<16&&(e>>>=16,t+=16),e>=1<<8&&(e>>>=8,t+=8),t+len8tab[e]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(e,t){if(e===t)return 0;const r=e.Name?textEncoder.encode(e.Name):[],n=t.Name?textEncoder.encode(t.Name):[];let o=r.length,i=n.length;for(let a=0,s=Math.min(o,i);a<s;++a)if(r[a]!==n[a]){o=r[a],i=n[a];break}return o<i?-1:i<o?1:0}function hasOnlyProperties(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function asLink(e){if(typeof e.asCID=="object"){const r=CID$2.asCID(e);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let r=CID$2.asCID(e.Hash);try{r||(typeof e.Hash=="string"?r=CID$2.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=CID$2.decode(e.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return typeof e.Name=="string"&&(t.Name=e.Name),typeof e.Tsize=="number"&&(t.Tsize=e.Tsize),t}function prepare(e){if((e instanceof Uint8Array||typeof e=="string")&&(e={Data:e}),typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Data!==void 0)if(typeof e.Data=="string")t.Data=textEncoder.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw new TypeError("Invalid DAG-PB form");if(e.Links!==void 0)if(Array.isArray(e.Links))t.Links=e.Links.map(asLink),t.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else t.Links=[];return t}function validate(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(e,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){const r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(r,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&linkComparator(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(e,t=[]){return prepare({Data:e,Links:t})}function createLink(e,t,r){return asLink({Hash:r,Name:e,Tsize:t})}const name$1="dag-pb",code$1=112;function encode$2(e){validate(e);const t={};return e.Links&&(t.Links=e.Links.map(r=>{const n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),e.Data&&(t.Data=e.Data),encodeNode(t)}function decode$2(e){const t=decodeNode(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(n=>{const o={};try{o.Hash=CID$2.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}const dagPB=Object.freeze(Object.defineProperty({__proto__:null,name:name$1,code:code$1,encode:encode$2,decode:decode$2,prepare,validate,createNode,createLink},Symbol.toStringTag,{value:"Module"}));new Key("/local/filesroot");const resolvePath=async function(e,t,r,n={}){const{cid:o,path:i}=toCidAndPath(r);i&&(n.path=i);let a=o,s=n.path||"";if(s.startsWith("/")&&(s=s.substring(1)),n.path)try{for await(const{value:c,remainderPath:l}of resolve(o,n.path,t,e,{signal:n.signal})){if(!CID$2.asCID(c))break;s=l,a=c}}catch(c){throw c.message.startsWith("Object has no property")&&(c.message=`no link named "${s.split("/")[0]}" under ${a}`,c.code="ERR_NO_LINK"),c}return{cid:a,remainderPath:s||""}},resolve=async function*(e,t,r,n,o){const i=async l=>{const d=await r.getCodec(l.code),E=await n.blocks.get(l,o);return d.decode(E)},a=t.split("/").filter(Boolean);let s=await i(e),c=e;for(;a.length;){const l=a.shift();if(!l)throw errCode$1(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(e.code===code$1&&Array.isArray(s.Links)){const d=s.Links.find(E=>E.Name===l);if(d){yield{value:d.Hash,remainderPath:a.join("/")},s=await i(d.Hash),c=d.Hash;continue}}if(Object.prototype.hasOwnProperty.call(s,l))s=s[l],yield{value:s,remainderPath:a.join("/")};else throw errCode$1(new Error(`no link named "${l}" under ${c}`),"ERR_NO_LINK");CID$2.asCID(s)&&(c=s,s=await i(s))}yield{value:s,remainderPath:""}};function peekableIterator(e){const[t,r]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:o=>{n.push(o)},next:()=>n.length?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}var itPeekable=peekableIterator;const drain=async e=>{for await(const t of e);};var itDrain=drain;const map=async function*(e,t){for await(const r of e)yield t(r)};var itMap=map;const log=logger("ipfs:components:dag:import");function createImport({repo:e}){async function*t(r,n={}){const o=await e.gcLock.readLock();try{const i={signal:n.signal,timeout:n.timeout},a=itPeekable(r),{value:s,done:c}=await a.peek();if(c)return;s&&a.push(s);let l;s instanceof Uint8Array?l=[a]:l=a;for await(const d of l){const E=await importCar(e,i,d);if(n.pinRoots!==!1)for(const D of E){let g="";try{await e.blocks.has(D)?(log(`Pinning root ${D}`),await e.pins.pinRecursively(D)):g="blockstore: block not found"}catch(w){g=w.message}yield{root:{cid:D,pinErrorMsg:g}}}}}finally{o()}}return withTimeoutOption(t)}async function importCar(e,t,r){const n=await CarBlockIterator.fromIterable(r),o=await n.getRoots();return await itDrain(e.blocks.putMany(itMap(n,({cid:i,bytes:a})=>(log(`Import block ${i}`),{key:i,value:a})),{signal:t.signal})),o}class JSONEncoder extends Array{constructor(){super(),this.inRecursive=[]}prefix(t){const r=this.inRecursive[this.inRecursive.length-1];r&&(r.type===Type.array&&(r.elements++,r.elements!==1&&t.push([44])),r.type===Type.map&&(r.elements++,r.elements!==1&&(r.elements%2===1?t.push([44]):t.push([58]))))}[Type.uint.major](t,r){this.prefix(t);const n=String(r.value),o=[];for(let i=0;i<n.length;i++)o[i]=n.charCodeAt(i);t.push(o)}[Type.negint.major](t,r){this[Type.uint.major](t,r)}[Type.bytes.major](t,r){throw new Error(`${encodeErrPrefix} unsupported type: Uint8Array`)}[Type.string.major](t,r){this.prefix(t);const n=fromString$4(JSON.stringify(r.value));t.push(n.length>32?asU8A(n):n)}[Type.array.major](t,r){this.prefix(t),this.inRecursive.push({type:Type.array,elements:0}),t.push([91])}[Type.map.major](t,r){this.prefix(t),this.inRecursive.push({type:Type.map,elements:0}),t.push([123])}[Type.tag.major](t,r){}[Type.float.major](t,r){if(r.type.name==="break"){const a=this.inRecursive.pop();if(a){if(a.type===Type.array)t.push([93]);else if(a.type===Type.map)t.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(r.value===void 0)throw new Error(`${encodeErrPrefix} unsupported type: undefined`);if(this.prefix(t),r.type.name==="true"){t.push([116,114,117,101]);return}else if(r.type.name==="false"){t.push([102,97,108,115,101]);return}else if(r.type.name==="null"){t.push([110,117,108,108]);return}const n=String(r.value),o=[];let i=!1;for(let a=0;a<n.length;a++)o[a]=n.charCodeAt(a),!i&&(o[a]===46||o[a]===101||o[a]===69)&&(i=!0);i||(o.push(46),o.push(48)),t.push(o)}}function mapSorter(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw new Error(`${encodeErrPrefix} complex map keys are not supported`);const r=e[0],n=t[0];if(r.type!==Type.string||n.type!==Type.string)throw new Error(`${encodeErrPrefix} non-string map keys are not supported`);if(r<n)return-1;if(r>n)return 1;throw new Error(`${encodeErrPrefix} unexpected duplicate map keys, this is not supported`)}const defaultEncodeOptions={addBreakTokens:!0,mapSorter};function encode$1(e,t){return t=Object.assign({},defaultEncodeOptions,t),encodeCustom(e,new JSONEncoder,t)}class Tokenizer{constructor(t,r={}){this.pos=0,this.data=t,this.options=r,this.modeStack=["value"],this.lastToken=""}done(){return this.pos>=this.data.length}ch(){return this.data[this.pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let t=this.ch();for(;t===32||t===9||t===13||t===10;)t=this.data[++this.pos]}expect(t){if(this.data.length-this.pos<t.length)throw new Error(`${decodeErrPrefix} unexpected end of input at position ${this.pos}`);for(let r=0;r<t.length;r++)if(this.data[this.pos++]!==t[r])throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}, expected to find '${String.fromCharCode(...t)}'`)}parseNumber(){const t=this.pos;let r=!1,n=!1;const o=s=>{for(;!this.done();){const c=this.ch();if(s.includes(c))this.pos++;else break}};if(this.ch()===45&&(r=!0,this.pos++),this.ch()===48)if(this.pos++,this.ch()===46)this.pos++,n=!0;else return new Token(Type.uint,0,this.pos-t);if(o([48,49,50,51,52,53,54,55,56,57]),r&&this.pos===t+1)throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}`);if(!this.done()&&this.ch()===46){if(n)throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}`);n=!0,this.pos++,o([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(n=!0,this.pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this.pos++,o([48,49,50,51,52,53,54,55,56,57]));const i=String.fromCharCode.apply(null,this.data.subarray(t,this.pos)),a=parseFloat(i);return n?new Token(Type.float,a,this.pos-t):this.options.allowBigInt!==!0||Number.isSafeInteger(a)?new Token(a>=0?Type.uint:Type.negint,a,this.pos-t):new Token(a>=0?Type.uint:Type.negint,BigInt(i),this.pos-t)}parseString(){if(this.ch()!==34)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}; this shouldn't happen`);this.pos++;for(let i=this.pos,a=0;i<this.data.length&&a<65536;i++,a++){const s=this.data[i];if(s===92||s<32||s>=128)break;if(s===34){const c=String.fromCharCode.apply(null,this.data.subarray(this.pos,i));return this.pos=i+1,new Token(Type.string,c,a)}}const t=this.pos,r=[],n=()=>{if(this.pos+4>=this.data.length)throw new Error(`${decodeErrPrefix} unexpected end of unicode escape sequence at position ${this.pos}`);let i=0;for(let a=0;a<4;a++){let s=this.ch();if(s>=48&&s<=57)s-=48;else if(s>=97&&s<=102)s=s-97+10;else if(s>=65&&s<=70)s=s-65+10;else throw new Error(`${decodeErrPrefix} unexpected unicode escape character at position ${this.pos}`);i=i*16+s,this.pos++}return i},o=()=>{const i=this.ch();let a=null,s=i>239?4:i>223?3:i>191?2:1;if(this.pos+s>this.data.length)throw new Error(`${decodeErrPrefix} unexpected unicode sequence at position ${this.pos}`);let c,l,d,E;switch(s){case 1:i<128&&(a=i);break;case 2:c=this.data[this.pos+1],(c&192)===128&&(E=(i&31)<<6|c&63,E>127&&(a=E));break;case 3:c=this.data[this.pos+1],l=this.data[this.pos+2],(c&192)===128&&(l&192)===128&&(E=(i&15)<<12|(c&63)<<6|l&63,E>2047&&(E<55296||E>57343)&&(a=E));break;case 4:c=this.data[this.pos+1],l=this.data[this.pos+2],d=this.data[this.pos+3],(c&192)===128&&(l&192)===128&&(d&192)===128&&(E=(i&15)<<18|(c&63)<<12|(l&63)<<6|d&63,E>65535&&E<1114112&&(a=E))}a===null?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|a&1023),r.push(a),this.pos+=s};for(;!this.done();){const i=this.ch();let a;switch(i){case 92:if(this.pos++,this.done())throw new Error(`${decodeErrPrefix} unexpected string termination at position ${this.pos}`);switch(a=this.ch(),this.pos++,a){case 34:case 39:case 92:case 47:r.push(a);break;case 98:r.push(8);break;case 116:r.push(9);break;case 110:r.push(10);break;case 102:r.push(12);break;case 114:r.push(13);break;case 117:r.push(n());break;default:throw new Error(`${decodeErrPrefix} unexpected string escape character at position ${this.pos}`)}break;case 34:return this.pos++,new Token(Type.string,decodeCodePointsArray(r),this.pos-t);default:if(i<32)throw new Error(`${decodeErrPrefix} invalid control character at position ${this.pos}`);i<128?(r.push(i),this.pos++):o()}}throw new Error(`${decodeErrPrefix} unexpected end of string at position ${this.pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this.pos++,new Token(Type.map,1/0,1);case 91:return this.modeStack.push("array-start"),this.pos++,new Token(Type.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new Token(Type.null,null,4);case 102:return this.expect([102,97,108,115,101]),new Token(Type.false,!1,5);case 116:return this.expect([116,114,117,101]),new Token(Type.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this.pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);const t=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("obj-value"),t}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${decodeErrPrefix} unexpected parse state at position ${this.pos}; this shouldn't happen`)}}}function decode$1(e,t){return t=Object.assign({tokenizer:new Tokenizer(e,t)},t),decode$c(e,t)}function cidEncoder(e){if(e.asCID!==e)return null;const t=CID$2.asCID(e);if(!t)return null;const r=t.toString();return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.string,r,r.length),new Token(Type.break,void 0,1)]}function bytesEncoder(e){const t=base64.encode(e).slice(1);return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.map,1/0,1),new Token(Type.string,"bytes",5),new Token(Type.string,t,t.length),new Token(Type.break,void 0,1),new Token(Type.break,void 0,1)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={typeEncoders:{Object:cidEncoder,Uint8Array:bytesEncoder,Buffer:bytesEncoder,undefined:undefinedEncoder,number:numberEncoder}};class DagJsonTokenizer extends Tokenizer{constructor(t,r){super(t,r),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const t=this._next();if(t.type===Type.map){const r=this._next();if(r.type===Type.string&&r.value==="/"){const n=this._next();if(n.type===Type.string){if(this._next().type!==Type.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(n),new Token(Type.tag,42,0)}if(n.type===Type.map){const o=this._next();if(o.type===Type.string&&o.value==="bytes"){const i=this._next();if(i.type===Type.string){for(let s=0;s<2;s++)if(this._next().type!==Type.break)throw new Error("Invalid encoded Bytes form");const a=base64.decode(`m${i.value}`);return new Token(Type.bytes,a,i.value.length)}this.tokenBuffer.push(i)}this.tokenBuffer.push(o)}this.tokenBuffer.push(n)}this.tokenBuffer.push(r)}return t}}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[42]=CID$2.parse;const name="dag-json",code=297,encode=e=>encode$1(e,encodeOptions),decode=e=>{const t=Object.assign(decodeOptions,{tokenizer:new DagJsonTokenizer(e,decodeOptions)});return decode$1(e,t)},dagJSON=Object.freeze(Object.defineProperty({__proto__:null,name,code,encode,decode},Symbol.toStringTag,{value:"Module"}));export{CID$2 as C,Transaction as T,resolvePath as a,createImport as b,createExport as c,base64url as d,errCode$1 as e,encode$9 as f,decode$7 as g,codecs as h,identity as i,dagPB as j,dagCBOR as k,dagJSON as l,cF as m,hashes as n,resolve as r,toCidAndPath as t,withTimeoutOption as w};
