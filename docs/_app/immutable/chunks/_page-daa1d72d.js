import{S as Z,i as G,s as x,k as N,q as F,a as W,l as B,m as D,r as j,c as Y,h as _,n as g,H as Oe,b as y,F as T,I as Q,u as ie,A as L,J as ht,K as Ct,L as he,M as Ot,N as yt,O as Lt,e as M,G as Pt,P as St,Q as _t,R as Tt,T as dt,U as mt,V as de,W as pt,f as C,g as $,t as S,d as ee,X as fe,Y as me,v as H,w as q,x as K,Z as pe,y as J,_ as It,o as ge,$ as _e,a0 as gt,a1 as Dt,a2 as At,B as be,p as te,a3 as Mt,C as ke,D as ve,E as we,a4 as se,a5 as re,a6 as ce,a7 as Ne,a8 as Be,a9 as Nt}from"./index-a6cc9c6d.js";import{_ as Bt}from"./preload-helper-aa6bc0ce.js";import{w as zt}from"./index-7ea16a28.js";import{C as Vt,T as ye}from"./index-df62fd85.js";function Ft(l){let e,t,n,i,r,s,f,o,a,u,c,d,v,m,k,I,O;return{c(){e=N("div"),t=N("div"),n=N("div"),i=N("span"),r=F(l[0]),s=W(),f=F(":"),o=W(),a=N("div"),u=N("span"),c=F(l[1]),d=W(),v=N("div"),m=N("button"),k=F("Add"),this.h()},l(E){e=B(E,"DIV",{class:!0});var z=D(e);t=B(z,"DIV",{class:!0});var P=D(t);n=B(P,"DIV",{class:!0});var b=D(n);i=B(b,"SPAN",{class:!0,contenteditable:!0});var h=D(i);r=j(h,l[0]),s=Y(h),h.forEach(_),f=j(b,":"),b.forEach(_),o=Y(P),a=B(P,"DIV",{class:!0});var p=D(a);u=B(p,"SPAN",{class:!0,contenteditable:!0});var w=D(u);c=j(w,l[1]),w.forEach(_),p.forEach(_),d=Y(P),v=B(P,"DIV",{class:!0});var V=D(v);m=B(V,"BUTTON",{class:!0});var R=D(m);k=j(R,"Add"),R.forEach(_),V.forEach(_),P.forEach(_),z.forEach(_),this.h()},h(){g(i,"class","p-1 bg-white rounded-md border border-gray-400 w-full min-w-[50px]"),g(i,"contenteditable","true"),l[0]===void 0&&Oe(()=>l[4].call(i)),g(n,"class","flex-1 flex flex-row m-1 p-1 items-center"),g(u,"class","p-1 bg-white rounded-md border border-gray-400 w-full min-w-[50px]"),g(u,"contenteditable","true"),l[1]===void 0&&Oe(()=>l[5].call(u)),g(a,"class","flex-1 flex flex-row m-1 p-1 items-center"),g(m,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg justify-end"),g(v,"class","flex flex-row-reverse m-1 p-1 justify-items-end"),g(t,"class","flex flex-row text-sm bg-slate-100 shadow shadow-blue-200 my-4 p-1 rounded-lg w-fit"),g(e,"class","flex flex-row relative")},m(E,z){y(E,e,z),T(e,t),T(t,n),T(n,i),T(i,r),T(i,s),l[0]!==void 0&&(i.textContent=l[0]),T(n,f),T(t,o),T(t,a),T(a,u),T(u,c),l[1]!==void 0&&(u.textContent=l[1]),T(t,d),T(t,v),T(v,m),T(m,k),I||(O=[Q(i,"keydown",ze),Q(i,"input",l[4]),Q(u,"keydown",ze),Q(u,"input",l[5]),Q(m,"click",l[2])],I=!0)},p(E,[z]){z&1&&ie(r,E[0]),z&1&&E[0]!==i.textContent&&(i.textContent=E[0]),z&2&&ie(c,E[1]),z&2&&E[1]!==u.textContent&&(u.textContent=E[1])},i:L,o:L,d(E){E&&_(e),I=!1,ht(O)}}}function ze(l){l.key==="Enter"&&(l.preventDefault(),l.stopPropagation(),l.target.blur())}function jt(l,e,t){let{tx:n}=e,i="Key",r="Value";async function s(a){if(n&&i&&r){const u=await n.add({[i]:r});await n.add({[i]:u}),t(3,n)}}function f(){i=this.textContent,t(0,i)}function o(){r=this.textContent,t(1,r)}return l.$$set=a=>{"tx"in a&&t(3,n=a.tx)},[i,r,s,n,f,o]}class Rt extends Z{constructor(e){super(),G(this,e,jt,Ft,x,{tx:3})}}function bt(l){const e=l-1;return e*e*e+1}function kt(l,{from:e,to:t},n={}){const i=getComputedStyle(l),r=i.transform==="none"?"":i.transform,[s,f]=i.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*s/t.width-(t.left+s),a=e.top+e.height*f/t.height-(t.top+f),{delay:u=0,duration:c=v=>Math.sqrt(v)*120,easing:d=bt}=n;return{delay:u,duration:Ct(c)?c(Math.sqrt(o*o+a*a)):c,easing:d,css:(v,m)=>{const k=m*o,I=m*a,O=v+m*e.width/t.width,E=v+m*e.height/t.height;return`transform: ${r} translate(${k}px, ${I}px) scale(${O}, ${E});`}}}function Ve(l){return Object.prototype.toString.call(l)==="[object Date]"}function Le(l,e){if(l===e||l!==l)return()=>l;const t=typeof l;if(t!==typeof e||Array.isArray(l)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(l)){const n=e.map((i,r)=>Le(l[r],i));return i=>n.map(r=>r(i))}if(t==="object"){if(!l||!e)throw new Error("Object cannot be null");if(Ve(l)&&Ve(e)){l=l.getTime(),e=e.getTime();const r=e-l;return s=>new Date(l+s*r)}const n=Object.keys(e),i={};return n.forEach(r=>{i[r]=Le(l[r],e[r])}),r=>{const s={};return n.forEach(f=>{s[f]=i[f](r)}),s}}if(t==="number"){const n=e-l;return i=>l+i*n}throw new Error(`Cannot interpolate ${t} values`)}function Xt(l,e={}){const t=zt(l);let n,i=l;function r(s,f){if(l==null)return t.set(l=s),Promise.resolve();i=s;let o=n,a=!1,{delay:u=0,duration:c=400,easing:d=Lt,interpolate:v=Le}=he(he({},e),f);if(c===0)return o&&(o.abort(),o=null),t.set(l=i),Promise.resolve();const m=Ot()+u;let k;return n=yt(I=>{if(I<m)return!0;a||(k=v(l,s),typeof c=="function"&&(c=c(l,s)),a=!0),o&&(o.abort(),o=null);const O=I-m;return O>c?(t.set(l=s),!1):(t.set(l=k(d(O/c))),!0)}),n.promise}return{set:r,update:(s,f)=>r(s(i,l),f),subscribe:t.subscribe}}function Fe(l,e,t){const n=l.slice();return n[3]=e[t].value,n[4]=e[t].cid,n[5]=e[t].bytes,n}function je(l,e,t){const n=l.slice();return n[8]=e[t][0],n[9]=e[t][1],n}function Re(l){let e,t=[],n=new Map,i,r,s=[...l[0].blocks].reverse();const f=a=>a[4];for(let a=0;a<s.length;a+=1){let u=Fe(l,s,a),c=f(u);n.set(c,t[a]=We(c,u))}let o=l[1]&&Ye(l);return{c(){e=N("div");for(let a=0;a<t.length;a+=1)t[a].c();i=W(),o&&o.c(),r=M(),this.h()},l(a){e=B(a,"DIV",{class:!0});var u=D(e);for(let c=0;c<t.length;c+=1)t[c].l(u);u.forEach(_),i=Y(a),o&&o.l(a),r=M(),this.h()},h(){g(e,"class","flex flex-row")},m(a,u){y(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);y(a,i,u),o&&o.m(a,u),y(a,r,u)},p(a,u){if(u&1){s=[...a[0].blocks].reverse();for(let c=0;c<t.length;c+=1)t[c].r();t=_t(t,u,f,1,a,s,n,e,Tt,We,null,Fe);for(let c=0;c<t.length;c+=1)t[c].a()}a[1]?o?o.p(a,u):(o=Ye(a),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},d(a){a&&_(e);for(let u=0;u<t.length;u+=1)t[u].d();a&&_(i),o&&o.d(a),a&&_(r)}}}function Xe(l){let e=l[8]+"",t,n,i=l[9]+"",r,s,f=l[5].length+"",o,a;return{c(){t=F(e),n=F(": "),r=F(i),s=F(" ("),o=F(f),a=F(")")},l(u){t=j(u,e),n=j(u,": "),r=j(u,i),s=j(u," ("),o=j(u,f),a=j(u,")")},m(u,c){y(u,t,c),y(u,n,c),y(u,r,c),y(u,s,c),y(u,o,c),y(u,a,c)},p(u,c){c&1&&e!==(e=u[8]+"")&&ie(t,e),c&1&&i!==(i=u[9]+"")&&ie(r,i),c&1&&f!==(f=u[5].length+"")&&ie(o,f)},d(u){u&&_(t),u&&_(n),u&&_(r),u&&_(s),u&&_(o),u&&_(a)}}}function We(l,e){let t,n,i,r=L,s=Object.entries(e[3]),f=[];for(let o=0;o<s.length;o+=1)f[o]=Xe(je(e,s,o));return{key:l,first:null,c(){t=N("div");for(let o=0;o<f.length;o+=1)f[o].c();n=W(),this.h()},l(o){t=B(o,"DIV",{class:!0});var a=D(t);for(let u=0;u<f.length;u+=1)f[u].l(a);n=Y(a),a.forEach(_),this.h()},h(){g(t,"class","mr-1 p-2 border-emerald-50 bg-green-800 text-white rounded-lg w-fit"),this.first=t},m(o,a){y(o,t,a);for(let u=0;u<f.length;u+=1)f[u].m(t,null);T(t,n)},p(o,a){if(e=o,a&1){s=Object.entries(e[3]);let u;for(u=0;u<s.length;u+=1){const c=je(e,s,u);f[u]?f[u].p(c,a):(f[u]=Xe(c),f[u].c(),f[u].m(t,n))}for(;u<f.length;u+=1)f[u].d(1);f.length=s.length}},r(){i=t.getBoundingClientRect()},f(){dt(t),r()},a(){r(),r=mt(t,i,kt,{})},d(o){o&&_(t),de(f,o)}}}function Ye(l){let e,t=l[1].toFixed(0)+"",n,i,r;return{c(){e=F("Total Transaction Size: "),n=F(t),i=F(" bytes"),r=N("br")},l(s){e=j(s,"Total Transaction Size: "),n=j(s,t),i=j(s," bytes"),r=B(s,"BR",{})},m(s,f){y(s,e,f),y(s,n,f),y(s,i,f),y(s,r,f)},p(s,f){f&2&&t!==(t=s[1].toFixed(0)+"")&&ie(n,t)},d(s){s&&_(e),s&&_(n),s&&_(i),s&&_(r)}}}function Wt(l){var n,i;let e,t=((i=(n=l[0])==null?void 0:n.blocks)==null?void 0:i.length)>0&&Re(l);return{c(){t&&t.c(),e=M()},l(r){t&&t.l(r),e=M()},m(r,s){t&&t.m(r,s),y(r,e,s)},p(r,[s]){var f,o;((o=(f=r[0])==null?void 0:f.blocks)==null?void 0:o.length)>0?t?t.p(r,s):(t=Re(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:L,o:L,d(r){t&&t.d(r),r&&_(e)}}}function Yt(l,e,t){let n,{tx:i}=e;const r=Xt(1,{duration:400,easing:bt});return Pt(l,r,s=>t(1,n=s)),i.on("size",s=>St(r,n=i.size,n)),l.$$set=s=>{"tx"in s&&t(0,i=s.tx)},[i,n,r]}class Ut extends Z{constructor(e){super(),G(this,e,Yt,Wt,x,{tx:0})}}function Ht(l){let e,t,n,i,r;return{c(){e=N("div"),t=N("button"),n=F("Commit Tx"),this.h()},l(s){e=B(s,"DIV",{class:!0});var f=D(e);t=B(f,"BUTTON",{class:!0});var o=D(t);n=j(o,"Commit Tx"),o.forEach(_),f.forEach(_),this.h()},h(){g(t,"class","bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg shadow-lg justify-end"),g(e,"class","flex flex-row-reverse m-1 p-1 justify-items-end")},m(s,f){y(s,e,f),T(e,t),T(t,n),i||(r=Q(t,"click",l[0]),i=!0)},p:L,i:L,o:L,d(s){s&&_(e),i=!1,r()}}}function qt(l,e,t){const n=pt();let{tx:i}=e;async function r(s){const f=await i.commit();n("commit",f)}return l.$$set=s=>{"tx"in s&&t(1,i=s.tx)},[r,i]}class Kt extends Z{constructor(e){super(),G(this,e,qt,Ht,x,{tx:1})}}function Ue(l){let e,t,n,i,r,s,f;function o(u){l[1](u)}let a={};return l[0]!==void 0&&(a.tx=l[0]),e=new Rt({props:a}),fe.push(()=>me(e,"tx",o)),i=new Ut({props:{tx:l[0]}}),s=new Kt({props:{tx:l[0]}}),s.$on("commit",l[2]),{c(){H(e.$$.fragment),n=W(),H(i.$$.fragment),r=W(),H(s.$$.fragment)},l(u){q(e.$$.fragment,u),n=Y(u),q(i.$$.fragment,u),r=Y(u),q(s.$$.fragment,u)},m(u,c){K(e,u,c),y(u,n,c),K(i,u,c),y(u,r,c),K(s,u,c),f=!0},p(u,c){const d={};!t&&c&1&&(t=!0,d.tx=u[0],pe(()=>t=!1)),e.$set(d);const v={};c&1&&(v.tx=u[0]),i.$set(v);const m={};c&1&&(m.tx=u[0]),s.$set(m)},i(u){f||(C(e.$$.fragment,u),C(i.$$.fragment,u),C(s.$$.fragment,u),f=!0)},o(u){S(e.$$.fragment,u),S(i.$$.fragment,u),S(s.$$.fragment,u),f=!1},d(u){J(e,u),u&&_(n),J(i,u),u&&_(r),J(s,u)}}}function Jt(l){let e,t,n=l[0]&&Ue(l);return{c(){n&&n.c(),e=M()},l(i){n&&n.l(i),e=M()},m(i,r){n&&n.m(i,r),y(i,e,r),t=!0},p(i,[r]){i[0]?n?(n.p(i,r),r&1&&C(n,1)):(n=Ue(i),n.c(),C(n,1),n.m(e.parentNode,e)):n&&($(),S(n,1,1,()=>{n=null}),ee())},i(i){t||(C(n),t=!0)},o(i){S(n),t=!1},d(i){n&&n.d(i),i&&_(e)}}}function Qt(l,e,t){let{tx:n=null}=e;function i(s){n=s,t(0,n)}function r(s){It.call(this,l,s)}return l.$$set=s=>{"tx"in s&&t(0,n=s.tx)},[n,i,r]}class Zt extends Z{constructor(e){super(),G(this,e,Qt,Jt,x,{tx:0})}}function He(l,e,t){const n=l.slice();return n[3]=e[t][0],n[4]=e[t][1],n}function qe(l){let e,t,n,i={ctx:l,current:null,token:null,hasCatch:!1,pending:tn,then:xt,catch:Gt,value:1,blocks:[,,,]};return _e(t=l[1],i),{c(){e=M(),i.block.c()},l(r){e=M(),i.block.l(r)},m(r,s){y(r,e,s),i.block.m(r,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,n=!0},p(r,s){l=r,i.ctx=l,s&2&&t!==(t=l[1])&&_e(t,i)||gt(i,l,s)},i(r){n||(C(i.block),n=!0)},o(r){for(let s=0;s<3;s+=1){const f=i.blocks[s];S(f)}n=!1},d(r){r&&_(e),i.block.d(r),i.token=null,i=null}}}function Gt(l){return{c:L,l:L,m:L,p:L,i:L,o:L,d:L}}function xt(l){let e,t,n=Object.entries(l[1]),i=[];for(let s=0;s<n.length;s+=1)i[s]=Ke(He(l,n,s));const r=s=>S(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=M()},l(s){for(let f=0;f<i.length;f+=1)i[f].l(s);e=M()},m(s,f){for(let o=0;o<i.length;o+=1)i[o].m(s,f);y(s,e,f),t=!0},p(s,f){if(f&3){n=Object.entries(s[1]);let o;for(o=0;o<n.length;o+=1){const a=He(s,n,o);i[o]?(i[o].p(a,f),C(i[o],1)):(i[o]=Ke(a),i[o].c(),C(i[o],1),i[o].m(e.parentNode,e))}for($(),o=n.length;o<i.length;o+=1)r(o);ee()}},i(s){if(!t){for(let f=0;f<n.length;f+=1)C(i[f]);t=!0}},o(s){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)S(i[f]);t=!1},d(s){de(i,s),s&&_(e)}}}function $t(l){let e,t=l[3]+"",n,i,r=l[4]+"",s;return{c(){e=N("div"),n=F(t),i=F(": "),s=F(r),this.h()},l(f){e=B(f,"DIV",{class:!0});var o=D(e);n=j(o,t),i=j(o,": "),s=j(o,r),o.forEach(_),this.h()},h(){g(e,"class","bg-slate-100 rounded-lg m-1 p-1 w-fit")},m(f,o){y(f,e,o),T(e,n),T(e,i),T(e,s)},p(f,o){o&2&&t!==(t=f[3]+"")&&ie(n,t),o&2&&r!==(r=f[4]+"")&&ie(s,r)},i:L,o:L,d(f){f&&_(e)}}}function en(l){let e,t;return e=new vt({props:{get:l[0],node:l[4]}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,i){K(e,n,i),t=!0},p(n,i){const r={};i&1&&(r.get=n[0]),i&2&&(r.node=n[4]),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Ke(l){let e,t,n,i,r;const s=[en,$t],f=[];function o(a,u){return u&2&&(e=null),e==null&&(e=!!Vt.asCID(a[4])),e?0:1}return t=o(l,-1),n=f[t]=s[t](l),{c(){n.c(),i=M()},l(a){n.l(a),i=M()},m(a,u){f[t].m(a,u),y(a,i,u),r=!0},p(a,u){let c=t;t=o(a,u),t===c?f[t].p(a,u):($(),S(f[c],1,1,()=>{f[c]=null}),ee(),n=f[t],n?n.p(a,u):(n=f[t]=s[t](a),n.c()),C(n,1),n.m(i.parentNode,i))},i(a){r||(C(n),r=!0)},o(a){S(n),r=!1},d(a){f[t].d(a),a&&_(i)}}}function tn(l){return{c:L,l:L,m:L,p:L,i:L,o:L,d:L}}function nn(l){let e,t,n=l[1]&&qe(l);return{c(){n&&n.c(),e=M()},l(i){n&&n.l(i),e=M()},m(i,r){n&&n.m(i,r),y(i,e,r),t=!0},p(i,[r]){i[1]?n?(n.p(i,r),r&2&&C(n,1)):(n=qe(i),n.c(),C(n,1),n.m(e.parentNode,e)):n&&($(),S(n,1,1,()=>{n=null}),ee())},i(i){t||(C(n),t=!0)},o(i){S(n),t=!1},d(i){n&&n.d(i),i&&_(e)}}}function ln(l,e,t){let{get:n}=e,{node:i}=e,r;return ge(async()=>{t(1,r=await n(i))}),l.$$set=s=>{"get"in s&&t(0,n=s.get),"node"in s&&t(2,i=s.node)},[n,r,i]}class vt extends Z{constructor(e){super(),G(this,e,ln,nn,x,{get:0,node:2})}}function Je(l){let e,t,n,i={ctx:l,current:null,token:null,hasCatch:!1,pending:on,then:rn,catch:sn,value:1,blocks:[,,,]};return _e(t=l[1],i),{c(){e=M(),i.block.c()},l(r){e=M(),i.block.l(r)},m(r,s){y(r,e,s),i.block.m(r,i.anchor=s),i.mount=()=>e.parentNode,i.anchor=e,n=!0},p(r,s){l=r,i.ctx=l,s&2&&t!==(t=l[1])&&_e(t,i)||gt(i,l,s)},i(r){n||(C(i.block),n=!0)},o(r){for(let s=0;s<3;s+=1){const f=i.blocks[s];S(f)}n=!1},d(r){r&&_(e),i.block.d(r),i.token=null,i=null}}}function sn(l){return{c:L,l:L,m:L,p:L,i:L,o:L,d:L}}function rn(l){let e,t;return e=new vt({props:{get:l[0],node:l[1]}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,i){K(e,n,i),t=!0},p(n,i){const r={};i&1&&(r.get=n[0]),i&2&&(r.node=n[1]),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function on(l){let e;return{c(){e=F("Loading commit")},l(t){e=j(t,"Loading commit")},m(t,n){y(t,e,n)},p:L,i:L,o:L,d(t){t&&_(e)}}}function fn(l){let e,t,n=l[1]&&Je(l);return{c(){n&&n.c(),e=M()},l(i){n&&n.l(i),e=M()},m(i,r){n&&n.m(i,r),y(i,e,r),t=!0},p(i,[r]){i[1]?n?(n.p(i,r),r&2&&C(n,1)):(n=Je(i),n.c(),C(n,1),n.m(e.parentNode,e)):n&&($(),S(n,1,1,()=>{n=null}),ee())},i(i){t||(C(n),t=!0)},o(i){S(n),t=!1},d(i){n&&n.d(i),i&&_(e)}}}function an(l,e,t){let{commit:n}=e,i,r;return ge(async()=>{t(1,{root:i,get:r}=await ye.load(n),i,t(0,r)),console.log({root:i,get:r})}),l.$$set=s=>{"commit"in s&&t(2,n=s.commit)},[r,i,n]}class un extends Z{constructor(e){super(),G(this,e,an,fn,x,{commit:2})}}function Qe(l,e,t){const n=l.slice();return n[7]=e[t],n[9]=t,n}function cn(l){let e;return{c(){e=F("No Commits")},l(t){e=j(t,"No Commits")},m(t,n){y(t,e,n)},p:L,i:L,o:L,d(t){t&&_(e)}}}function hn(l){let e,t=[],n=new Map,i,r=l[0];const s=f=>f[9];for(let f=0;f<r.length;f+=1){let o=Qe(l,r,f),a=s(o);n.set(a,t[f]=Ze(a,o))}return{c(){e=N("div");for(let f=0;f<t.length;f+=1)t[f].c();this.h()},l(f){e=B(f,"DIV",{class:!0});var o=D(e);for(let a=0;a<t.length;a+=1)t[a].l(o);o.forEach(_),this.h()},h(){g(e,"class","flex flex-col-reverse ")},m(f,o){y(f,e,o);for(let a=0;a<t.length;a+=1)t[a].m(e,null);i=!0},p(f,o){if(o&1){r=f[0],$();for(let a=0;a<t.length;a+=1)t[a].r();t=_t(t,o,s,1,f,r,n,e,At,Ze,null,Qe);for(let a=0;a<t.length;a+=1)t[a].a();ee()}},i(f){if(!i){for(let o=0;o<r.length;o+=1)C(t[o]);i=!0}},o(f){for(let o=0;o<t.length;o+=1)S(t[o]);i=!1},d(f){f&&_(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Ze(l,e){let t,n,i,r,s=L,f;return n=new un({props:{commit:e[7]}}),{key:l,first:null,c(){t=N("div"),H(n.$$.fragment),i=W(),this.h()},l(o){t=B(o,"DIV",{class:!0});var a=D(t);q(n.$$.fragment,a),i=Y(a),a.forEach(_),this.h()},h(){g(t,"class","m-4 p-2 border-2 border-dashed "),this.first=t},m(o,a){y(o,t,a),K(n,t,null),T(t,i),f=!0},p(o,a){e=o;const u={};a&1&&(u.commit=e[7]),n.$set(u)},r(){r=t.getBoundingClientRect()},f(){dt(t),s()},a(){s(),s=mt(t,r,kt,{})},i(o){f||(C(n.$$.fragment,o),f=!0)},o(o){S(n.$$.fragment,o),f=!1},d(o){o&&_(t),J(n)}}}function _n(l){let e,t,n,i,r,s,f,o;function a(m){l[4](m)}let u={};l[1]!==void 0&&(u.tx=l[1]),t=new Zt({props:u}),fe.push(()=>me(t,"tx",a)),t.$on("commit",l[2]);const c=[hn,cn],d=[];function v(m,k){return m[0]&&m[0].length?0:1}return r=v(l),s=d[r]=c[r](l),{c(){e=N("div"),H(t.$$.fragment),i=W(),s.c(),f=M(),this.h()},l(m){e=B(m,"DIV",{class:!0});var k=D(e);q(t.$$.fragment,k),k.forEach(_),i=Y(m),s.l(m),f=M(),this.h()},h(){g(e,"class","m-4 p-4 border-dashed border-2")},m(m,k){y(m,e,k),K(t,e,null),y(m,i,k),d[r].m(m,k),y(m,f,k),o=!0},p(m,[k]){const I={};!n&&k&2&&(n=!0,I.tx=m[1],pe(()=>n=!1)),t.$set(I);let O=r;r=v(m),r===O?d[r].p(m,k):($(),S(d[O],1,1,()=>{d[O]=null}),ee(),s=d[r],s?s.p(m,k):(s=d[r]=c[r](m),s.c()),C(s,1),s.m(f.parentNode,f))},i(m){o||(C(t.$$.fragment,m),C(s),o=!0)},o(m){S(t.$$.fragment,m),S(s),o=!1},d(m){m&&_(e),J(t),m&&_(i),d[r].d(m),m&&_(f)}}}function dn(l,e,t){let{commits:n=[]}=e,{connectable:i}=e,r=null,s;Dt("connectable",i),ge(async()=>{const{createDagRepo:a}=await Bt(()=>import("./index-67909bbc.js"),["index-67909bbc.js","dagRepo-64fea4fc.js","index-a6cc9c6d.js","index-df62fd85.js","preload-helper-aa6bc0ce.js","index-7ea16a28.js"],import.meta.url);t(1,r=ye.create()),s=await a()});async function f(a){const u=a.detail;t(0,n=[...n,u]),await s.importBuffer(u),t(1,r=ye.create())}function o(a){r=a,t(1,r)}return l.$$set=a=>{"commits"in a&&t(0,n=a.commits),"connectable"in a&&t(3,i=a.connectable)},[n,r,f,i,o]}class mn extends Z{constructor(e){super(),G(this,e,dn,_n,x,{commits:0,connectable:3})}}class le{constructor(e){this.id=-1,this.nativePointer=e,this.pageX=e.pageX,this.pageY=e.pageY,this.clientX=e.clientX,this.clientY=e.clientY,self.Touch&&e instanceof Touch?this.id=e.identifier:ue(e)&&(this.id=e.pointerId)}getCoalesced(){if("getCoalescedEvents"in this.nativePointer){const e=this.nativePointer.getCoalescedEvents().map(t=>new le(t));if(e.length>0)return e}return[this]}}const ue=l=>"pointerId"in l,Ce=l=>"changedTouches"in l,Ge=()=>{};class pn{constructor(e,{start:t=()=>!0,move:n=Ge,end:i=Ge,rawUpdates:r=!1,avoidPointerEvents:s=!1,eventListenerOptions:f={capture:!1,passive:!1,once:!1}}={}){this._element=e,this.startPointers=[],this.currentPointers=[],this._excludeFromButtonsCheck=new Set,this._pointerStart=o=>{if(ue(o)&&o.buttons===0)this._excludeFromButtonsCheck.add(o.pointerId);else if(!(o.buttons&1))return;const a=new le(o);this.currentPointers.some(u=>u.id===a.id)||!this._triggerPointerStart(a,o)||(ue(o)?((o.target&&"setPointerCapture"in o.target?o.target:this._element).setPointerCapture(o.pointerId),this._element.addEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move,this._eventListenerOptions),this._element.addEventListener("pointerup",this._pointerEnd,this._eventListenerOptions),this._element.addEventListener("pointercancel",this._pointerEnd,this._eventListenerOptions)):(window.addEventListener("mousemove",this._move),window.addEventListener("mouseup",this._pointerEnd)))},this._touchStart=o=>{for(const a of Array.from(o.changedTouches))this._triggerPointerStart(new le(a),o)},this._move=o=>{if(!Ce(o)&&(!ue(o)||!this._excludeFromButtonsCheck.has(o.pointerId))&&o.buttons===0){this._pointerEnd(o);return}const a=this.currentPointers.slice(),u=Ce(o)?Array.from(o.changedTouches).map(d=>new le(d)):[new le(o)],c=[];for(const d of u){const v=this.currentPointers.findIndex(m=>m.id===d.id);v!==-1&&(c.push(d),this.currentPointers[v]=d)}c.length!==0&&this._moveCallback(a,c,o)},this._triggerPointerEnd=(o,a)=>{if(!Ce(a)&&a.buttons&1)return!1;const u=this.currentPointers.findIndex(d=>d.id===o.id);if(u===-1)return!1;this.currentPointers.splice(u,1),this.startPointers.splice(u,1),this._excludeFromButtonsCheck.delete(o.id);const c=!(a.type==="mouseup"||a.type==="touchend"||a.type==="pointerup");return this._endCallback(o,a,c),!0},this._pointerEnd=o=>{if(!!this._triggerPointerEnd(new le(o),o))if(ue(o)){if(this.currentPointers.length)return;this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd)}else window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)},this._touchEnd=o=>{for(const a of Array.from(o.changedTouches))this._triggerPointerEnd(new le(a),o)},this._startCallback=t,this._moveCallback=n,this._endCallback=i,this._rawUpdates=r&&"onpointerrawupdate"in window,this._eventListenerOptions=f,self.PointerEvent&&!s?this._element.addEventListener("pointerdown",this._pointerStart,this._eventListenerOptions):(this._element.addEventListener("mousedown",this._pointerStart,this._eventListenerOptions),this._element.addEventListener("touchstart",this._touchStart,this._eventListenerOptions),this._element.addEventListener("touchmove",this._move,this._eventListenerOptions),this._element.addEventListener("touchend",this._touchEnd,this._eventListenerOptions),this._element.addEventListener("touchcancel",this._touchEnd,this._eventListenerOptions))}stop(){this._element.removeEventListener("pointerdown",this._pointerStart),this._element.removeEventListener("mousedown",this._pointerStart),this._element.removeEventListener("touchstart",this._touchStart),this._element.removeEventListener("touchmove",this._move),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),this._element.removeEventListener(this._rawUpdates?"pointerrawupdate":"pointermove",this._move),this._element.removeEventListener("pointerup",this._pointerEnd),this._element.removeEventListener("pointercancel",this._pointerEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}_triggerPointerStart(e,t){return this._startCallback(e,t)?(this.currentPointers.push(e),this.startPointers.push(e),!0):!1}}let gn=(l=21)=>crypto.getRandomValues(new Uint8Array(l)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"");function bn(l){let e;return{c(){e=N("div"),this.h()},l(t){e=B(t,"DIV",{class:!0}),D(e).forEach(_),this.h()},h(){g(e,"class","h-16 w-16 p-8 rounded-full shadow-xl opacity-80 select-none border-[2em] border-pink-500/50")},m(t,n){y(t,e,n)},p:L,d(t){t&&_(e)}}}function kn(l){let e,t,n;const i=l[9].default,r=be(i,l,l[8],null),s=r||bn();return{c(){e=N("div"),s&&s.c(),this.h()},l(f){e=B(f,"DIV",{id:!0,class:!0,style:!0});var o=D(e);s&&s.l(o),o.forEach(_),this.h()},h(){g(e,"id",l[1]),g(e,"class","absolute"),te(e,"left",l[5]+"px"),te(e,"top",l[4]+"px"),Oe(()=>l[11].call(e))},m(f,o){y(f,e,o),s&&s.m(e,null),l[10](e),t=Mt(e,l[11].bind(e)),n=!0},p(f,[o]){r&&r.p&&(!n||o&256)&&ke(r,i,f,f[8],n?we(i,f[8],o,null):ve(f[8]),null),(!n||o&2)&&g(e,"id",f[1]),(!n||o&32)&&te(e,"left",f[5]+"px"),(!n||o&16)&&te(e,"top",f[4]+"px")},i(f){n||(C(s,f),n=!0)},o(f){S(s,f),n=!1},d(f){f&&_(e),s&&s.d(f),l[10](null),t()}}}function vn(l,e,t){let n,i,{$$slots:r={},$$scope:s}=e,{marker:f}=e,{id:o}=e,{left:a}=e,{top:u}=e,c,d;function v(k){fe[k?"unshift":"push"](()=>{f=k,t(0,f)})}function m(){c=this.offsetWidth,d=this.offsetHeight,t(2,c),t(3,d)}return l.$$set=k=>{"marker"in k&&t(0,f=k.marker),"id"in k&&t(1,o=k.id),"left"in k&&t(6,a=k.left),"top"in k&&t(7,u=k.top),"$$scope"in k&&t(8,s=k.$$scope)},l.$$.update=()=>{l.$$.dirty&68&&t(5,n=a-c/2),l.$$.dirty&136&&t(4,i=u-d/2)},[f,o,c,d,i,n,a,u,s,r,v,m]}class wn extends Z{constructor(e){super(),G(this,e,vn,kn,x,{marker:0,id:1,left:6,top:7})}}const Pe=Math.PI,Se=2*Pe,oe=1e-6,En=Se-oe;function Te(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function wt(){return new Te}Te.prototype=wt.prototype={constructor:Te,moveTo:function(l,e){this._+="M"+(this._x0=this._x1=+l)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(l,e){this._+="L"+(this._x1=+l)+","+(this._y1=+e)},quadraticCurveTo:function(l,e,t,n){this._+="Q"+ +l+","+ +e+","+(this._x1=+t)+","+(this._y1=+n)},bezierCurveTo:function(l,e,t,n,i,r){this._+="C"+ +l+","+ +e+","+ +t+","+ +n+","+(this._x1=+i)+","+(this._y1=+r)},arcTo:function(l,e,t,n,i){l=+l,e=+e,t=+t,n=+n,i=+i;var r=this._x1,s=this._y1,f=t-l,o=n-e,a=r-l,u=s-e,c=a*a+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=l)+","+(this._y1=e);else if(c>oe)if(!(Math.abs(u*f-o*a)>oe)||!i)this._+="L"+(this._x1=l)+","+(this._y1=e);else{var d=t-r,v=n-s,m=f*f+o*o,k=d*d+v*v,I=Math.sqrt(m),O=Math.sqrt(c),E=i*Math.tan((Pe-Math.acos((m+c-k)/(2*I*O)))/2),z=E/O,P=E/I;Math.abs(z-1)>oe&&(this._+="L"+(l+z*a)+","+(e+z*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>a*v)+","+(this._x1=l+P*f)+","+(this._y1=e+P*o)}},arc:function(l,e,t,n,i,r){l=+l,e=+e,t=+t,r=!!r;var s=t*Math.cos(n),f=t*Math.sin(n),o=l+s,a=e+f,u=1^r,c=r?n-i:i-n;if(t<0)throw new Error("negative radius: "+t);this._x1===null?this._+="M"+o+","+a:(Math.abs(this._x1-o)>oe||Math.abs(this._y1-a)>oe)&&(this._+="L"+o+","+a),t&&(c<0&&(c=c%Se+Se),c>En?this._+="A"+t+","+t+",0,1,"+u+","+(l-s)+","+(e-f)+"A"+t+","+t+",0,1,"+u+","+(this._x1=o)+","+(this._y1=a):c>oe&&(this._+="A"+t+","+t+",0,"+ +(c>=Pe)+","+u+","+(this._x1=l+t*Math.cos(i))+","+(this._y1=e+t*Math.sin(i))))},rect:function(l,e,t,n){this._+="M"+(this._x0=this._x1=+l)+","+(this._y0=this._y1=+e)+"h"+ +t+"v"+ +n+"h"+-t+"Z"},toString:function(){return this._}};function xe(l){return function(){return l}}var Cn=Array.prototype.slice;function On(l){return l[0]}function yn(l){return l[1]}class Ln{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function Pn(l){return new Ln(l,!0)}function Sn(l){return l.source}function Tn(l){return l.target}function In(l){let e=Sn,t=Tn,n=On,i=yn,r=null,s=null;function f(){let o;const a=Cn.call(arguments),u=e.apply(this,a),c=t.apply(this,a);if(r==null&&(s=l(o=wt())),s.lineStart(),a[0]=u,s.point(+n.apply(this,a),+i.apply(this,a)),a[0]=c,s.point(+n.apply(this,a),+i.apply(this,a)),s.lineEnd(),o)return s=null,o+""||null}return f.source=function(o){return arguments.length?(e=o,f):e},f.target=function(o){return arguments.length?(t=o,f):t},f.x=function(o){return arguments.length?(n=typeof o=="function"?o:xe(+o),f):n},f.y=function(o){return arguments.length?(i=typeof o=="function"?o:xe(+o),f):i},f.context=function(o){return arguments.length?(o==null?r=s=null:s=l(r=o),f):r},f}function $e(l,e,t){const n=l.slice();return n[17]=e[t],n[19]=t,n}function et(l){let e,t=l[0],n=[];for(let i=0;i<t.length;i+=1)n[i]=nt($e(l,t,i));return{c(){e=se("svg");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=re(i,"svg",{style:!0,class:!0});var r=D(e);for(let s=0;s<n.length;s+=1)n[s].l(r);r.forEach(_),this.h()},h(){te(e,"pointer-events","none"),g(e,"class","svelte-1t43067")},m(i,r){y(i,e,r);for(let s=0;s<n.length;s+=1)n[s].m(e,null)},p(i,r){if(r&2047){t=i[0];let s;for(s=0;s<t.length;s+=1){const f=$e(i,t,s);n[s]?n[s].p(f,r):(n[s]=nt(f),n[s].c(),n[s].m(e,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(i){i&&_(e),de(n,i)}}}function tt(l){var O,E,z,P,b,h;let e,t,n,i,r,s,f,o=((z=(E=(O=l[17])==null?void 0:O.opts)==null?void 0:E.label)!=null&&z.enabled?(h=(b=(P=l[17])==null?void 0:P.opts)==null?void 0:b.label)==null?void 0:h.value:"")+"",a,u,c,d,v,m,k,I;return{c(){e=se("g"),t=se("path"),r=se("text"),s=se("textPath"),f=se("tspan"),a=F(o),u=W(),v=se("textPath"),m=F("\u27A4"),this.h()},l(p){e=re(p,"g",{stroke:!0,"stroke-opacity":!0});var w=D(e);t=re(w,"path",{d:!0,id:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-opacity":!0}),D(t).forEach(_),r=re(w,"text",{class:!0});var V=D(r);s=re(V,"textPath",{"xlink:href":!0,startOffset:!0});var R=D(s);f=re(R,"tspan",{fill:!0,class:!0});var U=D(f);a=j(U,o),U.forEach(_),u=Y(R),R.forEach(_),v=re(V,"textPath",{"xlink:href":!0,startOffset:!0,fill:!0,opacity:!0});var A=D(v);m=j(A,"\u27A4"),A.forEach(_),V.forEach(_),w.forEach(_),this.h()},h(){g(t,"d",n=l[10](l[17])),g(t,"id",i=l[17].id),g(t,"stroke-width",l[2]),g(t,"stroke",l[1]),g(t,"fill","none"),g(t,"stroke-linecap","round"),g(t,"stroke-opacity",l[4]),g(f,"fill","black"),g(f,"class","svelte-1t43067"),ce(s,"xlink:href",c="#"+l[17].id),g(s,"startOffset",d=l[7]+"%"),ce(v,"xlink:href",k="#"+l[17].id),g(v,"startOffset",l[8]),g(v,"fill",l[3]),g(v,"opacity",I=l[4]*1.3),g(r,"class","svelte-1t43067"),g(e,"stroke",l[6]),g(e,"stroke-opacity",l[5])},m(p,w){y(p,e,w),T(e,t),T(e,r),T(r,s),T(s,f),T(f,a),T(s,u),T(r,v),T(v,m)},p(p,w){var V,R,U,A,ne,ae;w&1&&n!==(n=p[10](p[17]))&&g(t,"d",n),w&1&&i!==(i=p[17].id)&&g(t,"id",i),w&4&&g(t,"stroke-width",p[2]),w&2&&g(t,"stroke",p[1]),w&16&&g(t,"stroke-opacity",p[4]),w&1&&o!==(o=((U=(R=(V=p[17])==null?void 0:V.opts)==null?void 0:R.label)!=null&&U.enabled?(ae=(ne=(A=p[17])==null?void 0:A.opts)==null?void 0:ne.label)==null?void 0:ae.value:"")+"")&&ie(a,o),w&1&&c!==(c="#"+p[17].id)&&ce(s,"xlink:href",c),w&128&&d!==(d=p[7]+"%")&&g(s,"startOffset",d),w&1&&k!==(k="#"+p[17].id)&&ce(v,"xlink:href",k),w&256&&g(v,"startOffset",p[8]),w&8&&g(v,"fill",p[3]),w&16&&I!==(I=p[4]*1.3)&&g(v,"opacity",I),w&64&&g(e,"stroke",p[6]),w&32&&g(e,"stroke-opacity",p[5])},d(p){p&&_(e)}}}function nt(l){let e,t=l[17]&&l[9]&&tt(l);return{c(){t&&t.c(),e=M()},l(n){t&&t.l(n),e=M()},m(n,i){t&&t.m(n,i),y(n,e,i)},p(n,i){n[17]&&n[9]?t?t.p(n,i):(t=tt(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&_(e)}}}function Dn(l){let e,t=l[9]&&l[0]&&l[0].length>0&&et(l);return{c(){t&&t.c(),e=M()},l(n){t&&t.l(n),e=M()},m(n,i){t&&t.m(n,i),y(n,e,i)},p(n,[i]){n[9]&&n[0]&&n[0].length>0?t?t.p(n,i):(t=et(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:L,o:L,d(n){t&&t.d(n),n&&_(e)}}}function An(l,e,t){let{links:n}=e,{calcOffsetFromCanvas:i}=e,{strokeColor:r="green"}=e,{strokeWidth:s=1}=e,{arrowColor:f="green"}=e,{strokeOpacity:o="0.3"}=e,{groupStrokeOpacity:a="0.1"}=e,{groupStrokeColor:u="white"}=e,{textStartOffset:c=20}=e,{arrowStartOffset:d="40%"}=e;const v=In(Pn);let m,k,I,O,E;ge(()=>{t(9,m=!0)});function z(P){let b=document.getElementById(P.source.id),h=document.getElementById(P.target.id);if(!b||!h)return;const{x:p,y:w}=i(b),{x:V,y:R}=i(h);return k=p+b.offsetWidth/2,I=w+b.offsetHeight/2,O=V+h.offsetWidth/2,E=R+h.offsetHeight/2,v({source:[k,I],target:[O,E]})}return l.$$set=P=>{"links"in P&&t(0,n=P.links),"calcOffsetFromCanvas"in P&&t(11,i=P.calcOffsetFromCanvas),"strokeColor"in P&&t(1,r=P.strokeColor),"strokeWidth"in P&&t(2,s=P.strokeWidth),"arrowColor"in P&&t(3,f=P.arrowColor),"strokeOpacity"in P&&t(4,o=P.strokeOpacity),"groupStrokeOpacity"in P&&t(5,a=P.groupStrokeOpacity),"groupStrokeColor"in P&&t(6,u=P.groupStrokeColor),"textStartOffset"in P&&t(7,c=P.textStartOffset),"arrowStartOffset"in P&&t(8,d=P.arrowStartOffset)},[n,r,s,f,o,a,u,c,d,m,z,i]}class it extends Z{constructor(e){super(),G(this,e,An,Dn,x,{links:0,calcOffsetFromCanvas:11,strokeColor:1,strokeWidth:2,arrowColor:3,strokeOpacity:4,groupStrokeOpacity:5,groupStrokeColor:6,textStartOffset:7,arrowStartOffset:8})}}function lt(l){let e;const t=l[7].default,n=be(t,l,l[6],null),i=n||Mn(l);return{c(){i&&i.c()},l(r){i&&i.l(r)},m(r,s){i&&i.m(r,s),e=!0},p(r,s){n?n.p&&(!e||s&64)&&ke(n,t,r,r[6],e?we(t,r[6],s,null):ve(r[6]),null):i&&i.p&&(!e||s&4)&&i.p(r,e?s:-1)},i(r){e||(C(i,r),e=!0)},o(r){S(i,r),e=!1},d(r){i&&i.d(r)}}}function Mn(l){let e,t;return{c(){e=N("div"),this.h()},l(n){e=B(n,"DIV",{style:!0,class:!0}),D(e).forEach(_),this.h()},h(){te(e,"transform","translate(-50%, -50%)"),g(e,"class",t="absolute border-["+(l[2]+"em")+"] md:border-["+(l[2]/2+"em")+"] border-yellow-200/40 ring-2 ring-black h-0 w-0 rounded-full")},m(n,i){y(n,e,i)},p(n,i){i&4&&t!==(t="absolute border-["+(n[2]+"em")+"] md:border-["+(n[2]/2+"em")+"] border-yellow-200/40 ring-2 ring-black h-0 w-0 rounded-full")&&g(e,"class",t)},d(n){n&&_(e)}}}function Nn(l){let e,t,n,i,r,s,f=l[0]&&lt(l);return{c(){e=N("div"),f&&f.c(),this.h()},l(o){e=B(o,"DIV",{id:!0,"data-highlighter":!0,class:!0,style:!0});var a=D(e);f&&f.l(a),a.forEach(_),this.h()},h(){g(e,"id",t=l[1].id+"--highlighter"),g(e,"data-highlighter","true"),g(e,"class",n="absolute border-["+(l[2]+"em")+"] md:border-["+(l[2]/2+"em")+"] border-transparent rounded-full p-0 m-0"),te(e,"top",l[5]+"px"),te(e,"left",l[4]+"px")},m(o,a){y(o,e,a),f&&f.m(e,null),l[9](e),i=!0,r||(s=[Q(window,"resize",l[8]),Q(e,"mouseover",l[10]),Q(e,"mouseleave",l[11]),Q(e,"focus",l[12]),Q(e,"blur",l[13])],r=!0)},p(o,[a]){o[0]?f?(f.p(o,a),a&1&&C(f,1)):(f=lt(o),f.c(),C(f,1),f.m(e,null)):f&&($(),S(f,1,1,()=>{f=null}),ee()),(!i||a&2&&t!==(t=o[1].id+"--highlighter"))&&g(e,"id",t),(!i||a&4&&n!==(n="absolute border-["+(o[2]+"em")+"] md:border-["+(o[2]/2+"em")+"] border-transparent rounded-full p-0 m-0"))&&g(e,"class",n),(!i||a&32)&&te(e,"top",o[5]+"px"),(!i||a&16)&&te(e,"left",o[4]+"px")},i(o){i||(C(f),i=!0)},o(o){S(f),i=!1},d(o){o&&_(e),f&&f.d(),l[9](null),r=!1,ht(s)}}}function Bn(l,e,t){let n,i,{$$slots:r={},$$scope:s}=e,{node:f}=e,{zoneSize:o=2}=e,{highlight:a=!1}=e,u;const c=O=>{t(5,n),t(3,u),t(1,f),t(4,i),t(3,u),t(1,f)};function d(O){fe[O?"unshift":"push"](()=>{u=O,t(3,u)})}const v=O=>{t(0,a=!0)},m=O=>{t(0,a=!1)},k=O=>{t(0,a=!0)},I=O=>{t(0,a=!1)};return l.$$set=O=>{"node"in O&&t(1,f=O.node),"zoneSize"in O&&t(2,o=O.zoneSize),"highlight"in O&&t(0,a=O.highlight),"$$scope"in O&&t(6,s=O.$$scope)},l.$$.update=()=>{l.$$.dirty&10&&t(5,n=u?-u.offsetHeight/2+f.offsetHeight/2:0),l.$$.dirty&10&&t(4,i=u?-u.offsetWidth/2+f.offsetWidth/2:0),l.$$.dirty&10&&u&&f.insertAdjacentElement("beforeend",u)},[a,f,o,u,i,n,s,r,c,d,v,m,k,I]}class zn extends Z{constructor(e){super(),G(this,e,Bn,Nn,x,{node:1,zoneSize:2,highlight:0})}}const st=(l,e,t=!1)=>{const n=l.find(r=>r.id==e);if(!n||!n.value)return"";if(!t)return n.value+" to";const i=l.find(r=>r.id==t);return i?`${n.value} to ${i.value}`:n.value},{window:Vn}=Nt;function rt(l,e,t){const n=l.slice();return n[18]=e[t][0],n[19]=e[t][1].node,n[20]=e[t][1].highlight,n}const Fn=l=>({}),ot=l=>({connectable:l[10]}),jn=l=>({}),ft=l=>({connectable:l[10]});function at(l){let e,t,n;function i(s){l[13](s)}let r={left:l[7],top:l[8],id:Et,$$slots:{default:[Xn]},$$scope:{ctx:l}};return l[5]!==void 0&&(r.marker=l[5]),e=new wn({props:r}),fe.push(()=>me(e,"marker",i)),{c(){H(e.$$.fragment)},l(s){q(e.$$.fragment,s)},m(s,f){K(e,s,f),n=!0},p(s,f){const o={};f&128&&(o.left=s[7]),f&256&&(o.top=s[8]),f&32768&&(o.$$scope={dirty:f,ctx:s}),!t&&f&32&&(t=!0,o.marker=s[5],pe(()=>t=!1)),e.$set(o)},i(s){n||(C(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){J(e,s)}}}function Rn(l){let e;return{c(){e=N("div"),this.h()},l(t){e=B(t,"DIV",{class:!0}),D(e).forEach(_),this.h()},h(){g(e,"class","h-32 w-32 md:h-16 md:w-16 p-8 rounded-full shadow-xl opacity-80 select-none border-[4em] md:border-[2em] ")},m(t,n){y(t,e,n)},p:L,d(t){t&&_(e)}}}function Xn(l){let e;const t=l[11].marker,n=be(t,l,l[15],ft),i=n||Rn();return{c(){i&&i.c()},l(r){i&&i.l(r)},m(r,s){i&&i.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&32768)&&ke(n,t,r,r[15],e?we(t,r[15],s,jn):ve(r[15]),ft)},i(r){e||(C(i,r),e=!0)},o(r){S(i,r),e=!1},d(r){i&&i.d(r)}}}function ut(l){let e;const t=l[11].default,n=be(t,l,l[15],ot);return{c(){n&&n.c()},l(i){n&&n.l(i)},m(i,r){n&&n.m(i,r),e=!0},p(i,r){n&&n.p&&(!e||r&32768)&&ke(n,t,i,i[15],e?we(t,i[15],r,Fn):ve(i[15]),ot)},i(i){e||(C(n,i),e=!0)},o(i){S(n,i),e=!1},d(i){n&&n.d(i)}}}function ct(l){let e,t;return e=new zn({props:{node:l[19],highlight:l[20]}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,i){K(e,n,i),t=!0},p(n,i){const r={};i&4&&(r.node=n[19]),i&4&&(r.highlight=n[20]),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function Wn(l){var P,b;let e,t,n,i,r,s,f,o,a,u,c=l[4]&&at(l),d=l[3]&&ut(l);const v=[{links:[l[6]]},{calcOffsetFromCanvas:l[9]},(P=l[1])==null?void 0:P.links];let m={};for(let h=0;h<v.length;h+=1)m=he(m,v[h]);i=new it({props:m});const k=[{links:l[0].links},{calcOffsetFromCanvas:l[9]},(b=l[1])==null?void 0:b.links];let I={};for(let h=0;h<k.length;h+=1)I=he(I,k[h]);s=new it({props:I});let O=[...Object.entries(l[2])],E=[];for(let h=0;h<O.length;h+=1)E[h]=ct(rt(l,O,h));const z=h=>S(E[h],1,1,()=>{E[h]=null});return{c(){e=N("div"),c&&c.c(),t=W(),d&&d.c(),n=W(),H(i.$$.fragment),r=W(),H(s.$$.fragment),f=W();for(let h=0;h<E.length;h+=1)E[h].c();this.h()},l(h){e=B(h,"DIV",{class:!0});var p=D(e);c&&c.l(p),t=Y(p),d&&d.l(p),n=Y(p),q(i.$$.fragment,p),r=Y(p),q(s.$$.fragment,p),f=Y(p);for(let w=0;w<E.length;w+=1)E[w].l(p);p.forEach(_),this.h()},h(){g(e,"class","relative")},m(h,p){y(h,e,p),c&&c.m(e,null),T(e,t),d&&d.m(e,null),T(e,n),K(i,e,null),T(e,r),K(s,e,null),T(e,f);for(let w=0;w<E.length;w+=1)E[w].m(e,null);l[14](e),o=!0,a||(u=Q(Vn,"resize",l[12]),a=!0)},p(h,[p]){var R,U;h[4]?c?(c.p(h,p),p&16&&C(c,1)):(c=at(h),c.c(),C(c,1),c.m(e,t)):c&&($(),S(c,1,1,()=>{c=null}),ee()),h[3]?d?(d.p(h,p),p&8&&C(d,1)):(d=ut(h),d.c(),C(d,1),d.m(e,n)):d&&($(),S(d,1,1,()=>{d=null}),ee());const w=p&578?Ne(v,[p&64&&{links:[h[6]]},p&512&&{calcOffsetFromCanvas:h[9]},p&2&&Be((R=h[1])==null?void 0:R.links)]):{};i.$set(w);const V=p&515?Ne(k,[p&1&&{links:h[0].links},p&512&&{calcOffsetFromCanvas:h[9]},p&2&&Be((U=h[1])==null?void 0:U.links)]):{};if(s.$set(V),p&4){O=[...Object.entries(h[2])];let A;for(A=0;A<O.length;A+=1){const ne=rt(h,O,A);E[A]?(E[A].p(ne,p),C(E[A],1)):(E[A]=ct(ne),E[A].c(),C(E[A],1),E[A].m(e,null))}for($(),A=O.length;A<E.length;A+=1)z(A);ee()}},i(h){if(!o){C(c),C(d),C(i.$$.fragment,h),C(s.$$.fragment,h);for(let p=0;p<O.length;p+=1)C(E[p]);o=!0}},o(h){S(c),S(d),S(i.$$.fragment,h),S(s.$$.fragment,h),E=E.filter(Boolean);for(let p=0;p<E.length;p+=1)S(E[p]);o=!1},d(h){h&&_(e),c&&c.d(),d&&d.d(),J(i),J(s),de(E,h),l[14](null),a=!1,u()}}}const Et="marker";function Yn(l,e,t){let{$$slots:n={},$$scope:i}=e,{data:r}=e,{opts:s={}}=e;const f=pt();let o={},a,u,c,d=null,v=0,m=0;function k(b,h){h.stopPropagation(),h.preventDefault(),t(7,v=b.pageX-a.offsetLeft),t(8,m=b.pageY-a.offsetTop)}function I(b){if(!b)return;if(b==a)return{x:b.offsetLeft,y:b.offsetTop};let h=b.getBoundingClientRect().top,p=a.getBoundingClientRect().top,w=h-p,V=b.getBoundingClientRect().left,R=a.getBoundingClientRect().left;return{x:V-R,y:w}}function O(b,h){var R,U;b.id||(b.id=gn()),b.style.position||(b.style.position="relative");let p=!1,w;t(2,o[b.id]={node:b,highlight:p},o);let V;return h!=null&&h.dataset&&(b.dataset.dataset=JSON.stringify(h.dataset)),(R=h==null?void 0:h.restrictions)!=null&&R.startOnly||(b.dataset.dropzone=!0),(U=h==null?void 0:h.restrictions)!=null&&U.dropOnly||(V=new pn(b,{start(A,ne){return V.currentPointers.length===1?!1:(t(4,u=!0),k(A,ne),!0)},move(A,ne,ae){var Ee;k(V.currentPointers[0],ae),t(6,d={id:b.id+"-to-",source:{id:b.id},target:{id:Et},opts:{label:{enabled:!0,value:st(r.nodes,b.id)}}}),w&&t(2,o[w.id].highlight=!1,o),w=((Ee=document.elementFromPoint(V.currentPointers[0].clientX,V.currentPointers[0].clientY))==null?void 0:Ee.closest("[data-dropzone]"))||null,w!=null&&w.id&&t(2,o[w.id].highlight=!0,o)},end:(A,ne,ae)=>{var De,Ae;t(5,c.style.display="none",c),t(4,u=!1),o&&w&&w.id&&o[w.id].highlight&&t(2,o[w.id].highlight=!1,o),w=null;let X=document.elementFromPoint(A.clientX,A.clientY).closest("[data-dropzone]");if(t(6,d=null),!X||!(X!=null&&X.id)||!b||!(b!=null&&b.id))return;const Ie={id:b.id+"-to-"+X.id,source:{id:b.id},target:{id:X.id},opts:{label:{enabled:!0,value:st(r.nodes,b.id,X.id)}}};if(console.log({newLink:Ie}),t(0,r.links=[...r.links,Ie],r),(h==null?void 0:h.dataset)||((De=X==null?void 0:X.dataset)==null?void 0:De.dataset)){const Me={source:{dataset:(h==null?void 0:h.dataset)||null},target:{dataset:(Ae=X==null?void 0:X.dataset)!=null&&Ae.dataset?JSON.parse(X.dataset.dataset):null}};console.log(Me),f("connected",Me)}},avoidPointerEvents:!0,eventListenerOptions:{capture:!0,passive:!1}})),{update(A){},destroy(){}}}const E=b=>{t(0,r)};function z(b){c=b,t(5,c)}function P(b){fe[b?"unshift":"push"](()=>{a=b,t(3,a)})}return l.$$set=b=>{"data"in b&&t(0,r=b.data),"opts"in b&&t(1,s=b.opts),"$$scope"in b&&t(15,i=b.$$scope)},[r,s,o,a,u,c,d,v,m,I,O,n,E,z,P,i]}class Un extends Z{constructor(e){super(),G(this,e,Yn,Wn,x,{data:0,opts:1})}}function Hn(l){let e,t;return e=new mn({props:{commits:l[1],connectable:l[3]}}),{c(){H(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,i){K(e,n,i),t=!0},p(n,i){const r={};i&8&&(r.connectable=n[3]),e.$set(r)},i(n){t||(C(e.$$.fragment,n),t=!0)},o(n){S(e.$$.fragment,n),t=!1},d(n){J(e,n)}}}function qn(l){let e,t,n;function i(s){l[2](s)}let r={$$slots:{default:[Hn,({connectable:s})=>({3:s}),({connectable:s})=>s?8:0]},$$scope:{ctx:l}};return l[0]!==void 0&&(r.data=l[0]),e=new Un({props:r}),fe.push(()=>me(e,"data",i)),{c(){H(e.$$.fragment)},l(s){q(e.$$.fragment,s)},m(s,f){K(e,s,f),n=!0},p(s,[f]){const o={};f&24&&(o.$$scope={dirty:f,ctx:s}),!t&&f&1&&(t=!0,o.data=s[0],pe(()=>t=!1)),e.$set(o)},i(s){n||(C(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){J(e,s)}}}function Kn(l,e,t){let n=[],i={nodes:[],links:[]};function r(s){i=s,t(0,i)}return[i,n,r]}class xn extends Z{constructor(e){super(),G(this,e,Kn,qn,x,{})}}export{Rt as A,xn as P};
