var encode_1$1=encode$c,MSB$2=128,REST$2=127,MSBALL$1=~REST$2,INT$1=Math.pow(2,31);function encode$c(e,t,r){t=t||[],r=r||0;for(var n=r;e>=INT$1;)t[r++]=e&255|MSB$2,e/=128;for(;e&MSBALL$1;)t[r++]=e&255|MSB$2,e>>>=7;return t[r]=e|0,encode$c.bytes=r-n+1,t}var decode$c=read$1,MSB$1$1=128,REST$1$1=127;function read$1(e,n){var r=0,n=n||0,o=0,s=n,w,y=e.length;do{if(s>=y)throw read$1.bytes=0,new RangeError("Could not decode varint");w=e[s++],r+=o<28?(w&REST$1$1)<<o:(w&REST$1$1)*Math.pow(2,o),o+=7}while(w>=MSB$1$1);return read$1.bytes=s-n,r}var N1$2=Math.pow(2,7),N2$2=Math.pow(2,14),N3$1=Math.pow(2,21),N4$1=Math.pow(2,28),N5$1=Math.pow(2,35),N6$1=Math.pow(2,42),N7$1=Math.pow(2,49),N8$1=Math.pow(2,56),N9$1=Math.pow(2,63),length$1=function(e){return e<N1$2?1:e<N2$2?2:e<N3$1?3:e<N4$1?4:e<N5$1?5:e<N6$1?6:e<N7$1?7:e<N8$1?8:e<N9$1?9:10},varint$1={encode:encode_1$1,decode:decode$c,encodingLength:length$1},_brrp_varint=varint$1;const decode$b=e=>[_brrp_varint.decode(e),_brrp_varint.decode.bytes],encodeTo=(e,t,r=0)=>(_brrp_varint.encode(e,t,r),t),encodingLength=e=>_brrp_varint.encodingLength(e),empty=new Uint8Array(0),toHex=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),""),fromHex=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map(r=>parseInt(r,16))):empty},equals$1=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},coerce=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},isBinary$1=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),fromString$1=e=>new TextEncoder().encode(e),toString$1=e=>new TextDecoder().decode(e),byteslib=Object.freeze(Object.defineProperty({__proto__:null,equals:equals$1,coerce,isBinary:isBinary$1,fromHex,toHex,fromString:fromString$1,toString:toString$1,empty},Symbol.toStringTag,{value:"Module"})),create$1=(e,t)=>{const r=t.byteLength,n=encodingLength(e),o=n+encodingLength(r),s=new Uint8Array(o+r);return encodeTo(e,s,0),encodeTo(r,s,n),s.set(t,o),new Digest(e,r,t,s)},decode$a=e=>{const t=coerce(e),[r,n]=decode$b(t),[o,s]=decode$b(t.subarray(n)),w=t.subarray(n+s);if(w.byteLength!==o)throw new Error("Incorrect length");return new Digest(r,o,w,t)},equals=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&equals$1(e.bytes,t.bytes);class Digest{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}}function base(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),w=s.charCodeAt(0);if(r[w]!==255)throw new TypeError(s+" is ambiguous");r[w]=o}var y=e.length,k=e.charAt(0),P=Math.log(y)/Math.log(256),V=Math.log(256)/Math.log(y);function X(L){if(L instanceof Uint8Array||(ArrayBuffer.isView(L)?L=new Uint8Array(L.buffer,L.byteOffset,L.byteLength):Array.isArray(L)&&(L=Uint8Array.from(L))),!(L instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length===0)return"";for(var I=0,ie=0,he=0,_e=L.length;he!==_e&&L[he]===0;)he++,I++;for(var Ie=(_e-he)*V+1>>>0,et=new Uint8Array(Ie);he!==_e;){for(var Wt=L[he],ot=0,at=Ie-1;(Wt!==0||ot<ie)&&at!==-1;at--,ot++)Wt+=256*et[at]>>>0,et[at]=Wt%y>>>0,Wt=Wt/y>>>0;if(Wt!==0)throw new Error("Non-zero carry");ie=ot,he++}for(var st=Ie-ie;st!==Ie&&et[st]===0;)st++;for(var Gt=k.repeat(I);st<Ie;++st)Gt+=e.charAt(et[st]);return Gt}function we(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return new Uint8Array;var I=0;if(L[I]!==" "){for(var ie=0,he=0;L[I]===k;)ie++,I++;for(var _e=(L.length-I)*P+1>>>0,Ie=new Uint8Array(_e);L[I];){var et=r[L.charCodeAt(I)];if(et===255)return;for(var Wt=0,ot=_e-1;(et!==0||Wt<he)&&ot!==-1;ot--,Wt++)et+=y*Ie[ot]>>>0,Ie[ot]=et%256>>>0,et=et/256>>>0;if(et!==0)throw new Error("Non-zero carry");he=Wt,I++}if(L[I]!==" "){for(var at=_e-he;at!==_e&&Ie[at]===0;)at++;for(var st=new Uint8Array(ie+(_e-at)),Gt=ie;at!==_e;)st[Gt++]=Ie[at++];return st}}}function q(L){var I=we(L);if(I)return I;throw new Error(`Non-${t} character`)}return{encode:X,decodeUnsafe:we,decode:q}}var src=base,_brrp__multiformats_scope_baseX=src;class Encoder{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Decoder{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return or(this,t)}}class ComposedDecoder{constructor(t){this.decoders=t}or(t){return or(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const or=(e,t)=>new ComposedDecoder({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class Codec{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Encoder(t,r,n),this.decoder=new Decoder(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const from$1=({name:e,prefix:t,encode:r,decode:n})=>new Codec(e,t,r,n),baseX=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:o}=_brrp__multiformats_scope_baseX(r,t);return from$1({prefix:e,name:t,encode:n,decode:s=>coerce(o(s))})},decode$9=(e,t,r,n)=>{const o={};for(let V=0;V<t.length;++V)o[t[V]]=V;let s=e.length;for(;e[s-1]==="=";)--s;const w=new Uint8Array(s*r/8|0);let y=0,k=0,P=0;for(let V=0;V<s;++V){const X=o[e[V]];if(X===void 0)throw new SyntaxError(`Non-${n} character`);k=k<<r|X,y+=r,y>=8&&(y-=8,w[P++]=255&k>>y)}if(y>=r||255&k<<8-y)throw new SyntaxError("Unexpected end of data");return w},encode$b=(e,t,r)=>{const n=t[t.length-1]==="=",o=(1<<r)-1;let s="",w=0,y=0;for(let k=0;k<e.length;++k)for(y=y<<8|e[k],w+=8;w>r;)w-=r,s+=t[o&y>>w];if(w&&(s+=t[o&y<<r-w]),n)for(;s.length*r&7;)s+="=";return s},rfc4648=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>from$1({prefix:t,name:e,encode(o){return encode$b(o,n,r)},decode(o){return decode$9(o,n,r,e)}}),base58btc=baseX({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),base58flickr=baseX({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),base58=Object.freeze(Object.defineProperty({__proto__:null,base58btc,base58flickr},Symbol.toStringTag,{value:"Module"})),base32=rfc4648({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),base32upper=rfc4648({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),base32pad=rfc4648({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),base32padupper=rfc4648({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),base32hex=rfc4648({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),base32hexupper=rfc4648({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),base32hexpad=rfc4648({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),base32hexpadupper=rfc4648({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),base32z=rfc4648({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),base32$1=Object.freeze(Object.defineProperty({__proto__:null,base32,base32upper,base32pad,base32padupper,base32hex,base32hexupper,base32hexpad,base32hexpadupper,base32z},Symbol.toStringTag,{value:"Module"}));class CID{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:hidden,byteLength:hidden,code:readonly$1,version:readonly$1,multihash:readonly$1,bytes:readonly$1,_baseCache:hidden,asCID:hidden})}toV0(){switch(this.version){case 0:return this;default:{const{code:t,multihash:r}=this;if(t!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return CID.createV0(r)}}}toV1(){switch(this.version){case 0:{const{code:t,digest:r}=this.multihash,n=create$1(t,r);return CID.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&equals(this.multihash,t.multihash)}toString(t){const{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return toStringV0(r,o,t||base58btc.encoder);default:return toStringV1(r,o,t||base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return deprecate(/^0\.0/,IS_CID_DEPRECATION),!!(t&&(t[cidSymbol]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof CID)return t;if(t!=null&&t.asCID===t){const{version:r,code:n,multihash:o,bytes:s}=t;return new CID(r,n,o,s||encodeCID(r,n,o.bytes))}else if(t!=null&&t[cidSymbol]===!0){const{version:r,multihash:n,code:o}=t,s=decode$a(n);return CID.create(r,o,s)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new CID(t,r,n,n.bytes)}case 1:{const o=encodeCID(t,r,n.bytes);return new CID(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return CID.create(0,DAG_PB_CODE,t)}static createV1(t,r){return CID.create(1,t,r)}static decode(t){const[r,n]=CID.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){const r=CID.inspectBytes(t),n=r.size-r.multihashSize,o=coerce(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");const s=o.subarray(r.multihashSize-r.digestSize),w=new Digest(r.multihashCode,r.digestSize,s,o);return[r.version===0?CID.createV0(w):CID.createV1(r.codec,w),t.subarray(r.size)]}static inspectBytes(t){let r=0;const n=()=>{const[X,we]=decode$b(t.subarray(r));return r+=we,X};let o=n(),s=DAG_PB_CODE;if(o===18?(o=0,r=0):o===1&&(s=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);const w=r,y=n(),k=n(),P=r+k,V=P-w;return{version:o,codec:s,multihashCode:y,digestSize:k,multihashSize:V,size:P}}static parse(t,r){const[n,o]=parseCIDtoBytes(t,r),s=CID.decode(o);return s._baseCache.set(n,t),s}}const parseCIDtoBytes=(e,t)=>{switch(e[0]){case"Q":{const r=t||base58btc;return[base58btc.prefix,r.decode(`${base58btc.prefix}${e}`)]}case base58btc.prefix:{const r=t||base58btc;return[base58btc.prefix,r.decode(e)]}case base32.prefix:{const r=t||base32;return[base32.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},toStringV0=(e,t,r)=>{const{prefix:n}=r;if(n!==base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=t.get(n);if(o==null){const s=r.encode(e).slice(1);return t.set(n,s),s}else return o},toStringV1=(e,t,r)=>{const{prefix:n}=r,o=t.get(n);if(o==null){const s=r.encode(e);return t.set(n,s),s}else return o},DAG_PB_CODE=112,SHA_256_CODE=18,encodeCID=(e,t,r)=>{const n=encodingLength(e),o=n+encodingLength(t),s=new Uint8Array(o+r.byteLength);return encodeTo(e,s,0),encodeTo(t,s,n),s.set(r,o),s},cidSymbol=Symbol.for("@ipld/js-cid/CID"),readonly$1={writable:!1,configurable:!1,enumerable:!0},hidden={writable:!1,enumerable:!1,configurable:!1},version="0.0.0-dev",deprecate=(e,t)=>{if(e.test(version))console.warn(t);else throw new Error(t)},IS_CID_DEPRECATION=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var Vn=Object.create,vt$1=Object.defineProperty,jn$1=Object.getOwnPropertyDescriptor,qn$1=Object.getOwnPropertyNames,Gn=Object.getPrototypeOf,Hn$1=Object.prototype.hasOwnProperty,Wn$1=(e,t)=>()=>(e&&(t=e(e=0)),t),ce$1=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Xn$1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of qn$1(t))!Hn$1.call(e,o)&&o!==r&&vt$1(e,o,{get:()=>t[o],enumerable:!(n=jn$1(t,o))||n.enumerable});return e},Yn$1=(e,t,r)=>(r=e!=null?Vn(Gn(e)):{},Xn$1(t||!e||!e.__esModule?vt$1(r,"default",{value:e,enumerable:!0}):r,e)),Ot$2=ce$1(e=>{d$1(),e.byteLength=k,e.toByteArray=V,e.fromByteArray=q;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,w=o.length;s<w;++s)t[s]=o[s],r[o.charCodeAt(s)]=s;var s,w;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function y(L){var I=L.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ie=L.indexOf("=");ie===-1&&(ie=I);var he=ie===I?0:4-ie%4;return[ie,he]}function k(L){var I=y(L),ie=I[0],he=I[1];return(ie+he)*3/4-he}function P(L,I,ie){return(I+ie)*3/4-ie}function V(L){var I,ie=y(L),he=ie[0],_e=ie[1],Ie=new n(P(L,he,_e)),et=0,Wt=_e>0?he-4:he,ot;for(ot=0;ot<Wt;ot+=4)I=r[L.charCodeAt(ot)]<<18|r[L.charCodeAt(ot+1)]<<12|r[L.charCodeAt(ot+2)]<<6|r[L.charCodeAt(ot+3)],Ie[et++]=I>>16&255,Ie[et++]=I>>8&255,Ie[et++]=I&255;return _e===2&&(I=r[L.charCodeAt(ot)]<<2|r[L.charCodeAt(ot+1)]>>4,Ie[et++]=I&255),_e===1&&(I=r[L.charCodeAt(ot)]<<10|r[L.charCodeAt(ot+1)]<<4|r[L.charCodeAt(ot+2)]>>2,Ie[et++]=I>>8&255,Ie[et++]=I&255),Ie}function X(L){return t[L>>18&63]+t[L>>12&63]+t[L>>6&63]+t[L&63]}function we(L,I,ie){for(var he,_e=[],Ie=I;Ie<ie;Ie+=3)he=(L[Ie]<<16&16711680)+(L[Ie+1]<<8&65280)+(L[Ie+2]&255),_e.push(X(he));return _e.join("")}function q(L){for(var I,ie=L.length,he=ie%3,_e=[],Ie=16383,et=0,Wt=ie-he;et<Wt;et+=Ie)_e.push(we(L,et,et+Ie>Wt?Wt:et+Ie));return he===1?(I=L[ie-1],_e.push(t[I>>2]+t[I<<4&63]+"==")):he===2&&(I=(L[ie-2]<<8)+L[ie-1],_e.push(t[I>>10]+t[I>>4&63]+t[I<<2&63]+"=")),_e.join("")}}),zt$1=ce$1(e=>{d$1(),e.read=function(t,r,n,o,s){var w,y,k=s*8-o-1,P=(1<<k)-1,V=P>>1,X=-7,we=n?s-1:0,q=n?-1:1,L=t[r+we];for(we+=q,w=L&(1<<-X)-1,L>>=-X,X+=k;X>0;w=w*256+t[r+we],we+=q,X-=8);for(y=w&(1<<-X)-1,w>>=-X,X+=o;X>0;y=y*256+t[r+we],we+=q,X-=8);if(w===0)w=1-V;else{if(w===P)return y?NaN:(L?-1:1)*(1/0);y=y+Math.pow(2,o),w=w-V}return(L?-1:1)*y*Math.pow(2,w-o)},e.write=function(t,r,n,o,s,w){var y,k,P,V=w*8-s-1,X=(1<<V)-1,we=X>>1,q=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=o?0:w-1,I=o?1:-1,ie=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(k=isNaN(r)?1:0,y=X):(y=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-y))<1&&(y--,P*=2),y+we>=1?r+=q/P:r+=q*Math.pow(2,1-we),r*P>=2&&(y++,P/=2),y+we>=X?(k=0,y=X):y+we>=1?(k=(r*P-1)*Math.pow(2,s),y=y+we):(k=r*Math.pow(2,we-1)*Math.pow(2,s),y=0));s>=8;t[n+L]=k&255,L+=I,k/=256,s-=8);for(y=y<<s|k,V+=s;V>0;t[n+L]=y&255,L+=I,y/=256,V-=8);t[n+L-I]|=ie*128}}),nr$1=ce$1(e=>{d$1();var t=Ot$2(),r=zt$1(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=y,e.SlowBuffer=_e,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,y.TYPED_ARRAY_SUPPORT=s(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let i=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(i,g),i.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function w(i){if(i>o)throw new RangeError('The value "'+i+'" is invalid for option "size"');let g=new Uint8Array(i);return Object.setPrototypeOf(g,y.prototype),g}function y(i,g,E){if(typeof i=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return X(i)}return k(i,g,E)}y.poolSize=8192;function k(i,g,E){if(typeof i=="string")return we(i,g);if(ArrayBuffer.isView(i))return L(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(la(i,ArrayBuffer)||i&&la(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(la(i,SharedArrayBuffer)||i&&la(i.buffer,SharedArrayBuffer)))return I(i,g,E);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let Ee=i.valueOf&&i.valueOf();if(Ee!=null&&Ee!==i)return y.from(Ee,g,E);let je=ie(i);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return y.from(i[Symbol.toPrimitive]("string"),g,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}y.from=function(i,g,E){return k(i,g,E)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array);function P(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function V(i,g,E){return P(i),i<=0?w(i):g!==void 0?typeof E=="string"?w(i).fill(g,E):w(i).fill(g):w(i)}y.alloc=function(i,g,E){return V(i,g,E)};function X(i){return P(i),w(i<0?0:he(i)|0)}y.allocUnsafe=function(i){return X(i)},y.allocUnsafeSlow=function(i){return X(i)};function we(i,g){if((typeof g!="string"||g==="")&&(g="utf8"),!y.isEncoding(g))throw new TypeError("Unknown encoding: "+g);let E=Ie(i,g)|0,Ee=w(E),je=Ee.write(i,g);return je!==E&&(Ee=Ee.slice(0,je)),Ee}function q(i){let g=i.length<0?0:he(i.length)|0,E=w(g);for(let Ee=0;Ee<g;Ee+=1)E[Ee]=i[Ee]&255;return E}function L(i){if(la(i,Uint8Array)){let g=new Uint8Array(i);return I(g.buffer,g.byteOffset,g.byteLength)}return q(i)}function I(i,g,E){if(g<0||i.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<g+(E||0))throw new RangeError('"length" is outside of buffer bounds');let Ee;return g===void 0&&E===void 0?Ee=new Uint8Array(i):E===void 0?Ee=new Uint8Array(i,g):Ee=new Uint8Array(i,g,E),Object.setPrototypeOf(Ee,y.prototype),Ee}function ie(i){if(y.isBuffer(i)){let g=he(i.length)|0,E=w(g);return E.length===0||i.copy(E,0,0,g),E}if(i.length!==void 0)return typeof i.length!="number"||Ea(i.length)?w(0):q(i);if(i.type==="Buffer"&&Array.isArray(i.data))return q(i.data)}function he(i){if(i>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return i|0}function _e(i){return+i!=i&&(i=0),y.alloc(+i)}y.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==y.prototype},y.compare=function(i,g){if(la(i,Uint8Array)&&(i=y.from(i,i.offset,i.byteLength)),la(g,Uint8Array)&&(g=y.from(g,g.offset,g.byteLength)),!y.isBuffer(i)||!y.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===g)return 0;let E=i.length,Ee=g.length;for(let je=0,it=Math.min(E,Ee);je<it;++je)if(i[je]!==g[je]){E=i[je],Ee=g[je];break}return E<Ee?-1:Ee<E?1:0},y.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(i,g){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return y.alloc(0);let E;if(g===void 0)for(g=0,E=0;E<i.length;++E)g+=i[E].length;let Ee=y.allocUnsafe(g),je=0;for(E=0;E<i.length;++E){let it=i[E];if(la(it,Uint8Array))je+it.length>Ee.length?(y.isBuffer(it)||(it=y.from(it)),it.copy(Ee,je)):Uint8Array.prototype.set.call(Ee,it,je);else if(y.isBuffer(it))it.copy(Ee,je);else throw new TypeError('"list" argument must be an Array of Buffers');je+=it.length}return Ee};function Ie(i,g){if(y.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||la(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);let E=i.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&E===0)return 0;let je=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return aa(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return ba(i).length;default:if(je)return Ee?-1:aa(i).length;g=(""+g).toLowerCase(),je=!0}}y.byteLength=Ie;function et(i,g,E){let Ee=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,g>>>=0,E<=g))return"";for(i||(i="utf8");;)switch(i){case"hex":return Js(this,g,E);case"utf8":case"utf-8":return ao(this,g,E);case"ascii":return ia(this,g,E);case"latin1":case"binary":return Hr(this,g,E);case"base64":return Qr(this,g,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ya(this,g,E);default:if(Ee)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),Ee=!0}}y.prototype._isBuffer=!0;function Wt(i,g,E){let Ee=i[g];i[g]=i[E],i[E]=Ee}y.prototype.swap16=function(){let i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<i;g+=2)Wt(this,g,g+1);return this},y.prototype.swap32=function(){let i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<i;g+=4)Wt(this,g,g+3),Wt(this,g+1,g+2);return this},y.prototype.swap64=function(){let i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<i;g+=8)Wt(this,g,g+7),Wt(this,g+1,g+6),Wt(this,g+2,g+5),Wt(this,g+3,g+4);return this},y.prototype.toString=function(){let i=this.length;return i===0?"":arguments.length===0?ao(this,0,i):et.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(i){if(!y.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:y.compare(this,i)===0},y.prototype.inspect=function(){let i="",g=e.INSPECT_MAX_BYTES;return i=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(i+=" ... "),"<Buffer "+i+">"},n&&(y.prototype[n]=y.prototype.inspect),y.prototype.compare=function(i,g,E,Ee,je){if(la(i,Uint8Array)&&(i=y.from(i,i.offset,i.byteLength)),!y.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(g===void 0&&(g=0),E===void 0&&(E=i?i.length:0),Ee===void 0&&(Ee=0),je===void 0&&(je=this.length),g<0||E>i.length||Ee<0||je>this.length)throw new RangeError("out of range index");if(Ee>=je&&g>=E)return 0;if(Ee>=je)return-1;if(g>=E)return 1;if(g>>>=0,E>>>=0,Ee>>>=0,je>>>=0,this===i)return 0;let it=je-Ee,tr=E-g,Xr=Math.min(it,tr),Ei=this.slice(Ee,je),tn=i.slice(g,E);for(let Zr=0;Zr<Xr;++Zr)if(Ei[Zr]!==tn[Zr]){it=Ei[Zr],tr=tn[Zr];break}return it<tr?-1:tr<it?1:0};function ot(i,g,E,Ee,je){if(i.length===0)return-1;if(typeof E=="string"?(Ee=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,Ea(E)&&(E=je?0:i.length-1),E<0&&(E=i.length+E),E>=i.length){if(je)return-1;E=i.length-1}else if(E<0)if(je)E=0;else return-1;if(typeof g=="string"&&(g=y.from(g,Ee)),y.isBuffer(g))return g.length===0?-1:at(i,g,E,Ee,je);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(i,g,E):Uint8Array.prototype.lastIndexOf.call(i,g,E):at(i,[g],E,Ee,je);throw new TypeError("val must be string, number or Buffer")}function at(i,g,E,Ee,je){let it=1,tr=i.length,Xr=g.length;if(Ee!==void 0&&(Ee=String(Ee).toLowerCase(),Ee==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(i.length<2||g.length<2)return-1;it=2,tr/=2,Xr/=2,E/=2}function Ei(Zr,ei){return it===1?Zr[ei]:Zr.readUInt16BE(ei*it)}let tn;if(je){let Zr=-1;for(tn=E;tn<tr;tn++)if(Ei(i,tn)===Ei(g,Zr===-1?0:tn-Zr)){if(Zr===-1&&(Zr=tn),tn-Zr+1===Xr)return Zr*it}else Zr!==-1&&(tn-=tn-Zr),Zr=-1}else for(E+Xr>tr&&(E=tr-Xr),tn=E;tn>=0;tn--){let Zr=!0;for(let ei=0;ei<Xr;ei++)if(Ei(i,tn+ei)!==Ei(g,ei)){Zr=!1;break}if(Zr)return tn}return-1}y.prototype.includes=function(i,g,E){return this.indexOf(i,g,E)!==-1},y.prototype.indexOf=function(i,g,E){return ot(this,i,g,E,!0)},y.prototype.lastIndexOf=function(i,g,E){return ot(this,i,g,E,!1)};function st(i,g,E,Ee){E=Number(E)||0;let je=i.length-E;Ee?(Ee=Number(Ee),Ee>je&&(Ee=je)):Ee=je;let it=g.length;Ee>it/2&&(Ee=it/2);let tr;for(tr=0;tr<Ee;++tr){let Xr=parseInt(g.substr(tr*2,2),16);if(Ea(Xr))return tr;i[E+tr]=Xr}return tr}function Gt(i,g,E,Ee){return ga(aa(g,i.length-E),i,E,Ee)}function vr(i,g,E,Ee){return ga(Gs(g),i,E,Ee)}function sr(i,g,E,Ee){return ga(ba(g),i,E,Ee)}function Kr(i,g,E,Ee){return ga(Pr(g,i.length-E),i,E,Ee)}y.prototype.write=function(i,g,E,Ee){if(g===void 0)Ee="utf8",E=this.length,g=0;else if(E===void 0&&typeof g=="string")Ee=g,E=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(E)?(E=E>>>0,Ee===void 0&&(Ee="utf8")):(Ee=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let je=this.length-g;if((E===void 0||E>je)&&(E=je),i.length>0&&(E<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let it=!1;for(;;)switch(Ee){case"hex":return st(this,i,g,E);case"utf8":case"utf-8":return Gt(this,i,g,E);case"ascii":case"latin1":case"binary":return vr(this,i,g,E);case"base64":return sr(this,i,g,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kr(this,i,g,E);default:if(it)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),it=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qr(i,g,E){return g===0&&E===i.length?t.fromByteArray(i):t.fromByteArray(i.slice(g,E))}function ao(i,g,E){E=Math.min(i.length,E);let Ee=[],je=g;for(;je<E;){let it=i[je],tr=null,Xr=it>239?4:it>223?3:it>191?2:1;if(je+Xr<=E){let Ei,tn,Zr,ei;switch(Xr){case 1:it<128&&(tr=it);break;case 2:Ei=i[je+1],(Ei&192)===128&&(ei=(it&31)<<6|Ei&63,ei>127&&(tr=ei));break;case 3:Ei=i[je+1],tn=i[je+2],(Ei&192)===128&&(tn&192)===128&&(ei=(it&15)<<12|(Ei&63)<<6|tn&63,ei>2047&&(ei<55296||ei>57343)&&(tr=ei));break;case 4:Ei=i[je+1],tn=i[je+2],Zr=i[je+3],(Ei&192)===128&&(tn&192)===128&&(Zr&192)===128&&(ei=(it&15)<<18|(Ei&63)<<12|(tn&63)<<6|Zr&63,ei>65535&&ei<1114112&&(tr=ei))}}tr===null?(tr=65533,Xr=1):tr>65535&&(tr-=65536,Ee.push(tr>>>10&1023|55296),tr=56320|tr&1023),Ee.push(tr),je+=Xr}return Ks(Ee)}var ni=4096;function Ks(i){let g=i.length;if(g<=ni)return String.fromCharCode.apply(String,i);let E="",Ee=0;for(;Ee<g;)E+=String.fromCharCode.apply(String,i.slice(Ee,Ee+=ni));return E}function ia(i,g,E){let Ee="";E=Math.min(i.length,E);for(let je=g;je<E;++je)Ee+=String.fromCharCode(i[je]&127);return Ee}function Hr(i,g,E){let Ee="";E=Math.min(i.length,E);for(let je=g;je<E;++je)Ee+=String.fromCharCode(i[je]);return Ee}function Js(i,g,E){let Ee=i.length;(!g||g<0)&&(g=0),(!E||E<0||E>Ee)&&(E=Ee);let je="";for(let it=g;it<E;++it)je+=ja[i[it]];return je}function ya(i,g,E){let Ee=i.slice(g,E),je="";for(let it=0;it<Ee.length-1;it+=2)je+=String.fromCharCode(Ee[it]+Ee[it+1]*256);return je}y.prototype.slice=function(i,g){let E=this.length;i=~~i,g=g===void 0?E:~~g,i<0?(i+=E,i<0&&(i=0)):i>E&&(i=E),g<0?(g+=E,g<0&&(g=0)):g>E&&(g=E),g<i&&(g=i);let Ee=this.subarray(i,g);return Object.setPrototypeOf(Ee,y.prototype),Ee};function en(i,g,E){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+g>E)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=this[i],je=1,it=0;for(;++it<g&&(je*=256);)Ee+=this[i+it]*je;return Ee},y.prototype.readUintBE=y.prototype.readUIntBE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=this[i+--g],je=1;for(;g>0&&(je*=256);)Ee+=this[i+--g]*je;return Ee},y.prototype.readUint8=y.prototype.readUInt8=function(i,g){return i=i>>>0,g||en(i,1,this.length),this[i]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(i,g){return i=i>>>0,g||en(i,2,this.length),this[i]|this[i+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(i,g){return i=i>>>0,g||en(i,2,this.length),this[i]<<8|this[i+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(i,g){return i=i>>>0,g||en(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(i,g){return i=i>>>0,g||en(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},y.prototype.readBigUInt64LE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=g+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,je=this[++i]+this[++i]*2**8+this[++i]*2**16+E*2**24;return BigInt(Ee)+(BigInt(je)<<BigInt(32))}),y.prototype.readBigUInt64BE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=g*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],je=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+E;return(BigInt(Ee)<<BigInt(32))+BigInt(je)}),y.prototype.readIntLE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=this[i],je=1,it=0;for(;++it<g&&(je*=256);)Ee+=this[i+it]*je;return je*=128,Ee>=je&&(Ee-=Math.pow(2,8*g)),Ee},y.prototype.readIntBE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=g,je=1,it=this[i+--Ee];for(;Ee>0&&(je*=256);)it+=this[i+--Ee]*je;return je*=128,it>=je&&(it-=Math.pow(2,8*g)),it},y.prototype.readInt8=function(i,g){return i=i>>>0,g||en(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},y.prototype.readInt16LE=function(i,g){i=i>>>0,g||en(i,2,this.length);let E=this[i]|this[i+1]<<8;return E&32768?E|4294901760:E},y.prototype.readInt16BE=function(i,g){i=i>>>0,g||en(i,2,this.length);let E=this[i+1]|this[i]<<8;return E&32768?E|4294901760:E},y.prototype.readInt32LE=function(i,g){return i=i>>>0,g||en(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},y.prototype.readInt32BE=function(i,g){return i=i>>>0,g||en(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},y.prototype.readBigInt64LE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(E<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(g+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),y.prototype.readBigInt64BE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=(g<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+E)}),y.prototype.readFloatLE=function(i,g){return i=i>>>0,g||en(i,4,this.length),r.read(this,i,!0,23,4)},y.prototype.readFloatBE=function(i,g){return i=i>>>0,g||en(i,4,this.length),r.read(this,i,!1,23,4)},y.prototype.readDoubleLE=function(i,g){return i=i>>>0,g||en(i,8,this.length),r.read(this,i,!0,52,8)},y.prototype.readDoubleBE=function(i,g){return i=i>>>0,g||en(i,8,this.length),r.read(this,i,!1,52,8)};function rr(i,g,E,Ee,je,it){if(!y.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>je||g<it)throw new RangeError('"value" argument is out of bounds');if(E+Ee>i.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(i,g,E,Ee){if(i=+i,g=g>>>0,E=E>>>0,!Ee){let tr=Math.pow(2,8*E)-1;rr(this,i,g,E,tr,0)}let je=1,it=0;for(this[g]=i&255;++it<E&&(je*=256);)this[g+it]=i/je&255;return g+E},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(i,g,E,Ee){if(i=+i,g=g>>>0,E=E>>>0,!Ee){let tr=Math.pow(2,8*E)-1;rr(this,i,g,E,tr,0)}let je=E-1,it=1;for(this[g+je]=i&255;--je>=0&&(it*=256);)this[g+je]=i/it&255;return g+E},y.prototype.writeUint8=y.prototype.writeUInt8=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,1,255,0),this[g]=i&255,g+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,65535,0),this[g]=i&255,this[g+1]=i>>>8,g+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,65535,0),this[g]=i>>>8,this[g+1]=i&255,g+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,4294967295,0),this[g+3]=i>>>24,this[g+2]=i>>>16,this[g+1]=i>>>8,this[g]=i&255,g+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,4294967295,0),this[g]=i>>>24,this[g+1]=i>>>16,this[g+2]=i>>>8,this[g+3]=i&255,g+4};function Fr(i,g,E,Ee,je){Ii(g,Ee,je,i,E,7);let it=Number(g&BigInt(4294967295));i[E++]=it,it=it>>8,i[E++]=it,it=it>>8,i[E++]=it,it=it>>8,i[E++]=it;let tr=Number(g>>BigInt(32)&BigInt(4294967295));return i[E++]=tr,tr=tr>>8,i[E++]=tr,tr=tr>>8,i[E++]=tr,tr=tr>>8,i[E++]=tr,E}function qr(i,g,E,Ee,je){Ii(g,Ee,je,i,E,7);let it=Number(g&BigInt(4294967295));i[E+7]=it,it=it>>8,i[E+6]=it,it=it>>8,i[E+5]=it,it=it>>8,i[E+4]=it;let tr=Number(g>>BigInt(32)&BigInt(4294967295));return i[E+3]=tr,tr=tr>>8,i[E+2]=tr,tr=tr>>8,i[E+1]=tr,tr=tr>>8,i[E]=tr,E+8}y.prototype.writeBigUInt64LE=ha(function(i,g=0){return Fr(this,i,g,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=ha(function(i,g=0){return qr(this,i,g,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(i,g,E,Ee){if(i=+i,g=g>>>0,!Ee){let Xr=Math.pow(2,8*E-1);rr(this,i,g,E,Xr-1,-Xr)}let je=0,it=1,tr=0;for(this[g]=i&255;++je<E&&(it*=256);)i<0&&tr===0&&this[g+je-1]!==0&&(tr=1),this[g+je]=(i/it>>0)-tr&255;return g+E},y.prototype.writeIntBE=function(i,g,E,Ee){if(i=+i,g=g>>>0,!Ee){let Xr=Math.pow(2,8*E-1);rr(this,i,g,E,Xr-1,-Xr)}let je=E-1,it=1,tr=0;for(this[g+je]=i&255;--je>=0&&(it*=256);)i<0&&tr===0&&this[g+je+1]!==0&&(tr=1),this[g+je]=(i/it>>0)-tr&255;return g+E},y.prototype.writeInt8=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,1,127,-128),i<0&&(i=255+i+1),this[g]=i&255,g+1},y.prototype.writeInt16LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,32767,-32768),this[g]=i&255,this[g+1]=i>>>8,g+2},y.prototype.writeInt16BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,32767,-32768),this[g]=i>>>8,this[g+1]=i&255,g+2},y.prototype.writeInt32LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,2147483647,-2147483648),this[g]=i&255,this[g+1]=i>>>8,this[g+2]=i>>>16,this[g+3]=i>>>24,g+4},y.prototype.writeInt32BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[g]=i>>>24,this[g+1]=i>>>16,this[g+2]=i>>>8,this[g+3]=i&255,g+4},y.prototype.writeBigInt64LE=ha(function(i,g=0){return Fr(this,i,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=ha(function(i,g=0){return qr(this,i,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function yo(i,g,E,Ee,je,it){if(E+Ee>i.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function Ys(i,g,E,Ee,je){return g=+g,E=E>>>0,je||yo(i,g,E,4),r.write(i,g,E,Ee,23,4),E+4}y.prototype.writeFloatLE=function(i,g,E){return Ys(this,i,g,!0,E)},y.prototype.writeFloatBE=function(i,g,E){return Ys(this,i,g,!1,E)};function Qs(i,g,E,Ee,je){return g=+g,E=E>>>0,je||yo(i,g,E,8),r.write(i,g,E,Ee,52,8),E+8}y.prototype.writeDoubleLE=function(i,g,E){return Qs(this,i,g,!0,E)},y.prototype.writeDoubleBE=function(i,g,E){return Qs(this,i,g,!1,E)},y.prototype.copy=function(i,g,E,Ee){if(!y.isBuffer(i))throw new TypeError("argument should be a Buffer");if(E||(E=0),!Ee&&Ee!==0&&(Ee=this.length),g>=i.length&&(g=i.length),g||(g=0),Ee>0&&Ee<E&&(Ee=E),Ee===E||i.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),i.length-g<Ee-E&&(Ee=i.length-g+E);let je=Ee-E;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,E,Ee):Uint8Array.prototype.set.call(i,this.subarray(E,Ee),g),je},y.prototype.fill=function(i,g,E,Ee){if(typeof i=="string"){if(typeof g=="string"?(Ee=g,g=0,E=this.length):typeof E=="string"&&(Ee=E,E=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!y.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(i.length===1){let it=i.charCodeAt(0);(Ee==="utf8"&&it<128||Ee==="latin1")&&(i=it)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(g<0||this.length<g||this.length<E)throw new RangeError("Out of range index");if(E<=g)return this;g=g>>>0,E=E===void 0?this.length:E>>>0,i||(i=0);let je;if(typeof i=="number")for(je=g;je<E;++je)this[je]=i;else{let it=y.isBuffer(i)?i:y.from(i,Ee),tr=it.length;if(tr===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(je=0;je<E-g;++je)this[je+g]=it[je%tr]}return this};var ir={};function ar(i,g,E){ir[i]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${i}]`,this.stack,delete this.name}get code(){return i}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${i}]: ${this.message}`}}}ar("ERR_BUFFER_OUT_OF_BOUNDS",function(i){return i?`${i} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ar("ERR_INVALID_ARG_TYPE",function(i,g){return`The "${i}" argument must be of type number. Received type ${typeof g}`},TypeError),ar("ERR_OUT_OF_RANGE",function(i,g,E){let Ee=`The value of "${i}" is out of range.`,je=E;return Number.isInteger(E)&&Math.abs(E)>2**32?je=zr(String(E)):typeof E=="bigint"&&(je=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(je=zr(je)),je+="n"),Ee+=` It must be ${g}. Received ${je}`,Ee},RangeError);function zr(i){let g="",E=i.length,Ee=i[0]==="-"?1:0;for(;E>=Ee+4;E-=3)g=`_${i.slice(E-3,E)}${g}`;return`${i.slice(0,E)}${g}`}function wo(i,g,E){Qt(g,"offset"),(i[g]===void 0||i[g+E]===void 0)&&Xt(g,i.length-(E+1))}function Ii(i,g,E,Ee,je,it){if(i>E||i<g){let tr=typeof g=="bigint"?"n":"",Xr;throw it>3?g===0||g===BigInt(0)?Xr=`>= 0${tr} and < 2${tr} ** ${(it+1)*8}${tr}`:Xr=`>= -(2${tr} ** ${(it+1)*8-1}${tr}) and < 2 ** ${(it+1)*8-1}${tr}`:Xr=`>= ${g}${tr} and <= ${E}${tr}`,new ir.ERR_OUT_OF_RANGE("value",Xr,i)}wo(Ee,je,it)}function Qt(i,g){if(typeof i!="number")throw new ir.ERR_INVALID_ARG_TYPE(g,"number",i)}function Xt(i,g,E){throw Math.floor(i)!==i?(Qt(i,E),new ir.ERR_OUT_OF_RANGE(E||"offset","an integer",i)):g<0?new ir.ERR_BUFFER_OUT_OF_BOUNDS:new ir.ERR_OUT_OF_RANGE(E||"offset",`>= ${E?1:0} and <= ${g}`,i)}var Yr=/[^+/0-9A-Za-z-_]/g;function rn(i){if(i=i.split("=")[0],i=i.trim().replace(Yr,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function aa(i,g){g=g||1/0;let E,Ee=i.length,je=null,it=[];for(let tr=0;tr<Ee;++tr){if(E=i.charCodeAt(tr),E>55295&&E<57344){if(!je){if(E>56319){(g-=3)>-1&&it.push(239,191,189);continue}else if(tr+1===Ee){(g-=3)>-1&&it.push(239,191,189);continue}je=E;continue}if(E<56320){(g-=3)>-1&&it.push(239,191,189),je=E;continue}E=(je-55296<<10|E-56320)+65536}else je&&(g-=3)>-1&&it.push(239,191,189);if(je=null,E<128){if((g-=1)<0)break;it.push(E)}else if(E<2048){if((g-=2)<0)break;it.push(E>>6|192,E&63|128)}else if(E<65536){if((g-=3)<0)break;it.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((g-=4)<0)break;it.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return it}function Gs(i){let g=[];for(let E=0;E<i.length;++E)g.push(i.charCodeAt(E)&255);return g}function Pr(i,g){let E,Ee,je,it=[];for(let tr=0;tr<i.length&&!((g-=2)<0);++tr)E=i.charCodeAt(tr),Ee=E>>8,je=E%256,it.push(je),it.push(Ee);return it}function ba(i){return t.toByteArray(rn(i))}function ga(i,g,E,Ee){let je;for(je=0;je<Ee&&!(je+E>=g.length||je>=i.length);++je)g[je+E]=i[je];return je}function la(i,g){return i instanceof g||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===g.name}function Ea(i){return i!==i}var ja=function(){let i="0123456789abcdef",g=new Array(256);for(let E=0;E<16;++E){let Ee=E*16;for(let je=0;je<16;++je)g[Ee+je]=i[E]+i[je]}return g}();function ha(i){return typeof BigInt>"u"?Ca:i}function Ca(){throw new Error("BigInt not supported")}}),ur=ce$1((e,t)=>{d$1();var r=t.exports={},n,o;function s(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?o=clearTimeout:o=w}catch{o=w}})();function y(he){if(n===setTimeout)return setTimeout(he,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(he,0);try{return n(he,0)}catch{try{return n.call(null,he,0)}catch{return n.call(this,he,0)}}}function k(he){if(o===clearTimeout)return clearTimeout(he);if((o===w||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(he);try{return o(he)}catch{try{return o.call(null,he)}catch{return o.call(this,he)}}}var P=[],V=!1,X,we=-1;function q(){!V||!X||(V=!1,X.length?P=X.concat(P):we=-1,P.length&&L())}function L(){if(!V){var he=y(q);V=!0;for(var _e=P.length;_e;){for(X=P,P=[];++we<_e;)X&&X[we].run();we=-1,_e=P.length}X=null,V=!1,k(he)}}r.nextTick=function(he){var _e=new Array(arguments.length-1);if(arguments.length>1)for(var Ie=1;Ie<arguments.length;Ie++)_e[Ie-1]=arguments[Ie];P.push(new I(he,_e)),P.length===1&&!V&&y(L)};function I(he,_e){this.fun=he,this.array=_e}I.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function ie(){}r.on=ie,r.addListener=ie,r.once=ie,r.off=ie,r.removeListener=ie,r.removeAllListeners=ie,r.emit=ie,r.prependListener=ie,r.prependOnceListener=ie,r.listeners=function(he){return[]},r.binding=function(he){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(he){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),d$1=Wn$1(()=>{nr$1().Buffer,ur(),globalThis&&globalThis.process&&globalThis.process.env&&(globalThis.process.env.LIBP2P_FORCE_PNET=!1)}),hr$1=ce$1((e,t)=>{d$1(),t.exports=w;var r=128,n=127,o=~n,s=Math.pow(2,31);function w(y,k,P){if(Number.MAX_SAFE_INTEGER&&y>Number.MAX_SAFE_INTEGER)throw w.bytes=0,new RangeError("Could not encode varint");k=k||[],P=P||0;for(var V=P;y>=s;)k[P++]=y&255|r,y/=128;for(;y&o;)k[P++]=y&255|r,y>>>=7;return k[P]=y|0,w.bytes=P-V+1,k}}),pr$1=ce$1((e,t)=>{d$1(),t.exports=o;var r=128,n=127;function o(s,k){var y=0,k=k||0,P=0,V=k,X,we=s.length;do{if(V>=we||P>49)throw o.bytes=0,new RangeError("Could not decode varint");X=s[V++],y+=P<28?(X&n)<<P:(X&n)*Math.pow(2,P),P+=7}while(X>=r);return o.bytes=V-k,y}}),wr$2=ce$1((e,t)=>{d$1();var r=Math.pow(2,7),n=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),w=Math.pow(2,35),y=Math.pow(2,42),k=Math.pow(2,49),P=Math.pow(2,56),V=Math.pow(2,63);t.exports=function(X){return X<r?1:X<n?2:X<o?3:X<s?4:X<w?5:X<y?6:X<k?7:X<P?8:X<V?9:10}}),mr$1=ce$1((e,t)=>{d$1(),t.exports={encode:hr$1(),decode:pr$1(),encodingLength:wr$2()}});d$1();var Pe$1=Yn$1(mr$1(),1);d$1();d$1();d$1();var ji$1=["string","number","bigint","symbol"],qi$2=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function xr$2(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;return ji$1.includes(t)?t:t==="function"?"Function":Array.isArray(e)?"Array":Gi$1(e)?"Buffer":Hi$1(e)||"Object"}function Gi$1(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function Hi$1(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(qi$2.includes(t))return t}d$1();var c=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};c.uint=new c(0,"uint",!0);c.negint=new c(1,"negint",!0);c.bytes=new c(2,"bytes",!0);c.string=new c(3,"string",!0);c.array=new c(4,"array",!1);c.map=new c(5,"map",!1);c.tag=new c(6,"tag",!1);c.float=new c(7,"float",!0);c.false=new c(7,"false",!0);c.true=new c(7,"true",!0);c.null=new c(7,"null",!0);c.undefined=new c(7,"undefined",!0);c.break=new c(7,"break",!0);var f=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};d$1();d$1();var Be$1=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function";new TextDecoder;var Xi$1=new TextEncoder;function We$1(e){return Be$1&&globalThis.Buffer.isBuffer(e)}function mt$2(e){return e instanceof Uint8Array?We$1(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var Ir$2=Be$1?e=>e.length>64?globalThis.Buffer.from(e):Er$2(e):e=>e.length>64?Xi$1.encode(e):Er$2(e),K$1=e=>Uint8Array.from(e),be$1=Be$1?(e,t,r)=>We$1(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Ur=Be$1?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),mt$2(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Tr$1=Be$1?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Sr$2(e,t){if(We$1(e)&&We$1(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function Er$2(e,t=1/0){let r,n=e.length,o=null,s=[];for(let w=0;w<n;++w){if(r=e.charCodeAt(w),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(w+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}var Ji$1=256,Ne$2=class{constructor(e=Ji$1){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let r=t.length-(this.maxCursor-this.cursor)-1;r<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,r),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Tr$1(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=be$1(r,0,this.cursor)}else t=Ur(this.chunks,this.cursor);return e&&this.reset(),t}};d$1();var B$1="CBOR decode error:",xt="CBOR encode error:";d$1();d$1();var S$2=[24,256,65536,4294967296,BigInt("18446744073709551616")];function D$1(e,t){return F$1(e,0,t.value)}function F$1(e,t,r){if(r<S$2[0]){let n=Number(r);e.push([t|n])}else if(r<S$2[1]){let n=Number(r);e.push([t|24,n])}else if(r<S$2[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<S$2[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<S$2[4]){let o=[t|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),w=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=w&255,w=w>>8,o[3]=w&255,w=w>>8,o[2]=w&255,w=w>>8,o[1]=w&255,e.push(o)}else throw new Error(`${B$1} encountered BigInt larger than allowable range`)}}D$1.encodedSize=function(e){return F$1.encodedSize(e.value)};F$1.encodedSize=function(e){return e<S$2[0]?1:e<S$2[1]?2:e<S$2[2]?3:e<S$2[3]?5:9};D$1.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};d$1();var Et$2=BigInt(-1),$r$1=BigInt(1);function Xe$2(e,t){let r=t.value,n=typeof r=="bigint"?r*Et$2-$r$1:r*-1-1;F$1(e,t.type.majorEncoded,n)}Xe$2.encodedSize=function(e){let t=e.value,r=typeof t=="bigint"?t*Et$2-$r$1:t*-1-1;return r<S$2[0]?1:r<S$2[1]?2:r<S$2[2]?3:r<S$2[3]?5:9};Xe$2.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};d$1();function Ye$1(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===c.string?Ir$2(e.value):e.value),e.encodedBytes}function Ae$1(e,t){let r=Ye$1(t);F$1(e,t.type.majorEncoded,r.length),e.push(r)}Ae$1.encodedSize=function(e){let t=Ye$1(e);return F$1.encodedSize(t.length)+t.length};Ae$1.compareTokens=function(e,t){return Qi$1(Ye$1(e),Ye$1(t))};function Qi$1(e,t){return e.length<t.length?-1:e.length>t.length?1:Sr$2(e,t)}d$1();var Wr$1=Ae$1;d$1();function Je$1(e,t){F$1(e,c.array.majorEncoded,t.value)}Je$1.compareTokens=D$1.compareTokens;Je$1.encodedSize=function(e){return F$1.encodedSize(e.value)};d$1();function Ke$1(e,t){F$1(e,c.map.majorEncoded,t.value)}Ke$1.compareTokens=D$1.compareTokens;Ke$1.encodedSize=function(e){return F$1.encodedSize(e.value)};d$1();function Qe$1(e,t){F$1(e,c.tag.majorEncoded,t.value)}Qe$1.compareTokens=D$1.compareTokens;Qe$1.encodedSize=function(e){return F$1.encodedSize(e.value)};d$1();var io$1=20,oo$1=21,so$1=22,co$2=23;function Ze(e,t,r){let n=t.value;if(n===!1)e.push([c.float.majorEncoded|io$1]);else if(n===!0)e.push([c.float.majorEncoded|oo$1]);else if(n===null)e.push([c.float.majorEncoded|so$1]);else if(n===void 0)e.push([c.float.majorEncoded|co$2]);else{let o,s=!1;(!r||r.float64!==!0)&&(mn$2(n),o=bt$1(j,1),n===o||Number.isNaN(n)?(j[0]=249,e.push(j.slice(0,3)),s=!0):(xn$1(n),o=At(j,1),n===o&&(j[0]=250,e.push(j.slice(0,5)),s=!0))),s||(uo(n),o=En$1(j,1),j[0]=251,e.push(j.slice(0,9)))}}Ze.encodedSize=function(e,t){let r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){mn$2(r);let n=bt$1(j,1);if(r===n||Number.isNaN(r))return 3;if(xn$1(r),n=At(j,1),r===n)return 5}return 9};var gn$1=new ArrayBuffer(9),O=new DataView(gn$1,1),j=new Uint8Array(gn$1,0);function mn$2(e){if(e===1/0)O.setUint16(0,31744,!1);else if(e===-1/0)O.setUint16(0,64512,!1);else if(Number.isNaN(e))O.setUint16(0,32256,!1);else{O.setFloat32(0,e);let t=O.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)O.setUint16(0,31744,!1);else if(r===0)O.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?O.setUint16(0,0):o<-14?O.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):O.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function bt$1(e,t){if(e.length-t<2)throw new Error(`${B$1} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function xn$1(e){O.setFloat32(0,e,!1)}function At(e,t){if(e.length-t<4)throw new Error(`${B$1} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function uo(e){O.setFloat64(0,e,!1)}function En$1(e,t){if(e.length-t<8)throw new Error(`${B$1} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}Ze.compareTokens=D$1.compareTokens;for(let e=0;e<24;e++)new f(c.uint,e,1);for(let e=-1;e>=-24;e--)new f(c.negint,e,1);new f(c.bytes,new Uint8Array(0),1);new f(c.string,"",1);new f(c.array,0,1);new f(c.map,0,1);new f(c.false,!1,1);new f(c.true,!0,1);new f(c.null,null,1);function tt$1(e){switch(e.type){case c.false:return K$1([244]);case c.true:return K$1([245]);case c.null:return K$1([246]);case c.bytes:return e.value.length?void 0:K$1([64]);case c.string:return e.value===""?K$1([96]):void 0;case c.array:return e.value===0?K$1([128]):void 0;case c.map:return e.value===0?K$1([160]):void 0;case c.uint:return e.value<24?K$1([Number(e.value)]):void 0;case c.negint:if(e.value>=-24)return K$1([31-Number(e.value)])}}var fo$2={float64:!1,mapSorter:lo$1,quickEncodeToken:tt$1};function Ut$1(){let e=[];return e[c.uint.major]=D$1,e[c.negint.major]=Xe$2,e[c.bytes.major]=Ae$1,e[c.string.major]=Wr$1,e[c.array.major]=Je$1,e[c.map.major]=Ke$1,e[c.tag.major]=Qe$1,e[c.float.major]=Ze,e}var Bn$1=Ut$1(),It$1=new Ne$2,Te$1=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${xt} object contains circular references`);return new Te$1(t,e)}},ae={null:new f(c.null,null),undefined:new f(c.undefined,void 0),true:new f(c.true,!0),false:new f(c.false,!1),emptyArray:new f(c.array,0),emptyMap:new f(c.map,0)},fe$1={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new f(c.float,e):e>=0?new f(c.uint,e):new f(c.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new f(c.uint,e):new f(c.negint,e)},Uint8Array(e,t,r,n){return new f(c.bytes,e)},string(e,t,r,n){return new f(c.string,e)},boolean(e,t,r,n){return e?ae.true:ae.false},null(e,t,r,n){return ae.null},undefined(e,t,r,n){return ae.undefined},ArrayBuffer(e,t,r,n){return new f(c.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new f(c.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[ae.emptyArray,new f(c.break)]:ae.emptyArray;n=Te$1.createCheck(n,e);let o=[],s=0;for(let w of e)o[s++]=ve$2(w,r,n);return r.addBreakTokens?[new f(c.array,e.length),o,new f(c.break)]:[new f(c.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",s=o?e.keys():Object.keys(e),w=o?e.size:s.length;if(!w)return r.addBreakTokens===!0?[ae.emptyMap,new f(c.break)]:ae.emptyMap;n=Te$1.createCheck(n,e);let y=[],k=0;for(let P of s)y[k++]=[ve$2(P,r,n),ve$2(o?e.get(P):e[P],r,n)];return ho$1(y,r),r.addBreakTokens?[new f(c.map,w),y,new f(c.break)]:[new f(c.map,w),y]}};fe$1.Map=fe$1.Object;fe$1.Buffer=fe$1.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))fe$1[`${e}Array`]=fe$1.DataView;function ve$2(e,t={},r){let n=xr$2(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||fe$1[n];if(typeof o=="function"){let w=o(e,n,t,r);if(w!=null)return w}let s=fe$1[n];if(!s)throw new Error(`${xt} unsupported type: ${n}`);return s(e,n,t,r)}function ho$1(e,t){t.mapSorter&&e.sort(t.mapSorter)}function lo$1(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,s=Bn$1[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function bn$2(e,t,r,n){if(Array.isArray(t))for(let o of t)bn$2(e,o,r,n);else r[t.type.major](e,t,n)}function po(e,t,r){let n=ve$2(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let s=t[n.type.major];if(s.encodedSize){let w=s.encodedSize(n,r),y=new Ne$2(w);if(s(y,n,r),y.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return mt$2(y.chunks[0])}}return It$1.reset(),bn$2(It$1,n,t,r),It$1.toBytes(!0)}function Tt$2(e,t){return t=Object.assign({},fo$2,t),po(e,Bn$1,t)}d$1();d$1();var go=Ut$1(),mo={float64:!1,quickEncodeToken:tt$1};function St(e,t=go,r=mo){if(Array.isArray(e)){let n=0;for(let o of e)n+=St(o,t,r);return n}else{let n=t[e.type.major];if(n.encodedSize===void 0||typeof n.encodedSize!="function")throw new Error(`Encoder for ${e.type.name} does not have an encodedSize()`);return n.encodedSize(e,r)}}d$1();d$1();d$1();d$1();var xo$1=Un$1,An$2=128,Eo$1=127,Bo$1=~Eo$1,bo$2=Math.pow(2,31);function Un$1(e,t,r){t=t||[],r=r||0;for(var n=r;e>=bo$2;)t[r++]=e&255|An$2,e/=128;for(;e&Bo$1;)t[r++]=e&255|An$2,e>>>=7;return t[r]=e|0,Un$1.bytes=r-n+1,t}var Ao=Ft,Io$1=128,In$1=127;function Ft(e,n){var r=0,n=n||0,o=0,s=n,w,y=e.length;do{if(s>=y)throw Ft.bytes=0,new RangeError("Could not decode varint");w=e[s++],r+=o<28?(w&In$1)<<o:(w&In$1)*Math.pow(2,o),o+=7}while(w>=Io$1);return Ft.bytes=s-n,r}var Uo=Math.pow(2,7),To$2=Math.pow(2,14),So$1=Math.pow(2,21),Fo$1=Math.pow(2,28),ko$2=Math.pow(2,35),Co$1=Math.pow(2,42),_o$2=Math.pow(2,49),No$2=Math.pow(2,56),Mo$1=Math.pow(2,63),Ro$2=function(e){return e<Uo?1:e<To$2?2:e<So$1?3:e<Fo$1?4:e<ko$2?5:e<Co$1?6:e<_o$2?7:e<No$2?8:e<Mo$1?9:10},$o={encode:xo$1,decode:Ao,encodingLength:Ro$2},vo$1=$o,Le$1=vo$1,De$1=e=>[Le$1.decode(e),Le$1.decode.bytes],Se$2=(e,t,r=0)=>(Le$1.encode(e,t,r),t),Fe$2=e=>Le$1.encodingLength(e);d$1();d$1();var Sn$1=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},ke$2=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Fn$1=(e,t)=>{let r=t.byteLength,n=Fe$2(e),o=n+Fe$2(r),s=new Uint8Array(o+r);return Se$2(e,s,0),Se$2(r,s,n),s.set(t,o),new Ce$2(e,r,t,s)},kn$1=e=>{let t=ke$2(e),[r,n]=De$1(t),[o,s]=De$1(t.subarray(n)),w=t.subarray(n+s);if(w.byteLength!==o)throw new Error("Incorrect length");return new Ce$2(r,o,w,t)},Cn=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&Sn$1(e.bytes,t.bytes),Ce$2=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}};d$1();d$1();d$1();function Do$1(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),w=s.charCodeAt(0);if(r[w]!==255)throw new TypeError(s+" is ambiguous");r[w]=o}var y=e.length,k=e.charAt(0),P=Math.log(y)/Math.log(256),V=Math.log(256)/Math.log(y);function X(L){if(L instanceof Uint8Array||(ArrayBuffer.isView(L)?L=new Uint8Array(L.buffer,L.byteOffset,L.byteLength):Array.isArray(L)&&(L=Uint8Array.from(L))),!(L instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length===0)return"";for(var I=0,ie=0,he=0,_e=L.length;he!==_e&&L[he]===0;)he++,I++;for(var Ie=(_e-he)*V+1>>>0,et=new Uint8Array(Ie);he!==_e;){for(var Wt=L[he],ot=0,at=Ie-1;(Wt!==0||ot<ie)&&at!==-1;at--,ot++)Wt+=256*et[at]>>>0,et[at]=Wt%y>>>0,Wt=Wt/y>>>0;if(Wt!==0)throw new Error("Non-zero carry");ie=ot,he++}for(var st=Ie-ie;st!==Ie&&et[st]===0;)st++;for(var Gt=k.repeat(I);st<Ie;++st)Gt+=e.charAt(et[st]);return Gt}function we(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return new Uint8Array;var I=0;if(L[I]!==" "){for(var ie=0,he=0;L[I]===k;)ie++,I++;for(var _e=(L.length-I)*P+1>>>0,Ie=new Uint8Array(_e);L[I];){var et=r[L.charCodeAt(I)];if(et===255)return;for(var Wt=0,ot=_e-1;(et!==0||Wt<he)&&ot!==-1;ot--,Wt++)et+=y*Ie[ot]>>>0,Ie[ot]=et%256>>>0,et=et/256>>>0;if(et!==0)throw new Error("Non-zero carry");he=Wt,I++}if(L[I]!==" "){for(var at=_e-he;at!==_e&&Ie[at]===0;)at++;for(var st=new Uint8Array(ie+(_e-at)),Gt=ie;at!==_e;)st[Gt++]=Ie[at++];return st}}}function q(L){var I=we(L);if(I)return I;throw new Error(`Non-${t} character`)}return{encode:X,decodeUnsafe:we,decode:q}}var Oo$1=Do$1,zo=Oo$1,_n$1=zo,kt$1=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ct=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Nn$1(this,e)}},_t=class{constructor(e){this.decoders=e}or(e){return Nn$1(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Nn$1=(e,t)=>new _t({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Nt$1=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new kt$1(e,t,r),this.decoder=new Ct(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Mn$1=({name:e,prefix:t,encode:r,decode:n})=>new Nt$1(e,t,r,n),Mt$1=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=_n$1(r,t);return Mn$1({prefix:e,name:t,encode:n,decode:s=>ke$2(o(s))})},Po$2=(e,t,r,n)=>{let o={};for(let V=0;V<t.length;++V)o[t[V]]=V;let s=e.length;for(;e[s-1]==="=";)--s;let w=new Uint8Array(s*r/8|0),y=0,k=0,P=0;for(let V=0;V<s;++V){let X=o[e[V]];if(X===void 0)throw new SyntaxError(`Non-${n} character`);k=k<<r|X,y+=r,y>=8&&(y-=8,w[P++]=255&k>>y)}if(y>=r||255&k<<8-y)throw new SyntaxError("Unexpected end of data");return w},Vo=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,s="",w=0,y=0;for(let k=0;k<e.length;++k)for(y=y<<8|e[k],w+=8;w>r;)w-=r,s+=t[o&y>>w];if(w&&(s+=t[o&y<<r-w]),n)for(;s.length*r&7;)s+="=";return s},Z=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Mn$1({prefix:t,name:e,encode(o){return Vo(o,n,r)},decode(o){return Po$2(o,n,r,e)}}),oe$1=Mt$1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});Mt$1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});d$1();var Oe$2=Z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});Z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5});Z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5});Z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5});Z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5});Z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5});Z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5});Z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5});Z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var U$2=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:nt,byteLength:nt,code:rt$1,version:rt$1,multihash:rt$1,bytes:rt$1,_baseCache:nt,asCID:nt})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ze$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Ho$1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return U$2.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Fn$1(e,t);return U$2.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Cn(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return qo$1(t,n,e||oe$1.encoder);default:return Go$1(t,n,e||Oe$2.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Xo$1(/^0\.0/,Yo$1),!!(e&&(e[$n$1]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof U$2)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new U$2(t,r,n,o||Rn$1(t,r,n.bytes))}else if(e!=null&&e[$n$1]===!0){let{version:t,multihash:r,code:n}=e,o=kn$1(r);return U$2.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ze$1)throw new Error(`Version 0 CID must use dag-pb (code: ${ze$1}) block encoding`);return new U$2(e,t,r,r.bytes)}case 1:{let n=Rn$1(e,t,r.bytes);return new U$2(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return U$2.create(0,ze$1,e)}static createV1(e,t){return U$2.create(1,e,t)}static decode(e){let[t,r]=U$2.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=U$2.inspectBytes(e),r=t.size-t.multihashSize,n=ke$2(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),s=new Ce$2(t.multihashCode,t.digestSize,o,n);return[t.version===0?U$2.createV0(s):U$2.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[V,X]=De$1(e.subarray(t));return t+=X,V},n=r(),o=ze$1;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=t,w=r(),y=r(),k=t+y,P=k-s;return{version:n,codec:o,multihashCode:w,digestSize:y,multihashSize:P,size:k}}static parse(e,t){let[r,n]=jo$1(e,t),o=U$2.decode(n);return o._baseCache.set(r,e),o}},jo$1=(e,t)=>{switch(e[0]){case"Q":{let r=t||oe$1;return[oe$1.prefix,r.decode(`${oe$1.prefix}${e}`)]}case oe$1.prefix:{let r=t||oe$1;return[oe$1.prefix,r.decode(e)]}case Oe$2.prefix:{let r=t||Oe$2;return[Oe$2.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},qo$1=(e,t,r)=>{let{prefix:n}=r;if(n!==oe$1.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return o},Go$1=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let s=r.encode(e);return t.set(n,s),s}else return o},ze$1=112,Ho$1=18,Rn$1=(e,t,r)=>{let n=Fe$2(e),o=n+Fe$2(t),s=new Uint8Array(o+r.byteLength);return Se$2(e,s,0),Se$2(t,s,n),s.set(r,o),s},$n$1=Symbol.for("@ipld/js-cid/CID"),rt$1={writable:!1,configurable:!1,enumerable:!0},nt={writable:!1,enumerable:!1,configurable:!1},Wo$1="0.0.0-dev",Xo$1=(e,t)=>{if(e.test(Wo$1))console.warn(t);else throw new Error(t)},Yo$1=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`,vn$1=42;function Jo$1(e){if(e.asCID!==e)return null;let t=U$2.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new f(c.tag,vn$1),new f(c.bytes,r)]}function Ko(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Qo$1(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var Zo$1={float64:!0,typeEncoders:{Object:Jo$1,undefined:Ko,number:Qo$1}},Ln$1=e=>Tt$2(e,Zo$1),$t$1=class{constructor(e,t){this.bytes=e,this.byteOffset=t,this.roots=[],this.headerSize=t}addRoot(e,t){return ns$1(this,e,t),this}write(e){return is$2(this,e),this}close(e){return os$1(this,e)}},ns$1=(e,t,{resize:r=!1}={})=>{let{bytes:n,headerSize:o,byteOffset:s,roots:w}=e;e.roots.push(t);let y=Pn(e);if(y>o)if(y-o+s<n.byteLength)if(r)On$2(e,y);else throw w.pop(),new RangeError(`Header of size ${o} has no capacity for new root ${t}.
  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);else throw w.pop(),new RangeError(`Buffer has no capacity for a new root ${t}`)},Jc=({cid:e,bytes:t})=>{let r=e.bytes.byteLength+t.byteLength;return Pe$1.default.encodingLength(r)+r},is$2=(e,{cid:t,bytes:r})=>{let n=t.bytes.byteLength+r.byteLength,o=Pe$1.default.encode(n);if(e.byteOffset+o.length+n>e.bytes.byteLength)throw new RangeError("Buffer has no capacity for this block");Rt$2(e,o),Rt$2(e,t.bytes),Rt$2(e,r)},os$1=(e,{resize:t=!1}={})=>{let{roots:r,bytes:n,byteOffset:o,headerSize:s}=e,w=Ln$1({version:1,roots:r}),y=Pe$1.default.encode(w.length),k=y.length+w.byteLength;if(s-k===0)return Dn$2(e,y,w),n.subarray(0,o);if(t)return On$2(e,k),Dn$2(e,y,w),n.subarray(0,e.byteOffset);throw new RangeError(`Header size was overestimated.
You can use close({ resize: true }) to resize header`)},On$2=(e,t)=>{let{bytes:r,headerSize:n}=e;r.set(r.subarray(n,e.byteOffset),t),e.byteOffset+=t-n,e.headerSize=t},Rt$2=(e,t)=>{e.bytes.set(t,e.byteOffset),e.byteOffset+=t.length},Dn$2=({bytes:e},t,r)=>{e.set(t),e.set(r,t.length)},ss$1=[new f(c.map,2),new f(c.string,"version"),new f(c.uint,1),new f(c.string,"roots")],cs$1=new f(c.tag,42),zn$1=e=>{let t=[...ss$1];t.push(new f(c.array,e.length));for(let n of e)t.push(cs$1),t.push(new f(c.bytes,{length:n+1}));let r=St(t);return Pe$1.default.encodingLength(r)+r},Pn=({roots:e})=>zn$1(e.map(t=>t.bytes.byteLength)),Qc=(e,{roots:t=[],byteOffset:r=0,byteLength:n=e.byteLength,headerSize:o=Pn({roots:t})}={})=>{let s=new Uint8Array(e,r,n),w=new $t$1(s,o);for(let y of t)w.addRoot(y);return w};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var encode_1=encode$a,MSB$1=128,REST$1=127,MSBALL=~REST$1,INT=Math.pow(2,31);function encode$a(e,t,r){if(Number.MAX_SAFE_INTEGER&&e>Number.MAX_SAFE_INTEGER)throw encode$a.bytes=0,new RangeError("Could not encode varint");t=t||[],r=r||0;for(var n=r;e>=INT;)t[r++]=e&255|MSB$1,e/=128;for(;e&MSBALL;)t[r++]=e&255|MSB$1,e>>>=7;return t[r]=e|0,encode$a.bytes=r-n+1,t}var decode$8=read,MSB=128,REST=127;function read(e,n){var r=0,n=n||0,o=0,s=n,w,y=e.length;do{if(s>=y||o>49)throw read.bytes=0,new RangeError("Could not decode varint");w=e[s++],r+=o<28?(w&REST)<<o:(w&REST)*Math.pow(2,o),o+=7}while(w>=MSB);return read.bytes=s-n,r}var N1$1=Math.pow(2,7),N2$1=Math.pow(2,14),N3=Math.pow(2,21),N4=Math.pow(2,28),N5=Math.pow(2,35),N6=Math.pow(2,42),N7=Math.pow(2,49),N8=Math.pow(2,56),N9=Math.pow(2,63),length=function(e){return e<N1$1?1:e<N2$1?2:e<N3?3:e<N4?4:e<N5?5:e<N6?6:e<N7?7:e<N8?8:e<N9?9:10},varint={encode:encode_1,decode:decode$8,encodingLength:length};const typeofs=["string","number","bigint","symbol"],objectTypeNames=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function is$1(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";const t=typeof e;if(typeofs.includes(t))return t;if(t==="function")return"Function";if(Array.isArray(e))return"Array";if(isBuffer$1(e))return"Buffer";const r=getObjectType(e);return r||"Object"}function isBuffer$1(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function getObjectType(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(objectTypeNames.includes(t))return t}class Type{constructor(t,r,n){this.major=t,this.majorEncoded=t<<5,this.name=r,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(t){return this.major<t.major?-1:this.major>t.major?1:0}}Type.uint=new Type(0,"uint",!0);Type.negint=new Type(1,"negint",!0);Type.bytes=new Type(2,"bytes",!0);Type.string=new Type(3,"string",!0);Type.array=new Type(4,"array",!1);Type.map=new Type(5,"map",!1);Type.tag=new Type(6,"tag",!1);Type.float=new Type(7,"float",!0);Type.false=new Type(7,"false",!0);Type.true=new Type(7,"true",!0);Type.null=new Type(7,"null",!0);Type.undefined=new Type(7,"undefined",!0);Type.break=new Type(7,"break",!0);class Token{constructor(t,r,n){this.type=t,this.value=r,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const useBuffer=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",textDecoder$2=new TextDecoder,textEncoder$3=new TextEncoder;function isBuffer(e){return useBuffer&&globalThis.Buffer.isBuffer(e)}function asU8A(e){return e instanceof Uint8Array?isBuffer(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const toString=useBuffer?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):utf8Slice(e,t,r):(e,t,r)=>r-t>64?textDecoder$2.decode(e.subarray(t,r)):utf8Slice(e,t,r),fromString=useBuffer?e=>e.length>64?globalThis.Buffer.from(e):utf8ToBytes(e):e=>e.length>64?textEncoder$3.encode(e):utf8ToBytes(e),fromArray=e=>Uint8Array.from(e),slice=useBuffer?(e,t,r)=>isBuffer(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),concat=useBuffer?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),asU8A(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},alloc=useBuffer?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function compare(e,t){if(isBuffer(e)&&isBuffer(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function utf8ToBytes(e,t=1/0){let r;const n=e.length;let o=null;const s=[];for(let w=0;w<n;++w){if(r=e.charCodeAt(w),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(w+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function utf8Slice(e,t,r){const n=[];for(;t<r;){const o=e[t];let s=null,w=o>239?4:o>223?3:o>191?2:1;if(t+w<=r){let y,k,P,V;switch(w){case 1:o<128&&(s=o);break;case 2:y=e[t+1],(y&192)===128&&(V=(o&31)<<6|y&63,V>127&&(s=V));break;case 3:y=e[t+1],k=e[t+2],(y&192)===128&&(k&192)===128&&(V=(o&15)<<12|(y&63)<<6|k&63,V>2047&&(V<55296||V>57343)&&(s=V));break;case 4:y=e[t+1],k=e[t+2],P=e[t+3],(y&192)===128&&(k&192)===128&&(P&192)===128&&(V=(o&15)<<18|(y&63)<<12|(k&63)<<6|P&63,V>65535&&V<1114112&&(s=V))}}s===null?(s=65533,w=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),t+=w}return decodeCodePointsArray(n)}const MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(e){const t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}const defaultChunkSize=256;class Bl{constructor(t=defaultChunkSize){this.chunkSize=t,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(t){let r=this.chunks[this.chunks.length-1];if(this.cursor+t.length<=this.maxCursor+1){const o=r.length-(this.maxCursor-this.cursor)-1;r.set(t,o)}else{if(r){const o=r.length-(this.maxCursor-this.cursor)-1;o<r.length&&(this.chunks[this.chunks.length-1]=r.subarray(0,o),this.maxCursor=this.cursor-1)}t.length<64&&t.length<this.chunkSize?(r=alloc(this.chunkSize),this.chunks.push(r),this.maxCursor+=r.length,this._initReuseChunk===null&&(this._initReuseChunk=r),r.set(t,0)):(this.chunks.push(t),this.maxCursor+=t.length)}this.cursor+=t.length}toBytes(t=!1){let r;if(this.chunks.length===1){const n=this.chunks[0];t&&this.cursor>n.length/2?(r=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):r=slice(n,0,this.cursor)}else r=concat(this.chunks,this.cursor);return t&&this.reset(),r}}const decodeErrPrefix="CBOR decode error:",encodeErrPrefix="CBOR encode error:";function assertEnoughData(e,t,r){if(e.length-t<r)throw new Error(`${decodeErrPrefix} not enough data for type`)}const uintBoundaries=[24,256,65536,4294967296,BigInt("18446744073709551616")];function readUint8(e,t,r){assertEnoughData(e,t,1);const n=e[t];if(r.strict===!0&&n<uintBoundaries[0])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint16(e,t,r){assertEnoughData(e,t,2);const n=e[t]<<8|e[t+1];if(r.strict===!0&&n<uintBoundaries[1])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint32(e,t,r){assertEnoughData(e,t,4);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<uintBoundaries[2])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);return n}function readUint64(e,t,r){assertEnoughData(e,t,8);const n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<uintBoundaries[3])throw new Error(`${decodeErrPrefix} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`)}function decodeUint8(e,t,r,n){return new Token(Type.uint,readUint8(e,t+1,n),2)}function decodeUint16(e,t,r,n){return new Token(Type.uint,readUint16(e,t+1,n),3)}function decodeUint32(e,t,r,n){return new Token(Type.uint,readUint32(e,t+1,n),5)}function decodeUint64(e,t,r,n){return new Token(Type.uint,readUint64(e,t+1,n),9)}function encodeUint(e,t){return encodeUintValue(e,0,t.value)}function encodeUintValue(e,t,r){if(r<uintBoundaries[0]){const n=Number(r);e.push([t|n])}else if(r<uintBoundaries[1]){const n=Number(r);e.push([t|24,n])}else if(r<uintBoundaries[2]){const n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<uintBoundaries[3]){const n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{const n=BigInt(r);if(n<uintBoundaries[4]){const o=[t|27,0,0,0,0,0,0,0];let s=Number(n&BigInt(4294967295)),w=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=w&255,w=w>>8,o[3]=w&255,w=w>>8,o[2]=w&255,w=w>>8,o[1]=w&255,e.push(o)}else throw new Error(`${decodeErrPrefix} encountered BigInt larger than allowable range`)}}encodeUint.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};encodeUintValue.encodedSize=function(t){return t<uintBoundaries[0]?1:t<uintBoundaries[1]?2:t<uintBoundaries[2]?3:t<uintBoundaries[3]?5:9};encodeUint.compareTokens=function(t,r){return t.value<r.value?-1:t.value>r.value?1:0};function decodeNegint8(e,t,r,n){return new Token(Type.negint,-1-readUint8(e,t+1,n),2)}function decodeNegint16(e,t,r,n){return new Token(Type.negint,-1-readUint16(e,t+1,n),3)}function decodeNegint32(e,t,r,n){return new Token(Type.negint,-1-readUint32(e,t+1,n),5)}const neg1b=BigInt(-1),pos1b=BigInt(1);function decodeNegint64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o!="bigint"){const s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new Token(Type.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${decodeErrPrefix} integers outside of the safe integer range are not supported`);return new Token(Type.negint,neg1b-BigInt(o),9)}function encodeNegint(e,t){const r=t.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;encodeUintValue(e,t.type.majorEncoded,n)}encodeNegint.encodedSize=function(t){const r=t.value,n=typeof r=="bigint"?r*neg1b-pos1b:r*-1-1;return n<uintBoundaries[0]?1:n<uintBoundaries[1]?2:n<uintBoundaries[2]?3:n<uintBoundaries[3]?5:9};encodeNegint.compareTokens=function(t,r){return t.value<r.value?1:t.value>r.value?-1:0};function toToken$3(e,t,r,n){assertEnoughData(e,t,r+n);const o=slice(e,t+r,t+r+n);return new Token(Type.bytes,o,r+n)}function decodeBytesCompact(e,t,r,n){return toToken$3(e,t,1,r)}function decodeBytes8(e,t,r,n){return toToken$3(e,t,2,readUint8(e,t+1,n))}function decodeBytes16(e,t,r,n){return toToken$3(e,t,3,readUint16(e,t+1,n))}function decodeBytes32(e,t,r,n){return toToken$3(e,t,5,readUint32(e,t+1,n))}function decodeBytes64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer bytes lengths not supported`);return toToken$3(e,t,9,o)}function tokenBytes(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===Type.string?fromString(e.value):e.value),e.encodedBytes}function encodeBytes(e,t){const r=tokenBytes(t);encodeUintValue(e,t.type.majorEncoded,r.length),e.push(r)}encodeBytes.encodedSize=function(t){const r=tokenBytes(t);return encodeUintValue.encodedSize(r.length)+r.length};encodeBytes.compareTokens=function(t,r){return compareBytes(tokenBytes(t),tokenBytes(r))};function compareBytes(e,t){return e.length<t.length?-1:e.length>t.length?1:compare(e,t)}function toToken$2(e,t,r,n,o){const s=r+n;assertEnoughData(e,t,s);const w=new Token(Type.string,toString(e,t+r,t+s),s);return o.retainStringBytes===!0&&(w.byteValue=slice(e,t+r,t+s)),w}function decodeStringCompact(e,t,r,n){return toToken$2(e,t,1,r,n)}function decodeString8(e,t,r,n){return toToken$2(e,t,2,readUint8(e,t+1,n),n)}function decodeString16(e,t,r,n){return toToken$2(e,t,3,readUint16(e,t+1,n),n)}function decodeString32(e,t,r,n){return toToken$2(e,t,5,readUint32(e,t+1,n),n)}function decodeString64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer string lengths not supported`);return toToken$2(e,t,9,o,n)}const encodeString=encodeBytes;function toToken$1(e,t,r,n){return new Token(Type.array,n,r)}function decodeArrayCompact(e,t,r,n){return toToken$1(e,t,1,r)}function decodeArray8(e,t,r,n){return toToken$1(e,t,2,readUint8(e,t+1,n))}function decodeArray16(e,t,r,n){return toToken$1(e,t,3,readUint16(e,t+1,n))}function decodeArray32(e,t,r,n){return toToken$1(e,t,5,readUint32(e,t+1,n))}function decodeArray64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer array lengths not supported`);return toToken$1(e,t,9,o)}function decodeArrayIndefinite(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken$1(e,t,1,1/0)}function encodeArray(e,t){encodeUintValue(e,Type.array.majorEncoded,t.value)}encodeArray.compareTokens=encodeUint.compareTokens;encodeArray.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};function toToken(e,t,r,n){return new Token(Type.map,n,r)}function decodeMapCompact(e,t,r,n){return toToken(e,t,1,r)}function decodeMap8(e,t,r,n){return toToken(e,t,2,readUint8(e,t+1,n))}function decodeMap16(e,t,r,n){return toToken(e,t,3,readUint16(e,t+1,n))}function decodeMap32(e,t,r,n){return toToken(e,t,5,readUint32(e,t+1,n))}function decodeMap64(e,t,r,n){const o=readUint64(e,t+1,n);if(typeof o=="bigint")throw new Error(`${decodeErrPrefix} 64-bit integer map lengths not supported`);return toToken(e,t,9,o)}function decodeMapIndefinite(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return toToken(e,t,1,1/0)}function encodeMap(e,t){encodeUintValue(e,Type.map.majorEncoded,t.value)}encodeMap.compareTokens=encodeUint.compareTokens;encodeMap.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};function decodeTagCompact(e,t,r,n){return new Token(Type.tag,r,1)}function decodeTag8(e,t,r,n){return new Token(Type.tag,readUint8(e,t+1,n),2)}function decodeTag16(e,t,r,n){return new Token(Type.tag,readUint16(e,t+1,n),3)}function decodeTag32(e,t,r,n){return new Token(Type.tag,readUint32(e,t+1,n),5)}function decodeTag64(e,t,r,n){return new Token(Type.tag,readUint64(e,t+1,n),9)}function encodeTag(e,t){encodeUintValue(e,Type.tag.majorEncoded,t.value)}encodeTag.compareTokens=encodeUint.compareTokens;encodeTag.encodedSize=function(t){return encodeUintValue.encodedSize(t.value)};const MINOR_FALSE=20,MINOR_TRUE=21,MINOR_NULL=22,MINOR_UNDEFINED=23;function decodeUndefined(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${decodeErrPrefix} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new Token(Type.null,null,1):new Token(Type.undefined,void 0,1)}function decodeBreak(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${decodeErrPrefix} indefinite length items not allowed`);return new Token(Type.break,void 0,1)}function createToken(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${decodeErrPrefix} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${decodeErrPrefix} Infinity values are not supported`)}return new Token(Type.float,e,t)}function decodeFloat16(e,t,r,n){return createToken(readFloat16(e,t+1),3,n)}function decodeFloat32(e,t,r,n){return createToken(readFloat32(e,t+1),5,n)}function decodeFloat64(e,t,r,n){return createToken(readFloat64(e,t+1),9,n)}function encodeFloat(e,t,r){const n=t.value;if(n===!1)e.push([Type.float.majorEncoded|MINOR_FALSE]);else if(n===!0)e.push([Type.float.majorEncoded|MINOR_TRUE]);else if(n===null)e.push([Type.float.majorEncoded|MINOR_NULL]);else if(n===void 0)e.push([Type.float.majorEncoded|MINOR_UNDEFINED]);else{let o,s=!1;(!r||r.float64!==!0)&&(encodeFloat16(n),o=readFloat16(ui8a,1),n===o||Number.isNaN(n)?(ui8a[0]=249,e.push(ui8a.slice(0,3)),s=!0):(encodeFloat32(n),o=readFloat32(ui8a,1),n===o&&(ui8a[0]=250,e.push(ui8a.slice(0,5)),s=!0))),s||(encodeFloat64(n),o=readFloat64(ui8a,1),ui8a[0]=251,e.push(ui8a.slice(0,9)))}}encodeFloat.encodedSize=function(t,r){const n=t.value;if(n===!1||n===!0||n===null||n===void 0)return 1;if(!r||r.float64!==!0){encodeFloat16(n);let o=readFloat16(ui8a,1);if(n===o||Number.isNaN(n))return 3;if(encodeFloat32(n),o=readFloat32(ui8a,1),n===o)return 5}return 9};const buffer=new ArrayBuffer(9),dataView=new DataView(buffer,1),ui8a=new Uint8Array(buffer,0);function encodeFloat16(e){if(e===1/0)dataView.setUint16(0,31744,!1);else if(e===-1/0)dataView.setUint16(0,64512,!1);else if(Number.isNaN(e))dataView.setUint16(0,32256,!1);else{dataView.setFloat32(0,e);const t=dataView.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)dataView.setUint16(0,31744,!1);else if(r===0)dataView.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{const o=r-127;o<-24?dataView.setUint16(0,0):o<-14?dataView.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):dataView.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function readFloat16(e,t){if(e.length-t<2)throw new Error(`${decodeErrPrefix} not enough data for float16`);const r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;const n=r>>10&31,o=r&1023;let s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function encodeFloat32(e){dataView.setFloat32(0,e,!1)}function readFloat32(e,t){if(e.length-t<4)throw new Error(`${decodeErrPrefix} not enough data for float32`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function encodeFloat64(e){dataView.setFloat64(0,e,!1)}function readFloat64(e,t){if(e.length-t<8)throw new Error(`${decodeErrPrefix} not enough data for float64`);const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}encodeFloat.compareTokens=encodeUint.compareTokens;function invalidMinor(e,t,r){throw new Error(`${decodeErrPrefix} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function errorer(e){return()=>{throw new Error(`${decodeErrPrefix} ${e}`)}}const jump=[];for(let e=0;e<=23;e++)jump[e]=invalidMinor;jump[24]=decodeUint8;jump[25]=decodeUint16;jump[26]=decodeUint32;jump[27]=decodeUint64;jump[28]=invalidMinor;jump[29]=invalidMinor;jump[30]=invalidMinor;jump[31]=invalidMinor;for(let e=32;e<=55;e++)jump[e]=invalidMinor;jump[56]=decodeNegint8;jump[57]=decodeNegint16;jump[58]=decodeNegint32;jump[59]=decodeNegint64;jump[60]=invalidMinor;jump[61]=invalidMinor;jump[62]=invalidMinor;jump[63]=invalidMinor;for(let e=64;e<=87;e++)jump[e]=decodeBytesCompact;jump[88]=decodeBytes8;jump[89]=decodeBytes16;jump[90]=decodeBytes32;jump[91]=decodeBytes64;jump[92]=invalidMinor;jump[93]=invalidMinor;jump[94]=invalidMinor;jump[95]=errorer("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)jump[e]=decodeStringCompact;jump[120]=decodeString8;jump[121]=decodeString16;jump[122]=decodeString32;jump[123]=decodeString64;jump[124]=invalidMinor;jump[125]=invalidMinor;jump[126]=invalidMinor;jump[127]=errorer("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)jump[e]=decodeArrayCompact;jump[152]=decodeArray8;jump[153]=decodeArray16;jump[154]=decodeArray32;jump[155]=decodeArray64;jump[156]=invalidMinor;jump[157]=invalidMinor;jump[158]=invalidMinor;jump[159]=decodeArrayIndefinite;for(let e=160;e<=183;e++)jump[e]=decodeMapCompact;jump[184]=decodeMap8;jump[185]=decodeMap16;jump[186]=decodeMap32;jump[187]=decodeMap64;jump[188]=invalidMinor;jump[189]=invalidMinor;jump[190]=invalidMinor;jump[191]=decodeMapIndefinite;for(let e=192;e<=215;e++)jump[e]=decodeTagCompact;jump[216]=decodeTag8;jump[217]=decodeTag16;jump[218]=decodeTag32;jump[219]=decodeTag64;jump[220]=invalidMinor;jump[221]=invalidMinor;jump[222]=invalidMinor;jump[223]=invalidMinor;for(let e=224;e<=243;e++)jump[e]=errorer("simple values are not supported");jump[244]=invalidMinor;jump[245]=invalidMinor;jump[246]=invalidMinor;jump[247]=decodeUndefined;jump[248]=errorer("simple values are not supported");jump[249]=decodeFloat16;jump[250]=decodeFloat32;jump[251]=decodeFloat64;jump[252]=invalidMinor;jump[253]=invalidMinor;jump[254]=invalidMinor;jump[255]=decodeBreak;const quick=[];for(let e=0;e<24;e++)quick[e]=new Token(Type.uint,e,1);for(let e=-1;e>=-24;e--)quick[31-e]=new Token(Type.negint,e,1);quick[64]=new Token(Type.bytes,new Uint8Array(0),1);quick[96]=new Token(Type.string,"",1);quick[128]=new Token(Type.array,0,1);quick[160]=new Token(Type.map,0,1);quick[244]=new Token(Type.false,!1,1);quick[245]=new Token(Type.true,!0,1);quick[246]=new Token(Type.null,null,1);function quickEncodeToken(e){switch(e.type){case Type.false:return fromArray([244]);case Type.true:return fromArray([245]);case Type.null:return fromArray([246]);case Type.bytes:return e.value.length?void 0:fromArray([64]);case Type.string:return e.value===""?fromArray([96]):void 0;case Type.array:return e.value===0?fromArray([128]):void 0;case Type.map:return e.value===0?fromArray([160]):void 0;case Type.uint:return e.value<24?fromArray([Number(e.value)]):void 0;case Type.negint:if(e.value>=-24)return fromArray([31-Number(e.value)])}}const defaultEncodeOptions$1={float64:!1,mapSorter:mapSorter$1,quickEncodeToken};function makeCborEncoders(){const e=[];return e[Type.uint.major]=encodeUint,e[Type.negint.major]=encodeNegint,e[Type.bytes.major]=encodeBytes,e[Type.string.major]=encodeString,e[Type.array.major]=encodeArray,e[Type.map.major]=encodeMap,e[Type.tag.major]=encodeTag,e[Type.float.major]=encodeFloat,e}const cborEncoders=makeCborEncoders(),buf=new Bl;class Ref{constructor(t,r){this.obj=t,this.parent=r}includes(t){let r=this;do if(r.obj===t)return!0;while(r=r.parent);return!1}static createCheck(t,r){if(t&&t.includes(r))throw new Error(`${encodeErrPrefix} object contains circular references`);return new Ref(r,t)}}const simpleTokens={null:new Token(Type.null,null),undefined:new Token(Type.undefined,void 0),true:new Token(Type.true,!0),false:new Token(Type.false,!1),emptyArray:new Token(Type.array,0),emptyMap:new Token(Type.map,0)},typeEncoders={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new Token(Type.float,e):e>=0?new Token(Type.uint,e):new Token(Type.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new Token(Type.uint,e):new Token(Type.negint,e)},Uint8Array(e,t,r,n){return new Token(Type.bytes,e)},string(e,t,r,n){return new Token(Type.string,e)},boolean(e,t,r,n){return e?simpleTokens.true:simpleTokens.false},null(e,t,r,n){return simpleTokens.null},undefined(e,t,r,n){return simpleTokens.undefined},ArrayBuffer(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new Token(Type.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[simpleTokens.emptyArray,new Token(Type.break)]:simpleTokens.emptyArray;n=Ref.createCheck(n,e);const o=[];let s=0;for(const w of e)o[s++]=objectToTokens(w,r,n);return r.addBreakTokens?[new Token(Type.array,e.length),o,new Token(Type.break)]:[new Token(Type.array,e.length),o]},Object(e,t,r,n){const o=t!=="Object",s=o?e.keys():Object.keys(e),w=o?e.size:s.length;if(!w)return r.addBreakTokens===!0?[simpleTokens.emptyMap,new Token(Type.break)]:simpleTokens.emptyMap;n=Ref.createCheck(n,e);const y=[];let k=0;for(const P of s)y[k++]=[objectToTokens(P,r,n),objectToTokens(o?e.get(P):e[P],r,n)];return sortMapEntries(y,r),r.addBreakTokens?[new Token(Type.map,w),y,new Token(Type.break)]:[new Token(Type.map,w),y]}};typeEncoders.Map=typeEncoders.Object;typeEncoders.Buffer=typeEncoders.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))typeEncoders[`${e}Array`]=typeEncoders.DataView;function objectToTokens(e,t={},r){const n=is$1(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||typeEncoders[n];if(typeof o=="function"){const w=o(e,n,t,r);if(w!=null)return w}const s=typeEncoders[n];if(!s)throw new Error(`${encodeErrPrefix} unsupported type: ${n}`);return s(e,n,t,r)}function sortMapEntries(e,t){t.mapSorter&&e.sort(t.mapSorter)}function mapSorter$1(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const o=r.type.major,s=cborEncoders[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function tokensToEncoded(e,t,r,n){if(Array.isArray(t))for(const o of t)tokensToEncoded(e,o,r,n);else r[t.type.major](e,t,n)}function encodeCustom(e,t,r){const n=objectToTokens(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const o=r.quickEncodeToken(n);if(o)return o;const s=t[n.type.major];if(s.encodedSize){const w=s.encodedSize(n,r),y=new Bl(w);if(s(y,n,r),y.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return asU8A(y.chunks[0])}}return buf.reset(),tokensToEncoded(buf,n,t,r),buf.toBytes(!0)}function encode$9(e,t){return t=Object.assign({},defaultEncodeOptions$1,t),encodeCustom(e,cborEncoders,t)}const defaultDecodeOptions={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Tokeniser{constructor(t,r={}){this.pos=0,this.data=t,this.options=r}done(){return this.pos>=this.data.length}next(){const t=this.data[this.pos];let r=quick[t];if(r===void 0){const n=jump[t];if(!n)throw new Error(`${decodeErrPrefix} no decoder for major type ${t>>>5} (byte 0x${t.toString(16).padStart(2,"0")})`);const o=t&31;r=n(this.data,this.pos,o,this.options)}return this.pos+=r.encodedLength,r}}const DONE=Symbol.for("DONE"),BREAK=Symbol.for("BREAK");function tokenToArray(e,t,r){const n=[];for(let o=0;o<e.value;o++){const s=tokensToObject(t,r);if(s===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed array`)}if(s===DONE)throw new Error(`${decodeErrPrefix} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=s}return n}function tokenToMap(e,t,r){const n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let w=0;w<e.value;w++){const y=tokensToObject(t,r);if(y===BREAK){if(e.value===1/0)break;throw new Error(`${decodeErrPrefix} got unexpected break to lengthed map`)}if(y===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${w} [no key], expected ${e.value})`);if(n!==!0&&typeof y!="string")throw new Error(`${decodeErrPrefix} non-string keys not supported (got ${typeof y})`);const k=tokensToObject(t,r);if(k===DONE)throw new Error(`${decodeErrPrefix} found map but not enough entries (got ${w} [no value], expected ${e.value})`);n?s.set(y,k):o[y]=k}return n?s:o}function tokensToObject(e,t){if(e.done())return DONE;const r=e.next();if(r.type===Type.break)return BREAK;if(r.type.terminal)return r.value;if(r.type===Type.array)return tokenToArray(r,e,t);if(r.type===Type.map)return tokenToMap(r,e,t);if(r.type===Type.tag){if(t.tags&&typeof t.tags[r.value]=="function"){const n=tokensToObject(e,t);return t.tags[r.value](n)}throw new Error(`${decodeErrPrefix} tag not supported (${r.value})`)}throw new Error("unsupported")}function decode$7(e,t){if(!(e instanceof Uint8Array))throw new Error(`${decodeErrPrefix} data to decode must be a Uint8Array`);t=Object.assign({},defaultDecodeOptions,t);const r=t.tokenizer||new Tokeniser(e,t),n=tokensToObject(r,t);if(n===DONE)throw new Error(`${decodeErrPrefix} did not find any content to decode`);if(n===BREAK)throw new Error(`${decodeErrPrefix} got unexpected break`);if(!r.done())throw new Error(`${decodeErrPrefix} too many terminals, data makes no sense`);return n}const CID_CBOR_TAG=42;function cidEncoder$1(e){if(e.asCID!==e)return null;const t=CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new Token(Type.tag,CID_CBOR_TAG),new Token(Type.bytes,r)]}function undefinedEncoder$1(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder$1(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions$1={float64:!0,typeEncoders:{Object:cidEncoder$1,undefined:undefinedEncoder$1,number:numberEncoder$1}};function cidDecoder(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return CID.decode(e.subarray(1))}const decodeOptions$1={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions$1.tags[CID_CBOR_TAG]=cidDecoder;const name$4="dag-cbor",code$4=113,encode$8=e=>encode$9(e,encodeOptions$1),decode$6=e=>decode$7(e,decodeOptions$1),dagCBOR=Object.freeze(Object.defineProperty({__proto__:null,name:name$4,code:code$4,encode:encode$8,decode:decode$6},Symbol.toStringTag,{value:"Module"})),Kinds={Null:e=>e===null,Int:e=>Number.isInteger(e),Float:e=>typeof e=="number"&&Number.isFinite(e),String:e=>typeof e=="string",Bool:e=>typeof e=="boolean",Bytes:e=>e instanceof Uint8Array,Link:e=>!Kinds.Null(e)&&typeof e=="object"&&e.asCID===e,List:e=>Array.isArray(e),Map:e=>!Kinds.Null(e)&&typeof e=="object"&&e.asCID!==e&&!Kinds.List(e)&&!Kinds.Bytes(e)},Types={Int:Kinds.Int,"CarHeader > version":e=>Types.Int(e),"CarHeader > roots (anon) > valueType (anon)":Kinds.Link,"CarHeader > roots (anon)":e=>Kinds.List(e)&&Array.prototype.every.call(e,Types["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":e=>Types["CarHeader > roots (anon)"](e),CarHeader:e=>{const t=e&&Object.keys(e);return Kinds.Map(e)&&["version"].every(r=>t.includes(r))&&Object.entries(e).every(([r,n])=>Types["CarHeader > "+r]&&Types["CarHeader > "+r](n))}},CarHeader=Types.CarHeader,CIDV0_BYTES={SHA2_256:18,LENGTH:32,DAG_PB:112},V2_HEADER_LENGTH=16+8+8+8;async function readVarint(e){const t=await e.upTo(8);if(!t.length)throw new Error("Unexpected end of data");const r=varint.decode(t);return e.seek(varint.decode.bytes),r}async function readV2Header(e){const t=await e.exactly(V2_HEADER_LENGTH),r=new DataView(t.buffer,t.byteOffset,t.byteLength);let n=0;const o={version:2,characteristics:[r.getBigUint64(n,!0),r.getBigUint64(n+=8,!0)],dataOffset:Number(r.getBigUint64(n+=8,!0)),dataSize:Number(r.getBigUint64(n+=8,!0)),indexOffset:Number(r.getBigUint64(n+=8,!0))};return e.seek(V2_HEADER_LENGTH),o}async function readHeader(e,t){const r=await readVarint(e);if(r===0)throw new Error("Invalid CAR header (zero length)");const n=await e.exactly(r);e.seek(r);const o=decode$6(n);if(!CarHeader(o))throw new Error("Invalid CAR header format");if(o.version!==1&&o.version!==2||t!==void 0&&o.version!==t)throw new Error(`Invalid CAR version: ${o.version}${t!==void 0?` (expected ${t})`:""}`);const s=Array.isArray(o.roots);if(o.version===1&&!s||o.version===2&&s)throw new Error("Invalid CAR header format");if(o.version===1)return o;const w=await readV2Header(e);e.seek(w.dataOffset-e.pos);const y=await readHeader(e,1);return Object.assign(y,w)}async function readMultihash(e){const t=await e.upTo(8);varint.decode(t);const r=varint.decode.bytes,n=varint.decode(t.subarray(varint.decode.bytes)),o=varint.decode.bytes,s=r+o+n,w=await e.exactly(s);return e.seek(s),w}async function readCid(e){const t=await e.exactly(2);if(t[0]===CIDV0_BYTES.SHA2_256&&t[1]===CIDV0_BYTES.LENGTH){const w=await e.exactly(34);e.seek(34);const y=decode$a(w);return CID.create(0,CIDV0_BYTES.DAG_PB,y)}const r=await readVarint(e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);const n=await readVarint(e),o=await readMultihash(e),s=decode$a(o);return CID.create(r,n,s)}async function readBlockHead(e){const t=e.pos;let r=await readVarint(e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;const n=await readCid(e),o=r-Number(e.pos-t);return{cid:n,length:r,blockLength:o}}async function readBlock(e){const{cid:t,blockLength:r}=await readBlockHead(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function readBlockIndex(e){const t=e.pos,{cid:r,length:n,blockLength:o}=await readBlockHead(e),s={cid:r,length:n,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(s.blockLength),s}function createDecoder(e){const t=(async()=>{const r=await readHeader(e);if(r.version===2){const n=e.pos-r.dataOffset;e=limitReader(e,r.dataSize-n)}return r})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await readBlock(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await readBlockIndex(e)}}}function bytesReader(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(r){t+=r},get pos(){return t}}}function chunkReader(e){let t=0,r=0,n=0,o=new Uint8Array(0);const s=async w=>{r=o.length-n;const y=[o.subarray(n)];for(;r<w;){const P=await e();if(P==null)break;r<0?P.length>r&&y.push(P.subarray(-r)):y.push(P),r+=P.length}o=new Uint8Array(y.reduce((P,V)=>P+V.length,0));let k=0;for(const P of y)o.set(P,k),k+=P.length;n=0};return{async upTo(w){return o.length-n<w&&await s(w),o.subarray(n,n+Math.min(o.length-n,w))},async exactly(w){if(o.length-n<w&&await s(w),o.length-n<w)throw new Error("Unexpected end of data");return o.subarray(n,n+w)},seek(w){t+=w,n+=w},get pos(){return t}}}function asyncIterableReader(e){const t=e[Symbol.asyncIterator]();async function r(){const n=await t.next();return n.done?null:n.value}return chunkReader(r)}function limitReader(e,t){let r=0;return{async upTo(n){let o=await e.upTo(n);return o.length+r>t&&(o=o.subarray(0,t-r)),o},async exactly(n){const o=await e.exactly(n);if(o.length+r>t)throw new Error("Unexpected end of data");return o},seek(n){r+=n,e.seek(n)},get pos(){return e.pos}}}class CarReader{constructor(t,r){this._header=t,this._blocks=r,this._keys=r.map(n=>n.cid.toString())}get version(){return this._header.version}async getRoots(){return this._header.roots}async has(t){return this._keys.indexOf(t.toString())>-1}async get(t){const r=this._keys.indexOf(t.toString());return r>-1?this._blocks[r]:void 0}async*blocks(){for(const t of this._blocks)yield t}async*cids(){for(const t of this._blocks)yield t.cid}static async fromBytes(t){if(!(t instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeReaderComplete(bytesReader(t))}static async fromIterable(t){if(!t||typeof t[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return decodeReaderComplete(asyncIterableReader(t))}}async function decodeReaderComplete(e){const t=createDecoder(e),r=await t.header(),n=[];for await(const o of t.blocks())n.push(o);return new CarReader(r,n)}const from=({name:e,code:t,encode:r})=>new Hasher(e,t,r);class Hasher{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?create$1(this.code,r):r.then(n=>create$1(this.code,n))}else throw Error("Unknown type, must be binary type")}}const name$3="raw",code$3=85,encode$7=e=>coerce(e),decode$5=e=>coerce(e),raw=Object.freeze(Object.defineProperty({__proto__:null,name:name$3,code:code$3,encode:encode$7,decode:decode$5},Symbol.toStringTag,{value:"Module"})),sha=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),sha256=from({name:"sha2-256",code:18,encode:sha("SHA-256")}),sha512=from({name:"sha2-512",code:19,encode:sha("SHA-512")}),sha2=Object.freeze(Object.defineProperty({__proto__:null,sha256,sha512},Symbol.toStringTag,{value:"Module"})),readonly=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),links=function*(e,t){if(e!=null&&!(e instanceof Uint8Array))for(const[r,n]of Object.entries(e)){const o=[...t,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(const[s,w]of n.entries()){const y=[...o,s],k=CID.asCID(w);k?yield[y.join("/"),k]:typeof w=="object"&&(yield*links(w,y))}else{const s=CID.asCID(n);s?yield[o.join("/"),s]:yield*links(n,o)}}},tree=function*(e,t){if(e!=null)for(const[r,n]of Object.entries(e)){const o=[...t,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!CID.asCID(n))if(Array.isArray(n))for(const[s,w]of n.entries()){const y=[...o,s];yield y.join("/"),typeof w=="object"&&!CID.asCID(w)&&(yield*tree(w,y))}else yield*tree(n,o)}},get=(e,t)=>{let r=e;for(const[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(w=>`[${JSON.stringify(w)}]`).join("")}`);const s=CID.asCID(r);if(s)return{value:s,remaining:t.slice(n+1).join("/")}}return{value:r}};class Block{constructor({cid:t,bytes:r,value:n}){if(!t||!r||typeof n>"u")throw new Error("Missing required argument");this.cid=t,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:readonly(),bytes:readonly(),value:readonly(),asBlock:readonly()})}links(){return links(this.value,[])}tree(){return tree(this.value,[])}get(t="/"){return get(this.value,t.split("/").filter(Boolean))}}const encode$6=async({value:e,codec:t,hasher:r})=>{if(typeof e>"u")throw new Error('Missing required argument "value"');if(!t||!r)throw new Error("Missing required argument: codec or hasher");const n=t.encode(e),o=await r.digest(n),s=CID.create(1,t.code,o);return new Block({value:e,bytes:n,cid:s})},createUnsafe=({bytes:e,cid:t,value:r,codec:n})=>{const o=r!==void 0?r:n&&n.decode(e);if(o===void 0)throw new Error('Missing required argument, must either provide "value" or "codec"');return new Block({cid:t,bytes:e,value:o})},create=async({bytes:e,cid:t,hasher:r,codec:n})=>{if(!e)throw new Error('Missing required argument "bytes"');if(!r)throw new Error('Missing required argument "hasher"');const o=n.decode(e),s=await r.digest(e);if(!equals$1(t.multihash.bytes,s.bytes))throw new Error("CID hash does not match bytes");return createUnsafe({bytes:e,cid:t,value:o,codec:n})};function mitt(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(o){o(r)}),(n=e.get("*"))&&n.slice().map(function(o){o(t,r)})}}}const{isBinary}=byteslib,encode$5=e=>isBinary(e)?encode$6({value:e,hasher:sha256,codec:raw}):encode$6({value:e,hasher:sha256,codec:dagCBOR}),decode$4=({bytes:e,cid:t})=>{let r,n;const{code:o}=t,s=t.multihash.code||decode$a(t.multihash).code;if(s===18)r=sha256;else throw new Error("Unsupported hash function: "+s);if(o===113)n=dagCBOR;else if(o===85)n=raw;else throw new Error("Unsupported codec: "+o);return create({bytes:e,cid:t,codec:n,hasher:r})};class Transaction{constructor(){Object.assign(this,mitt()),this.blocks=[]}static create(){return new this}static async load(t){const r=await CarReader.fromBytes(t),[n]=await r.getRoots();return{root:n,get:s=>r.get(s).then(w=>decode$4(w)).then(({value:w})=>w)}}async add(t){const r=await encode$5(t);return this.last=r,this.blocks.push(r),this.emit("size",this.size),r.cid}async get(t){const{cid:r,bytes:n,value:o}=await decode$4(t);return{cid:r,bytes:n,value:o}}undo(){return this.blocks.pop()}async commit(){const t=this.last.cid;let r=0,n=Pn({roots:[t]});r+=n;for(const w of this.blocks)r+=Jc(w);const o=new Uint8Array(r),s=await Qc(o,{headerSize:n});s.addRoot(t);for(const w of this.blocks)s.write(w);return await s.close(),s.bytes}get size(){if(!(this!=null&&this.last))return 0;const t=this.last.cid;let r=0;r+=Pn({roots:[t]});for(const o of this.blocks)r+=Jc(o);return r}}var f_=Object.create,fo$1=Object.defineProperty,l_=Object.getOwnPropertyDescriptor,d_=Object.getOwnPropertyNames,p_=Object.getPrototypeOf,h_=Object.prototype.hasOwnProperty,B=(e,t)=>()=>(e&&(t=e(e=0)),t),h=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),G$1=(e,t)=>{for(var r in t)fo$1(e,r,{get:t[r],enumerable:!0})},zl$1=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of d_(t))!h_.call(e,o)&&o!==r&&fo$1(e,o,{get:()=>t[o],enumerable:!(n=l_(t,o))||n.enumerable});return e},_$1=(e,t,r)=>(r=e!=null?f_(p_(e)):{},zl$1(t||!e||!e.__esModule?fo$1(r,"default",{value:e,enumerable:!0}):r,e)),ue=e=>zl$1(fo$1({},"__esModule",{value:!0}),e),Gl$1=h(e=>{u(),e.byteLength=k,e.toByteArray=V,e.fromByteArray=q;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,w=o.length;s<w;++s)t[s]=o[s],r[o.charCodeAt(s)]=s;var s,w;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function y(L){var I=L.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ie=L.indexOf("=");ie===-1&&(ie=I);var he=ie===I?0:4-ie%4;return[ie,he]}function k(L){var I=y(L),ie=I[0],he=I[1];return(ie+he)*3/4-he}function P(L,I,ie){return(I+ie)*3/4-ie}function V(L){var I,ie=y(L),he=ie[0],_e=ie[1],Ie=new n(P(L,he,_e)),et=0,Wt=_e>0?he-4:he,ot;for(ot=0;ot<Wt;ot+=4)I=r[L.charCodeAt(ot)]<<18|r[L.charCodeAt(ot+1)]<<12|r[L.charCodeAt(ot+2)]<<6|r[L.charCodeAt(ot+3)],Ie[et++]=I>>16&255,Ie[et++]=I>>8&255,Ie[et++]=I&255;return _e===2&&(I=r[L.charCodeAt(ot)]<<2|r[L.charCodeAt(ot+1)]>>4,Ie[et++]=I&255),_e===1&&(I=r[L.charCodeAt(ot)]<<10|r[L.charCodeAt(ot+1)]<<4|r[L.charCodeAt(ot+2)]>>2,Ie[et++]=I>>8&255,Ie[et++]=I&255),Ie}function X(L){return t[L>>18&63]+t[L>>12&63]+t[L>>6&63]+t[L&63]}function we(L,I,ie){for(var he,_e=[],Ie=I;Ie<ie;Ie+=3)he=(L[Ie]<<16&16711680)+(L[Ie+1]<<8&65280)+(L[Ie+2]&255),_e.push(X(he));return _e.join("")}function q(L){for(var I,ie=L.length,he=ie%3,_e=[],Ie=16383,et=0,Wt=ie-he;et<Wt;et+=Ie)_e.push(we(L,et,et+Ie>Wt?Wt:et+Ie));return he===1?(I=L[ie-1],_e.push(t[I>>2]+t[I<<4&63]+"==")):he===2&&(I=(L[ie-2]<<8)+L[ie-1],_e.push(t[I>>10]+t[I>>4&63]+t[I<<2&63]+"=")),_e.join("")}}),Hl$1=h(e=>{u(),e.read=function(t,r,n,o,s){var w,y,k=s*8-o-1,P=(1<<k)-1,V=P>>1,X=-7,we=n?s-1:0,q=n?-1:1,L=t[r+we];for(we+=q,w=L&(1<<-X)-1,L>>=-X,X+=k;X>0;w=w*256+t[r+we],we+=q,X-=8);for(y=w&(1<<-X)-1,w>>=-X,X+=o;X>0;y=y*256+t[r+we],we+=q,X-=8);if(w===0)w=1-V;else{if(w===P)return y?NaN:(L?-1:1)*(1/0);y=y+Math.pow(2,o),w=w-V}return(L?-1:1)*y*Math.pow(2,w-o)},e.write=function(t,r,n,o,s,w){var y,k,P,V=w*8-s-1,X=(1<<V)-1,we=X>>1,q=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=o?0:w-1,I=o?1:-1,ie=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(k=isNaN(r)?1:0,y=X):(y=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-y))<1&&(y--,P*=2),y+we>=1?r+=q/P:r+=q*Math.pow(2,1-we),r*P>=2&&(y++,P/=2),y+we>=X?(k=0,y=X):y+we>=1?(k=(r*P-1)*Math.pow(2,s),y=y+we):(k=r*Math.pow(2,we-1)*Math.pow(2,s),y=0));s>=8;t[n+L]=k&255,L+=I,k/=256,s-=8);for(y=y<<s|k,V+=s;V>0;t[n+L]=y&255,L+=I,y/=256,V-=8);t[n+L-I]|=ie*128}}),ct$1=h(e=>{u();var t=Gl$1(),r=Hl$1(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=y,e.SlowBuffer=_e,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,y.TYPED_ARRAY_SUPPORT=s(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let i=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(i,g),i.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function w(i){if(i>o)throw new RangeError('The value "'+i+'" is invalid for option "size"');let g=new Uint8Array(i);return Object.setPrototypeOf(g,y.prototype),g}function y(i,g,E){if(typeof i=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return X(i)}return k(i,g,E)}y.poolSize=8192;function k(i,g,E){if(typeof i=="string")return we(i,g);if(ArrayBuffer.isView(i))return L(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(la(i,ArrayBuffer)||i&&la(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(la(i,SharedArrayBuffer)||i&&la(i.buffer,SharedArrayBuffer)))return I(i,g,E);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let Ee=i.valueOf&&i.valueOf();if(Ee!=null&&Ee!==i)return y.from(Ee,g,E);let je=ie(i);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return y.from(i[Symbol.toPrimitive]("string"),g,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}y.from=function(i,g,E){return k(i,g,E)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array);function P(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function V(i,g,E){return P(i),i<=0?w(i):g!==void 0?typeof E=="string"?w(i).fill(g,E):w(i).fill(g):w(i)}y.alloc=function(i,g,E){return V(i,g,E)};function X(i){return P(i),w(i<0?0:he(i)|0)}y.allocUnsafe=function(i){return X(i)},y.allocUnsafeSlow=function(i){return X(i)};function we(i,g){if((typeof g!="string"||g==="")&&(g="utf8"),!y.isEncoding(g))throw new TypeError("Unknown encoding: "+g);let E=Ie(i,g)|0,Ee=w(E),je=Ee.write(i,g);return je!==E&&(Ee=Ee.slice(0,je)),Ee}function q(i){let g=i.length<0?0:he(i.length)|0,E=w(g);for(let Ee=0;Ee<g;Ee+=1)E[Ee]=i[Ee]&255;return E}function L(i){if(la(i,Uint8Array)){let g=new Uint8Array(i);return I(g.buffer,g.byteOffset,g.byteLength)}return q(i)}function I(i,g,E){if(g<0||i.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<g+(E||0))throw new RangeError('"length" is outside of buffer bounds');let Ee;return g===void 0&&E===void 0?Ee=new Uint8Array(i):E===void 0?Ee=new Uint8Array(i,g):Ee=new Uint8Array(i,g,E),Object.setPrototypeOf(Ee,y.prototype),Ee}function ie(i){if(y.isBuffer(i)){let g=he(i.length)|0,E=w(g);return E.length===0||i.copy(E,0,0,g),E}if(i.length!==void 0)return typeof i.length!="number"||Ea(i.length)?w(0):q(i);if(i.type==="Buffer"&&Array.isArray(i.data))return q(i.data)}function he(i){if(i>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return i|0}function _e(i){return+i!=i&&(i=0),y.alloc(+i)}y.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==y.prototype},y.compare=function(i,g){if(la(i,Uint8Array)&&(i=y.from(i,i.offset,i.byteLength)),la(g,Uint8Array)&&(g=y.from(g,g.offset,g.byteLength)),!y.isBuffer(i)||!y.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===g)return 0;let E=i.length,Ee=g.length;for(let je=0,it=Math.min(E,Ee);je<it;++je)if(i[je]!==g[je]){E=i[je],Ee=g[je];break}return E<Ee?-1:Ee<E?1:0},y.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(i,g){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return y.alloc(0);let E;if(g===void 0)for(g=0,E=0;E<i.length;++E)g+=i[E].length;let Ee=y.allocUnsafe(g),je=0;for(E=0;E<i.length;++E){let it=i[E];if(la(it,Uint8Array))je+it.length>Ee.length?(y.isBuffer(it)||(it=y.from(it)),it.copy(Ee,je)):Uint8Array.prototype.set.call(Ee,it,je);else if(y.isBuffer(it))it.copy(Ee,je);else throw new TypeError('"list" argument must be an Array of Buffers');je+=it.length}return Ee};function Ie(i,g){if(y.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||la(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);let E=i.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&E===0)return 0;let je=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return aa(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return ba(i).length;default:if(je)return Ee?-1:aa(i).length;g=(""+g).toLowerCase(),je=!0}}y.byteLength=Ie;function et(i,g,E){let Ee=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,g>>>=0,E<=g))return"";for(i||(i="utf8");;)switch(i){case"hex":return Js(this,g,E);case"utf8":case"utf-8":return ao(this,g,E);case"ascii":return ia(this,g,E);case"latin1":case"binary":return Hr(this,g,E);case"base64":return Qr(this,g,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ya(this,g,E);default:if(Ee)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),Ee=!0}}y.prototype._isBuffer=!0;function Wt(i,g,E){let Ee=i[g];i[g]=i[E],i[E]=Ee}y.prototype.swap16=function(){let i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<i;g+=2)Wt(this,g,g+1);return this},y.prototype.swap32=function(){let i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<i;g+=4)Wt(this,g,g+3),Wt(this,g+1,g+2);return this},y.prototype.swap64=function(){let i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<i;g+=8)Wt(this,g,g+7),Wt(this,g+1,g+6),Wt(this,g+2,g+5),Wt(this,g+3,g+4);return this},y.prototype.toString=function(){let i=this.length;return i===0?"":arguments.length===0?ao(this,0,i):et.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(i){if(!y.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:y.compare(this,i)===0},y.prototype.inspect=function(){let i="",g=e.INSPECT_MAX_BYTES;return i=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(i+=" ... "),"<Buffer "+i+">"},n&&(y.prototype[n]=y.prototype.inspect),y.prototype.compare=function(i,g,E,Ee,je){if(la(i,Uint8Array)&&(i=y.from(i,i.offset,i.byteLength)),!y.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(g===void 0&&(g=0),E===void 0&&(E=i?i.length:0),Ee===void 0&&(Ee=0),je===void 0&&(je=this.length),g<0||E>i.length||Ee<0||je>this.length)throw new RangeError("out of range index");if(Ee>=je&&g>=E)return 0;if(Ee>=je)return-1;if(g>=E)return 1;if(g>>>=0,E>>>=0,Ee>>>=0,je>>>=0,this===i)return 0;let it=je-Ee,tr=E-g,Xr=Math.min(it,tr),Ei=this.slice(Ee,je),tn=i.slice(g,E);for(let Zr=0;Zr<Xr;++Zr)if(Ei[Zr]!==tn[Zr]){it=Ei[Zr],tr=tn[Zr];break}return it<tr?-1:tr<it?1:0};function ot(i,g,E,Ee,je){if(i.length===0)return-1;if(typeof E=="string"?(Ee=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,Ea(E)&&(E=je?0:i.length-1),E<0&&(E=i.length+E),E>=i.length){if(je)return-1;E=i.length-1}else if(E<0)if(je)E=0;else return-1;if(typeof g=="string"&&(g=y.from(g,Ee)),y.isBuffer(g))return g.length===0?-1:at(i,g,E,Ee,je);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(i,g,E):Uint8Array.prototype.lastIndexOf.call(i,g,E):at(i,[g],E,Ee,je);throw new TypeError("val must be string, number or Buffer")}function at(i,g,E,Ee,je){let it=1,tr=i.length,Xr=g.length;if(Ee!==void 0&&(Ee=String(Ee).toLowerCase(),Ee==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(i.length<2||g.length<2)return-1;it=2,tr/=2,Xr/=2,E/=2}function Ei(Zr,ei){return it===1?Zr[ei]:Zr.readUInt16BE(ei*it)}let tn;if(je){let Zr=-1;for(tn=E;tn<tr;tn++)if(Ei(i,tn)===Ei(g,Zr===-1?0:tn-Zr)){if(Zr===-1&&(Zr=tn),tn-Zr+1===Xr)return Zr*it}else Zr!==-1&&(tn-=tn-Zr),Zr=-1}else for(E+Xr>tr&&(E=tr-Xr),tn=E;tn>=0;tn--){let Zr=!0;for(let ei=0;ei<Xr;ei++)if(Ei(i,tn+ei)!==Ei(g,ei)){Zr=!1;break}if(Zr)return tn}return-1}y.prototype.includes=function(i,g,E){return this.indexOf(i,g,E)!==-1},y.prototype.indexOf=function(i,g,E){return ot(this,i,g,E,!0)},y.prototype.lastIndexOf=function(i,g,E){return ot(this,i,g,E,!1)};function st(i,g,E,Ee){E=Number(E)||0;let je=i.length-E;Ee?(Ee=Number(Ee),Ee>je&&(Ee=je)):Ee=je;let it=g.length;Ee>it/2&&(Ee=it/2);let tr;for(tr=0;tr<Ee;++tr){let Xr=parseInt(g.substr(tr*2,2),16);if(Ea(Xr))return tr;i[E+tr]=Xr}return tr}function Gt(i,g,E,Ee){return ga(aa(g,i.length-E),i,E,Ee)}function vr(i,g,E,Ee){return ga(Gs(g),i,E,Ee)}function sr(i,g,E,Ee){return ga(ba(g),i,E,Ee)}function Kr(i,g,E,Ee){return ga(Pr(g,i.length-E),i,E,Ee)}y.prototype.write=function(i,g,E,Ee){if(g===void 0)Ee="utf8",E=this.length,g=0;else if(E===void 0&&typeof g=="string")Ee=g,E=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(E)?(E=E>>>0,Ee===void 0&&(Ee="utf8")):(Ee=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let je=this.length-g;if((E===void 0||E>je)&&(E=je),i.length>0&&(E<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let it=!1;for(;;)switch(Ee){case"hex":return st(this,i,g,E);case"utf8":case"utf-8":return Gt(this,i,g,E);case"ascii":case"latin1":case"binary":return vr(this,i,g,E);case"base64":return sr(this,i,g,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kr(this,i,g,E);default:if(it)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),it=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qr(i,g,E){return g===0&&E===i.length?t.fromByteArray(i):t.fromByteArray(i.slice(g,E))}function ao(i,g,E){E=Math.min(i.length,E);let Ee=[],je=g;for(;je<E;){let it=i[je],tr=null,Xr=it>239?4:it>223?3:it>191?2:1;if(je+Xr<=E){let Ei,tn,Zr,ei;switch(Xr){case 1:it<128&&(tr=it);break;case 2:Ei=i[je+1],(Ei&192)===128&&(ei=(it&31)<<6|Ei&63,ei>127&&(tr=ei));break;case 3:Ei=i[je+1],tn=i[je+2],(Ei&192)===128&&(tn&192)===128&&(ei=(it&15)<<12|(Ei&63)<<6|tn&63,ei>2047&&(ei<55296||ei>57343)&&(tr=ei));break;case 4:Ei=i[je+1],tn=i[je+2],Zr=i[je+3],(Ei&192)===128&&(tn&192)===128&&(Zr&192)===128&&(ei=(it&15)<<18|(Ei&63)<<12|(tn&63)<<6|Zr&63,ei>65535&&ei<1114112&&(tr=ei))}}tr===null?(tr=65533,Xr=1):tr>65535&&(tr-=65536,Ee.push(tr>>>10&1023|55296),tr=56320|tr&1023),Ee.push(tr),je+=Xr}return Ks(Ee)}var ni=4096;function Ks(i){let g=i.length;if(g<=ni)return String.fromCharCode.apply(String,i);let E="",Ee=0;for(;Ee<g;)E+=String.fromCharCode.apply(String,i.slice(Ee,Ee+=ni));return E}function ia(i,g,E){let Ee="";E=Math.min(i.length,E);for(let je=g;je<E;++je)Ee+=String.fromCharCode(i[je]&127);return Ee}function Hr(i,g,E){let Ee="";E=Math.min(i.length,E);for(let je=g;je<E;++je)Ee+=String.fromCharCode(i[je]);return Ee}function Js(i,g,E){let Ee=i.length;(!g||g<0)&&(g=0),(!E||E<0||E>Ee)&&(E=Ee);let je="";for(let it=g;it<E;++it)je+=ja[i[it]];return je}function ya(i,g,E){let Ee=i.slice(g,E),je="";for(let it=0;it<Ee.length-1;it+=2)je+=String.fromCharCode(Ee[it]+Ee[it+1]*256);return je}y.prototype.slice=function(i,g){let E=this.length;i=~~i,g=g===void 0?E:~~g,i<0?(i+=E,i<0&&(i=0)):i>E&&(i=E),g<0?(g+=E,g<0&&(g=0)):g>E&&(g=E),g<i&&(g=i);let Ee=this.subarray(i,g);return Object.setPrototypeOf(Ee,y.prototype),Ee};function en(i,g,E){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+g>E)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=this[i],je=1,it=0;for(;++it<g&&(je*=256);)Ee+=this[i+it]*je;return Ee},y.prototype.readUintBE=y.prototype.readUIntBE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=this[i+--g],je=1;for(;g>0&&(je*=256);)Ee+=this[i+--g]*je;return Ee},y.prototype.readUint8=y.prototype.readUInt8=function(i,g){return i=i>>>0,g||en(i,1,this.length),this[i]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(i,g){return i=i>>>0,g||en(i,2,this.length),this[i]|this[i+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(i,g){return i=i>>>0,g||en(i,2,this.length),this[i]<<8|this[i+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(i,g){return i=i>>>0,g||en(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(i,g){return i=i>>>0,g||en(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},y.prototype.readBigUInt64LE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=g+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,je=this[++i]+this[++i]*2**8+this[++i]*2**16+E*2**24;return BigInt(Ee)+(BigInt(je)<<BigInt(32))}),y.prototype.readBigUInt64BE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=g*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],je=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+E;return(BigInt(Ee)<<BigInt(32))+BigInt(je)}),y.prototype.readIntLE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=this[i],je=1,it=0;for(;++it<g&&(je*=256);)Ee+=this[i+it]*je;return je*=128,Ee>=je&&(Ee-=Math.pow(2,8*g)),Ee},y.prototype.readIntBE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=g,je=1,it=this[i+--Ee];for(;Ee>0&&(je*=256);)it+=this[i+--Ee]*je;return je*=128,it>=je&&(it-=Math.pow(2,8*g)),it},y.prototype.readInt8=function(i,g){return i=i>>>0,g||en(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},y.prototype.readInt16LE=function(i,g){i=i>>>0,g||en(i,2,this.length);let E=this[i]|this[i+1]<<8;return E&32768?E|4294901760:E},y.prototype.readInt16BE=function(i,g){i=i>>>0,g||en(i,2,this.length);let E=this[i+1]|this[i]<<8;return E&32768?E|4294901760:E},y.prototype.readInt32LE=function(i,g){return i=i>>>0,g||en(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},y.prototype.readInt32BE=function(i,g){return i=i>>>0,g||en(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},y.prototype.readBigInt64LE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(E<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(g+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),y.prototype.readBigInt64BE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=(g<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+E)}),y.prototype.readFloatLE=function(i,g){return i=i>>>0,g||en(i,4,this.length),r.read(this,i,!0,23,4)},y.prototype.readFloatBE=function(i,g){return i=i>>>0,g||en(i,4,this.length),r.read(this,i,!1,23,4)},y.prototype.readDoubleLE=function(i,g){return i=i>>>0,g||en(i,8,this.length),r.read(this,i,!0,52,8)},y.prototype.readDoubleBE=function(i,g){return i=i>>>0,g||en(i,8,this.length),r.read(this,i,!1,52,8)};function rr(i,g,E,Ee,je,it){if(!y.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>je||g<it)throw new RangeError('"value" argument is out of bounds');if(E+Ee>i.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(i,g,E,Ee){if(i=+i,g=g>>>0,E=E>>>0,!Ee){let tr=Math.pow(2,8*E)-1;rr(this,i,g,E,tr,0)}let je=1,it=0;for(this[g]=i&255;++it<E&&(je*=256);)this[g+it]=i/je&255;return g+E},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(i,g,E,Ee){if(i=+i,g=g>>>0,E=E>>>0,!Ee){let tr=Math.pow(2,8*E)-1;rr(this,i,g,E,tr,0)}let je=E-1,it=1;for(this[g+je]=i&255;--je>=0&&(it*=256);)this[g+je]=i/it&255;return g+E},y.prototype.writeUint8=y.prototype.writeUInt8=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,1,255,0),this[g]=i&255,g+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,65535,0),this[g]=i&255,this[g+1]=i>>>8,g+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,65535,0),this[g]=i>>>8,this[g+1]=i&255,g+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,4294967295,0),this[g+3]=i>>>24,this[g+2]=i>>>16,this[g+1]=i>>>8,this[g]=i&255,g+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,4294967295,0),this[g]=i>>>24,this[g+1]=i>>>16,this[g+2]=i>>>8,this[g+3]=i&255,g+4};function Fr(i,g,E,Ee,je){Ii(g,Ee,je,i,E,7);let it=Number(g&BigInt(4294967295));i[E++]=it,it=it>>8,i[E++]=it,it=it>>8,i[E++]=it,it=it>>8,i[E++]=it;let tr=Number(g>>BigInt(32)&BigInt(4294967295));return i[E++]=tr,tr=tr>>8,i[E++]=tr,tr=tr>>8,i[E++]=tr,tr=tr>>8,i[E++]=tr,E}function qr(i,g,E,Ee,je){Ii(g,Ee,je,i,E,7);let it=Number(g&BigInt(4294967295));i[E+7]=it,it=it>>8,i[E+6]=it,it=it>>8,i[E+5]=it,it=it>>8,i[E+4]=it;let tr=Number(g>>BigInt(32)&BigInt(4294967295));return i[E+3]=tr,tr=tr>>8,i[E+2]=tr,tr=tr>>8,i[E+1]=tr,tr=tr>>8,i[E]=tr,E+8}y.prototype.writeBigUInt64LE=ha(function(i,g=0){return Fr(this,i,g,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=ha(function(i,g=0){return qr(this,i,g,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(i,g,E,Ee){if(i=+i,g=g>>>0,!Ee){let Xr=Math.pow(2,8*E-1);rr(this,i,g,E,Xr-1,-Xr)}let je=0,it=1,tr=0;for(this[g]=i&255;++je<E&&(it*=256);)i<0&&tr===0&&this[g+je-1]!==0&&(tr=1),this[g+je]=(i/it>>0)-tr&255;return g+E},y.prototype.writeIntBE=function(i,g,E,Ee){if(i=+i,g=g>>>0,!Ee){let Xr=Math.pow(2,8*E-1);rr(this,i,g,E,Xr-1,-Xr)}let je=E-1,it=1,tr=0;for(this[g+je]=i&255;--je>=0&&(it*=256);)i<0&&tr===0&&this[g+je+1]!==0&&(tr=1),this[g+je]=(i/it>>0)-tr&255;return g+E},y.prototype.writeInt8=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,1,127,-128),i<0&&(i=255+i+1),this[g]=i&255,g+1},y.prototype.writeInt16LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,32767,-32768),this[g]=i&255,this[g+1]=i>>>8,g+2},y.prototype.writeInt16BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,32767,-32768),this[g]=i>>>8,this[g+1]=i&255,g+2},y.prototype.writeInt32LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,2147483647,-2147483648),this[g]=i&255,this[g+1]=i>>>8,this[g+2]=i>>>16,this[g+3]=i>>>24,g+4},y.prototype.writeInt32BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[g]=i>>>24,this[g+1]=i>>>16,this[g+2]=i>>>8,this[g+3]=i&255,g+4},y.prototype.writeBigInt64LE=ha(function(i,g=0){return Fr(this,i,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=ha(function(i,g=0){return qr(this,i,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function yo(i,g,E,Ee,je,it){if(E+Ee>i.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function Ys(i,g,E,Ee,je){return g=+g,E=E>>>0,je||yo(i,g,E,4),r.write(i,g,E,Ee,23,4),E+4}y.prototype.writeFloatLE=function(i,g,E){return Ys(this,i,g,!0,E)},y.prototype.writeFloatBE=function(i,g,E){return Ys(this,i,g,!1,E)};function Qs(i,g,E,Ee,je){return g=+g,E=E>>>0,je||yo(i,g,E,8),r.write(i,g,E,Ee,52,8),E+8}y.prototype.writeDoubleLE=function(i,g,E){return Qs(this,i,g,!0,E)},y.prototype.writeDoubleBE=function(i,g,E){return Qs(this,i,g,!1,E)},y.prototype.copy=function(i,g,E,Ee){if(!y.isBuffer(i))throw new TypeError("argument should be a Buffer");if(E||(E=0),!Ee&&Ee!==0&&(Ee=this.length),g>=i.length&&(g=i.length),g||(g=0),Ee>0&&Ee<E&&(Ee=E),Ee===E||i.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),i.length-g<Ee-E&&(Ee=i.length-g+E);let je=Ee-E;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,E,Ee):Uint8Array.prototype.set.call(i,this.subarray(E,Ee),g),je},y.prototype.fill=function(i,g,E,Ee){if(typeof i=="string"){if(typeof g=="string"?(Ee=g,g=0,E=this.length):typeof E=="string"&&(Ee=E,E=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!y.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(i.length===1){let it=i.charCodeAt(0);(Ee==="utf8"&&it<128||Ee==="latin1")&&(i=it)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(g<0||this.length<g||this.length<E)throw new RangeError("Out of range index");if(E<=g)return this;g=g>>>0,E=E===void 0?this.length:E>>>0,i||(i=0);let je;if(typeof i=="number")for(je=g;je<E;++je)this[je]=i;else{let it=y.isBuffer(i)?i:y.from(i,Ee),tr=it.length;if(tr===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(je=0;je<E-g;++je)this[je+g]=it[je%tr]}return this};var ir={};function ar(i,g,E){ir[i]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${i}]`,this.stack,delete this.name}get code(){return i}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${i}]: ${this.message}`}}}ar("ERR_BUFFER_OUT_OF_BOUNDS",function(i){return i?`${i} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ar("ERR_INVALID_ARG_TYPE",function(i,g){return`The "${i}" argument must be of type number. Received type ${typeof g}`},TypeError),ar("ERR_OUT_OF_RANGE",function(i,g,E){let Ee=`The value of "${i}" is out of range.`,je=E;return Number.isInteger(E)&&Math.abs(E)>2**32?je=zr(String(E)):typeof E=="bigint"&&(je=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(je=zr(je)),je+="n"),Ee+=` It must be ${g}. Received ${je}`,Ee},RangeError);function zr(i){let g="",E=i.length,Ee=i[0]==="-"?1:0;for(;E>=Ee+4;E-=3)g=`_${i.slice(E-3,E)}${g}`;return`${i.slice(0,E)}${g}`}function wo(i,g,E){Qt(g,"offset"),(i[g]===void 0||i[g+E]===void 0)&&Xt(g,i.length-(E+1))}function Ii(i,g,E,Ee,je,it){if(i>E||i<g){let tr=typeof g=="bigint"?"n":"",Xr;throw it>3?g===0||g===BigInt(0)?Xr=`>= 0${tr} and < 2${tr} ** ${(it+1)*8}${tr}`:Xr=`>= -(2${tr} ** ${(it+1)*8-1}${tr}) and < 2 ** ${(it+1)*8-1}${tr}`:Xr=`>= ${g}${tr} and <= ${E}${tr}`,new ir.ERR_OUT_OF_RANGE("value",Xr,i)}wo(Ee,je,it)}function Qt(i,g){if(typeof i!="number")throw new ir.ERR_INVALID_ARG_TYPE(g,"number",i)}function Xt(i,g,E){throw Math.floor(i)!==i?(Qt(i,E),new ir.ERR_OUT_OF_RANGE(E||"offset","an integer",i)):g<0?new ir.ERR_BUFFER_OUT_OF_BOUNDS:new ir.ERR_OUT_OF_RANGE(E||"offset",`>= ${E?1:0} and <= ${g}`,i)}var Yr=/[^+/0-9A-Za-z-_]/g;function rn(i){if(i=i.split("=")[0],i=i.trim().replace(Yr,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function aa(i,g){g=g||1/0;let E,Ee=i.length,je=null,it=[];for(let tr=0;tr<Ee;++tr){if(E=i.charCodeAt(tr),E>55295&&E<57344){if(!je){if(E>56319){(g-=3)>-1&&it.push(239,191,189);continue}else if(tr+1===Ee){(g-=3)>-1&&it.push(239,191,189);continue}je=E;continue}if(E<56320){(g-=3)>-1&&it.push(239,191,189),je=E;continue}E=(je-55296<<10|E-56320)+65536}else je&&(g-=3)>-1&&it.push(239,191,189);if(je=null,E<128){if((g-=1)<0)break;it.push(E)}else if(E<2048){if((g-=2)<0)break;it.push(E>>6|192,E&63|128)}else if(E<65536){if((g-=3)<0)break;it.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((g-=4)<0)break;it.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return it}function Gs(i){let g=[];for(let E=0;E<i.length;++E)g.push(i.charCodeAt(E)&255);return g}function Pr(i,g){let E,Ee,je,it=[];for(let tr=0;tr<i.length&&!((g-=2)<0);++tr)E=i.charCodeAt(tr),Ee=E>>8,je=E%256,it.push(je),it.push(Ee);return it}function ba(i){return t.toByteArray(rn(i))}function ga(i,g,E,Ee){let je;for(je=0;je<Ee&&!(je+E>=g.length||je>=i.length);++je)g[je+E]=i[je];return je}function la(i,g){return i instanceof g||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===g.name}function Ea(i){return i!==i}var ja=function(){let i="0123456789abcdef",g=new Array(256);for(let E=0;E<16;++E){let Ee=E*16;for(let je=0;je<16;++je)g[Ee+je]=i[E]+i[je]}return g}();function ha(i){return typeof BigInt>"u"?Ca:i}function Ca(){throw new Error("BigInt not supported")}}),yd$1=h((e,t)=>{u();var r=t.exports={},n,o;function s(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?o=clearTimeout:o=w}catch{o=w}})();function y(he){if(n===setTimeout)return setTimeout(he,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(he,0);try{return n(he,0)}catch{try{return n.call(null,he,0)}catch{return n.call(this,he,0)}}}function k(he){if(o===clearTimeout)return clearTimeout(he);if((o===w||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(he);try{return o(he)}catch{try{return o.call(null,he)}catch{return o.call(this,he)}}}var P=[],V=!1,X,we=-1;function q(){!V||!X||(V=!1,X.length?P=X.concat(P):we=-1,P.length&&L())}function L(){if(!V){var he=y(q);V=!0;for(var _e=P.length;_e;){for(X=P,P=[];++we<_e;)X&&X[we].run();we=-1,_e=P.length}X=null,V=!1,k(he)}}r.nextTick=function(he){var _e=new Array(arguments.length-1);if(arguments.length>1)for(var Ie=1;Ie<arguments.length;Ie++)_e[Ie-1]=arguments[Ie];P.push(new I(he,_e)),P.length===1&&!V&&y(L)};function I(he,_e){this.fun=he,this.array=_e}I.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function ie(){}r.on=ie,r.addListener=ie,r.once=ie,r.off=ie,r.removeListener=ie,r.removeAllListeners=ie,r.emit=ie,r.prependListener=ie,r.prependOnceListener=ie,r.listeners=function(he){return[]},r.binding=function(he){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(he){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),Buffer,process,global,u=B(()=>{Buffer=ct$1().Buffer,process=yd$1(),global=typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},globalThis&&globalThis.process&&globalThis.process.env&&(globalThis.process.env.LIBP2P_FORCE_PNET=!1)}),za=h((e,t)=>{u(),t.exports=r;function r(n,o,s){if(!n)return s;var w,y;if(Array.isArray(o)&&(w=o.slice(0)),typeof o=="string"&&(w=o.split(".")),typeof o=="symbol"&&(w=[o]),!Array.isArray(w))throw new Error("props arg must be an array, a string or a symbol");for(;w.length;)if(y=w.shift(),!n||(n=n[y],n===void 0))return s;return n}}),wd$1=h((e,t)=>{u();var r=1e3,n=r*60,o=n*60,s=o*24,w=s*7,y=s*365.25;t.exports=function(we,q){q=q||{};var L=typeof we;if(L==="string"&&we.length>0)return k(we);if(L==="number"&&isFinite(we))return q.long?V(we):P(we);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(we))};function k(we){if(we=String(we),!(we.length>100)){var q=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(we);if(q){var L=parseFloat(q[1]),I=(q[2]||"ms").toLowerCase();switch(I){case"years":case"year":case"yrs":case"yr":case"y":return L*y;case"weeks":case"week":case"w":return L*w;case"days":case"day":case"d":return L*s;case"hours":case"hour":case"hrs":case"hr":case"h":return L*o;case"minutes":case"minute":case"mins":case"min":case"m":return L*n;case"seconds":case"second":case"secs":case"sec":case"s":return L*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return L;default:return}}}}function P(we){var q=Math.abs(we);return q>=s?Math.round(we/s)+"d":q>=o?Math.round(we/o)+"h":q>=n?Math.round(we/n)+"m":q>=r?Math.round(we/r)+"s":we+"ms"}function V(we){var q=Math.abs(we);return q>=s?X(we,q,s,"day"):q>=o?X(we,q,o,"hour"):q>=n?X(we,q,n,"minute"):q>=r?X(we,q,r,"second"):we+" ms"}function X(we,q,L,I){var ie=q>=L*1.5;return Math.round(we/L)+" "+I+(ie?"s":"")}}),vd$1=h((e,t)=>{u();function r(n){s.debug=s,s.default=s,s.coerce=X,s.disable=k,s.enable=y,s.enabled=P,s.humanize=wd$1(),s.destroy=we,Object.keys(n).forEach(q=>{s[q]=n[q]}),s.names=[],s.skips=[],s.formatters={};function o(q){let L=0;for(let I=0;I<q.length;I++)L=(L<<5)-L+q.charCodeAt(I),L|=0;return s.colors[Math.abs(L)%s.colors.length]}s.selectColor=o;function s(q){let L,I=null,ie,he;function _e(...Ie){if(!_e.enabled)return;let et=_e,Wt=Number(new Date),ot=Wt-(L||Wt);et.diff=ot,et.prev=L,et.curr=Wt,L=Wt,Ie[0]=s.coerce(Ie[0]),typeof Ie[0]!="string"&&Ie.unshift("%O");let at=0;Ie[0]=Ie[0].replace(/%([a-zA-Z%])/g,(st,Gt)=>{if(st==="%%")return"%";at++;let vr=s.formatters[Gt];if(typeof vr=="function"){let sr=Ie[at];st=vr.call(et,sr),Ie.splice(at,1),at--}return st}),s.formatArgs.call(et,Ie),(et.log||s.log).apply(et,Ie)}return _e.namespace=q,_e.useColors=s.useColors(),_e.color=s.selectColor(q),_e.extend=w,_e.destroy=s.destroy,Object.defineProperty(_e,"enabled",{enumerable:!0,configurable:!1,get:()=>I!==null?I:(ie!==s.namespaces&&(ie=s.namespaces,he=s.enabled(q)),he),set:Ie=>{I=Ie}}),typeof s.init=="function"&&s.init(_e),_e}function w(q,L){let I=s(this.namespace+(typeof L>"u"?":":L)+q);return I.log=this.log,I}function y(q){s.save(q),s.namespaces=q,s.names=[],s.skips=[];let L,I=(typeof q=="string"?q:"").split(/[\s,]+/),ie=I.length;for(L=0;L<ie;L++)!I[L]||(q=I[L].replace(/\*/g,".*?"),q[0]==="-"?s.skips.push(new RegExp("^"+q.slice(1)+"$")):s.names.push(new RegExp("^"+q+"$")))}function k(){let q=[...s.names.map(V),...s.skips.map(V).map(L=>"-"+L)].join(",");return s.enable(""),q}function P(q){if(q[q.length-1]==="*")return!0;let L,I;for(L=0,I=s.skips.length;L<I;L++)if(s.skips[L].test(q))return!1;for(L=0,I=s.names.length;L<I;L++)if(s.names[L].test(q))return!0;return!1}function V(q){return q.toString().substring(2,q.toString().length-2).replace(/\.\*\?$/,"*")}function X(q){return q instanceof Error?q.stack||q.message:q}function we(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}t.exports=r}),We=h((e,t)=>{u(),e.formatArgs=n,e.save=o,e.load=s,e.useColors=r,e.storage=w(),e.destroy=(()=>{let k=!1;return()=>{k||(k=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(k){if(k[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+k[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let P="color: "+this.color;k.splice(1,0,P,"color: inherit");let V=0,X=0;k[0].replace(/%[a-zA-Z%]/g,we=>{we!=="%%"&&(V++,we==="%c"&&(X=V))}),k.splice(X,0,P)}e.log=console.debug||console.log||(()=>{});function o(k){try{k?e.storage.setItem("debug",k):e.storage.removeItem("debug")}catch{}}function s(){let k;try{k=e.storage.getItem("debug")}catch{}return!k&&typeof process<"u"&&"env"in process&&(k=process.env.DEBUG),k}function w(){try{return localStorage}catch{}}t.exports=vd$1()(e);var{formatters:y}=t.exports;y.j=function(k){try{return JSON.stringify(k)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}}}),dt$1=h((e,t)=>{u();function r(o,s){for(let w in s)Object.defineProperty(o,w,{value:s[w],enumerable:!0,configurable:!0});return o}function n(o,s,w){if(!o||typeof o=="string")throw new TypeError("Please pass an Error to err-code");w||(w={}),typeof s=="object"&&(w=s,s=""),s&&(w.code=s);try{return r(o,w)}catch{w.message=o.message,w.stack=o.stack;let y=function(){};return y.prototype=Object.create(Object.getPrototypeOf(o)),r(new y,w)}}t.exports=n});function Ad$1(e,t,r){t=t||[],r=r||0;for(var n=r;e>=d1;)t[r++]=e&255|xd,e/=128;for(;e&l1;)t[r++]=e&255|xd,e>>>=7;return t[r]=e|0,Ad$1.bytes=r-n+1,t}function Wa(e,n){var r=0,n=n||0,o=0,s=n,w,y=e.length;do{if(s>=y)throw Wa.bytes=0,new RangeError("Could not decode varint");w=e[s++],r+=o<28?(w&Dd$1)<<o:(w&Dd$1)*Math.pow(2,o),o+=7}while(w>=h1);return Wa.bytes=s-n,r}var c1,xd,f1,l1,d1,p1,h1,Dd$1,y1,g1,m1,w1,b1,v1,E1,_1,x1,D1,A1,S1,ii,Sd$1=B(()=>{u(),c1=Ad$1,xd=128,f1=127,l1=~f1,d1=Math.pow(2,31),p1=Wa,h1=128,Dd$1=127,y1=Math.pow(2,7),g1=Math.pow(2,14),m1=Math.pow(2,21),w1=Math.pow(2,28),b1=Math.pow(2,35),v1=Math.pow(2,42),E1=Math.pow(2,49),_1=Math.pow(2,56),x1=Math.pow(2,63),D1=function(e){return e<y1?1:e<g1?2:e<m1?3:e<w1?4:e<b1?5:e<v1?6:e<E1?7:e<_1?8:e<x1?9:10},A1={encode:c1,decode:p1,encodingLength:D1},S1=A1,ii=S1}),oi,nn,on,bo$1=B(()=>{u(),Sd$1(),oi=e=>[ii.decode(e),ii.decode.bytes],nn=(e,t,r=0)=>(ii.encode(e,t,r),t),on=e=>ii.encodingLength(e)}),Cd,Ot$1,Od$1,Td$1,qt$1=B(()=>{u(),Cd=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Ot$1=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Od$1=e=>new TextEncoder().encode(e),Td$1=e=>new TextDecoder().decode(e)}),Ge={};G$1(Ge,{Digest:()=>gr$1,create:()=>Ut,decode:()=>Ve,equals:()=>Ga});var Ut,Ve,Ga,gr$1,pt$1=B(()=>{u(),qt$1(),bo$1(),Ut=(e,t)=>{let r=t.byteLength,n=on(e),o=n+on(r),s=new Uint8Array(o+r);return nn(e,s,0),nn(r,s,n),s.set(t,o),new gr$1(e,r,t,s)},Ve=e=>{let t=Ot$1(e),[r,n]=oi(t),[o,s]=oi(t.subarray(n)),w=t.subarray(n+s);if(w.byteLength!==o)throw new Error("Incorrect length");return new gr$1(r,o,w,t)},Ga=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&Cd(e.bytes,t.bytes),gr$1=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}});function C1(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),w=s.charCodeAt(0);if(r[w]!==255)throw new TypeError(s+" is ambiguous");r[w]=o}var y=e.length,k=e.charAt(0),P=Math.log(y)/Math.log(256),V=Math.log(256)/Math.log(y);function X(L){if(L instanceof Uint8Array||(ArrayBuffer.isView(L)?L=new Uint8Array(L.buffer,L.byteOffset,L.byteLength):Array.isArray(L)&&(L=Uint8Array.from(L))),!(L instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length===0)return"";for(var I=0,ie=0,he=0,_e=L.length;he!==_e&&L[he]===0;)he++,I++;for(var Ie=(_e-he)*V+1>>>0,et=new Uint8Array(Ie);he!==_e;){for(var Wt=L[he],ot=0,at=Ie-1;(Wt!==0||ot<ie)&&at!==-1;at--,ot++)Wt+=256*et[at]>>>0,et[at]=Wt%y>>>0,Wt=Wt/y>>>0;if(Wt!==0)throw new Error("Non-zero carry");ie=ot,he++}for(var st=Ie-ie;st!==Ie&&et[st]===0;)st++;for(var Gt=k.repeat(I);st<Ie;++st)Gt+=e.charAt(et[st]);return Gt}function we(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return new Uint8Array;var I=0;if(L[I]!==" "){for(var ie=0,he=0;L[I]===k;)ie++,I++;for(var _e=(L.length-I)*P+1>>>0,Ie=new Uint8Array(_e);L[I];){var et=r[L.charCodeAt(I)];if(et===255)return;for(var Wt=0,ot=_e-1;(et!==0||Wt<he)&&ot!==-1;ot--,Wt++)et+=y*Ie[ot]>>>0,Ie[ot]=et%256>>>0,et=et/256>>>0;if(et!==0)throw new Error("Non-zero carry");he=Wt,I++}if(L[I]!==" "){for(var at=_e-he;at!==_e&&Ie[at]===0;)at++;for(var st=new Uint8Array(ie+(_e-at)),Gt=ie;at!==_e;)st[Gt++]=Ie[at++];return st}}}function q(L){var I=we(L);if(I)return I;throw new Error(`Non-${t} character`)}return{encode:X,decodeUnsafe:we,decode:q}}var O1,T1,Id$1,Rd$1=B(()=>{u(),O1=C1,T1=O1,Id$1=T1}),Ha,Ja$1,Ya,Bd,Qa,sn,$t,I1,R1,z$1,He$1=B(()=>{u(),Rd$1(),qt$1(),Ha=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Ja$1=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Bd(this,e)}},Ya=class{constructor(e){this.decoders=e}or(e){return Bd(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Bd=(e,t)=>new Ya({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Qa=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new Ha(e,t,r),this.decoder=new Ja$1(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},sn=({name:e,prefix:t,encode:r,decode:n})=>new Qa(e,t,r,n),$t=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=Id$1(r,t);return sn({prefix:e,name:t,encode:n,decode:s=>Ot$1(o(s))})},I1=(e,t,r,n)=>{let o={};for(let V=0;V<t.length;++V)o[t[V]]=V;let s=e.length;for(;e[s-1]==="=";)--s;let w=new Uint8Array(s*r/8|0),y=0,k=0,P=0;for(let V=0;V<s;++V){let X=o[e[V]];if(X===void 0)throw new SyntaxError(`Non-${n} character`);k=k<<r|X,y+=r,y>=8&&(y-=8,w[P++]=255&k>>y)}if(y>=r||255&k<<8-y)throw new SyntaxError("Unexpected end of data");return w},R1=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,s="",w=0,y=0;for(let k=0;k<e.length;++k)for(y=y<<8|e[k],w+=8;w>r;)w-=r,s+=t[o&y>>w];if(w&&(s+=t[o&y<<r-w]),n)for(;s.length*r&7;)s+="=";return s},z$1=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>sn({prefix:t,name:e,encode(o){return R1(o,n,r)},decode(o){return I1(o,n,r,e)}})}),si$1={};G$1(si$1,{base58btc:()=>xe,base58flickr:()=>B1});var xe,B1,an=B(()=>{u(),He$1(),xe=$t({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),B1=$t({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),vo={};G$1(vo,{base32:()=>U$1,base32hex:()=>F1,base32hexpad:()=>L1,base32hexpadupper:()=>M1,base32hexupper:()=>N1,base32pad:()=>Za,base32padupper:()=>k1,base32upper:()=>P1,base32z:()=>j1});var U$1,P1,Za,k1,F1,N1,L1,M1,j1,ht$1=B(()=>{u(),He$1(),U$1=z$1({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),P1=z$1({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Za=z$1({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),k1=z$1({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F1=z$1({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),N1=z$1({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),L1=z$1({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),M1=z$1({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),j1=z$1({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),Xa={};G$1(Xa,{CID:()=>S$1});var S$1,q1,U1,$1,ai$1,K1,Pd$1,kd$1,Eo,_o$1,z1,W1,V1,ge=B(()=>{u(),bo$1(),pt$1(),an(),ht$1(),qt$1(),S$1=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:_o$1,byteLength:_o$1,code:Eo,version:Eo,multihash:Eo,bytes:Eo,_baseCache:_o$1,asCID:_o$1})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==ai$1)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==K1)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return S$1.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=Ut(e,t);return S$1.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&Ga(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return U1(t,n,e||xe.encoder);default:return $1(t,n,e||U$1.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return W1(/^0\.0/,V1),!!(e&&(e[kd$1]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof S$1)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new S$1(t,r,n,o||Pd$1(t,r,n.bytes))}else if(e!=null&&e[kd$1]===!0){let{version:t,multihash:r,code:n}=e,o=Ve(r);return S$1.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==ai$1)throw new Error(`Version 0 CID must use dag-pb (code: ${ai$1}) block encoding`);return new S$1(e,t,r,r.bytes)}case 1:{let n=Pd$1(e,t,r.bytes);return new S$1(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return S$1.create(0,ai$1,e)}static createV1(e,t){return S$1.create(1,e,t)}static decode(e){let[t,r]=S$1.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=S$1.inspectBytes(e),r=t.size-t.multihashSize,n=Ot$1(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),s=new gr$1(t.multihashCode,t.digestSize,o,n);return[t.version===0?S$1.createV0(s):S$1.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[V,X]=oi(e.subarray(t));return t+=X,V},n=r(),o=ai$1;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=t,w=r(),y=r(),k=t+y,P=k-s;return{version:n,codec:o,multihashCode:w,digestSize:y,multihashSize:P,size:k}}static parse(e,t){let[r,n]=q1(e,t),o=S$1.decode(n);return o._baseCache.set(r,e),o}},q1=(e,t)=>{switch(e[0]){case"Q":{let r=t||xe;return[xe.prefix,r.decode(`${xe.prefix}${e}`)]}case xe.prefix:{let r=t||xe;return[xe.prefix,r.decode(e)]}case U$1.prefix:{let r=t||U$1;return[U$1.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},U1=(e,t,r)=>{let{prefix:n}=r;if(n!==xe.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return o},$1=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let s=r.encode(e);return t.set(n,s),s}else return o},ai$1=112,K1=18,Pd$1=(e,t,r)=>{let n=on(e),o=n+on(t),s=new Uint8Array(o+r.byteLength);return nn(e,s,0),nn(t,s,n),s.set(r,o),s},kd$1=Symbol.for("@ipld/js-cid/CID"),Eo={writable:!1,configurable:!1,enumerable:!0},_o$1={writable:!1,enumerable:!1,configurable:!1},z1="0.0.0-dev",W1=(e,t)=>{if(e.test(z1))console.warn(t);else throw new Error(t)},V1=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`}),Fd$1,Nd$1=B(()=>{u(),Fd$1="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}),tu={};G$1(tu,{customAlphabet:()=>G1,customRandom:()=>Md$1,nanoid:()=>eu,random:()=>Ld$1,urlAlphabet:()=>Fd$1});var Ld$1,Md$1,G1,eu,xo=B(()=>{u(),Nd$1(),Ld$1=e=>crypto.getRandomValues(new Uint8Array(e)),Md$1=(e,t,r)=>{let n=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*n*t/e.length);return(s=t)=>{let w="";for(;;){let y=r(o),k=o;for(;k--;)if(w+=e[y[k]&n]||"",w.length===s)return w}}},G1=(e,t=21)=>Md$1(e,t,Ld$1),eu=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"")}),ru$1={};G$1(ru$1,{identity:()=>H1});var H1,jd=B(()=>{u(),He$1(),qt$1(),H1=sn({prefix:"\0",name:"identity",encode:e=>Td$1(e),decode:e=>Od$1(e)})}),nu={};G$1(nu,{base2:()=>J1});var J1,qd$1=B(()=>{u(),He$1(),J1=z$1({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),iu={};G$1(iu,{base8:()=>Y1});var Y1,Ud$1=B(()=>{u(),He$1(),Y1=z$1({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),ou={};G$1(ou,{base10:()=>Q1});var Q1,$d$1=B(()=>{u(),He$1(),Q1=$t({prefix:"9",name:"base10",alphabet:"0123456789"})}),su={};G$1(su,{base16:()=>Z1,base16upper:()=>X1});var Z1,X1,Kd=B(()=>{u(),He$1(),Z1=z$1({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),X1=z$1({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),au={};G$1(au,{base36:()=>ex,base36upper:()=>tx});var ex,tx,zd$1=B(()=>{u(),He$1(),ex=$t({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tx=$t({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),uu={};G$1(uu,{base64:()=>rx,base64pad:()=>nx,base64url:()=>ix,base64urlpad:()=>ox});var rx,nx,ix,ox,Wd=B(()=>{u(),He$1(),rx=z$1({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nx=z$1({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ix=z$1({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ox=z$1({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})}),cu={};G$1(cu,{base256emoji:()=>fx});function ux(e){return e.reduce((t,r)=>(t+=sx[r],t),"")}function cx(e){let t=[];for(let r of e){let n=ax[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var Vd,sx,ax,fx,Gd$1=B(()=>{u(),He$1(),Vd=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),sx=Vd.reduce((e,t,r)=>(e[r]=t,e),[]),ax=Vd.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),fx=sn({prefix:"\u{1F680}",name:"base256emoji",encode:ux,decode:cx})}),lu,fu,du=B(()=>{u(),pt$1(),lu=({name:e,code:t,encode:r})=>new fu(e,t,r),fu=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?Ut(this.code,t):t.then(r=>Ut(this.code,r))}else throw Error("Unknown type, must be binary type")}}}),pu$1={};G$1(pu$1,{sha256:()=>un$1,sha512:()=>lx});var Jd,un$1,lx,Do=B(()=>{u(),du(),Jd=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),un$1=lu({name:"sha2-256",code:18,encode:Jd("SHA-256")}),lx=lu({name:"sha2-512",code:19,encode:Jd("SHA-512")})}),yu={};G$1(yu,{identity:()=>hu});var Yd,dx,Qd,px,hu,gu$1=B(()=>{u(),qt$1(),pt$1(),Yd=0,dx="identity",Qd=Ot$1,px=e=>Ut(Yd,Qd(e)),hu={code:Yd,name:dx,encode:Qd,digest:px}}),ui$1,ci$1=B(()=>{u(),qt$1(),ui$1=85}),Zd=B(()=>{u(),new TextEncoder,new TextDecoder}),So=B(()=>{u(),ge(),bo$1(),qt$1(),du(),pt$1()}),mu,Xd=B(()=>{u(),jd(),qd$1(),Ud$1(),$d$1(),Kd(),ht$1(),zd$1(),an(),Wd(),Gd$1(),Do(),gu$1(),ci$1(),Zd(),So(),mu={...ru$1,...nu,...iu,...ou,...su,...vo,...au,...si$1,...uu,...cu},{...pu$1,...yu}});function Co(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}var wu$1=B(()=>{u()});function tp(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var ep,bu,yx,Oo,vu=B(()=>{u(),Xd(),wu$1(),ep=tp("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),bu=tp("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Co(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),yx={utf8:ep,"utf-8":ep,hex:mu.base16,latin1:bu,ascii:bu,binary:bu,...mu},Oo=yx}),fi$1={};G$1(fi$1,{toString:()=>de});function de(e,t="utf8"){let r=Oo[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var ke$1=B(()=>{u(),vu()}),rp={};G$1(rp,{fromString:()=>oe});function oe(e,t="utf8"){let r=Oo[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}var yt$1=B(()=>{u(),vu()}),Eu=h((e,t)=>{u();var r=async n=>{let o=0;for await(let s of n)o++;return o};t.exports=r}),Dh=h((e,t)=>{u(),t.exports=r;function r(n,o){for(var s=new Array(arguments.length-1),w=0,y=2,k=!0;y<arguments.length;)s[w++]=arguments[y++];return new Promise(function(P,V){s[w]=function(X){if(k)if(k=!1,X)V(X);else{for(var we=new Array(arguments.length-1),q=0;q<we.length;)we[q++]=arguments[q];P.apply(null,we)}};try{n.apply(o||null,s)}catch(X){k&&(k=!1,V(X))}})}}),Oh=h(e=>{u();var t=e;t.length=function(w){var y=w.length;if(!y)return 0;for(var k=0;--y%4>1&&w.charAt(y)==="=";)++k;return Math.ceil(w.length*3)/4-k};var r=new Array(64),n=new Array(123);for(o=0;o<64;)n[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;var o;t.encode=function(w,y,k){for(var P=null,V=[],X=0,we=0,q;y<k;){var L=w[y++];switch(we){case 0:V[X++]=r[L>>2],q=(L&3)<<4,we=1;break;case 1:V[X++]=r[q|L>>4],q=(L&15)<<2,we=2;break;case 2:V[X++]=r[q|L>>6],V[X++]=r[L&63],we=0;break}X>8191&&((P||(P=[])).push(String.fromCharCode.apply(String,V)),X=0)}return we&&(V[X++]=r[q],V[X++]=61,we===1&&(V[X++]=61)),P?(X&&P.push(String.fromCharCode.apply(String,V.slice(0,X))),P.join("")):String.fromCharCode.apply(String,V.slice(0,X))};var s="invalid encoding";t.decode=function(w,y,k){for(var P=k,V=0,X,we=0;we<w.length;){var q=w.charCodeAt(we++);if(q===61&&V>1)break;if((q=n[q])===void 0)throw Error(s);switch(V){case 0:X=q,V=1;break;case 1:y[k++]=X<<2|(q&48)>>4,X=q,V=2;break;case 2:y[k++]=(X&15)<<4|(q&60)>>2,X=q,V=3;break;case 3:y[k++]=(X&3)<<6|q,V=0;break}}if(V===1)throw Error(s);return k-P},t.test=function(w){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(w)}}),Ih=h((e,t)=>{u(),t.exports=r;function r(){this._listeners={}}r.prototype.on=function(n,o,s){return(this._listeners[n]||(this._listeners[n]=[])).push({fn:o,ctx:s||this}),this},r.prototype.off=function(n,o){if(n===void 0)this._listeners={};else if(o===void 0)this._listeners[n]=[];else for(var s=this._listeners[n],w=0;w<s.length;)s[w].fn===o?s.splice(w,1):++w;return this},r.prototype.emit=function(n){var o=this._listeners[n];if(o){for(var s=[],w=1;w<arguments.length;)s.push(arguments[w++]);for(w=0;w<o.length;)o[w].fn.apply(o[w++].ctx,s)}return this}}),Lh$1=h((e,t)=>{u(),t.exports=r(r);function r(y){return typeof Float32Array<"u"?function(){var k=new Float32Array([-0]),P=new Uint8Array(k.buffer),V=P[3]===128;function X(I,ie,he){k[0]=I,ie[he]=P[0],ie[he+1]=P[1],ie[he+2]=P[2],ie[he+3]=P[3]}function we(I,ie,he){k[0]=I,ie[he]=P[3],ie[he+1]=P[2],ie[he+2]=P[1],ie[he+3]=P[0]}y.writeFloatLE=V?X:we,y.writeFloatBE=V?we:X;function q(I,ie){return P[0]=I[ie],P[1]=I[ie+1],P[2]=I[ie+2],P[3]=I[ie+3],k[0]}function L(I,ie){return P[3]=I[ie],P[2]=I[ie+1],P[1]=I[ie+2],P[0]=I[ie+3],k[0]}y.readFloatLE=V?q:L,y.readFloatBE=V?L:q}():function(){function k(V,X,we,q){var L=X<0?1:0;if(L&&(X=-X),X===0)V(1/X>0?0:2147483648,we,q);else if(isNaN(X))V(2143289344,we,q);else if(X>34028234663852886e22)V((L<<31|2139095040)>>>0,we,q);else if(X<11754943508222875e-54)V((L<<31|Math.round(X/1401298464324817e-60))>>>0,we,q);else{var I=Math.floor(Math.log(X)/Math.LN2),ie=Math.round(X*Math.pow(2,-I)*8388608)&8388607;V((L<<31|I+127<<23|ie)>>>0,we,q)}}y.writeFloatLE=k.bind(null,n),y.writeFloatBE=k.bind(null,o);function P(V,X,we){var q=V(X,we),L=(q>>31)*2+1,I=q>>>23&255,ie=q&8388607;return I===255?ie?NaN:L*(1/0):I===0?L*1401298464324817e-60*ie:L*Math.pow(2,I-150)*(ie+8388608)}y.readFloatLE=P.bind(null,s),y.readFloatBE=P.bind(null,w)}(),typeof Float64Array<"u"?function(){var k=new Float64Array([-0]),P=new Uint8Array(k.buffer),V=P[7]===128;function X(I,ie,he){k[0]=I,ie[he]=P[0],ie[he+1]=P[1],ie[he+2]=P[2],ie[he+3]=P[3],ie[he+4]=P[4],ie[he+5]=P[5],ie[he+6]=P[6],ie[he+7]=P[7]}function we(I,ie,he){k[0]=I,ie[he]=P[7],ie[he+1]=P[6],ie[he+2]=P[5],ie[he+3]=P[4],ie[he+4]=P[3],ie[he+5]=P[2],ie[he+6]=P[1],ie[he+7]=P[0]}y.writeDoubleLE=V?X:we,y.writeDoubleBE=V?we:X;function q(I,ie){return P[0]=I[ie],P[1]=I[ie+1],P[2]=I[ie+2],P[3]=I[ie+3],P[4]=I[ie+4],P[5]=I[ie+5],P[6]=I[ie+6],P[7]=I[ie+7],k[0]}function L(I,ie){return P[7]=I[ie],P[6]=I[ie+1],P[5]=I[ie+2],P[4]=I[ie+3],P[3]=I[ie+4],P[2]=I[ie+5],P[1]=I[ie+6],P[0]=I[ie+7],k[0]}y.readDoubleLE=V?q:L,y.readDoubleBE=V?L:q}():function(){function k(V,X,we,q,L,I){var ie=q<0?1:0;if(ie&&(q=-q),q===0)V(0,L,I+X),V(1/q>0?0:2147483648,L,I+we);else if(isNaN(q))V(0,L,I+X),V(2146959360,L,I+we);else if(q>17976931348623157e292)V(0,L,I+X),V((ie<<31|2146435072)>>>0,L,I+we);else{var he;if(q<22250738585072014e-324)he=q/5e-324,V(he>>>0,L,I+X),V((ie<<31|he/4294967296)>>>0,L,I+we);else{var _e=Math.floor(Math.log(q)/Math.LN2);_e===1024&&(_e=1023),he=q*Math.pow(2,-_e),V(he*4503599627370496>>>0,L,I+X),V((ie<<31|_e+1023<<20|he*1048576&1048575)>>>0,L,I+we)}}}y.writeDoubleLE=k.bind(null,n,0,4),y.writeDoubleBE=k.bind(null,o,4,0);function P(V,X,we,q,L){var I=V(q,L+X),ie=V(q,L+we),he=(ie>>31)*2+1,_e=ie>>>20&2047,Ie=4294967296*(ie&1048575)+I;return _e===2047?Ie?NaN:he*(1/0):_e===0?he*5e-324*Ie:he*Math.pow(2,_e-1075)*(Ie+4503599627370496)}y.readDoubleLE=P.bind(null,s,0,4),y.readDoubleBE=P.bind(null,w,4,0)}(),y}function n(y,k,P){k[P]=y&255,k[P+1]=y>>>8&255,k[P+2]=y>>>16&255,k[P+3]=y>>>24}function o(y,k,P){k[P]=y>>>24,k[P+1]=y>>>16&255,k[P+2]=y>>>8&255,k[P+3]=y&255}function s(y,k){return(y[k]|y[k+1]<<8|y[k+2]<<16|y[k+3]<<24)>>>0}function w(y,k){return(y[k]<<24|y[k+1]<<16|y[k+2]<<8|y[k+3])>>>0}}),Mh=h((exports,module)=>{u(),module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}}),qh=h(e=>{u();var t=e;t.length=function(r){for(var n=0,o=0,s=0;s<r.length;++s)o=r.charCodeAt(s),o<128?n+=1:o<2048?n+=2:(o&64512)===55296&&(r.charCodeAt(s+1)&64512)===56320?(++s,n+=4):n+=3;return n},t.read=function(r,n,o){var s=o-n;if(s<1)return"";for(var w=null,y=[],k=0,P;n<o;)P=r[n++],P<128?y[k++]=P:P>191&&P<224?y[k++]=(P&31)<<6|r[n++]&63:P>239&&P<365?(P=((P&7)<<18|(r[n++]&63)<<12|(r[n++]&63)<<6|r[n++]&63)-65536,y[k++]=55296+(P>>10),y[k++]=56320+(P&1023)):y[k++]=(P&15)<<12|(r[n++]&63)<<6|r[n++]&63,k>8191&&((w||(w=[])).push(String.fromCharCode.apply(String,y)),k=0);return w?(k&&w.push(String.fromCharCode.apply(String,y.slice(0,k))),w.join("")):String.fromCharCode.apply(String,y.slice(0,k))},t.write=function(r,n,o){for(var s=o,w,y,k=0;k<r.length;++k)w=r.charCodeAt(k),w<128?n[o++]=w:w<2048?(n[o++]=w>>6|192,n[o++]=w&63|128):(w&64512)===55296&&((y=r.charCodeAt(k+1))&64512)===56320?(w=65536+((w&1023)<<10)+(y&1023),++k,n[o++]=w>>18|240,n[o++]=w>>12&63|128,n[o++]=w>>6&63|128,n[o++]=w&63|128):(n[o++]=w>>12|224,n[o++]=w>>6&63|128,n[o++]=w&63|128);return o-s}}),$h=h((e,t)=>{u(),t.exports=r;function r(n,o,s){var w=s||8192,y=w>>>1,k=null,P=w;return function(V){if(V<1||V>y)return n(V);P+V>w&&(k=n(w),P=0);var X=o.call(k,P,P+=V);return P&7&&(P=(P|7)+1),X}}}),zh=h((e,t)=>{u(),t.exports=n;var r=Vt$1();function n(y,k){this.lo=y>>>0,this.hi=k>>>0}var o=n.zero=new n(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(y){if(y===0)return o;var k=y<0;k&&(y=-y);var P=y>>>0,V=(y-P)/4294967296>>>0;return k&&(V=~V>>>0,P=~P>>>0,++P>4294967295&&(P=0,++V>4294967295&&(V=0))),new n(P,V)},n.from=function(y){if(typeof y=="number")return n.fromNumber(y);if(r.isString(y))if(r.Long)y=r.Long.fromString(y);else return n.fromNumber(parseInt(y,10));return y.low||y.high?new n(y.low>>>0,y.high>>>0):o},n.prototype.toNumber=function(y){if(!y&&this.hi>>>31){var k=~this.lo+1>>>0,P=~this.hi>>>0;return k||(P=P+1>>>0),-(k+P*4294967296)}return this.lo+this.hi*4294967296},n.prototype.toLong=function(y){return r.Long?new r.Long(this.lo|0,this.hi|0,Boolean(y)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(y)}};var w=String.prototype.charCodeAt;n.fromHash=function(y){return y===s?o:new n((w.call(y,0)|w.call(y,1)<<8|w.call(y,2)<<16|w.call(y,3)<<24)>>>0,(w.call(y,4)|w.call(y,5)<<8|w.call(y,6)<<16|w.call(y,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var y=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^y)>>>0,this.lo=(this.lo<<1^y)>>>0,this},n.prototype.zzDecode=function(){var y=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^y)>>>0,this.hi=(this.hi>>>1^y)>>>0,this},n.prototype.length=function(){var y=this.lo,k=(this.lo>>>28|this.hi<<4)>>>0,P=this.hi>>>24;return P===0?k===0?y<16384?y<128?1:2:y<2097152?3:4:k<16384?k<128?5:6:k<2097152?7:8:P<128?9:10}}),Vt$1=h(e=>{u();var t=e;t.asPromise=Dh(),t.base64=Oh(),t.EventEmitter=Ih(),t.float=Lh$1(),t.inquire=Mh(),t.utf8=qh(),t.pool=$h(),t.LongBits=zh(),t.isNode=Boolean(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node),t.global=t.isNode&&global||typeof window<"u"&&window||typeof self<"u"&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o},t.isString=function(o){return typeof o=="string"||o instanceof String},t.isObject=function(o){return o&&typeof o=="object"},t.isset=t.isSet=function(o,s){var w=o[s];return w!=null&&o.hasOwnProperty(s)?typeof w!="object"||(Array.isArray(w)?w.length:Object.keys(w).length)>0:!1},t.Buffer=function(){try{var o=t.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(o){return typeof o=="number"?t.Buffer?t._Buffer_allocUnsafe(o):new t.Array(o):t.Buffer?t._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)},t.Array=typeof Uint8Array<"u"?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(o){return o?t.LongBits.from(o).toHash():t.LongBits.zeroHash},t.longFromHash=function(o,s){var w=t.LongBits.fromHash(o);return t.Long?t.Long.fromBits(w.lo,w.hi,s):w.toNumber(Boolean(s))};function r(o,s,w){for(var y=Object.keys(s),k=0;k<y.length;++k)(o[y[k]]===void 0||!w)&&(o[y[k]]=s[y[k]]);return o}t.merge=r,t.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function n(o){function s(w,y){if(!(this instanceof s))return new s(w,y);Object.defineProperty(this,"message",{get:function(){return w}}),Error.captureStackTrace?Error.captureStackTrace(this,s):Object.defineProperty(this,"stack",{value:new Error().stack||""}),y&&r(this,y)}return(s.prototype=Object.create(Error.prototype)).constructor=s,Object.defineProperty(s.prototype,"name",{get:function(){return o}}),s.prototype.toString=function(){return this.name+": "+this.message},s}t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(o){for(var s={},w=0;w<o.length;++w)s[o[w]]=1;return function(){for(var y=Object.keys(this),k=y.length-1;k>-1;--k)if(s[y[k]]===1&&this[y[k]]!==void 0&&this[y[k]]!==null)return y[k]}},t.oneOfSetter=function(o){return function(s){for(var w=0;w<o.length;++w)o[w]!==s&&delete this[o[w]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var o=t.Buffer;if(!o){t._Buffer_from=t._Buffer_allocUnsafe=null;return}t._Buffer_from=o.from!==Uint8Array.from&&o.from||function(s,w){return new o(s,w)},t._Buffer_allocUnsafe=o.allocUnsafe||function(s){return new o(s)}}}),qu=h((e,t)=>{u(),t.exports=V;var r=Vt$1(),n,o=r.LongBits,s=r.base64,w=r.utf8;function y(_e,Ie,et){this.fn=_e,this.len=Ie,this.next=void 0,this.val=et}function k(){}function P(_e){this.head=_e.head,this.tail=_e.tail,this.len=_e.len,this.next=_e.states}function V(){this.len=0,this.head=new y(k,0,0),this.tail=this.head,this.states=null}var X=function(){return r.Buffer?function(){return(V.create=function(){return new n})()}:function(){return new V}};V.create=X(),V.alloc=function(_e){return new r.Array(_e)},r.Array!==Array&&(V.alloc=r.pool(V.alloc,r.Array.prototype.subarray)),V.prototype._push=function(_e,Ie,et){return this.tail=this.tail.next=new y(_e,Ie,et),this.len+=Ie,this};function we(_e,Ie,et){Ie[et]=_e&255}function q(_e,Ie,et){for(;_e>127;)Ie[et++]=_e&127|128,_e>>>=7;Ie[et]=_e}function L(_e,Ie){this.len=_e,this.next=void 0,this.val=Ie}L.prototype=Object.create(y.prototype),L.prototype.fn=q,V.prototype.uint32=function(_e){return this.len+=(this.tail=this.tail.next=new L((_e=_e>>>0)<128?1:_e<16384?2:_e<2097152?3:_e<268435456?4:5,_e)).len,this},V.prototype.int32=function(_e){return _e<0?this._push(I,10,o.fromNumber(_e)):this.uint32(_e)},V.prototype.sint32=function(_e){return this.uint32((_e<<1^_e>>31)>>>0)};function I(_e,Ie,et){for(;_e.hi;)Ie[et++]=_e.lo&127|128,_e.lo=(_e.lo>>>7|_e.hi<<25)>>>0,_e.hi>>>=7;for(;_e.lo>127;)Ie[et++]=_e.lo&127|128,_e.lo=_e.lo>>>7;Ie[et++]=_e.lo}V.prototype.uint64=function(_e){var Ie=o.from(_e);return this._push(I,Ie.length(),Ie)},V.prototype.int64=V.prototype.uint64,V.prototype.sint64=function(_e){var Ie=o.from(_e).zzEncode();return this._push(I,Ie.length(),Ie)},V.prototype.bool=function(_e){return this._push(we,1,_e?1:0)};function ie(_e,Ie,et){Ie[et]=_e&255,Ie[et+1]=_e>>>8&255,Ie[et+2]=_e>>>16&255,Ie[et+3]=_e>>>24}V.prototype.fixed32=function(_e){return this._push(ie,4,_e>>>0)},V.prototype.sfixed32=V.prototype.fixed32,V.prototype.fixed64=function(_e){var Ie=o.from(_e);return this._push(ie,4,Ie.lo)._push(ie,4,Ie.hi)},V.prototype.sfixed64=V.prototype.fixed64,V.prototype.float=function(_e){return this._push(r.float.writeFloatLE,4,_e)},V.prototype.double=function(_e){return this._push(r.float.writeDoubleLE,8,_e)};var he=r.Array.prototype.set?function(_e,Ie,et){Ie.set(_e,et)}:function(_e,Ie,et){for(var Wt=0;Wt<_e.length;++Wt)Ie[et+Wt]=_e[Wt]};V.prototype.bytes=function(_e){var Ie=_e.length>>>0;if(!Ie)return this._push(we,1,0);if(r.isString(_e)){var et=V.alloc(Ie=s.length(_e));s.decode(_e,et,0),_e=et}return this.uint32(Ie)._push(he,Ie,_e)},V.prototype.string=function(_e){var Ie=w.length(_e);return Ie?this.uint32(Ie)._push(w.write,Ie,_e):this._push(we,1,0)},V.prototype.fork=function(){return this.states=new P(this),this.head=this.tail=new y(k,0,0),this.len=0,this},V.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new y(k,0,0),this.len=0),this},V.prototype.ldelim=function(){var _e=this.head,Ie=this.tail,et=this.len;return this.reset().uint32(et),et&&(this.tail.next=_e.next,this.tail=Ie,this.len+=et),this},V.prototype.finish=function(){for(var _e=this.head.next,Ie=this.constructor.alloc(this.len),et=0;_e;)_e.fn(_e.val,Ie,et),et+=_e.len,_e=_e.next;return Ie},V._configure=function(_e){n=_e,V.create=X(),n._configure()}}),Xh=h((e,t)=>{u(),t.exports=o;var r=qu();(o.prototype=Object.create(r.prototype)).constructor=o;var n=Vt$1();function o(){r.call(this)}o._configure=function(){o.alloc=n._Buffer_allocUnsafe,o.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&n.Buffer.prototype.set.name==="set"?function(w,y,k){y.set(w,k)}:function(w,y,k){if(w.copy)w.copy(y,k,0,w.length);else for(var P=0;P<w.length;)y[k++]=w[P++]}},o.prototype.bytes=function(w){n.isString(w)&&(w=n._Buffer_from(w,"base64"));var y=w.length>>>0;return this.uint32(y),y&&this._push(o.writeBytesBuffer,y,w),this};function s(w,y,k){w.length<40?n.utf8.write(w,y,k):y.utf8Write?y.utf8Write(w,k):y.write(w,k)}o.prototype.string=function(w){var y=n.Buffer.byteLength(w);return this.uint32(y),y&&this._push(s,y,w),this},o._configure()}),Ku$1=h((e,t)=>{u(),t.exports=y;var r=Vt$1(),n,o=r.LongBits,s=r.utf8;function w(q,L){return RangeError("index out of range: "+q.pos+" + "+(L||1)+" > "+q.len)}function y(q){this.buf=q,this.pos=0,this.len=q.length}var k=typeof Uint8Array<"u"?function(q){if(q instanceof Uint8Array||Array.isArray(q))return new y(q);throw Error("illegal buffer")}:function(q){if(Array.isArray(q))return new y(q);throw Error("illegal buffer")},P=function(){return r.Buffer?function(q){return(y.create=function(L){return r.Buffer.isBuffer(L)?new n(L):k(L)})(q)}:k};y.create=P(),y.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,y.prototype.uint32=function(){var q=4294967295;return function(){if(q=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(q=(q|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(q=(q|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(q=(q|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(q=(q|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return q;if((this.pos+=5)>this.len)throw this.pos=this.len,w(this,10);return q}}(),y.prototype.int32=function(){return this.uint32()|0},y.prototype.sint32=function(){var q=this.uint32();return q>>>1^-(q&1)|0};function V(){var q=new o(0,0),L=0;if(this.len-this.pos>4){for(;L<4;++L)if(q.lo=(q.lo|(this.buf[this.pos]&127)<<L*7)>>>0,this.buf[this.pos++]<128)return q;if(q.lo=(q.lo|(this.buf[this.pos]&127)<<28)>>>0,q.hi=(q.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return q;L=0}else{for(;L<3;++L){if(this.pos>=this.len)throw w(this);if(q.lo=(q.lo|(this.buf[this.pos]&127)<<L*7)>>>0,this.buf[this.pos++]<128)return q}return q.lo=(q.lo|(this.buf[this.pos++]&127)<<L*7)>>>0,q}if(this.len-this.pos>4){for(;L<5;++L)if(q.hi=(q.hi|(this.buf[this.pos]&127)<<L*7+3)>>>0,this.buf[this.pos++]<128)return q}else for(;L<5;++L){if(this.pos>=this.len)throw w(this);if(q.hi=(q.hi|(this.buf[this.pos]&127)<<L*7+3)>>>0,this.buf[this.pos++]<128)return q}throw Error("invalid varint encoding")}y.prototype.bool=function(){return this.uint32()!==0};function X(q,L){return(q[L-4]|q[L-3]<<8|q[L-2]<<16|q[L-1]<<24)>>>0}y.prototype.fixed32=function(){if(this.pos+4>this.len)throw w(this,4);return X(this.buf,this.pos+=4)},y.prototype.sfixed32=function(){if(this.pos+4>this.len)throw w(this,4);return X(this.buf,this.pos+=4)|0};function we(){if(this.pos+8>this.len)throw w(this,8);return new o(X(this.buf,this.pos+=4),X(this.buf,this.pos+=4))}y.prototype.float=function(){if(this.pos+4>this.len)throw w(this,4);var q=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,q},y.prototype.double=function(){if(this.pos+8>this.len)throw w(this,4);var q=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,q},y.prototype.bytes=function(){var q=this.uint32(),L=this.pos,I=this.pos+q;if(I>this.len)throw w(this,q);return this.pos+=q,Array.isArray(this.buf)?this.buf.slice(L,I):L===I?new this.buf.constructor(0):this._slice.call(this.buf,L,I)},y.prototype.string=function(){var q=this.bytes();return s.read(q,0,q.length)},y.prototype.skip=function(q){if(typeof q=="number"){if(this.pos+q>this.len)throw w(this,q);this.pos+=q}else do if(this.pos>=this.len)throw w(this);while(this.buf[this.pos++]&128);return this},y.prototype.skipType=function(q){switch(q){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(q=this.uint32()&7)!==4;)this.skipType(q);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+q+" at offset "+this.pos)}return this},y._configure=function(q){n=q,y.create=P(),n._configure();var L=r.Long?"toLong":"toNumber";r.merge(y.prototype,{int64:function(){return V.call(this)[L](!1)},uint64:function(){return V.call(this)[L](!0)},sint64:function(){return V.call(this).zzDecode()[L](!1)},fixed64:function(){return we.call(this)[L](!0)},sfixed64:function(){return we.call(this)[L](!1)}})}}),uy=h((e,t)=>{u(),t.exports=o;var r=Ku$1();(o.prototype=Object.create(r.prototype)).constructor=o;var n=Vt$1();function o(s){r.call(this,s)}o._configure=function(){n.Buffer&&(o.prototype._slice=n.Buffer.prototype.slice)},o.prototype.string=function(){var s=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+s,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+s,this.len))},o._configure()}),fy=h((e,t)=>{u(),t.exports=n;var r=Vt$1();(n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n;function n(o,s,w){if(typeof o!="function")throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=o,this.requestDelimited=Boolean(s),this.responseDelimited=Boolean(w)}n.prototype.rpcCall=function o(s,w,y,k,P){if(!k)throw TypeError("request must be specified");var V=this;if(!P)return r.asPromise(o,V,s,w,y,k);if(!V.rpcImpl){setTimeout(function(){P(Error("already ended"))},0);return}try{return V.rpcImpl(s,w[V.requestDelimited?"encodeDelimited":"encode"](k).finish(),function(X,we){if(X)return V.emit("error",X,s),P(X);if(we===null){V.end(!0);return}if(!(we instanceof y))try{we=y[V.responseDelimited?"decodeDelimited":"decode"](we)}catch(q){return V.emit("error",q,s),P(q)}return V.emit("data",we,s),P(null,we)})}catch(X){V.emit("error",X,s),setTimeout(function(){P(X)},0);return}},n.prototype.end=function(o){return this.rpcImpl&&(o||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}),dy=h(e=>{u();var t=e;t.Service=fy()}),hy=h((e,t)=>{u(),t.exports={}}),my=h(e=>{u();var t=e;t.build="minimal",t.Writer=qu(),t.BufferWriter=Xh(),t.Reader=Ku$1(),t.BufferReader=uy(),t.util=Vt$1(),t.rpc=dy(),t.roots=hy(),t.configure=r;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}r()}),Ht$1=h((e,t)=>{u(),t.exports=my()}),_y=h((e,t)=>{u(),Object.defineProperty(e,"__esModule",{value:!0}),r.BASE=2166136261;function r(n,o=r.BASE){let s=n.length;for(let w=0;w<s;w++)o^=n.charCodeAt(w),o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24);return o>>>0}e.default=r,t.exports=r}),Ay=h((e,t)=>{u(),t.exports=w;var r=128,n=127,o=~n,s=Math.pow(2,31);function w(y,k,P){if(Number.MAX_SAFE_INTEGER&&y>Number.MAX_SAFE_INTEGER)throw w.bytes=0,new RangeError("Could not encode varint");k=k||[],P=P||0;for(var V=P;y>=s;)k[P++]=y&255|r,y/=128;for(;y&o;)k[P++]=y&255|r,y>>>=7;return k[P]=y|0,w.bytes=P-V+1,k}}),Oy=h((e,t)=>{u(),t.exports=o;var r=128,n=127;function o(s,k){var y=0,k=k||0,P=0,V=k,X,we=s.length;do{if(V>=we||P>49)throw o.bytes=0,new RangeError("Could not decode varint");X=s[V++],y+=P<28?(X&n)<<P:(X&n)*Math.pow(2,P),P+=7}while(X>=r);return o.bytes=V-k,y}}),Iy=h((e,t)=>{u();var r=Math.pow(2,7),n=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),w=Math.pow(2,35),y=Math.pow(2,42),k=Math.pow(2,49),P=Math.pow(2,56),V=Math.pow(2,63);t.exports=function(X){return X<r?1:X<n?2:X<o?3:X<s?4:X<w?5:X<y?6:X<k?7:X<P?8:X<V?9:10}}),xi=h((e,t)=>{u(),t.exports={encode:Ay(),decode:Oy(),encodingLength:Iy()}}),Yu={};G$1(Yu,{concat:()=>Ai});function Ai(e,t){t||(t=e.reduce((o,s)=>o+s.length,0));let r=Co(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}var Ho=B(()=>{u(),wu$1()}),Qy=h((e,t)=>{u();var r="[a-fA-F\\d:]",n=X=>X&&X.includeBoundaries?`(?:(?<=\\s|^)(?=${r})|(?<=${r})(?=\\s|$))`:"",o="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",w=`
(?:
(?:${s}:){7}(?:${s}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${s}:){6}(?:${o}|:${s}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${s}:){5}(?::${o}|(?::${s}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${s}:){4}(?:(?::${s}){0,1}:${o}|(?::${s}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${s}:){3}(?:(?::${s}){0,2}:${o}|(?::${s}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${s}:){2}(?:(?::${s}){0,3}:${o}|(?::${s}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${s}:){1}(?:(?::${s}){0,4}:${o}|(?::${s}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${s}){0,5}:${o}|(?::${s}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),y=new RegExp(`(?:^${o}$)|(?:^${w}$)`),k=new RegExp(`^${o}$`),P=new RegExp(`^${w}$`),V=X=>X&&X.exact?y:new RegExp(`(?:${n(X)}${o}${n(X)})|(?:${n(X)}${w}${n(X)})`,"g");V.v4=X=>X&&X.exact?k:new RegExp(`${n(X)}${o}${n(X)}`,"g"),V.v6=X=>X&&X.exact?P:new RegExp(`${n(X)}${w}${n(X)}`,"g"),t.exports=V}),Xy=h((e,t)=>{u();var r=Qy(),n=o=>r({exact:!0}).test(o);n.v4=o=>r.v4({exact:!0}).test(o),n.v6=o=>r.v6({exact:!0}).test(o),n.version=o=>n(o)?n.v4(o)?4:6:void 0,t.exports=n}),ig=h((e,t)=>{u();var r=Xy(),{toString:n}=(ke$1(),ue(fi$1)),o=r,s=r.v4,w=r.v6,y=function(P,V,X){X=~~X;let we;if(s(P))we=V||new Uint8Array(X+4),P.split(/\./g).map(function(q){we[X++]=parseInt(q,10)&255});else if(w(P)){let q=P.split(":",8),L;for(L=0;L<q.length;L++){let I=s(q[L]),ie;I&&(ie=y(q[L]),q[L]=n(ie.slice(0,2),"base16")),ie&&++L<8&&q.splice(L,0,n(ie.slice(2,4),"base16"))}if(q[0]==="")for(;q.length<8;)q.unshift("0");else if(q[q.length-1]==="")for(;q.length<8;)q.push("0");else if(q.length<8){for(L=0;L<q.length&&q[L]!=="";L++);let I=[L,"1"];for(L=9-q.length;L>0;L--)I.push("0");q.splice.apply(q,I)}for(we=V||new Uint8Array(X+16),L=0;L<q.length;L++){let I=parseInt(q[L],16);we[X++]=I>>8&255,we[X++]=I&255}}if(!we)throw Error("Invalid ip address: "+P);return we},k=function(P,V,X){V=~~V,X=X||P.length-V;let we=[],q,L=new DataView(P.buffer);if(X===4){for(let I=0;I<X;I++)we.push(P[V+I]);q=we.join(".")}else if(X===16){for(let I=0;I<X;I+=2)we.push(L.getUint16(V+I).toString(16));q=we.join(":"),q=q.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),q=q.replace(/:{3,4}/,"::")}return q};t.exports={isIP:o,isV4:s,isV6:w,toBytes:y,toString:k}}),rs$1=h((e,t)=>{u();function r(s){if(typeof s=="number"){if(r.codes[s])return r.codes[s];throw new Error("no protocol with code: "+s)}else if(typeof s=="string"){if(r.names[s])return r.names[s];throw new Error("no protocol with name: "+s)}throw new Error("invalid protocol id type: "+s)}var n=-1;r.lengthPrefixedVarSize=n,r.V=n,r.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[53,n,"dns","resolvable"],[54,n,"dns4","resolvable"],[55,n,"dns6","resolvable"],[56,n,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,"path"],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]],r.names={},r.codes={},r.table.map(s=>{let w=o.apply(null,s);return r.codes[w.code]=w,r.names[w.name]=w,null}),r.object=o;function o(s,w,y,k,P){return{code:s,size:w,name:y,resolvable:Boolean(k),path:Boolean(P)}}t.exports=r}),hg=h((e,t)=>{u();var r=ig(),n=rs$1(),{CID:o}=(ge(),ue(Xa)),{base32:s}=(ht$1(),ue(vo)),{base58btc:w}=(an(),ue(si$1)),y=(pt$1(),ue(Ge)),k=xi(),{toString:P}=(ke$1(),ue(fi$1)),{fromString:V}=(yt$1(),ue(rp)),{concat:X}=(Ho(),ue(Yu));t.exports=we;function we(st,Gt){return Gt instanceof Uint8Array?we.toString(st,Gt):we.toBytes(st,Gt)}we.toString=function(st,Gt){switch(n(st).code){case 4:case 41:return L(Gt);case 6:case 273:case 33:case 132:return ie(Gt).toString();case 53:case 54:case 55:case 56:case 400:case 777:return _e(Gt);case 421:return et(Gt);case 444:return at(Gt);case 445:return at(Gt);default:return P(Gt,"base16")}},we.toBytes=function(st,Gt){switch(n(st).code){case 4:return q(Gt);case 41:return q(Gt);case 6:case 273:case 33:case 132:return I(parseInt(Gt,10));case 53:case 54:case 55:case 56:case 400:case 777:return he(Gt);case 421:return Ie(Gt);case 444:return Wt(Gt);case 445:return ot(Gt);default:return V(Gt,"base16")}};function q(st){if(!r.isIP(st))throw new Error("invalid ip address");return r.toBytes(st)}function L(st){let Gt=r.toString(st);if(!Gt||!r.isIP(Gt))throw new Error("invalid ip address");return Gt}function I(st){let Gt=new ArrayBuffer(2);return new DataView(Gt).setUint16(0,st),new Uint8Array(Gt)}function ie(st){return new DataView(st.buffer).getUint16(st.byteOffset)}function he(st){let Gt=V(st),vr=Uint8Array.from(k.encode(Gt.length));return X([vr,Gt],vr.length+Gt.length)}function _e(st){let Gt=k.decode(st);if(st=st.slice(k.decode.bytes),st.length!==Gt)throw new Error("inconsistent lengths");return P(st)}function Ie(st){let Gt;st[0]==="Q"||st[0]==="1"?Gt=y.decode(w.decode(`z${st}`)).bytes:Gt=o.parse(st).multihash.bytes;let vr=Uint8Array.from(k.encode(Gt.length));return X([vr,Gt],vr.length+Gt.length)}function et(st){let Gt=k.decode(st),vr=st.slice(k.decode.bytes);if(vr.length!==Gt)throw new Error("inconsistent lengths");return P(vr,"base58btc")}function Wt(st){let Gt=st.split(":");if(Gt.length!==2)throw new Error("failed to parse onion addr: "+Gt+" does not contain a port number");if(Gt[0].length!==16)throw new Error("failed to parse onion addr: "+Gt[0]+" not a Tor onion address.");let vr=s.decode("b"+Gt[0]),sr=parseInt(Gt[1],10);if(sr<1||sr>65536)throw new Error("Port number is not in range(1, 65536)");let Kr=I(sr);return X([vr,Kr],vr.length+Kr.length)}function ot(st){let Gt=st.split(":");if(Gt.length!==2)throw new Error("failed to parse onion addr: "+Gt+" does not contain a port number");if(Gt[0].length!==56)throw new Error("failed to parse onion addr: "+Gt[0]+" not a Tor onion3 address.");let vr=s.decode("b"+Gt[0]),sr=parseInt(Gt[1],10);if(sr<1||sr>65536)throw new Error("Port number is not in range(1, 65536)");let Kr=I(sr);return X([vr,Kr],vr.length+Kr.length)}function at(st){let Gt=st.slice(0,st.length-2),vr=st.slice(st.length-2),sr=P(Gt,"base32"),Kr=ie(vr);return sr+":"+Kr}}),Sg=h((e,t)=>{u();var r=hg(),n=rs$1(),o=xi(),{concat:s}=(Ho(),ue(Yu)),{toString:w}=(ke$1(),ue(fi$1));t.exports={stringToStringTuples:y,stringTuplesToString:k,tuplesToStringTuples:V,stringTuplesToTuples:P,bytesToTuples:q,tuplesToBytes:X,bytesToString:L,stringToBytes:I,fromString:ie,fromBytes:he,validateBytes:_e,isValidBytes:Ie,cleanPath:et,ParseError:Wt,protoFromTuple:ot,sizeForAddr:we};function y(at){let st=[],Gt=at.split("/").slice(1);if(Gt.length===1&&Gt[0]==="")return[];for(let vr=0;vr<Gt.length;vr++){let sr=Gt[vr],Kr=n(sr);if(Kr.size===0){st.push([sr]);continue}if(vr++,vr>=Gt.length)throw Wt("invalid address: "+at);if(Kr.path){st.push([sr,et(Gt.slice(vr).join("/"))]);break}st.push([sr,Gt[vr]])}return st}function k(at){let st=[];return at.map(Gt=>{let vr=ot(Gt);return st.push(vr.name),Gt.length>1&&st.push(Gt[1]),null}),et(st.join("/"))}function P(at){return at.map(st=>{Array.isArray(st)||(st=[st]);let Gt=ot(st);return st.length>1?[Gt.code,r.toBytes(Gt.code,st[1])]:[Gt.code]})}function V(at){return at.map(st=>{let Gt=ot(st);return st[1]?[Gt.code,r.toString(Gt.code,st[1])]:[Gt.code]})}function X(at){return he(s(at.map(st=>{let Gt=ot(st),vr=Uint8Array.from(o.encode(Gt.code));return st.length>1&&(vr=s([vr,st[1]])),vr})))}function we(at,st){return at.size>0?at.size/8:at.size===0?0:o.decode(st)+o.decode.bytes}function q(at){let st=[],Gt=0;for(;Gt<at.length;){let vr=o.decode(at,Gt),sr=o.decode.bytes,Kr=n(vr),Qr=we(Kr,at.slice(Gt+sr));if(Qr===0){st.push([vr]),Gt+=sr;continue}let ao=at.slice(Gt+sr,Gt+sr+Qr);if(Gt+=Qr+sr,Gt>at.length)throw Wt("Invalid address Uint8Array: "+w(at,"base16"));st.push([vr,ao])}return st}function L(at){let st=q(at),Gt=V(st);return k(Gt)}function I(at){at=et(at);let st=y(at),Gt=P(st);return X(Gt)}function ie(at){return I(at)}function he(at){let st=_e(at);if(st)throw st;return Uint8Array.from(at)}function _e(at){try{q(at)}catch(st){return st}}function Ie(at){return _e(at)===void 0}function et(at){return"/"+at.trim().split("/").filter(st=>st).join("/")}function Wt(at){return new Error("Error parsing address: "+at)}function ot(at){return n(at[0])}}),Cg={};G$1(Cg,{equals:()=>pD});function pD(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var Og=B(()=>{u()}),Bg=h((e,t)=>{u();var r=Sg(),n=rs$1(),o=xi(),{CID:s}=(ge(),ue(Xa)),{base58btc:w}=(an(),ue(si$1)),y=dt$1(),k=Symbol.for("nodejs.util.inspect.custom"),{toString:P}=(ke$1(),ue(fi$1)),{equals:V}=(Og(),ue(Cg)),X=new Map,we=Symbol.for("@multiformats/js-multiaddr/multiaddr"),q=class{constructor(I){if(I==null&&(I=""),Object.defineProperty(this,we,{value:!0}),I instanceof Uint8Array)this.bytes=r.fromBytes(I);else if(typeof I=="string"){if(I.length>0&&I.charAt(0)!=="/")throw new Error(`multiaddr "${I}" must start with a "/"`);this.bytes=r.fromString(I)}else if(q.isMultiaddr(I))this.bytes=r.fromBytes(I.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return r.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let I={},ie=this.toString().split("/");return I.family=ie[1]==="ip4"?4:6,I.host=ie[2],I.transport=ie[3],I.port=parseInt(ie[4]),I}protos(){return this.protoCodes().map(I=>Object.assign({},n(I)))}protoCodes(){let I=[],ie=this.bytes,he=0;for(;he<ie.length;){let _e=o.decode(ie,he),Ie=o.decode.bytes,et=n(_e);he+=r.sizeForAddr(et,ie.slice(he+Ie))+Ie,I.push(_e)}return I}protoNames(){return this.protos().map(I=>I.name)}tuples(){return r.bytesToTuples(this.bytes)}stringTuples(){let I=r.bytesToTuples(this.bytes);return r.tuplesToStringTuples(I)}encapsulate(I){return I=new q(I),new q(this.toString()+I.toString())}decapsulate(I){let ie=I.toString(),he=this.toString(),_e=he.lastIndexOf(ie);if(_e<0)throw new Error("Address "+this+" does not contain subaddress: "+I);return new q(he.slice(0,_e))}decapsulateCode(I){let ie=this.tuples();for(let he=ie.length-1;he>=0;he--)if(ie[he][0]===I)return new q(r.tuplesToBytes(ie.slice(0,he)));return this}getPeerId(){try{let I=this.stringTuples().filter(ie=>ie[0]===n.names.ipfs.code).pop();if(I&&I[1]){let ie=I[1];return ie[0]==="Q"||ie[0]==="1"?P(w.decode(`z${ie}`),"base58btc"):P(s.parse(ie).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let I=null;try{I=this.stringTuples().filter(ie=>!!n(ie[0]).path)[0][1],I||(I=null)}catch{I=null}return I}equals(I){return V(this.bytes,I.bytes)}async resolve(){let I=this.protos().find(he=>he.resolvable);if(!I)return[this];let ie=X.get(I.name);if(!ie)throw y(new Error(`no available resolver for ${I.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await ie(this)).map(he=>new q(he))}nodeAddress(){let I=this.protoCodes(),ie=this.protoNames(),he=this.toString().split("/").slice(1);if(he.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(I[0]!==4&&I[0]!==41&&I[0]!==54&&I[0]!==55)throw new Error(`no protocol with name: "'${ie[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(he[2]!=="tcp"&&he[2]!=="udp")throw new Error(`no protocol with name: "'${ie[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:I[0]===41||I[0]===55?6:4,address:he[1],port:parseInt(he[3])}}isThinWaistAddress(I){let ie=(I||this).protos();return!(ie.length!==2||ie[0].code!==4&&ie[0].code!==41||ie[1].code!==6&&ie[1].code!==273)}static fromNodeAddress(I,ie){if(!I)throw new Error("requires node address object");if(!ie)throw new Error("requires transport protocol");let he;switch(I.family){case 4:he="ip4";break;case 6:he="ip6";break;default:throw Error(`Invalid addr family. Got '${I.family}' instead of 4 or 6`)}return new q("/"+[he,I.address,ie,I.port].join("/"))}static isName(I){return q.isMultiaddr(I)?I.protos().some(ie=>ie.resolvable):!1}static isMultiaddr(I){return I instanceof q||Boolean(I&&I[we])}[k](){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}};q.protocols=n,q.resolvers=X;function L(I){return new q(I)}t.exports={Multiaddr:q,multiaddr:L,protocols:n,resolvers:X}}),$g=h((e,t)=>{u(),t.exports=w,t.exports.format=y,t.exports.parse=k;var r=/\B(?=(\d{3})+(?!\d))/g,n=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1<<10,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},s=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function w(P,V){return typeof P=="string"?k(P):typeof P=="number"?y(P,V):null}function y(P,V){if(!Number.isFinite(P))return null;var X=Math.abs(P),we=V&&V.thousandsSeparator||"",q=V&&V.unitSeparator||"",L=V&&V.decimalPlaces!==void 0?V.decimalPlaces:2,I=Boolean(V&&V.fixedDecimals),ie=V&&V.unit||"";(!ie||!o[ie.toLowerCase()])&&(X>=o.pb?ie="PB":X>=o.tb?ie="TB":X>=o.gb?ie="GB":X>=o.mb?ie="MB":X>=o.kb?ie="KB":ie="B");var he=P/o[ie.toLowerCase()],_e=he.toFixed(L);return I||(_e=_e.replace(n,"$1")),we&&(_e=_e.split(".").map(function(Ie,et){return et===0?Ie.replace(r,we):Ie}).join(".")),_e+q+ie}function k(P){if(typeof P=="number"&&!isNaN(P))return P;if(typeof P!="string")return null;var V=s.exec(P),X,we="b";return V?(X=parseFloat(V[1]),we=V[4].toLowerCase()):(X=parseInt(P,10),we="b"),isNaN(X)?null:Math.floor(o[we]*X)}}),xc$1=h((e,t)=>{u(),t.exports=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let n=Object.getPrototypeOf(r);return n===null||n===Object.prototype}}),Jg=h((e,t)=>{u();var r=xc$1(),{hasOwnProperty:n}=Object.prototype,{propertyIsEnumerable:o}=Object,s=(I,ie,he)=>Object.defineProperty(I,ie,{value:he,writable:!0,enumerable:!0,configurable:!0}),w=e,y={concatArrays:!1,ignoreUndefined:!1},k=I=>{let ie=[];for(let he in I)n.call(I,he)&&ie.push(he);if(Object.getOwnPropertySymbols){let he=Object.getOwnPropertySymbols(I);for(let _e of he)o.call(I,_e)&&ie.push(_e)}return ie};function P(I){return Array.isArray(I)?V(I):r(I)?X(I):I}function V(I){let ie=I.slice(0,0);return k(I).forEach(he=>{s(ie,he,P(I[he]))}),ie}function X(I){let ie=Object.getPrototypeOf(I)===null?Object.create(null):{};return k(I).forEach(he=>{s(ie,he,P(I[he]))}),ie}var we=(I,ie,he,_e)=>(he.forEach(Ie=>{typeof ie[Ie]>"u"&&_e.ignoreUndefined||(Ie in I&&I[Ie]!==Object.getPrototypeOf(I)?s(I,Ie,L(I[Ie],ie[Ie],_e)):s(I,Ie,P(ie[Ie])))}),I),q=(I,ie,he)=>{let _e=I.slice(0,0),Ie=0;return[I,ie].forEach(et=>{let Wt=[];for(let ot=0;ot<et.length;ot++)!n.call(et,ot)||(Wt.push(String(ot)),et===I?s(_e,Ie++,et[ot]):s(_e,Ie++,P(et[ot])));_e=we(_e,et,k(et).filter(ot=>!Wt.includes(ot)),he)}),_e};function L(I,ie,he){return he.concatArrays&&Array.isArray(I)&&Array.isArray(ie)?q(I,ie,he):!r(ie)||!r(I)?P(ie):we(I,ie,k(ie),he)}t.exports=function(...I){let ie=L(P(y),this!==w&&this||{},y),he={_:{}};for(let _e of I)if(_e!==void 0){if(!r(_e))throw new TypeError("`"+_e+"` is not an Option Object");he=L(he,{_:_e},ie)}return he._}}),Cc$1=h((e,t)=>{u();var r=Object.prototype.hasOwnProperty,n="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(n=!1));function s(P,V,X){this.fn=P,this.context=V,this.once=X||!1}function w(P,V,X,we,q){if(typeof X!="function")throw new TypeError("The listener must be a function");var L=new s(X,we||P,q),I=n?n+V:V;return P._events[I]?P._events[I].fn?P._events[I]=[P._events[I],L]:P._events[I].push(L):(P._events[I]=L,P._eventsCount++),P}function y(P,V){--P._eventsCount===0?P._events=new o:delete P._events[V]}function k(){this._events=new o,this._eventsCount=0}k.prototype.eventNames=function(){var P=[],V,X;if(this._eventsCount===0)return P;for(X in V=this._events)r.call(V,X)&&P.push(n?X.slice(1):X);return Object.getOwnPropertySymbols?P.concat(Object.getOwnPropertySymbols(V)):P},k.prototype.listeners=function(P){var V=n?n+P:P,X=this._events[V];if(!X)return[];if(X.fn)return[X.fn];for(var we=0,q=X.length,L=new Array(q);we<q;we++)L[we]=X[we].fn;return L},k.prototype.listenerCount=function(P){var V=n?n+P:P,X=this._events[V];return X?X.fn?1:X.length:0},k.prototype.emit=function(P,V,X,we,q,L){var I=n?n+P:P;if(!this._events[I])return!1;var ie=this._events[I],he=arguments.length,_e,Ie;if(ie.fn){switch(ie.once&&this.removeListener(P,ie.fn,void 0,!0),he){case 1:return ie.fn.call(ie.context),!0;case 2:return ie.fn.call(ie.context,V),!0;case 3:return ie.fn.call(ie.context,V,X),!0;case 4:return ie.fn.call(ie.context,V,X,we),!0;case 5:return ie.fn.call(ie.context,V,X,we,q),!0;case 6:return ie.fn.call(ie.context,V,X,we,q,L),!0}for(Ie=1,_e=new Array(he-1);Ie<he;Ie++)_e[Ie-1]=arguments[Ie];ie.fn.apply(ie.context,_e)}else{var et=ie.length,Wt;for(Ie=0;Ie<et;Ie++)switch(ie[Ie].once&&this.removeListener(P,ie[Ie].fn,void 0,!0),he){case 1:ie[Ie].fn.call(ie[Ie].context);break;case 2:ie[Ie].fn.call(ie[Ie].context,V);break;case 3:ie[Ie].fn.call(ie[Ie].context,V,X);break;case 4:ie[Ie].fn.call(ie[Ie].context,V,X,we);break;default:if(!_e)for(Wt=1,_e=new Array(he-1);Wt<he;Wt++)_e[Wt-1]=arguments[Wt];ie[Ie].fn.apply(ie[Ie].context,_e)}}return!0},k.prototype.on=function(P,V,X){return w(this,P,V,X,!1)},k.prototype.once=function(P,V,X){return w(this,P,V,X,!0)},k.prototype.removeListener=function(P,V,X,we){var q=n?n+P:P;if(!this._events[q])return this;if(!V)return y(this,q),this;var L=this._events[q];if(L.fn)L.fn===V&&(!we||L.once)&&(!X||L.context===X)&&y(this,q);else{for(var I=0,ie=[],he=L.length;I<he;I++)(L[I].fn!==V||we&&!L[I].once||X&&L[I].context!==X)&&ie.push(L[I]);ie.length?this._events[q]=ie.length===1?ie[0]:ie:y(this,q)}return this},k.prototype.removeAllListeners=function(P){var V;return P?(V=n?n+P:P,this._events[V]&&y(this,V)):(this._events=new o,this._eventsCount=0),this},k.prototype.off=k.prototype.removeListener,k.prototype.addListener=k.prototype.on,k.prefixed=n,k.EventEmitter=k,typeof t<"u"&&(t.exports=k)}),om=h((e,t)=>{u(),t.exports=(r,n)=>(n=n||(()=>{}),r.then(o=>new Promise(s=>{s(n())}).then(()=>o),o=>new Promise(s=>{s(n())}).then(()=>{throw o})))}),Oc=h((e,t)=>{u();var r=om(),n=class extends Error{constructor(s){super(s),this.name="TimeoutError"}},o=(s,w,y)=>new Promise((k,P)=>{if(typeof w!="number"||w<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(w===1/0){k(s);return}let V=setTimeout(()=>{if(typeof y=="function"){try{k(y())}catch(q){P(q)}return}let X=typeof y=="string"?y:`Promise timed out after ${w} milliseconds`,we=y instanceof Error?y:new n(X);typeof s.cancel=="function"&&s.cancel(),P(we)},w);r(s.then(k,P),()=>{clearTimeout(V)})});t.exports=o,t.exports.default=o,t.exports.TimeoutError=n}),am=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,o){let s=0,w=r.length;for(;w>0;){let y=w/2|0,k=s+y;o(r[k],n)<=0?(s=++k,w-=y+1):w=y}return s}e.default=t}),um=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=am(),r=class{constructor(){this._queue=[]}enqueue(n,o){o=Object.assign({priority:0},o);let s={priority:o.priority,run:n};if(this.size&&this._queue[this.size-1].priority>=o.priority){this._queue.push(s);return}let w=t.default(this._queue,s,(y,k)=>k.priority-y.priority);this._queue.splice(w,0,s)}dequeue(){let n=this._queue.shift();return n==null?void 0:n.run}filter(n){return this._queue.filter(o=>o.priority===n.priority).map(o=>o.run)}get size(){return this._queue.length}};e.default=r}),fm=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Cc$1(),r=Oc(),n=um(),o=()=>{},s=new r.TimeoutError,w=class extends t{constructor(y){var k,P,V,X;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,y=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},y),!(typeof y.intervalCap=="number"&&y.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(P=(k=y.intervalCap)===null||k===void 0?void 0:k.toString())!==null&&P!==void 0?P:""}\` (${typeof y.intervalCap})`);if(y.interval===void 0||!(Number.isFinite(y.interval)&&y.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(X=(V=y.interval)===null||V===void 0?void 0:V.toString())!==null&&X!==void 0?X:""}\` (${typeof y.interval})`);this._carryoverConcurrencyCount=y.carryoverConcurrencyCount,this._isIntervalIgnored=y.intervalCap===1/0||y.interval===0,this._intervalCap=y.intervalCap,this._interval=y.interval,this._queue=new y.queueClass,this._queueClass=y.queueClass,this.concurrency=y.concurrency,this._timeout=y.timeout,this._throwOnTimeout=y.throwOnTimeout===!0,this._isPaused=y.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let y=Date.now();if(this._intervalId===void 0){let k=this._intervalEnd-y;if(k<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},k)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let y=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let k=this._queue.dequeue();return k?(this.emit("active"),k(),y&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(y){if(!(typeof y=="number"&&y>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${y}\` (${typeof y})`);this._concurrency=y,this._processQueue()}async add(y,k={}){return new Promise((P,V)=>{let X=async()=>{this._pendingCount++,this._intervalCount++;try{let we=this._timeout===void 0&&k.timeout===void 0?y():r.default(Promise.resolve(y()),k.timeout===void 0?this._timeout:k.timeout,()=>{(k.throwOnTimeout===void 0?this._throwOnTimeout:k.throwOnTimeout)&&V(s)});P(await we)}catch(we){V(we)}this._next()};this._queue.enqueue(X,k),this._tryToStartAnother(),this.emit("add")})}async addAll(y,k){return Promise.all(y.map(async P=>this.add(P,k)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(y=>{let k=this._resolveEmpty;this._resolveEmpty=()=>{k(),y()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(y=>{let k=this._resolveIdle;this._resolveIdle=()=>{k(),y()}})}get size(){return this._queue.size}sizeBy(y){return this._queue.filter(y).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(y){this._timeout=y}};e.default=w}),pm=h((e,t)=>{u(),t.exports=r;function r(o,s,w){var y,k;if(Array.isArray(s)&&(y=s.slice(0)),typeof s=="string"&&(y=s.split(".")),typeof s=="symbol"&&(y=[s]),!Array.isArray(y))throw new Error("props arg must be an array, a string or a symbol");if(k=y.pop(),!k)return!1;n(k);for(var P;P=y.shift();)if(n(P),typeof o[P]>"u"&&(o[P]={}),o=o[P],!o||typeof o!="object")return!1;return o[k]=w,!0}function n(o){if(o==="__proto__"||o==="constructor"||o==="prototype")throw new Error("setting of prototype values not supported")}}),wm=h((e,t)=>{u();var r=xc$1();t.exports=(n,o={})=>{if(!r(n)&&!Array.isArray(n))throw new TypeError("Expected a plain object or array");let{deep:s}=o,w=[],y=[],k=V=>{let X=w.indexOf(V);if(X!==-1)return y[X];let we=[];return w.push(V),y.push(we),we.push(...V.map(q=>Array.isArray(q)?k(q):r(q)?P(q):q)),we},P=V=>{let X=w.indexOf(V);if(X!==-1)return y[X];let we={},q=Object.keys(V).sort(o.compare);w.push(V),y.push(we);for(let L of q){let I=V[L],ie;s&&Array.isArray(I)?ie=k(I):ie=s&&r(I)?P(I):I,Object.defineProperty(we,L,{...Object.getOwnPropertyDescriptor(V,L),value:ie})}return we};return Array.isArray(n)?s?k(n):n.slice():P(n)}}),Or=h((e,t)=>{u();var r=async function*(n,o){for await(let s of n)await o(s)&&(yield s)};t.exports=r}),Dm=h((e,t)=>{u(),t.exports=class{constructor(r){if(!(r>0)||(r-1&r)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(r),this.mask=r-1,this.top=0,this.btm=0,this.next=null}push(r){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=r,this.top=this.top+1&this.mask,!0)}shift(){let r=this.buffer[this.btm];if(r!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,r}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}}),Fi$1=h((e,t)=>{u();var r=Dm();t.exports=class{constructor(n){this.hwm=n||16,this.head=new r(this.hwm),this.tail=this.head}push(n){if(!this.head.push(n)){let o=this.head;this.head=o.next=new r(2*this.head.buffer.length),this.head.push(n)}}shift(){let n=this.tail.shift();if(n===void 0&&this.tail.next){let o=this.tail.next;return this.tail.next=null,this.tail=o,this.tail.shift()}return n}peek(){return this.tail.peek()}isEmpty(){return this.head.isEmpty()}}}),Om=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let s=new r,w,y,k,P=()=>{if(!s.isEmpty()){if(n.writev){let _e,Ie=[];for(;!s.isEmpty();){if(_e=s.shift(),_e.error)throw _e.error;Ie.push(_e.value)}return{done:_e.done,value:Ie}}let he=s.shift();if(he.error)throw he.error;return he}return k?{done:!0}:new Promise((he,_e)=>{y=Ie=>(y=null,Ie.error?_e(Ie.error):n.writev&&!Ie.done?he({done:Ie.done,value:[Ie.value]}):he(Ie),w)})},V=he=>y?y(he):(s.push(he),w),X=he=>(s=new r,y?y({error:he}):(s.push({error:he}),w)),we=he=>k?w:V({done:!1,value:he}),q=he=>k?w:(k=!0,he?X(he):V({done:!0})),L=()=>(s=new r,q(),{done:!0}),I=he=>(q(he),{done:!0});if(w={[Symbol.asyncIterator](){return this},next:P,return:L,throw:I,push:we,end:q},!o)return w;let ie=w;return w={[Symbol.asyncIterator](){return this},next(){return ie.next()},throw(he){return ie.throw(he),o&&(o(he),o=null),{done:!0}},return(){return ie.return(),o&&(o(),o=null),{done:!0}},push:we,end(he){return ie.end(he),o&&(o(he),o=null),w}},w}}),On$1=h((e,t)=>{u();var r=async n=>{for await(let o of n);};t.exports=r}),qm=h((e,t)=>{u();var r=async n=>{for await(let o of n)return o};t.exports=r}),Mi$1=h((e,t)=>{u();var r=async function*(n,o){for await(let s of n)yield o(s)};t.exports=r}),Rn=h((e,t)=>{u();var r=typeof Reflect=="object"?Reflect:null,n=r&&typeof r.apply=="function"?r.apply:function(ot,at,st){return Function.prototype.apply.call(ot,at,st)},o;r&&typeof r.ownKeys=="function"?o=r.ownKeys:Object.getOwnPropertySymbols?o=function(ot){return Object.getOwnPropertyNames(ot).concat(Object.getOwnPropertySymbols(ot))}:o=function(ot){return Object.getOwnPropertyNames(ot)};function s(ot){console&&console.warn&&console.warn(ot)}var w=Number.isNaN||function(ot){return ot!==ot};function y(){y.init.call(this)}t.exports=y,t.exports.once=Ie,y.EventEmitter=y,y.prototype._events=void 0,y.prototype._eventsCount=0,y.prototype._maxListeners=void 0;var k=10;function P(ot){if(typeof ot!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ot)}Object.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return k},set:function(ot){if(typeof ot!="number"||ot<0||w(ot))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ot+".");k=ot}}),y.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},y.prototype.setMaxListeners=function(ot){if(typeof ot!="number"||ot<0||w(ot))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ot+".");return this._maxListeners=ot,this};function V(ot){return ot._maxListeners===void 0?y.defaultMaxListeners:ot._maxListeners}y.prototype.getMaxListeners=function(){return V(this)},y.prototype.emit=function(ot){for(var at=[],st=1;st<arguments.length;st++)at.push(arguments[st]);var Gt=ot==="error",vr=this._events;if(vr!==void 0)Gt=Gt&&vr.error===void 0;else if(!Gt)return!1;if(Gt){var sr;if(at.length>0&&(sr=at[0]),sr instanceof Error)throw sr;var Kr=new Error("Unhandled error."+(sr?" ("+sr.message+")":""));throw Kr.context=sr,Kr}var Qr=vr[ot];if(Qr===void 0)return!1;if(typeof Qr=="function")n(Qr,this,at);else for(var ao=Qr.length,ni=ie(Qr,ao),st=0;st<ao;++st)n(ni[st],this,at);return!0};function X(ot,at,st,Gt){var vr,sr,Kr;if(P(st),sr=ot._events,sr===void 0?(sr=ot._events=Object.create(null),ot._eventsCount=0):(sr.newListener!==void 0&&(ot.emit("newListener",at,st.listener?st.listener:st),sr=ot._events),Kr=sr[at]),Kr===void 0)Kr=sr[at]=st,++ot._eventsCount;else if(typeof Kr=="function"?Kr=sr[at]=Gt?[st,Kr]:[Kr,st]:Gt?Kr.unshift(st):Kr.push(st),vr=V(ot),vr>0&&Kr.length>vr&&!Kr.warned){Kr.warned=!0;var Qr=new Error("Possible EventEmitter memory leak detected. "+Kr.length+" "+String(at)+" listeners added. Use emitter.setMaxListeners() to increase limit");Qr.name="MaxListenersExceededWarning",Qr.emitter=ot,Qr.type=at,Qr.count=Kr.length,s(Qr)}return ot}y.prototype.addListener=function(ot,at){return X(this,ot,at,!1)},y.prototype.on=y.prototype.addListener,y.prototype.prependListener=function(ot,at){return X(this,ot,at,!0)};function we(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function q(ot,at,st){var Gt={fired:!1,wrapFn:void 0,target:ot,type:at,listener:st},vr=we.bind(Gt);return vr.listener=st,Gt.wrapFn=vr,vr}y.prototype.once=function(ot,at){return P(at),this.on(ot,q(this,ot,at)),this},y.prototype.prependOnceListener=function(ot,at){return P(at),this.prependListener(ot,q(this,ot,at)),this},y.prototype.removeListener=function(ot,at){var st,Gt,vr,sr,Kr;if(P(at),Gt=this._events,Gt===void 0)return this;if(st=Gt[ot],st===void 0)return this;if(st===at||st.listener===at)--this._eventsCount===0?this._events=Object.create(null):(delete Gt[ot],Gt.removeListener&&this.emit("removeListener",ot,st.listener||at));else if(typeof st!="function"){for(vr=-1,sr=st.length-1;sr>=0;sr--)if(st[sr]===at||st[sr].listener===at){Kr=st[sr].listener,vr=sr;break}if(vr<0)return this;vr===0?st.shift():he(st,vr),st.length===1&&(Gt[ot]=st[0]),Gt.removeListener!==void 0&&this.emit("removeListener",ot,Kr||at)}return this},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(ot){var at,st,Gt;if(st=this._events,st===void 0)return this;if(st.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):st[ot]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete st[ot]),this;if(arguments.length===0){var vr=Object.keys(st),sr;for(Gt=0;Gt<vr.length;++Gt)sr=vr[Gt],sr!=="removeListener"&&this.removeAllListeners(sr);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(at=st[ot],typeof at=="function")this.removeListener(ot,at);else if(at!==void 0)for(Gt=at.length-1;Gt>=0;Gt--)this.removeListener(ot,at[Gt]);return this};function L(ot,at,st){var Gt=ot._events;if(Gt===void 0)return[];var vr=Gt[at];return vr===void 0?[]:typeof vr=="function"?st?[vr.listener||vr]:[vr]:st?_e(vr):ie(vr,vr.length)}y.prototype.listeners=function(ot){return L(this,ot,!0)},y.prototype.rawListeners=function(ot){return L(this,ot,!1)},y.listenerCount=function(ot,at){return typeof ot.listenerCount=="function"?ot.listenerCount(at):I.call(ot,at)},y.prototype.listenerCount=I;function I(ot){var at=this._events;if(at!==void 0){var st=at[ot];if(typeof st=="function")return 1;if(st!==void 0)return st.length}return 0}y.prototype.eventNames=function(){return this._eventsCount>0?o(this._events):[]};function ie(ot,at){for(var st=new Array(at),Gt=0;Gt<at;++Gt)st[Gt]=ot[Gt];return st}function he(ot,at){for(;at+1<ot.length;at++)ot[at]=ot[at+1];ot.pop()}function _e(ot){for(var at=new Array(ot.length),st=0;st<at.length;++st)at[st]=ot[st].listener||ot[st];return at}function Ie(ot,at){return new Promise(function(st,Gt){function vr(Kr){ot.removeListener(at,sr),Gt(Kr)}function sr(){typeof ot.removeListener=="function"&&ot.removeListener("error",vr),st([].slice.call(arguments))}Wt(ot,at,sr,{once:!0}),at!=="error"&&et(ot,vr,{once:!0})})}function et(ot,at,st){typeof ot.on=="function"&&Wt(ot,"error",at,st)}function Wt(ot,at,st,Gt){if(typeof ot.on=="function")Gt.once?ot.once(at,st):ot.on(at,st);else if(typeof ot.addEventListener=="function")ot.addEventListener(at,function vr(sr){Gt.once&&ot.removeEventListener(at,vr),st(sr)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ot)}}),Vc=h((e,t)=>{u(),t.exports={WORKER_REQUEST_READ_LOCK:"lock:worker:request-read",WORKER_RELEASE_READ_LOCK:"lock:worker:release-read",MASTER_GRANT_READ_LOCK:"lock:master:grant-read",WORKER_REQUEST_WRITE_LOCK:"lock:worker:request-write",WORKER_RELEASE_WRITE_LOCK:"lock:worker:release-write",MASTER_GRANT_WRITE_LOCK:"lock:master:grant-write"}}),aw=h(()=>{u()}),mw=h((e,t)=>{u();var r=Rn().EventEmitter,{nanoid:n}=(xo(),ue(tu)),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:s,MASTER_GRANT_READ_LOCK:w,WORKER_REQUEST_WRITE_LOCK:y,WORKER_RELEASE_WRITE_LOCK:k,MASTER_GRANT_WRITE_LOCK:P}=Vc(),V,X=(q,L,I,ie,he)=>(_e,Ie)=>{Ie&&Ie.type===I&&q.emit(L,Ie.name,()=>(_e.send({type:he,name:Ie.name,identifier:Ie.identifier}),new Promise(et=>{let Wt=ot=>{ot&&ot.type===ie&&ot.identifier===Ie.identifier&&(_e.removeListener("message",Wt),et())};_e.on("message",Wt)})))},we=(q,L,I,ie)=>()=>{let he=n();return process.send({type:L,identifier:he,name:q}),new Promise(_e=>{let Ie=et=>{et&&et.type===I&&et.identifier===he&&(process.removeListener("message",Ie),_e(()=>{process.send({type:ie,identifier:he,name:q})}))};process.on("message",Ie)})};t.exports=q=>{try{if(V=aw(),!Object.keys(V).length)return}catch{return}if(V.isMaster||q.singleProcess){let L=new r;return V.on("message",X(L,"requestReadLock",o,s,w)),V.on("message",X(L,"requestWriteLock",y,k,P)),L}return{isWorker:!0,readLock:L=>we(L,o,w,s),writeLock:L=>we(L,y,P,k)}}}),Gc=h((e,t)=>{u();var r={},n=o=>{o.addEventListener("message",s=>{n.dispatchEvent("message",o,s)}),o.port&&o.port.addEventListener("message",s=>{n.dispatchEvent("message",o,s)})};n.addEventListener=(o,s)=>{r[o]||(r[o]=[]),r[o].push(s)},n.removeEventListener=(o,s)=>{!r[o]||(r[o]=r[o].filter(w=>w===s))},n.dispatchEvent=function(){let o=Array.prototype.slice.call(arguments),s=o.shift();!r[s]||r[s].forEach(w=>w.apply(null,o))},t.exports=n}),Tw=h((e,t)=>{u();var r=Rn().EventEmitter,{nanoid:n}=(xo(),ue(tu)),{WORKER_REQUEST_READ_LOCK:o,WORKER_RELEASE_READ_LOCK:s,MASTER_GRANT_READ_LOCK:w,WORKER_REQUEST_WRITE_LOCK:y,WORKER_RELEASE_WRITE_LOCK:k,MASTER_GRANT_WRITE_LOCK:P}=Vc(),V=Gc(),X=(L,I,ie,he,_e)=>(Ie,et)=>{if(!et||!et.data||et.data.type!==ie)return;let Wt={type:et.data.type,name:et.data.name,identifier:et.data.identifier};L.emit(I,Wt.name,()=>(Ie.postMessage({type:_e,name:Wt.name,identifier:Wt.identifier}),new Promise(ot=>{let at=st=>{if(!st||!st.data)return;let Gt={type:st.data.type,name:st.data.name,identifier:st.data.identifier};Gt&&Gt.type===he&&Gt.identifier===Wt.identifier&&(Ie.removeEventListener("message",at),ot())};Ie.addEventListener("message",at)})))},we=(L,I,ie,he)=>()=>{let _e=n();return globalThis.postMessage({type:I,identifier:_e,name:L}),new Promise(Ie=>{let et=Wt=>{if(!Wt||!Wt.data)return;let ot={type:Wt.data.type,identifier:Wt.data.identifier};ot&&ot.type===ie&&ot.identifier===_e&&(globalThis.removeEventListener("message",et),Ie(()=>{globalThis.postMessage({type:he,identifier:_e,name:L})}))};globalThis.addEventListener("message",et)})},q={singleProcess:!1};t.exports=L=>{if(L=Object.assign({},q,L),!!globalThis.document||L.singleProcess){let I=new r;return V.addEventListener("message",X(I,"requestReadLock",o,s,w)),V.addEventListener("message",X(I,"requestWriteLock",y,k,P)),I}return{isWorker:!0,readLock:I=>we(I,o,w,s),writeLock:I=>we(I,y,P,k)}}}),Iw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});function t(r,n,o){let s=0,w=r.length;for(;w>0;){let y=w/2|0,k=s+y;o(r[k],n)<=0?(s=++k,w-=y+1):w=y}return s}e.default=t}),Rw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Iw(),r=class{constructor(){this._queue=[]}enqueue(n,o){o=Object.assign({priority:0},o);let s={priority:o.priority,run:n};if(this.size&&this._queue[this.size-1].priority>=o.priority){this._queue.push(s);return}let w=t.default(this._queue,s,(y,k)=>k.priority-y.priority);this._queue.splice(w,0,s)}dequeue(){let n=this._queue.shift();return n==null?void 0:n.run}filter(n){return this._queue.filter(o=>o.priority===n.priority).map(o=>o.run)}get size(){return this._queue.length}};e.default=r}),Pw=h(e=>{u(),Object.defineProperty(e,"__esModule",{value:!0});var t=Cc$1(),r=Oc(),n=Rw(),o=()=>{},s=new r.TimeoutError,w=class extends t{constructor(y){var k,P,V,X;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o,this._resolveIdle=o,y=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:n.default},y),!(typeof y.intervalCap=="number"&&y.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(P=(k=y.intervalCap)===null||k===void 0?void 0:k.toString())!==null&&P!==void 0?P:""}\` (${typeof y.intervalCap})`);if(y.interval===void 0||!(Number.isFinite(y.interval)&&y.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(X=(V=y.interval)===null||V===void 0?void 0:V.toString())!==null&&X!==void 0?X:""}\` (${typeof y.interval})`);this._carryoverConcurrencyCount=y.carryoverConcurrencyCount,this._isIntervalIgnored=y.intervalCap===1/0||y.interval===0,this._intervalCap=y.intervalCap,this._interval=y.interval,this._queue=new y.queueClass,this._queueClass=y.queueClass,this.concurrency=y.concurrency,this._timeout=y.timeout,this._throwOnTimeout=y.throwOnTimeout===!0,this._isPaused=y.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=o,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let y=Date.now();if(this._intervalId===void 0){let k=this._intervalEnd-y;if(k<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},k)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let y=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let k=this._queue.dequeue();return k?(this.emit("active"),k(),y&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(y){if(!(typeof y=="number"&&y>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${y}\` (${typeof y})`);this._concurrency=y,this._processQueue()}async add(y,k={}){return new Promise((P,V)=>{let X=async()=>{this._pendingCount++,this._intervalCount++;try{let we=this._timeout===void 0&&k.timeout===void 0?y():r.default(Promise.resolve(y()),k.timeout===void 0?this._timeout:k.timeout,()=>{(k.throwOnTimeout===void 0?this._throwOnTimeout:k.throwOnTimeout)&&V(s)});P(await we)}catch(we){V(we)}this._next()};this._queue.enqueue(X,k),this._tryToStartAnother(),this.emit("add")})}async addAll(y,k){return Promise.all(y.map(async P=>this.add(P,k)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(y=>{let k=this._resolveEmpty;this._resolveEmpty=()=>{k(),y()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(y=>{let k=this._resolveIdle;this._resolveIdle=()=>{k(),y()}})}get size(){return this._queue.size}sizeBy(y){return this._queue.filter(y).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(y){this._timeout=y}};e.default=w}),kw=h((e,t)=>{u();var r;t.exports.timeout=function(n,o){var s=new r,w;return Promise.race([n,new Promise(function(y,k){w=setTimeout(function(){k(s)},o)})]).then(function(y){return clearTimeout(w),y},function(y){throw clearTimeout(w),y})},r=t.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"},r.prototype=Object.create(Error.prototype),r.prototype.name="TimeoutError"}),Nw=h((e,t)=>{u();var r=mw(),n=Tw(),{default:o}=Pw(),{timeout:s}=kw(),w=Gc(),y={},k;function P(we,q){let L,I=new Promise(ie=>{L=ie});return we.add(()=>s((()=>new Promise(ie=>{L(()=>{ie()})}))(),q.timeout)),I}var V=(we,q)=>{if(k.isWorker)return{readLock:k.readLock(we,q),writeLock:k.writeLock(we,q)};let L=new o({concurrency:1}),I=null;return{readLock:()=>{if(I)return P(I,q);I=new o({concurrency:q.concurrency,autoStart:!1});let ie=I,he=P(I,q);return L.add(()=>(ie.start(),ie.onIdle().then(()=>{I===ie&&(I=null)}))),he},writeLock:()=>(I=null,P(L,q))}},X={concurrency:1/0,timeout:846e5,global,singleProcess:!1};t.exports=(we,q)=>(q||(q={}),typeof we=="object"&&(q=we,we="lock"),we||(we="lock"),q=Object.assign({},X,q),k||(k=r(q)||n(q),k.isWorker||(k.on("requestReadLock",(L,I)=>{!y[L]||y[L].readLock().then(ie=>I().finally(()=>ie()))}),k.on("requestWriteLock",async(L,I)=>{!y[L]||y[L].writeLock().then(ie=>I().finally(()=>ie()))}))),y[we]||(y[we]=V(we,q)),y[we]),t.exports.Worker=function(we,q){q=q||global.Worker;let L;try{L=new q(we)}catch(I){I.message.includes("not a constructor")&&(L=q(we))}if(!L)throw new Error("Could not create Worker from",q);return w(L),L}}),Mw=h((e,t)=>{u();async function*r(n,o=1){let s=[];o<1&&(o=1);for await(let w of n)for(s.push(w);s.length>=o;)yield s.slice(0,o),s=s.slice(o);for(;s.length;)yield s.slice(0,o),s=s.slice(o)}t.exports=r}),qw=h((e,t)=>{u();var r=Mw();async function*n(o,s=1){for await(let w of r(o,s)){let y=w.map(k=>k().then(P=>({ok:!0,value:P}),P=>({ok:!1,err:P})));for(let k=0;k<y.length;k++){let P=await y[k];if(P.ok)yield P.value;else throw P.err}}}t.exports=n}),Kw=h((e,t)=>{u();var r=(...y)=>{let k;for(;y.length;)k=y.shift()(k);return k},n=y=>y&&(typeof y[Symbol.asyncIterator]=="function"||typeof y[Symbol.iterator]=="function"||typeof y.next=="function"),o=y=>y&&typeof y.sink=="function"&&n(y.source),s=y=>k=>(y.sink(k),y.source),w=(...y)=>{if(o(y[0])){let k=y[0];y[0]=()=>k.source}else if(n(y[0])){let k=y[0];y[0]=()=>k}if(y.length>1&&o(y[y.length-1])&&(y[y.length-1]=y[y.length-1].sink),y.length>2)for(let k=1;k<y.length-1;k++)o(y[k])&&(y[k]=s(y[k]));return r(...y)};t.exports=w,t.exports.pipe=w,t.exports.rawPipe=r,t.exports.isIterable=n,t.exports.isDuplex=o}),Ww=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let s=new r,w,y,k,P=()=>{if(!s.isEmpty()){if(n.writev){let _e,Ie=[];for(;!s.isEmpty();){if(_e=s.shift(),_e.error)throw _e.error;Ie.push(_e.value)}return{done:_e.done,value:Ie}}let he=s.shift();if(he.error)throw he.error;return he}return k?{done:!0}:new Promise((he,_e)=>{y=Ie=>(y=null,Ie.error?_e(Ie.error):n.writev&&!Ie.done?he({done:Ie.done,value:[Ie.value]}):he(Ie),w)})},V=he=>y?y(he):(s.push(he),w),X=he=>(s=new r,y?y({error:he}):(s.push({error:he}),w)),we=he=>k?w:V({done:!1,value:he}),q=he=>k?w:(k=!0,he?X(he):V({done:!0})),L=()=>(s=new r,q(),{done:!0}),I=he=>(q(he),{done:!0});if(w={[Symbol.asyncIterator](){return this},next:P,return:L,throw:I,push:we,end:q},!o)return w;let ie=w;return w={[Symbol.asyncIterator](){return this},next(){return ie.next()},throw(he){return ie.throw(he),o&&(o(he),o=null),{done:!0}},return(){return ie.return(),o&&(o(),o=null),{done:!0}},push:we,end(he){return ie.end(he),o&&(o(he),o=null),w}},w}}),of=h((e,t)=>{u();var r=Ww(),n=async function*(...o){let s=r();setTimeout(async()=>{try{await Promise.all(o.map(async w=>{for await(let y of w)s.push(y)})),s.end()}catch(w){s.end(w)}},0),yield*s};t.exports=n}),Is$1=h((e,t)=>{u();var r=async n=>{let o=[];for await(let s of n)o.push(s);return o};t.exports=r}),Ui=h((e,t)=>{u();var r=async function*(n,o){let s=0;if(!(o<1)){for await(let w of n)if(yield w,s++,s===o)return}};t.exports=r}),fb=h((e,t)=>{u();var r=(...y)=>{let k;for(;y.length;)k=y.shift()(k);return k},n=y=>y&&(typeof y[Symbol.asyncIterator]=="function"||typeof y[Symbol.iterator]=="function"||typeof y.next=="function"),o=y=>y&&typeof y.sink=="function"&&n(y.source),s=y=>k=>(y.sink(k),y.source),w=(...y)=>{if(o(y[0])){let k=y[0];y[0]=()=>k.source}else if(n(y[0])){let k=y[0];y[0]=()=>k}if(y.length>1&&o(y[y.length-1])&&(y[y.length-1]=y[y.length-1].sink),y.length>2)for(let k=1;k<y.length-1;k++)o(y[k])&&(y[k]=s(y[k]));return r(...y)};t.exports=w,t.exports.pipe=w,t.exports.rawPipe=r,t.exports.isIterable=n,t.exports.isDuplex=o}),pb=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let s=new r,w,y,k,P=()=>{if(!s.isEmpty()){if(n.writev){let _e,Ie=[];for(;!s.isEmpty();){if(_e=s.shift(),_e.error)throw _e.error;Ie.push(_e.value)}return{done:_e.done,value:Ie}}let he=s.shift();if(he.error)throw he.error;return he}return k?{done:!0}:new Promise((he,_e)=>{y=Ie=>(y=null,Ie.error?_e(Ie.error):n.writev&&!Ie.done?he({done:Ie.done,value:[Ie.value]}):he(Ie),w)})},V=he=>y?y(he):(s.push(he),w),X=he=>(s=new r,y?y({error:he}):(s.push({error:he}),w)),we=he=>k?w:V({done:!1,value:he}),q=he=>k?w:(k=!0,he?X(he):V({done:!0})),L=()=>(s=new r,q(),{done:!0}),I=he=>(q(he),{done:!0});if(w={[Symbol.asyncIterator](){return this},next:P,return:L,throw:I,push:we,end:q},!o)return w;let ie=w;return w={[Symbol.asyncIterator](){return this},next(){return ie.next()},throw(he){return ie.throw(he),o&&(o(he),o=null),{done:!0}},return(){return ie.return(),o&&(o(),o=null),{done:!0}},push:we,end(he){return ie.end(he),o&&(o(he),o=null),w}},w}}),gb=h((e,t)=>{u();var r=Is$1(),n=async function*(o,s){yield*(await r(o)).sort(s)};t.exports=n}),hf$1=h((e,t)=>{u(),t.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},n=Symbol("test"),o=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var s=42;r[n]=s;for(n in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var w=Object.getOwnPropertySymbols(r);if(w.length!==1||w[0]!==n||!Object.prototype.propertyIsEnumerable.call(r,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var y=Object.getOwnPropertyDescriptor(r,n);if(y.value!==s||y.enumerable!==!0)return!1}return!0}}),$i$1=h((e,t)=>{u();var r=hf$1();t.exports=function(){return r()&&!!Symbol.toStringTag}}),Eb=h((e,t)=>{u();var r=typeof Symbol<"u"&&Symbol,n=hf$1();t.exports=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:n()}}),xb=h((e,t)=>{u();var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,o=Object.prototype.toString,s="[object Function]";t.exports=function(w){var y=this;if(typeof y!="function"||o.call(y)!==s)throw new TypeError(r+y);for(var k=n.call(arguments,1),P,V=function(){if(this instanceof P){var I=y.apply(this,k.concat(n.call(arguments)));return Object(I)===I?I:this}else return y.apply(w,k.concat(n.call(arguments)))},X=Math.max(0,y.length-k.length),we=[],q=0;q<X;q++)we.push("$"+q);if(P=Function("binder","return function ("+we.join(",")+"){ return binder.apply(this,arguments); }")(V),y.prototype){var L=function(){};L.prototype=y.prototype,P.prototype=new L,L.prototype=null}return P}}),Ps$1=h((e,t)=>{u();var r=xb();t.exports=Function.prototype.bind||r}),Sb=h((e,t)=>{u();var r=Ps$1();t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)}),Ns$1=h((e,t)=>{u();var r,n=SyntaxError,o=Function,s=TypeError,w=function(Kr){try{return o('"use strict"; return ('+Kr+").constructor;")()}catch{}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch{y=null}var k=function(){throw new s},P=y?function(){try{return arguments.callee,k}catch{try{return y(arguments,"callee").get}catch{return k}}}():k,V=Eb()(),X=Object.getPrototypeOf||function(Kr){return Kr.__proto__},we={},q=typeof Uint8Array>"u"?r:X(Uint8Array),L={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":V?X([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":we,"%AsyncGenerator%":we,"%AsyncGeneratorFunction%":we,"%AsyncIteratorPrototype%":we,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":we,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V?X(X([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!V?r:X(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!V?r:X(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V?X(""[Symbol.iterator]()):r,"%Symbol%":V?Symbol:r,"%SyntaxError%":n,"%ThrowTypeError%":P,"%TypedArray%":q,"%TypeError%":s,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet},I=function Kr(Qr){var ao;if(Qr==="%AsyncFunction%")ao=w("async function () {}");else if(Qr==="%GeneratorFunction%")ao=w("function* () {}");else if(Qr==="%AsyncGeneratorFunction%")ao=w("async function* () {}");else if(Qr==="%AsyncGenerator%"){var ni=Kr("%AsyncGeneratorFunction%");ni&&(ao=ni.prototype)}else if(Qr==="%AsyncIteratorPrototype%"){var Ks=Kr("%AsyncGenerator%");Ks&&(ao=X(Ks.prototype))}return L[Qr]=ao,ao},ie={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=Ps$1(),_e=Sb(),Ie=he.call(Function.call,Array.prototype.concat),et=he.call(Function.apply,Array.prototype.splice),Wt=he.call(Function.call,String.prototype.replace),ot=he.call(Function.call,String.prototype.slice),at=he.call(Function.call,RegExp.prototype.exec),st=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Gt=/\\(\\)?/g,vr=function(Kr){var Qr=ot(Kr,0,1),ao=ot(Kr,-1);if(Qr==="%"&&ao!=="%")throw new n("invalid intrinsic syntax, expected closing `%`");if(ao==="%"&&Qr!=="%")throw new n("invalid intrinsic syntax, expected opening `%`");var ni=[];return Wt(Kr,st,function(Ks,ia,Hr,Js){ni[ni.length]=Hr?Wt(Js,Gt,"$1"):ia||Ks}),ni},sr=function(Kr,Qr){var ao=Kr,ni;if(_e(ie,ao)&&(ni=ie[ao],ao="%"+ni[0]+"%"),_e(L,ao)){var Ks=L[ao];if(Ks===we&&(Ks=I(ao)),typeof Ks>"u"&&!Qr)throw new s("intrinsic "+Kr+" exists, but is not available. Please file an issue!");return{alias:ni,name:ao,value:Ks}}throw new n("intrinsic "+Kr+" does not exist!")};t.exports=function(Kr,Qr){if(typeof Kr!="string"||Kr.length===0)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Qr!="boolean")throw new s('"allowMissing" argument must be a boolean');if(at(/^%?[^%]*%?$/g,Kr)===null)throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ao=vr(Kr),ni=ao.length>0?ao[0]:"",Ks=sr("%"+ni+"%",Qr),ia=Ks.name,Hr=Ks.value,Js=!1,ya=Ks.alias;ya&&(ni=ya[0],et(ao,Ie([0,1],ya)));for(var en=1,rr=!0;en<ao.length;en+=1){var Fr=ao[en],qr=ot(Fr,0,1),yo=ot(Fr,-1);if((qr==='"'||qr==="'"||qr==="`"||yo==='"'||yo==="'"||yo==="`")&&qr!==yo)throw new n("property names with quotes must have matching quotes");if((Fr==="constructor"||!rr)&&(Js=!0),ni+="."+Fr,ia="%"+ni+"%",_e(L,ia))Hr=L[ia];else if(Hr!=null){if(!(Fr in Hr)){if(!Qr)throw new s("base intrinsic for "+Kr+" exists, but the property is not available.");return}if(y&&en+1>=ao.length){var Ys=y(Hr,Fr);rr=!!Ys,rr&&"get"in Ys&&!("originalValue"in Ys.get)?Hr=Ys.get:Hr=Hr[Fr]}else rr=_e(Hr,Fr),Hr=Hr[Fr];rr&&!Js&&(L[ia]=Hr)}}return Hr}}),Nb=h((e,t)=>{u();var r=Ps$1(),n=Ns$1(),o=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),w=n("%Reflect.apply%",!0)||r.call(s,o),y=n("%Object.getOwnPropertyDescriptor%",!0),k=n("%Object.defineProperty%",!0),P=n("%Math.max%");if(k)try{k({},"a",{value:1})}catch{k=null}t.exports=function(X){var we=w(r,s,arguments);if(y&&k){var q=y(we,"length");q.configurable&&k(we,"length",{value:1+P(0,X.length-(arguments.length-1))})}return we};var V=function(){return w(r,o,arguments)};k?k(t.exports,"apply",{value:V}):t.exports.apply=V}),Ms$1=h((e,t)=>{u();var r=Ns$1(),n=Nb(),o=n(r("String.prototype.indexOf"));t.exports=function(s,w){var y=r(s,!!w);return typeof y=="function"&&o(s,".prototype.")>-1?n(y):y}}),$b=h((e,t)=>{u();var r=$i$1()(),n=Ms$1(),o=n("Object.prototype.toString"),s=function(k){return r&&k&&typeof k=="object"&&Symbol.toStringTag in k?!1:o(k)==="[object Arguments]"},w=function(k){return s(k)?!0:k!==null&&typeof k=="object"&&typeof k.length=="number"&&k.length>=0&&o(k)!=="[object Array]"&&o(k.callee)==="[object Function]"},y=function(){return s(arguments)}();s.isLegacyArguments=w,t.exports=y?s:w}),Wb=h((e,t)=>{u();var r=Object.prototype.toString,n=Function.prototype.toString,o=/^\s*(?:function)?\*/,s=$i$1()(),w=Object.getPrototypeOf,y=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch{}},k;t.exports=function(P){if(typeof P!="function")return!1;if(o.test(n.call(P)))return!0;if(!s){var V=r.call(P);return V==="[object GeneratorFunction]"}if(!w)return!1;if(typeof k>"u"){var X=y();k=X?w(X):!1}return w(P)===k}}),Jb=h((e,t)=>{u();var r=Function.prototype.toString,n=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,o,s;if(typeof n=="function"&&typeof Object.defineProperty=="function")try{o=Object.defineProperty({},"length",{get:function(){throw s}}),s={},n(function(){throw 42},null,o)}catch(L){L!==s&&(n=null)}else n=null;var w=/^\s*class\b/,y=function(L){try{var I=r.call(L);return w.test(I)}catch{return!1}},k=function(L){try{return y(L)?!1:(r.call(L),!0)}catch{return!1}},P=Object.prototype.toString,V="[object Function]",X="[object GeneratorFunction]",we=typeof Symbol=="function"&&!!Symbol.toStringTag,q=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{};t.exports=n?function(L){if(L===q)return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;if(typeof L=="function"&&!L.prototype)return!0;try{n(L,null,o)}catch(I){if(I!==s)return!1}return!y(L)}:function(L){if(L===q)return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;if(typeof L=="function"&&!L.prototype)return!0;if(we)return k(L);if(y(L))return!1;var I=P.call(L);return I===V||I===X}}),Df$1=h((e,t)=>{u();var r=Jb(),n=Object.prototype.toString,o=Object.prototype.hasOwnProperty,s=function(P,V,X){for(var we=0,q=P.length;we<q;we++)o.call(P,we)&&(X==null?V(P[we],we,P):V.call(X,P[we],we,P))},w=function(P,V,X){for(var we=0,q=P.length;we<q;we++)X==null?V(P.charAt(we),we,P):V.call(X,P.charAt(we),we,P)},y=function(P,V,X){for(var we in P)o.call(P,we)&&(X==null?V(P[we],we,P):V.call(X,P[we],we,P))},k=function(P,V,X){if(!r(V))throw new TypeError("iterator must be a function");var we;arguments.length>=3&&(we=X),n.call(P)==="[object Array]"?s(P,V,we):typeof P=="string"?w(P,V,we):y(P,V,we)};t.exports=k}),Sf$1=h((e,t)=>{u();var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n=typeof globalThis>"u"?global:globalThis;t.exports=function(){for(var o=[],s=0;s<r.length;s++)typeof n[r[s]]=="function"&&(o[o.length]=r[s]);return o}}),Cf$1=h((e,t)=>{u();var r=Ns$1(),n=r("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch{n=null}t.exports=n}),If$1=h((e,t)=>{u();var r=Df$1(),n=Sf$1(),o=Ms$1(),s=o("Object.prototype.toString"),w=$i$1()(),y=typeof globalThis>"u"?global:globalThis,k=n(),P=o("Array.prototype.indexOf",!0)||function(I,ie){for(var he=0;he<I.length;he+=1)if(I[he]===ie)return he;return-1},V=o("String.prototype.slice"),X={},we=Cf$1(),q=Object.getPrototypeOf;w&&we&&q&&r(k,function(I){var ie=new y[I];if(Symbol.toStringTag in ie){var he=q(ie),_e=we(he,Symbol.toStringTag);if(!_e){var Ie=q(he);_e=we(Ie,Symbol.toStringTag)}X[I]=_e.get}});var L=function(I){var ie=!1;return r(X,function(he,_e){if(!ie)try{ie=he.call(I)===_e}catch{}}),ie};t.exports=function(I){if(!I||typeof I!="object")return!1;if(!w||!(Symbol.toStringTag in I)){var ie=V(s(I),8,-1);return P(k,ie)>-1}return we?L(I):!1}}),l0=h((e,t)=>{u();var r=Df$1(),n=Sf$1(),o=Ms$1(),s=o("Object.prototype.toString"),w=$i$1()(),y=typeof globalThis>"u"?global:globalThis,k=n(),P=o("String.prototype.slice"),V={},X=Cf$1(),we=Object.getPrototypeOf;w&&X&&we&&r(k,function(I){if(typeof y[I]=="function"){var ie=new y[I];if(Symbol.toStringTag in ie){var he=we(ie),_e=X(he,Symbol.toStringTag);if(!_e){var Ie=we(he);_e=X(Ie,Symbol.toStringTag)}V[I]=_e.get}}});var q=function(I){var ie=!1;return r(V,function(he,_e){if(!ie)try{var Ie=he.call(I);Ie===_e&&(ie=Ie)}catch{}}),ie},L=If$1();t.exports=function(I){return L(I)?!w||!(Symbol.toStringTag in I)?P(s(I),8,-1):q(I):!1}}),A0=h(e=>{u();var t=$b(),r=Wb(),n=l0(),o=If$1();function s(Pr){return Pr.call.bind(Pr)}var w=typeof BigInt<"u",y=typeof Symbol<"u",k=s(Object.prototype.toString),P=s(Number.prototype.valueOf),V=s(String.prototype.valueOf),X=s(Boolean.prototype.valueOf);w&&(we=s(BigInt.prototype.valueOf));var we;y&&(q=s(Symbol.prototype.valueOf));var q;function L(Pr,ba){if(typeof Pr!="object")return!1;try{return ba(Pr),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=r,e.isTypedArray=o;function I(Pr){return typeof Promise<"u"&&Pr instanceof Promise||Pr!==null&&typeof Pr=="object"&&typeof Pr.then=="function"&&typeof Pr.catch=="function"}e.isPromise=I;function ie(Pr){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Pr):o(Pr)||Fr(Pr)}e.isArrayBufferView=ie;function he(Pr){return n(Pr)==="Uint8Array"}e.isUint8Array=he;function _e(Pr){return n(Pr)==="Uint8ClampedArray"}e.isUint8ClampedArray=_e;function Ie(Pr){return n(Pr)==="Uint16Array"}e.isUint16Array=Ie;function et(Pr){return n(Pr)==="Uint32Array"}e.isUint32Array=et;function Wt(Pr){return n(Pr)==="Int8Array"}e.isInt8Array=Wt;function ot(Pr){return n(Pr)==="Int16Array"}e.isInt16Array=ot;function at(Pr){return n(Pr)==="Int32Array"}e.isInt32Array=at;function st(Pr){return n(Pr)==="Float32Array"}e.isFloat32Array=st;function Gt(Pr){return n(Pr)==="Float64Array"}e.isFloat64Array=Gt;function vr(Pr){return n(Pr)==="BigInt64Array"}e.isBigInt64Array=vr;function sr(Pr){return n(Pr)==="BigUint64Array"}e.isBigUint64Array=sr;function Kr(Pr){return k(Pr)==="[object Map]"}Kr.working=typeof Map<"u"&&Kr(new Map);function Qr(Pr){return typeof Map>"u"?!1:Kr.working?Kr(Pr):Pr instanceof Map}e.isMap=Qr;function ao(Pr){return k(Pr)==="[object Set]"}ao.working=typeof Set<"u"&&ao(new Set);function ni(Pr){return typeof Set>"u"?!1:ao.working?ao(Pr):Pr instanceof Set}e.isSet=ni;function Ks(Pr){return k(Pr)==="[object WeakMap]"}Ks.working=typeof WeakMap<"u"&&Ks(new WeakMap);function ia(Pr){return typeof WeakMap>"u"?!1:Ks.working?Ks(Pr):Pr instanceof WeakMap}e.isWeakMap=ia;function Hr(Pr){return k(Pr)==="[object WeakSet]"}Hr.working=typeof WeakSet<"u"&&Hr(new WeakSet);function Js(Pr){return Hr(Pr)}e.isWeakSet=Js;function ya(Pr){return k(Pr)==="[object ArrayBuffer]"}ya.working=typeof ArrayBuffer<"u"&&ya(new ArrayBuffer);function en(Pr){return typeof ArrayBuffer>"u"?!1:ya.working?ya(Pr):Pr instanceof ArrayBuffer}e.isArrayBuffer=en;function rr(Pr){return k(Pr)==="[object DataView]"}rr.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&rr(new DataView(new ArrayBuffer(1),0,1));function Fr(Pr){return typeof DataView>"u"?!1:rr.working?rr(Pr):Pr instanceof DataView}e.isDataView=Fr;var qr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function yo(Pr){return k(Pr)==="[object SharedArrayBuffer]"}function Ys(Pr){return typeof qr>"u"?!1:(typeof yo.working>"u"&&(yo.working=yo(new qr)),yo.working?yo(Pr):Pr instanceof qr)}e.isSharedArrayBuffer=Ys;function Qs(Pr){return k(Pr)==="[object AsyncFunction]"}e.isAsyncFunction=Qs;function ir(Pr){return k(Pr)==="[object Map Iterator]"}e.isMapIterator=ir;function ar(Pr){return k(Pr)==="[object Set Iterator]"}e.isSetIterator=ar;function zr(Pr){return k(Pr)==="[object Generator]"}e.isGeneratorObject=zr;function wo(Pr){return k(Pr)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=wo;function Ii(Pr){return L(Pr,P)}e.isNumberObject=Ii;function Qt(Pr){return L(Pr,V)}e.isStringObject=Qt;function Xt(Pr){return L(Pr,X)}e.isBooleanObject=Xt;function Yr(Pr){return w&&L(Pr,we)}e.isBigIntObject=Yr;function rn(Pr){return y&&L(Pr,q)}e.isSymbolObject=rn;function aa(Pr){return Ii(Pr)||Qt(Pr)||Xt(Pr)||Yr(Pr)||rn(Pr)}e.isBoxedPrimitive=aa;function Gs(Pr){return typeof Uint8Array<"u"&&(en(Pr)||Ys(Pr))}e.isAnyArrayBuffer=Gs,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Pr){Object.defineProperty(e,Pr,{enumerable:!1,value:function(){throw new Error(Pr+" is not supported in userland")}})})}),C0=h((e,t)=>{u(),t.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}}),Te=h((e,t)=>{u(),typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var o=function(){};o.prototype=n.prototype,r.prototype=new o,r.prototype.constructor=r}}}),P0=h(e=>{u();var t=Object.getOwnPropertyDescriptors||function(rr){for(var Fr=Object.keys(rr),qr={},yo=0;yo<Fr.length;yo++)qr[Fr[yo]]=Object.getOwnPropertyDescriptor(rr,Fr[yo]);return qr},r=/%[sdj%]/g;e.format=function(rr){if(!Wt(rr)){for(var Fr=[],qr=0;qr<arguments.length;qr++)Fr.push(w(arguments[qr]));return Fr.join(" ")}for(var qr=1,yo=arguments,Ys=yo.length,Qs=String(rr).replace(r,function(zr){if(zr==="%%")return"%";if(qr>=Ys)return zr;switch(zr){case"%s":return String(yo[qr++]);case"%d":return Number(yo[qr++]);case"%j":try{return JSON.stringify(yo[qr++])}catch{return"[Circular]"}default:return zr}}),ir=yo[qr];qr<Ys;ir=yo[++qr])_e(ir)||!Gt(ir)?Qs+=" "+ir:Qs+=" "+w(ir);return Qs},e.deprecate=function(rr,Fr){if(typeof process<"u"&&process.noDeprecation===!0)return rr;if(typeof process>"u")return function(){return e.deprecate(rr,Fr).apply(this,arguments)};var qr=!1;function yo(){if(!qr){if(process.throwDeprecation)throw new Error(Fr);process.traceDeprecation?console.trace(Fr):console.error(Fr),qr=!0}return rr.apply(this,arguments)}return yo};var n={},o=/^$/;process.env.NODE_DEBUG&&(s=process.env.NODE_DEBUG,s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i"));var s;e.debuglog=function(rr){if(rr=rr.toUpperCase(),!n[rr])if(o.test(rr)){var Fr=process.pid;n[rr]=function(){var qr=e.format.apply(e,arguments);console.error("%s %d: %s",rr,Fr,qr)}}else n[rr]=function(){};return n[rr]};function w(rr,Fr){var qr={seen:[],stylize:k};return arguments.length>=3&&(qr.depth=arguments[2]),arguments.length>=4&&(qr.colors=arguments[3]),he(Fr)?qr.showHidden=Fr:Fr&&e._extend(qr,Fr),at(qr.showHidden)&&(qr.showHidden=!1),at(qr.depth)&&(qr.depth=2),at(qr.colors)&&(qr.colors=!1),at(qr.customInspect)&&(qr.customInspect=!0),qr.colors&&(qr.stylize=y),V(qr,rr,qr.depth)}e.inspect=w,w.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},w.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function y(rr,Fr){var qr=w.styles[Fr];return qr?"\x1B["+w.colors[qr][0]+"m"+rr+"\x1B["+w.colors[qr][1]+"m":rr}function k(rr,Fr){return rr}function P(rr){var Fr={};return rr.forEach(function(qr,yo){Fr[qr]=!0}),Fr}function V(rr,Fr,qr){if(rr.customInspect&&Fr&&Kr(Fr.inspect)&&Fr.inspect!==e.inspect&&!(Fr.constructor&&Fr.constructor.prototype===Fr)){var yo=Fr.inspect(qr,rr);return Wt(yo)||(yo=V(rr,yo,qr)),yo}var Ys=X(rr,Fr);if(Ys)return Ys;var Qs=Object.keys(Fr),ir=P(Qs);if(rr.showHidden&&(Qs=Object.getOwnPropertyNames(Fr)),sr(Fr)&&(Qs.indexOf("message")>=0||Qs.indexOf("description")>=0))return we(Fr);if(Qs.length===0){if(Kr(Fr)){var ar=Fr.name?": "+Fr.name:"";return rr.stylize("[Function"+ar+"]","special")}if(st(Fr))return rr.stylize(RegExp.prototype.toString.call(Fr),"regexp");if(vr(Fr))return rr.stylize(Date.prototype.toString.call(Fr),"date");if(sr(Fr))return we(Fr)}var zr="",wo=!1,Ii=["{","}"];if(ie(Fr)&&(wo=!0,Ii=["[","]"]),Kr(Fr)){var Qt=Fr.name?": "+Fr.name:"";zr=" [Function"+Qt+"]"}if(st(Fr)&&(zr=" "+RegExp.prototype.toString.call(Fr)),vr(Fr)&&(zr=" "+Date.prototype.toUTCString.call(Fr)),sr(Fr)&&(zr=" "+we(Fr)),Qs.length===0&&(!wo||Fr.length==0))return Ii[0]+zr+Ii[1];if(qr<0)return st(Fr)?rr.stylize(RegExp.prototype.toString.call(Fr),"regexp"):rr.stylize("[Object]","special");rr.seen.push(Fr);var Xt;return wo?Xt=q(rr,Fr,qr,ir,Qs):Xt=Qs.map(function(Yr){return L(rr,Fr,qr,ir,Yr,wo)}),rr.seen.pop(),I(Xt,zr,Ii)}function X(rr,Fr){if(at(Fr))return rr.stylize("undefined","undefined");if(Wt(Fr)){var qr="'"+JSON.stringify(Fr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return rr.stylize(qr,"string")}if(et(Fr))return rr.stylize(""+Fr,"number");if(he(Fr))return rr.stylize(""+Fr,"boolean");if(_e(Fr))return rr.stylize("null","null")}function we(rr){return"["+Error.prototype.toString.call(rr)+"]"}function q(rr,Fr,qr,yo,Ys){for(var Qs=[],ir=0,ar=Fr.length;ir<ar;++ir)Hr(Fr,String(ir))?Qs.push(L(rr,Fr,qr,yo,String(ir),!0)):Qs.push("");return Ys.forEach(function(zr){zr.match(/^\d+$/)||Qs.push(L(rr,Fr,qr,yo,zr,!0))}),Qs}function L(rr,Fr,qr,yo,Ys,Qs){var ir,ar,zr;if(zr=Object.getOwnPropertyDescriptor(Fr,Ys)||{value:Fr[Ys]},zr.get?zr.set?ar=rr.stylize("[Getter/Setter]","special"):ar=rr.stylize("[Getter]","special"):zr.set&&(ar=rr.stylize("[Setter]","special")),Hr(yo,Ys)||(ir="["+Ys+"]"),ar||(rr.seen.indexOf(zr.value)<0?(_e(qr)?ar=V(rr,zr.value,null):ar=V(rr,zr.value,qr-1),ar.indexOf(`
`)>-1&&(Qs?ar=ar.split(`
`).map(function(wo){return"  "+wo}).join(`
`).substr(2):ar=`
`+ar.split(`
`).map(function(wo){return"   "+wo}).join(`
`))):ar=rr.stylize("[Circular]","special")),at(ir)){if(Qs&&Ys.match(/^\d+$/))return ar;ir=JSON.stringify(""+Ys),ir.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ir=ir.substr(1,ir.length-2),ir=rr.stylize(ir,"name")):(ir=ir.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ir=rr.stylize(ir,"string"))}return ir+": "+ar}function I(rr,Fr,qr){var yo=0,Ys=rr.reduce(function(Qs,ir){return yo++,ir.indexOf(`
`)>=0&&yo++,Qs+ir.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ys>60?qr[0]+(Fr===""?"":Fr+`
 `)+" "+rr.join(`,
  `)+" "+qr[1]:qr[0]+Fr+" "+rr.join(", ")+" "+qr[1]}e.types=A0();function ie(rr){return Array.isArray(rr)}e.isArray=ie;function he(rr){return typeof rr=="boolean"}e.isBoolean=he;function _e(rr){return rr===null}e.isNull=_e;function Ie(rr){return rr==null}e.isNullOrUndefined=Ie;function et(rr){return typeof rr=="number"}e.isNumber=et;function Wt(rr){return typeof rr=="string"}e.isString=Wt;function ot(rr){return typeof rr=="symbol"}e.isSymbol=ot;function at(rr){return rr===void 0}e.isUndefined=at;function st(rr){return Gt(rr)&&ao(rr)==="[object RegExp]"}e.isRegExp=st,e.types.isRegExp=st;function Gt(rr){return typeof rr=="object"&&rr!==null}e.isObject=Gt;function vr(rr){return Gt(rr)&&ao(rr)==="[object Date]"}e.isDate=vr,e.types.isDate=vr;function sr(rr){return Gt(rr)&&(ao(rr)==="[object Error]"||rr instanceof Error)}e.isError=sr,e.types.isNativeError=sr;function Kr(rr){return typeof rr=="function"}e.isFunction=Kr;function Qr(rr){return rr===null||typeof rr=="boolean"||typeof rr=="number"||typeof rr=="string"||typeof rr=="symbol"||typeof rr>"u"}e.isPrimitive=Qr,e.isBuffer=C0();function ao(rr){return Object.prototype.toString.call(rr)}function ni(rr){return rr<10?"0"+rr.toString(10):rr.toString(10)}var Ks=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ia(){var rr=new Date,Fr=[ni(rr.getHours()),ni(rr.getMinutes()),ni(rr.getSeconds())].join(":");return[rr.getDate(),Ks[rr.getMonth()],Fr].join(" ")}e.log=function(){console.log("%s - %s",ia(),e.format.apply(e,arguments))},e.inherits=Te(),e._extend=function(rr,Fr){if(!Fr||!Gt(Fr))return rr;for(var qr=Object.keys(Fr),yo=qr.length;yo--;)rr[qr[yo]]=Fr[qr[yo]];return rr};function Hr(rr,Fr){return Object.prototype.hasOwnProperty.call(rr,Fr)}var Js=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(rr){if(typeof rr!="function")throw new TypeError('The "original" argument must be of type Function');if(Js&&rr[Js]){var Fr=rr[Js];if(typeof Fr!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Fr,Js,{value:Fr,enumerable:!1,writable:!1,configurable:!0}),Fr}function Fr(){for(var qr,yo,Ys=new Promise(function(ar,zr){qr=ar,yo=zr}),Qs=[],ir=0;ir<arguments.length;ir++)Qs.push(arguments[ir]);Qs.push(function(ar,zr){ar?yo(ar):qr(zr)});try{rr.apply(this,Qs)}catch(ar){yo(ar)}return Ys}return Object.setPrototypeOf(Fr,Object.getPrototypeOf(rr)),Js&&Object.defineProperty(Fr,Js,{value:Fr,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Fr,t(rr))},e.promisify.custom=Js;function ya(rr,Fr){if(!rr){var qr=new Error("Promise was rejected with a falsy value");qr.reason=rr,rr=qr}return Fr(rr)}function en(rr){if(typeof rr!="function")throw new TypeError('The "original" argument must be of type Function');function Fr(){for(var qr=[],yo=0;yo<arguments.length;yo++)qr.push(arguments[yo]);var Ys=qr.pop();if(typeof Ys!="function")throw new TypeError("The last argument must be of type Function");var Qs=this,ir=function(){return Ys.apply(Qs,arguments)};rr.apply(this,qr).then(function(ar){process.nextTick(ir.bind(null,null,ar))},function(ar){process.nextTick(ya.bind(null,ar,ir))})}return Object.setPrototypeOf(Fr,Object.getPrototypeOf(rr)),Object.defineProperties(Fr,t(rr)),Fr}e.callbackify=en}),Uf$1=h((e,t)=>{u(),t.exports=function(...n){let o=n.reduce((s,w)=>Object.assign(s,w),{});return Object.assign(o,{bufferKeys:o.bufferKeys||!1,snapshots:o.snapshots||!1,permanence:o.permanence||!1,seek:o.seek||!1,clear:o.clear||!1,getMany:o.getMany||!1,keyIterator:o.keyIterator||!1,valueIterator:o.valueIterator||!1,iteratorNextv:o.iteratorNextv||!1,iteratorAll:o.iteratorAll||!1,status:o.status||!1,idempotentOpen:o.idempotentOpen||!1,passiveOpen:o.passiveOpen||!1,serialize:o.serialize||!1,createIfMissing:o.createIfMissing||!1,errorIfExists:o.errorIfExists||!1,deferredOpen:o.deferredOpen||!1,openCallback:o.openCallback||!1,promises:o.promises||!1,streams:o.streams||!1,encodings:r(o.encodings),events:r(o.events),additionalMethods:Object.assign({},o.additionalMethods)})};function r(n){return n?Object.assign({},n):!1}}),L0=h((e,t)=>{u(),t.exports=function(r){return r!=null&&r.constructor!=null&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}}),j0=h((e,t)=>{u(),t.exports=typeof queueMicrotask=="function"?queueMicrotask:r=>Promise.resolve().then(r)}),ta$1=h(e=>{u();var t=j0();e.fromCallback=function(r,n){if(r===void 0){var o=new Promise(function(s,w){r=function(y,k){y?w(y):s(k)}});r[n!==void 0?n:"promise"]=o}else if(typeof r!="function")throw new TypeError("Callback must be a function");return r},e.fromPromise=function(r,n){if(n===void 0)return r;r.then(function(o){t(()=>n(null,o))}).catch(function(o){t(()=>n(o))})}}),ra$1=h((e,t)=>{u();var r;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):n=>(r||(r=Promise.resolve())).then(n).catch(o=>setTimeout(()=>{throw o},0))}),na$1=h((e,t)=>{u();var r=ra$1();t.exports=function(n,...o){o.length===0?r(n):r(()=>n(...o))}}),Kf=h((e,t)=>{u();function r(n){if(typeof n!="object"||n===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=n,this._ended=!1,this._nexting=!1}r.prototype.next=function(n){let o=this;if(n===void 0)o=new Promise(function(s,w){n=function(y,k,P){y?w(y):k===void 0&&P===void 0?s():s([k,P])}});else if(typeof n!="function")throw new Error("next() requires a callback argument");return this._ended?(this._nextTick(n,new Error("cannot call next() after end()")),o):this._nexting?(this._nextTick(n,new Error("cannot call next() before previous next() has completed")),o):(this._nexting=!0,this._next((s,...w)=>{this._nexting=!1,n(s,...w)}),o)},r.prototype._next=function(n){this._nextTick(n)},r.prototype.seek=function(n){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");n=this.db._serializeKey(n),this._seek(n)},r.prototype._seek=function(n){},r.prototype.end=function(n){let o;if(n===void 0)o=new Promise(function(s,w){n=function(y){y?w(y):s()}});else if(typeof n!="function")throw new Error("end() requires a callback argument");return this._ended?(this._nextTick(n,new Error("end() already called on iterator")),o):(this._ended=!0,this._end(n),o)},r.prototype._end=function(n){this._nextTick(n)},r.prototype[Symbol.asyncIterator]=async function*(){try{let n;for(;(n=await this.next())!==void 0;)yield n}finally{this._ended||await this.end()}},r.prototype._nextTick=na$1(),t.exports=r}),zf$1=h((e,t)=>{u();var r=Object.freeze({});function n(o){if(typeof o!="object"||o===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=o,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(o,s,w){this._checkWritten();let y=this.db._checkKey(o)||this.db._checkValue(s);if(y)throw y;return o=this.db._serializeKey(o),s=this.db._serializeValue(s),this._put(o,s,w!=null?w:r),this},n.prototype._put=function(o,s,w){this._operations.push({...w,type:"put",key:o,value:s})},n.prototype.del=function(o,s){this._checkWritten();let w=this.db._checkKey(o);if(w)throw w;return o=this.db._serializeKey(o),this._del(o,s!=null?s:r),this},n.prototype._del=function(o,s){this._operations.push({...s,type:"del",key:o})},n.prototype.clear=function(){return this._checkWritten(),this._clear(),this},n.prototype._clear=function(){this._operations=[]},n.prototype.write=function(o,s){if(this._checkWritten(),typeof o=="function"&&(s=o),typeof s!="function")throw new Error("write() requires a callback argument");(typeof o!="object"||o===null)&&(o={}),this._written=!0,this._write(o,s)},n.prototype._write=function(o,s){this.db._batch(this._operations,o,s)},n.prototype._nextTick=na$1(),t.exports=n}),Vf$1=h(e=>{u(),e.getCallback=function(t,r){return typeof t=="function"?t:r},e.getOptions=function(t){return typeof t=="object"&&t!==null?t:{}}}),Y0=h((e,t)=>{u();var r=Uf$1(),n=L0(),o=ta$1(),s=Kf(),w=zf$1(),y=Vf$1().getCallback,k=Vf$1().getOptions,P=Object.prototype.hasOwnProperty,V=["lt","lte","gt","gte"];function X(I){this.status="new",this.supports=r(I,{status:!0})}X.prototype.open=function(I,ie){let he=this.status;if(typeof I=="function"&&(ie=I),typeof ie!="function")throw new Error("open() requires a callback argument");(typeof I!="object"||I===null)&&(I={}),I.createIfMissing=I.createIfMissing!==!1,I.errorIfExists=!!I.errorIfExists,this.status="opening",this._open(I,_e=>{if(_e)return this.status=he,ie(_e);this.status="open",ie()})},X.prototype._open=function(I,ie){this._nextTick(ie)},X.prototype.close=function(I){let ie=this.status;if(typeof I!="function")throw new Error("close() requires a callback argument");this.status="closing",this._close(he=>{if(he)return this.status=ie,I(he);this.status="closed",I()})},X.prototype._close=function(I){this._nextTick(I)},X.prototype.get=function(I,ie,he){if(typeof ie=="function"&&(he=ie),typeof he!="function")throw new Error("get() requires a callback argument");let _e=this._checkKey(I);if(_e)return this._nextTick(he,_e);I=this._serializeKey(I),(typeof ie!="object"||ie===null)&&(ie={}),ie.asBuffer=ie.asBuffer!==!1,this._get(I,ie,he)},X.prototype._get=function(I,ie,he){this._nextTick(function(){he(new Error("NotFound"))})},X.prototype.getMany=function(I,ie,he){if(he=y(ie,he),he=o.fromCallback(he),ie=k(ie),L(this,he))return he.promise;if(!Array.isArray(I))return this._nextTick(he,new Error("getMany() requires an array argument")),he.promise;if(I.length===0)return this._nextTick(he,null,[]),he.promise;typeof ie.asBuffer!="boolean"&&(ie={...ie,asBuffer:!0});let _e=new Array(I.length);for(let Ie=0;Ie<I.length;Ie++){let et=I[Ie],Wt=this._checkKey(et);if(Wt)return this._nextTick(he,Wt),he.promise;_e[Ie]=this._serializeKey(et)}return this._getMany(_e,ie,he),he.promise},X.prototype._getMany=function(I,ie,he){this._nextTick(he,null,new Array(I.length).fill(void 0))},X.prototype.put=function(I,ie,he,_e){if(typeof he=="function"&&(_e=he),typeof _e!="function")throw new Error("put() requires a callback argument");let Ie=this._checkKey(I)||this._checkValue(ie);if(Ie)return this._nextTick(_e,Ie);I=this._serializeKey(I),ie=this._serializeValue(ie),(typeof he!="object"||he===null)&&(he={}),this._put(I,ie,he,_e)},X.prototype._put=function(I,ie,he,_e){this._nextTick(_e)},X.prototype.del=function(I,ie,he){if(typeof ie=="function"&&(he=ie),typeof he!="function")throw new Error("del() requires a callback argument");let _e=this._checkKey(I);if(_e)return this._nextTick(he,_e);I=this._serializeKey(I),(typeof ie!="object"||ie===null)&&(ie={}),this._del(I,ie,he)},X.prototype._del=function(I,ie,he){this._nextTick(he)},X.prototype.batch=function(I,ie,he){if(!arguments.length)return this._chainedBatch();if(typeof ie=="function"&&(he=ie),typeof I=="function"&&(he=I),typeof he!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(I))return this._nextTick(he,new Error("batch(array) requires an array argument"));if(I.length===0)return this._nextTick(he);(typeof ie!="object"||ie===null)&&(ie={});let _e=new Array(I.length);for(let Ie=0;Ie<I.length;Ie++){if(typeof I[Ie]!="object"||I[Ie]===null)return this._nextTick(he,new Error("batch(array) element must be an object and not `null`"));let et=Object.assign({},I[Ie]);if(et.type!=="put"&&et.type!=="del")return this._nextTick(he,new Error("`type` must be 'put' or 'del'"));let Wt=this._checkKey(et.key);if(Wt)return this._nextTick(he,Wt);if(et.key=this._serializeKey(et.key),et.type==="put"){let ot=this._checkValue(et.value);if(ot)return this._nextTick(he,ot);et.value=this._serializeValue(et.value)}_e[Ie]=et}this._batch(_e,ie,he)},X.prototype._batch=function(I,ie,he){this._nextTick(he)},X.prototype.clear=function(I,ie){if(typeof I=="function")ie=I;else if(typeof ie!="function")throw new Error("clear() requires a callback argument");I=we(this,I),I.reverse=!!I.reverse,I.limit="limit"in I?I.limit:-1,this._clear(I,ie)},X.prototype._clear=function(I,ie){I.keys=!0,I.values=!1,I.keyAsBuffer=!0,I.valueAsBuffer=!0;let he=this._iterator(I),_e={},Ie=et=>{if(et)return he.end(function(){ie(et)});he.next((Wt,ot)=>{if(Wt)return Ie(Wt);if(ot===void 0)return he.end(ie);this._del(ot,_e,Ie)})};Ie()},X.prototype._setupIteratorOptions=function(I){return I=we(this,I),I.reverse=!!I.reverse,I.keys=I.keys!==!1,I.values=I.values!==!1,I.limit="limit"in I?I.limit:-1,I.keyAsBuffer=I.keyAsBuffer!==!1,I.valueAsBuffer=I.valueAsBuffer!==!1,I};function we(I,ie){let he={};for(let _e in ie){if(!P.call(ie,_e))continue;if(_e==="start"||_e==="end")throw new Error('Legacy range options ("start" and "end") have been removed');let Ie=ie[_e];q(_e)&&(Ie=I._serializeKey(Ie)),he[_e]=Ie}return he}function q(I){return V.indexOf(I)!==-1}X.prototype.iterator=function(I){return(typeof I!="object"||I===null)&&(I={}),I=this._setupIteratorOptions(I),this._iterator(I)},X.prototype._iterator=function(I){return new s(this)},X.prototype._chainedBatch=function(){return new w(this)},X.prototype._serializeKey=function(I){return I},X.prototype._serializeValue=function(I){return I},X.prototype._checkKey=function(I){if(I==null)return new Error("key cannot be `null` or `undefined`");if(n(I)&&I.length===0)return new Error("key cannot be an empty Buffer");if(I==="")return new Error("key cannot be an empty String");if(Array.isArray(I)&&I.length===0)return new Error("key cannot be an empty Array")},X.prototype._checkValue=function(I){if(I==null)return new Error("value cannot be `null` or `undefined`")},X.prototype.isOperational=function(){return this.status==="open"||this._isOperational()},X.prototype._isOperational=function(){return!1},X.prototype._nextTick=na$1(),t.exports=X;function L(I,ie){return I.isOperational()?!1:(I._nextTick(ie,new Error("Database is not open")),!0)}}),Nt=h(e=>{u(),e.AbstractLevelDOWN=Y0(),e.AbstractIterator=Kf(),e.AbstractChainedBatch=zf$1()}),Gf$1=h(e=>{u(),e.getCallback=function(t,r,n){let o=t[t.length-1];if(typeof o!="function"){let s=new Promise((w,y)=>{t.push(o=function(k,...P){k?y(k):w(n?n(...P):P[0])})});o[r]=s}return o}}),rv=h((e,t)=>{u();var{AbstractIterator:r}=Nt(),n=Te(),o=Gf$1().getCallback,s=Symbol("options"),w=Symbol("iterator"),y=Symbol("operations"),k=Symbol("promise");function P(V,X){r.call(this,V),this[s]=X,this[w]=null,this[y]=[]}n(P,r),P.prototype.setDb=function(V){this[w]=V.iterator(this[s]);for(let X of this[y].splice(0,this[y].length))this[w][X.method](...X.args)},P.prototype.next=function(...V){if(this.db.status==="open")return this[w].next(...V);let X=o(V,k,function(we,q){if(!(we===void 0&&q===void 0))return[we,q]});return this.db.status==="opening"?this[y].push({method:"next",args:V}):this._nextTick(X,new Error("Database is not open")),X[k]||this},P.prototype.seek=function(...V){if(this.db.status==="open")this[w].seek(...V);else if(this.db.status==="opening")this[y].push({method:"seek",args:V});else throw new Error("Database is not open")},P.prototype.end=function(...V){if(this.db.status==="open")return this[w].end(...V);let X=o(V,k);return this.db.status==="opening"?this[y].push({method:"end",args:V}):this._nextTick(X,new Error("Database is not open")),X[k]||this};for(let V of["next","seek","end"])P.prototype["_"+V]=function(){throw new Error("Did not expect private method to be called: "+V)};t.exports=P}),iv=h((e,t)=>{u();var{AbstractChainedBatch:r}=Nt(),n=Symbol("operations");t.exports=class extends r{constructor(o){super(o),this[n]=[]}_put(o,s,w){this[n].push({...w,type:"put",key:o,value:s})}_del(o,s){this[n].push({...s,type:"del",key:o})}_clear(){this[n]=[]}_write(o,s){this.db.batch(this[n],o,s)}}}),cv=h((e,t)=>{u();var{AbstractLevelDOWN:r}=Nt(),n=Te(),o=rv(),s=iv(),w=Gf$1().getCallback,y=["put","get","getMany","del","batch","clear"],k=["approximateSize","compactRange"],P=Symbol("innerDb"),V=Symbol("operations"),X=Symbol("promise");function we(L){r.call(this,L.supports||{});for(let I of k)typeof L[I]=="function"&&!this.supports.additionalMethods[I]&&(this.supports.additionalMethods[I]=!0);this[P]=L,this[V]=[],q(this)}n(we,r),we.prototype.type="deferred-leveldown",Object.defineProperty(we.prototype,"_db",{enumerable:!0,get(){return this[P]}}),we.prototype._open=function(L,I){let ie=he=>{if(he||this[P].status!=="open")return I(he||new Error("Database is not open"));let _e=this[V];this[V]=[];for(let Ie of _e)Ie.iterator?Ie.iterator.setDb(this[P]):this[P][Ie.method](...Ie.args);if(this[V].length>0)throw new Error("Did not expect further operations");I()};this[P].status==="new"||this[P].status==="closed"?this[P].open(L,ie):this._nextTick(ie)},we.prototype._close=function(L){this[P].close(L)},we.prototype._isOperational=function(){return this.status==="opening"};function q(L){let I=Object.keys(L.supports.additionalMethods);for(let ie of y.concat(I))L[ie]=function(...he){if(ie==="batch"&&he.length===0)return new s(this);if(this.status==="open")return this[P][ie](...he);let _e=w(he,X);return this.status==="opening"?this[V].push({method:ie,args:he}):this._nextTick(_e,new Error("Database is not open")),_e[X]};L.iterator=function(ie){if(this.status==="open")return this[P].iterator(ie);if(this.status==="opening"){let he=new o(this,ie);return this[V].push({iterator:he}),he}else throw new Error("Database is not open")};for(let ie of y.concat(["iterator"]))L["_"+ie]=function(){throw new Error("Did not expect private method to be called: "+ie)}}t.exports=we,t.exports.DeferredIterator=o}),Jf$1=h((e,t)=>{u(),t.exports=Rn().EventEmitter}),Yf$1=h(()=>{u()}),hv=h((e,t)=>{u();function r(L,I){var ie=Object.keys(L);if(Object.getOwnPropertySymbols){var he=Object.getOwnPropertySymbols(L);I&&(he=he.filter(function(_e){return Object.getOwnPropertyDescriptor(L,_e).enumerable})),ie.push.apply(ie,he)}return ie}function n(L){for(var I=1;I<arguments.length;I++){var ie=arguments[I]!=null?arguments[I]:{};I%2?r(Object(ie),!0).forEach(function(he){o(L,he,ie[he])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(ie)):r(Object(ie)).forEach(function(he){Object.defineProperty(L,he,Object.getOwnPropertyDescriptor(ie,he))})}return L}function o(L,I,ie){return I in L?Object.defineProperty(L,I,{value:ie,enumerable:!0,configurable:!0,writable:!0}):L[I]=ie,L}function s(L,I){if(!(L instanceof I))throw new TypeError("Cannot call a class as a function")}function w(L,I){for(var ie=0;ie<I.length;ie++){var he=I[ie];he.enumerable=he.enumerable||!1,he.configurable=!0,"value"in he&&(he.writable=!0),Object.defineProperty(L,he.key,he)}}function y(L,I,ie){return I&&w(L.prototype,I),ie&&w(L,ie),L}var k=ct$1(),P=k.Buffer,V=Yf$1(),X=V.inspect,we=X&&X.custom||"inspect";function q(L,I,ie){P.prototype.copy.call(L,I,ie)}t.exports=function(){function L(){s(this,L),this.head=null,this.tail=null,this.length=0}return y(L,[{key:"push",value:function(I){var ie={data:I,next:null};this.length>0?this.tail.next=ie:this.head=ie,this.tail=ie,++this.length}},{key:"unshift",value:function(I){var ie={data:I,next:this.head};this.length===0&&(this.tail=ie),this.head=ie,++this.length}},{key:"shift",value:function(){if(this.length!==0){var I=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,I}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(I){if(this.length===0)return"";for(var ie=this.head,he=""+ie.data;ie=ie.next;)he+=I+ie.data;return he}},{key:"concat",value:function(I){if(this.length===0)return P.alloc(0);for(var ie=P.allocUnsafe(I>>>0),he=this.head,_e=0;he;)q(he.data,ie,_e),_e+=he.data.length,he=he.next;return ie}},{key:"consume",value:function(I,ie){var he;return I<this.head.data.length?(he=this.head.data.slice(0,I),this.head.data=this.head.data.slice(I)):I===this.head.data.length?he=this.shift():he=ie?this._getString(I):this._getBuffer(I),he}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(I){var ie=this.head,he=1,_e=ie.data;for(I-=_e.length;ie=ie.next;){var Ie=ie.data,et=I>Ie.length?Ie.length:I;if(et===Ie.length?_e+=Ie:_e+=Ie.slice(0,I),I-=et,I===0){et===Ie.length?(++he,ie.next?this.head=ie.next:this.head=this.tail=null):(this.head=ie,ie.data=Ie.slice(et));break}++he}return this.length-=he,_e}},{key:"_getBuffer",value:function(I){var ie=P.allocUnsafe(I),he=this.head,_e=1;for(he.data.copy(ie),I-=he.data.length;he=he.next;){var Ie=he.data,et=I>Ie.length?Ie.length:I;if(Ie.copy(ie,ie.length-I,0,et),I-=et,I===0){et===Ie.length?(++_e,he.next?this.head=he.next:this.head=this.tail=null):(this.head=he,he.data=Ie.slice(et));break}++_e}return this.length-=_e,ie}},{key:we,value:function(I,ie){return X(this,n({},ie,{depth:0,customInspect:!1}))}}]),L}()}),Xf$1=h((e,t)=>{u();function r(k,P){var V=this,X=this._readableState&&this._readableState.destroyed,we=this._writableState&&this._writableState.destroyed;return X||we?(P?P(k):k&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(w,this,k)):process.nextTick(w,this,k)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(k||null,function(q){!P&&q?V._writableState?V._writableState.errorEmitted?process.nextTick(o,V):(V._writableState.errorEmitted=!0,process.nextTick(n,V,q)):process.nextTick(n,V,q):P?(process.nextTick(o,V),P(q)):process.nextTick(o,V)}),this)}function n(k,P){w(k,P),o(k)}function o(k){k._writableState&&!k._writableState.emitClose||k._readableState&&!k._readableState.emitClose||k.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function w(k,P){k.emit("error",P)}function y(k,P){var V=k._readableState,X=k._writableState;V&&V.autoDestroy||X&&X.autoDestroy?k.destroy(P):k.emit("error",P)}t.exports={destroy:r,undestroy:s,errorOrDestroy:y}}),Mr=h((e,t)=>{u();function r(P,V){P.prototype=Object.create(V.prototype),P.prototype.constructor=P,P.__proto__=V}var n={};function o(P,V,X){X||(X=Error);function we(L,I,ie){return typeof V=="string"?V:V(L,I,ie)}var q=function(L){r(I,L);function I(ie,he,_e){return L.call(this,we(ie,he,_e))||this}return I}(X);q.prototype.name=X.name,q.prototype.code=P,n[P]=q}function s(P,V){if(Array.isArray(P)){var X=P.length;return P=P.map(function(we){return String(we)}),X>2?"one of ".concat(V," ").concat(P.slice(0,X-1).join(", "),", or ")+P[X-1]:X===2?"one of ".concat(V," ").concat(P[0]," or ").concat(P[1]):"of ".concat(V," ").concat(P[0])}else return"of ".concat(V," ").concat(String(P))}function w(P,V,X){return P.substr(!X||X<0?0:+X,V.length)===V}function y(P,V,X){return(X===void 0||X>P.length)&&(X=P.length),P.substring(X-V.length,X)===V}function k(P,V,X){return typeof X!="number"&&(X=0),X+V.length>P.length?!1:P.indexOf(V,X)!==-1}o("ERR_INVALID_OPT_VALUE",function(P,V){return'The value "'+V+'" is invalid for option "'+P+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(P,V,X){var we;typeof V=="string"&&w(V,"not ")?(we="must not be",V=V.replace(/^not /,"")):we="must be";var q;if(y(P," argument"))q="The ".concat(P," ").concat(we," ").concat(s(V,"type"));else{var L=k(P,".")?"property":"argument";q='The "'.concat(P,'" ').concat(L," ").concat(we," ").concat(s(V,"type"))}return q+=". Received type ".concat(typeof X),q},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(P){return"The "+P+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(P){return"Cannot call "+P+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(P){return"Unknown encoding: "+P},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n}),el=h((e,t)=>{u();var r=Mr().codes.ERR_INVALID_OPT_VALUE;function n(s,w,y){return s.highWaterMark!=null?s.highWaterMark:w?s[y]:null}function o(s,w,y,k){var P=n(w,k,y);if(P!=null){if(!(isFinite(P)&&Math.floor(P)===P)||P<0){var V=k?y:"highWaterMark";throw new r(V,P)}return Math.floor(P)}return s.objectMode?16:16*1024}t.exports={getHighWaterMark:o}}),_v=h((e,t)=>{u(),t.exports=r;function r(o,s){if(n("noDeprecation"))return o;var w=!1;function y(){if(!w){if(n("throwDeprecation"))throw new Error(s);n("traceDeprecation")?console.trace(s):console.warn(s),w=!0}return o.apply(this,arguments)}return y}function n(o){try{if(!global.localStorage)return!1}catch{return!1}var s=global.localStorage[o];return s==null?!1:String(s).toLowerCase()==="true"}}),il=h((e,t)=>{u(),t.exports=vr;function r(ir){var ar=this;this.next=null,this.entry=null,this.finish=function(){Qs(ar,ir)}}var n;vr.WritableState=st;var o={deprecate:_v()},s=Jf$1(),w=ct$1().Buffer,y=global.Uint8Array||function(){};function k(ir){return w.from(ir)}function P(ir){return w.isBuffer(ir)||ir instanceof y}var V=Xf$1(),X=el(),we=X.getHighWaterMark,q=Mr().codes,L=q.ERR_INVALID_ARG_TYPE,I=q.ERR_METHOD_NOT_IMPLEMENTED,ie=q.ERR_MULTIPLE_CALLBACK,he=q.ERR_STREAM_CANNOT_PIPE,_e=q.ERR_STREAM_DESTROYED,Ie=q.ERR_STREAM_NULL_VALUES,et=q.ERR_STREAM_WRITE_AFTER_END,Wt=q.ERR_UNKNOWN_ENCODING,ot=V.errorOrDestroy;Te()(vr,s);function at(){}function st(ir,ar,zr){n=n||jr(),ir=ir||{},typeof zr!="boolean"&&(zr=ar instanceof n),this.objectMode=!!ir.objectMode,zr&&(this.objectMode=this.objectMode||!!ir.writableObjectMode),this.highWaterMark=we(this,ir,"writableHighWaterMark",zr),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var wo=ir.decodeStrings===!1;this.decodeStrings=!wo,this.defaultEncoding=ir.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ii){Hr(ar,Ii)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ir.emitClose!==!1,this.autoDestroy=!!ir.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}st.prototype.getBuffer=function(){for(var ir=this.bufferedRequest,ar=[];ir;)ar.push(ir),ir=ir.next;return ar},function(){try{Object.defineProperty(st.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Gt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(vr,Symbol.hasInstance,{value:function(ir){return Gt.call(this,ir)?!0:this!==vr?!1:ir&&ir._writableState instanceof st}})):Gt=function(ir){return ir instanceof this};function vr(ir){n=n||jr();var ar=this instanceof n;if(!ar&&!Gt.call(vr,this))return new vr(ir);this._writableState=new st(ir,this,ar),this.writable=!0,ir&&(typeof ir.write=="function"&&(this._write=ir.write),typeof ir.writev=="function"&&(this._writev=ir.writev),typeof ir.destroy=="function"&&(this._destroy=ir.destroy),typeof ir.final=="function"&&(this._final=ir.final)),s.call(this)}vr.prototype.pipe=function(){ot(this,new he)};function sr(ir,ar){var zr=new et;ot(ir,zr),process.nextTick(ar,zr)}function Kr(ir,ar,zr,wo){var Ii;return zr===null?Ii=new Ie:typeof zr!="string"&&!ar.objectMode&&(Ii=new L("chunk",["string","Buffer"],zr)),Ii?(ot(ir,Ii),process.nextTick(wo,Ii),!1):!0}vr.prototype.write=function(ir,ar,zr){var wo=this._writableState,Ii=!1,Qt=!wo.objectMode&&P(ir);return Qt&&!w.isBuffer(ir)&&(ir=k(ir)),typeof ar=="function"&&(zr=ar,ar=null),Qt?ar="buffer":ar||(ar=wo.defaultEncoding),typeof zr!="function"&&(zr=at),wo.ending?sr(this,zr):(Qt||Kr(this,wo,ir,zr))&&(wo.pendingcb++,Ii=ao(this,wo,Qt,ir,ar,zr)),Ii},vr.prototype.cork=function(){this._writableState.corked++},vr.prototype.uncork=function(){var ir=this._writableState;ir.corked&&(ir.corked--,!ir.writing&&!ir.corked&&!ir.bufferProcessing&&ir.bufferedRequest&&en(this,ir))},vr.prototype.setDefaultEncoding=function(ir){if(typeof ir=="string"&&(ir=ir.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ir+"").toLowerCase())>-1))throw new Wt(ir);return this._writableState.defaultEncoding=ir,this},Object.defineProperty(vr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Qr(ir,ar,zr){return!ir.objectMode&&ir.decodeStrings!==!1&&typeof ar=="string"&&(ar=w.from(ar,zr)),ar}Object.defineProperty(vr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ao(ir,ar,zr,wo,Ii,Qt){if(!zr){var Xt=Qr(ar,wo,Ii);wo!==Xt&&(zr=!0,Ii="buffer",wo=Xt)}var Yr=ar.objectMode?1:wo.length;ar.length+=Yr;var rn=ar.length<ar.highWaterMark;if(rn||(ar.needDrain=!0),ar.writing||ar.corked){var aa=ar.lastBufferedRequest;ar.lastBufferedRequest={chunk:wo,encoding:Ii,isBuf:zr,callback:Qt,next:null},aa?aa.next=ar.lastBufferedRequest:ar.bufferedRequest=ar.lastBufferedRequest,ar.bufferedRequestCount+=1}else ni(ir,ar,!1,Yr,wo,Ii,Qt);return rn}function ni(ir,ar,zr,wo,Ii,Qt,Xt){ar.writelen=wo,ar.writecb=Xt,ar.writing=!0,ar.sync=!0,ar.destroyed?ar.onwrite(new _e("write")):zr?ir._writev(Ii,ar.onwrite):ir._write(Ii,Qt,ar.onwrite),ar.sync=!1}function Ks(ir,ar,zr,wo,Ii){--ar.pendingcb,zr?(process.nextTick(Ii,wo),process.nextTick(yo,ir,ar),ir._writableState.errorEmitted=!0,ot(ir,wo)):(Ii(wo),ir._writableState.errorEmitted=!0,ot(ir,wo),yo(ir,ar))}function ia(ir){ir.writing=!1,ir.writecb=null,ir.length-=ir.writelen,ir.writelen=0}function Hr(ir,ar){var zr=ir._writableState,wo=zr.sync,Ii=zr.writecb;if(typeof Ii!="function")throw new ie;if(ia(zr),ar)Ks(ir,zr,wo,ar,Ii);else{var Qt=rr(zr)||ir.destroyed;!Qt&&!zr.corked&&!zr.bufferProcessing&&zr.bufferedRequest&&en(ir,zr),wo?process.nextTick(Js,ir,zr,Qt,Ii):Js(ir,zr,Qt,Ii)}}function Js(ir,ar,zr,wo){zr||ya(ir,ar),ar.pendingcb--,wo(),yo(ir,ar)}function ya(ir,ar){ar.length===0&&ar.needDrain&&(ar.needDrain=!1,ir.emit("drain"))}function en(ir,ar){ar.bufferProcessing=!0;var zr=ar.bufferedRequest;if(ir._writev&&zr&&zr.next){var wo=ar.bufferedRequestCount,Ii=new Array(wo),Qt=ar.corkedRequestsFree;Qt.entry=zr;for(var Xt=0,Yr=!0;zr;)Ii[Xt]=zr,zr.isBuf||(Yr=!1),zr=zr.next,Xt+=1;Ii.allBuffers=Yr,ni(ir,ar,!0,ar.length,Ii,"",Qt.finish),ar.pendingcb++,ar.lastBufferedRequest=null,Qt.next?(ar.corkedRequestsFree=Qt.next,Qt.next=null):ar.corkedRequestsFree=new r(ar),ar.bufferedRequestCount=0}else{for(;zr;){var rn=zr.chunk,aa=zr.encoding,Gs=zr.callback,Pr=ar.objectMode?1:rn.length;if(ni(ir,ar,!1,Pr,rn,aa,Gs),zr=zr.next,ar.bufferedRequestCount--,ar.writing)break}zr===null&&(ar.lastBufferedRequest=null)}ar.bufferedRequest=zr,ar.bufferProcessing=!1}vr.prototype._write=function(ir,ar,zr){zr(new I("_write()"))},vr.prototype._writev=null,vr.prototype.end=function(ir,ar,zr){var wo=this._writableState;return typeof ir=="function"?(zr=ir,ir=null,ar=null):typeof ar=="function"&&(zr=ar,ar=null),ir!=null&&this.write(ir,ar),wo.corked&&(wo.corked=1,this.uncork()),wo.ending||Ys(this,wo,zr),this},Object.defineProperty(vr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function rr(ir){return ir.ending&&ir.length===0&&ir.bufferedRequest===null&&!ir.finished&&!ir.writing}function Fr(ir,ar){ir._final(function(zr){ar.pendingcb--,zr&&ot(ir,zr),ar.prefinished=!0,ir.emit("prefinish"),yo(ir,ar)})}function qr(ir,ar){!ar.prefinished&&!ar.finalCalled&&(typeof ir._final=="function"&&!ar.destroyed?(ar.pendingcb++,ar.finalCalled=!0,process.nextTick(Fr,ir,ar)):(ar.prefinished=!0,ir.emit("prefinish")))}function yo(ir,ar){var zr=rr(ar);if(zr&&(qr(ir,ar),ar.pendingcb===0&&(ar.finished=!0,ir.emit("finish"),ar.autoDestroy))){var wo=ir._readableState;(!wo||wo.autoDestroy&&wo.endEmitted)&&ir.destroy()}return zr}function Ys(ir,ar,zr){ar.ending=!0,yo(ir,ar),zr&&(ar.finished?process.nextTick(zr):ir.once("finish",zr)),ar.ended=!0,ir.writable=!1}function Qs(ir,ar,zr){var wo=ir.entry;for(ir.entry=null;wo;){var Ii=wo.callback;ar.pendingcb--,Ii(zr),wo=wo.next}ar.corkedRequestsFree.next=ir}Object.defineProperty(vr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ir){!this._writableState||(this._writableState.destroyed=ir)}}),vr.prototype.destroy=V.destroy,vr.prototype._undestroy=V.undestroy,vr.prototype._destroy=function(ir,ar){ar(ir)}}),jr=h((e,t)=>{u();var r=Object.keys||function(X){var we=[];for(var q in X)we.push(q);return we};t.exports=k;var n=al(),o=il();for(Te()(k,n),s=r(o.prototype),y=0;y<s.length;y++)w=s[y],k.prototype[w]||(k.prototype[w]=o.prototype[w]);var s,w,y;function k(X){if(!(this instanceof k))return new k(X);n.call(this,X),o.call(this,X),this.allowHalfOpen=!0,X&&(X.readable===!1&&(this.readable=!1),X.writable===!1&&(this.writable=!1),X.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",P)))}Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function P(){this._writableState.ended||process.nextTick(V,this)}function V(X){X.end()}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(X){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=X,this._writableState.destroyed=X)}})}),Pv=h((e,t)=>{u();var r=ct$1(),n=r.Buffer;function o(w,y){for(var k in w)y[k]=w[k]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s);function s(w,y,k){return n(w,y,k)}s.prototype=Object.create(n.prototype),o(n,s),s.from=function(w,y,k){if(typeof w=="number")throw new TypeError("Argument must not be a number");return n(w,y,k)},s.alloc=function(w,y,k){if(typeof w!="number")throw new TypeError("Argument must be a number");var P=n(w);return y!==void 0?typeof k=="string"?P.fill(y,k):P.fill(y):P.fill(0),P},s.allocUnsafe=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return n(w)},s.allocUnsafeSlow=function(w){if(typeof w!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(w)}}),ll$1=h(e=>{u();var t=Pv().Buffer,r=t.isEncoding||function(_e){switch(_e=""+_e,_e&&_e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(_e){if(!_e)return"utf8";for(var Ie;;)switch(_e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _e;default:if(Ie)return;_e=(""+_e).toLowerCase(),Ie=!0}}function o(_e){var Ie=n(_e);if(typeof Ie!="string"&&(t.isEncoding===r||!r(_e)))throw new Error("Unknown encoding: "+_e);return Ie||_e}e.StringDecoder=s;function s(_e){this.encoding=o(_e);var Ie;switch(this.encoding){case"utf16le":this.text=we,this.end=q,Ie=4;break;case"utf8":this.fillLast=P,Ie=4;break;case"base64":this.text=L,this.end=I,Ie=3;break;default:this.write=ie,this.end=he;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(Ie)}s.prototype.write=function(_e){if(_e.length===0)return"";var Ie,et;if(this.lastNeed){if(Ie=this.fillLast(_e),Ie===void 0)return"";et=this.lastNeed,this.lastNeed=0}else et=0;return et<_e.length?Ie?Ie+this.text(_e,et):this.text(_e,et):Ie||""},s.prototype.end=X,s.prototype.text=V,s.prototype.fillLast=function(_e){if(this.lastNeed<=_e.length)return _e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_e.length),this.lastNeed-=_e.length};function w(_e){return _e<=127?0:_e>>5===6?2:_e>>4===14?3:_e>>3===30?4:_e>>6===2?-1:-2}function y(_e,Ie,et){var Wt=Ie.length-1;if(Wt<et)return 0;var ot=w(Ie[Wt]);return ot>=0?(ot>0&&(_e.lastNeed=ot-1),ot):--Wt<et||ot===-2?0:(ot=w(Ie[Wt]),ot>=0?(ot>0&&(_e.lastNeed=ot-2),ot):--Wt<et||ot===-2?0:(ot=w(Ie[Wt]),ot>=0?(ot>0&&(ot===2?ot=0:_e.lastNeed=ot-3),ot):0))}function k(_e,Ie,et){if((Ie[0]&192)!==128)return _e.lastNeed=0,"\uFFFD";if(_e.lastNeed>1&&Ie.length>1){if((Ie[1]&192)!==128)return _e.lastNeed=1,"\uFFFD";if(_e.lastNeed>2&&Ie.length>2&&(Ie[2]&192)!==128)return _e.lastNeed=2,"\uFFFD"}}function P(_e){var Ie=this.lastTotal-this.lastNeed,et=k(this,_e);if(et!==void 0)return et;if(this.lastNeed<=_e.length)return _e.copy(this.lastChar,Ie,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_e.copy(this.lastChar,Ie,0,_e.length),this.lastNeed-=_e.length}function V(_e,Ie){var et=y(this,_e,Ie);if(!this.lastNeed)return _e.toString("utf8",Ie);this.lastTotal=et;var Wt=_e.length-(et-this.lastNeed);return _e.copy(this.lastChar,0,Wt),_e.toString("utf8",Ie,Wt)}function X(_e){var Ie=_e&&_e.length?this.write(_e):"";return this.lastNeed?Ie+"\uFFFD":Ie}function we(_e,Ie){if((_e.length-Ie)%2===0){var et=_e.toString("utf16le",Ie);if(et){var Wt=et.charCodeAt(et.length-1);if(Wt>=55296&&Wt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_e[_e.length-2],this.lastChar[1]=_e[_e.length-1],et.slice(0,-1)}return et}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_e[_e.length-1],_e.toString("utf16le",Ie,_e.length-1)}function q(_e){var Ie=_e&&_e.length?this.write(_e):"";if(this.lastNeed){var et=this.lastTotal-this.lastNeed;return Ie+this.lastChar.toString("utf16le",0,et)}return Ie}function L(_e,Ie){var et=(_e.length-Ie)%3;return et===0?_e.toString("base64",Ie):(this.lastNeed=3-et,this.lastTotal=3,et===1?this.lastChar[0]=_e[_e.length-1]:(this.lastChar[0]=_e[_e.length-2],this.lastChar[1]=_e[_e.length-1]),_e.toString("base64",Ie,_e.length-et))}function I(_e){var Ie=_e&&_e.length?this.write(_e):"";return this.lastNeed?Ie+this.lastChar.toString("base64",0,3-this.lastNeed):Ie}function ie(_e){return _e.toString(this.encoding)}function he(_e){return _e&&_e.length?this.write(_e):""}}),pa$1=h((e,t)=>{u();var r=Mr().codes.ERR_STREAM_PREMATURE_CLOSE;function n(y){var k=!1;return function(){if(!k){k=!0;for(var P=arguments.length,V=new Array(P),X=0;X<P;X++)V[X]=arguments[X];y.apply(this,V)}}}function o(){}function s(y){return y.setHeader&&typeof y.abort=="function"}function w(y,k,P){if(typeof k=="function")return w(y,null,k);k||(k={}),P=n(P||o);var V=k.readable||k.readable!==!1&&y.readable,X=k.writable||k.writable!==!1&&y.writable,we=function(){y.writable||L()},q=y._writableState&&y._writableState.finished,L=function(){X=!1,q=!0,V||P.call(y)},I=y._readableState&&y._readableState.endEmitted,ie=function(){V=!1,I=!0,X||P.call(y)},he=function(et){P.call(y,et)},_e=function(){var et;if(V&&!I)return(!y._readableState||!y._readableState.ended)&&(et=new r),P.call(y,et);if(X&&!q)return(!y._writableState||!y._writableState.ended)&&(et=new r),P.call(y,et)},Ie=function(){y.req.on("finish",L)};return s(y)?(y.on("complete",L),y.on("abort",_e),y.req?Ie():y.on("request",Ie)):X&&!y._writableState&&(y.on("end",we),y.on("close",we)),y.on("end",ie),y.on("finish",L),k.error!==!1&&y.on("error",he),y.on("close",_e),function(){y.removeListener("complete",L),y.removeListener("abort",_e),y.removeListener("request",Ie),y.req&&y.req.removeListener("finish",L),y.removeListener("end",we),y.removeListener("close",we),y.removeListener("finish",L),y.removeListener("end",ie),y.removeListener("error",he),y.removeListener("close",_e)}}t.exports=w}),qv=h((e,t)=>{u();var r;function n(Ie,et,Wt){return et in Ie?Object.defineProperty(Ie,et,{value:Wt,enumerable:!0,configurable:!0,writable:!0}):Ie[et]=Wt,Ie}var o=pa$1(),s=Symbol("lastResolve"),w=Symbol("lastReject"),y=Symbol("error"),k=Symbol("ended"),P=Symbol("lastPromise"),V=Symbol("handlePromise"),X=Symbol("stream");function we(Ie,et){return{value:Ie,done:et}}function q(Ie){var et=Ie[s];if(et!==null){var Wt=Ie[X].read();Wt!==null&&(Ie[P]=null,Ie[s]=null,Ie[w]=null,et(we(Wt,!1)))}}function L(Ie){process.nextTick(q,Ie)}function I(Ie,et){return function(Wt,ot){Ie.then(function(){if(et[k]){Wt(we(void 0,!0));return}et[V](Wt,ot)},ot)}}var ie=Object.getPrototypeOf(function(){}),he=Object.setPrototypeOf((r={get stream(){return this[X]},next:function(){var Ie=this,et=this[y];if(et!==null)return Promise.reject(et);if(this[k])return Promise.resolve(we(void 0,!0));if(this[X].destroyed)return new Promise(function(st,Gt){process.nextTick(function(){Ie[y]?Gt(Ie[y]):st(we(void 0,!0))})});var Wt=this[P],ot;if(Wt)ot=new Promise(I(Wt,this));else{var at=this[X].read();if(at!==null)return Promise.resolve(we(at,!1));ot=new Promise(this[V])}return this[P]=ot,ot}},n(r,Symbol.asyncIterator,function(){return this}),n(r,"return",function(){var Ie=this;return new Promise(function(et,Wt){Ie[X].destroy(null,function(ot){if(ot){Wt(ot);return}et(we(void 0,!0))})})}),r),ie),_e=function(Ie){var et,Wt=Object.create(he,(et={},n(et,X,{value:Ie,writable:!0}),n(et,s,{value:null,writable:!0}),n(et,w,{value:null,writable:!0}),n(et,y,{value:null,writable:!0}),n(et,k,{value:Ie._readableState.endEmitted,writable:!0}),n(et,V,{value:function(ot,at){var st=Wt[X].read();st?(Wt[P]=null,Wt[s]=null,Wt[w]=null,ot(we(st,!1))):(Wt[s]=ot,Wt[w]=at)},writable:!0}),et));return Wt[P]=null,o(Ie,function(ot){if(ot&&ot.code!=="ERR_STREAM_PREMATURE_CLOSE"){var at=Wt[w];at!==null&&(Wt[P]=null,Wt[s]=null,Wt[w]=null,at(ot)),Wt[y]=ot;return}var st=Wt[s];st!==null&&(Wt[P]=null,Wt[s]=null,Wt[w]=null,st(we(void 0,!0))),Wt[k]=!0}),Ie.on("readable",L.bind(null,Wt)),Wt};t.exports=_e}),$v=h((e,t)=>{u(),t.exports=function(){throw new Error("Readable.from is not available in the browser")}}),al=h((e,t)=>{u(),t.exports=sr;var r;sr.ReadableState=vr,Rn().EventEmitter;var n=function(Qt,Xt){return Qt.listeners(Xt).length},o=Jf$1(),s=ct$1().Buffer,w=global.Uint8Array||function(){};function y(Qt){return s.from(Qt)}function k(Qt){return s.isBuffer(Qt)||Qt instanceof w}var P=Yf$1(),V;P&&P.debuglog?V=P.debuglog("stream"):V=function(){};var X=hv(),we=Xf$1(),q=el(),L=q.getHighWaterMark,I=Mr().codes,ie=I.ERR_INVALID_ARG_TYPE,he=I.ERR_STREAM_PUSH_AFTER_EOF,_e=I.ERR_METHOD_NOT_IMPLEMENTED,Ie=I.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,et,Wt,ot;Te()(sr,o);var at=we.errorOrDestroy,st=["error","close","destroy","pause","resume"];function Gt(Qt,Xt,Yr){if(typeof Qt.prependListener=="function")return Qt.prependListener(Xt,Yr);!Qt._events||!Qt._events[Xt]?Qt.on(Xt,Yr):Array.isArray(Qt._events[Xt])?Qt._events[Xt].unshift(Yr):Qt._events[Xt]=[Yr,Qt._events[Xt]]}function vr(Qt,Xt,Yr){r=r||jr(),Qt=Qt||{},typeof Yr!="boolean"&&(Yr=Xt instanceof r),this.objectMode=!!Qt.objectMode,Yr&&(this.objectMode=this.objectMode||!!Qt.readableObjectMode),this.highWaterMark=L(this,Qt,"readableHighWaterMark",Yr),this.buffer=new X,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Qt.emitClose!==!1,this.autoDestroy=!!Qt.autoDestroy,this.destroyed=!1,this.defaultEncoding=Qt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Qt.encoding&&(et||(et=ll$1().StringDecoder),this.decoder=new et(Qt.encoding),this.encoding=Qt.encoding)}function sr(Qt){if(r=r||jr(),!(this instanceof sr))return new sr(Qt);var Xt=this instanceof r;this._readableState=new vr(Qt,this,Xt),this.readable=!0,Qt&&(typeof Qt.read=="function"&&(this._read=Qt.read),typeof Qt.destroy=="function"&&(this._destroy=Qt.destroy)),o.call(this)}Object.defineProperty(sr.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Qt){!this._readableState||(this._readableState.destroyed=Qt)}}),sr.prototype.destroy=we.destroy,sr.prototype._undestroy=we.undestroy,sr.prototype._destroy=function(Qt,Xt){Xt(Qt)},sr.prototype.push=function(Qt,Xt){var Yr=this._readableState,rn;return Yr.objectMode?rn=!0:typeof Qt=="string"&&(Xt=Xt||Yr.defaultEncoding,Xt!==Yr.encoding&&(Qt=s.from(Qt,Xt),Xt=""),rn=!0),Kr(this,Qt,Xt,!1,rn)},sr.prototype.unshift=function(Qt){return Kr(this,Qt,null,!0,!1)};function Kr(Qt,Xt,Yr,rn,aa){V("readableAddChunk",Xt);var Gs=Qt._readableState;if(Xt===null)Gs.reading=!1,Hr(Qt,Gs);else{var Pr;if(aa||(Pr=ao(Gs,Xt)),Pr)at(Qt,Pr);else if(Gs.objectMode||Xt&&Xt.length>0)if(typeof Xt!="string"&&!Gs.objectMode&&Object.getPrototypeOf(Xt)!==s.prototype&&(Xt=y(Xt)),rn)Gs.endEmitted?at(Qt,new Ie):Qr(Qt,Gs,Xt,!0);else if(Gs.ended)at(Qt,new he);else{if(Gs.destroyed)return!1;Gs.reading=!1,Gs.decoder&&!Yr?(Xt=Gs.decoder.write(Xt),Gs.objectMode||Xt.length!==0?Qr(Qt,Gs,Xt,!1):en(Qt,Gs)):Qr(Qt,Gs,Xt,!1)}else rn||(Gs.reading=!1,en(Qt,Gs))}return!Gs.ended&&(Gs.length<Gs.highWaterMark||Gs.length===0)}function Qr(Qt,Xt,Yr,rn){Xt.flowing&&Xt.length===0&&!Xt.sync?(Xt.awaitDrain=0,Qt.emit("data",Yr)):(Xt.length+=Xt.objectMode?1:Yr.length,rn?Xt.buffer.unshift(Yr):Xt.buffer.push(Yr),Xt.needReadable&&Js(Qt)),en(Qt,Xt)}function ao(Qt,Xt){var Yr;return!k(Xt)&&typeof Xt!="string"&&Xt!==void 0&&!Qt.objectMode&&(Yr=new ie("chunk",["string","Buffer","Uint8Array"],Xt)),Yr}sr.prototype.isPaused=function(){return this._readableState.flowing===!1},sr.prototype.setEncoding=function(Qt){et||(et=ll$1().StringDecoder);var Xt=new et(Qt);this._readableState.decoder=Xt,this._readableState.encoding=this._readableState.decoder.encoding;for(var Yr=this._readableState.buffer.head,rn="";Yr!==null;)rn+=Xt.write(Yr.data),Yr=Yr.next;return this._readableState.buffer.clear(),rn!==""&&this._readableState.buffer.push(rn),this._readableState.length=rn.length,this};var ni=1073741824;function Ks(Qt){return Qt>=ni?Qt=ni:(Qt--,Qt|=Qt>>>1,Qt|=Qt>>>2,Qt|=Qt>>>4,Qt|=Qt>>>8,Qt|=Qt>>>16,Qt++),Qt}function ia(Qt,Xt){return Qt<=0||Xt.length===0&&Xt.ended?0:Xt.objectMode?1:Qt!==Qt?Xt.flowing&&Xt.length?Xt.buffer.head.data.length:Xt.length:(Qt>Xt.highWaterMark&&(Xt.highWaterMark=Ks(Qt)),Qt<=Xt.length?Qt:Xt.ended?Xt.length:(Xt.needReadable=!0,0))}sr.prototype.read=function(Qt){V("read",Qt),Qt=parseInt(Qt,10);var Xt=this._readableState,Yr=Qt;if(Qt!==0&&(Xt.emittedReadable=!1),Qt===0&&Xt.needReadable&&((Xt.highWaterMark!==0?Xt.length>=Xt.highWaterMark:Xt.length>0)||Xt.ended))return V("read: emitReadable",Xt.length,Xt.ended),Xt.length===0&&Xt.ended?zr(this):Js(this),null;if(Qt=ia(Qt,Xt),Qt===0&&Xt.ended)return Xt.length===0&&zr(this),null;var rn=Xt.needReadable;V("need readable",rn),(Xt.length===0||Xt.length-Qt<Xt.highWaterMark)&&(rn=!0,V("length less than watermark",rn)),Xt.ended||Xt.reading?(rn=!1,V("reading or ended",rn)):rn&&(V("do read"),Xt.reading=!0,Xt.sync=!0,Xt.length===0&&(Xt.needReadable=!0),this._read(Xt.highWaterMark),Xt.sync=!1,Xt.reading||(Qt=ia(Yr,Xt)));var aa;return Qt>0?aa=ar(Qt,Xt):aa=null,aa===null?(Xt.needReadable=Xt.length<=Xt.highWaterMark,Qt=0):(Xt.length-=Qt,Xt.awaitDrain=0),Xt.length===0&&(Xt.ended||(Xt.needReadable=!0),Yr!==Qt&&Xt.ended&&zr(this)),aa!==null&&this.emit("data",aa),aa};function Hr(Qt,Xt){if(V("onEofChunk"),!Xt.ended){if(Xt.decoder){var Yr=Xt.decoder.end();Yr&&Yr.length&&(Xt.buffer.push(Yr),Xt.length+=Xt.objectMode?1:Yr.length)}Xt.ended=!0,Xt.sync?Js(Qt):(Xt.needReadable=!1,Xt.emittedReadable||(Xt.emittedReadable=!0,ya(Qt)))}}function Js(Qt){var Xt=Qt._readableState;V("emitReadable",Xt.needReadable,Xt.emittedReadable),Xt.needReadable=!1,Xt.emittedReadable||(V("emitReadable",Xt.flowing),Xt.emittedReadable=!0,process.nextTick(ya,Qt))}function ya(Qt){var Xt=Qt._readableState;V("emitReadable_",Xt.destroyed,Xt.length,Xt.ended),!Xt.destroyed&&(Xt.length||Xt.ended)&&(Qt.emit("readable"),Xt.emittedReadable=!1),Xt.needReadable=!Xt.flowing&&!Xt.ended&&Xt.length<=Xt.highWaterMark,ir(Qt)}function en(Qt,Xt){Xt.readingMore||(Xt.readingMore=!0,process.nextTick(rr,Qt,Xt))}function rr(Qt,Xt){for(;!Xt.reading&&!Xt.ended&&(Xt.length<Xt.highWaterMark||Xt.flowing&&Xt.length===0);){var Yr=Xt.length;if(V("maybeReadMore read 0"),Qt.read(0),Yr===Xt.length)break}Xt.readingMore=!1}sr.prototype._read=function(Qt){at(this,new _e("_read()"))},sr.prototype.pipe=function(Qt,Xt){var Yr=this,rn=this._readableState;switch(rn.pipesCount){case 0:rn.pipes=Qt;break;case 1:rn.pipes=[rn.pipes,Qt];break;default:rn.pipes.push(Qt);break}rn.pipesCount+=1,V("pipe count=%d opts=%j",rn.pipesCount,Xt);var aa=(!Xt||Xt.end!==!1)&&Qt!==process.stdout&&Qt!==process.stderr,Gs=aa?ba:g;rn.endEmitted?process.nextTick(Gs):Yr.once("end",Gs),Qt.on("unpipe",Pr);function Pr(E,Ee){V("onunpipe"),E===Yr&&Ee&&Ee.hasUnpiped===!1&&(Ee.hasUnpiped=!0,Ea())}function ba(){V("onend"),Qt.end()}var ga=Fr(Yr);Qt.on("drain",ga);var la=!1;function Ea(){V("cleanup"),Qt.removeListener("close",Ca),Qt.removeListener("finish",i),Qt.removeListener("drain",ga),Qt.removeListener("error",ha),Qt.removeListener("unpipe",Pr),Yr.removeListener("end",ba),Yr.removeListener("end",g),Yr.removeListener("data",ja),la=!0,rn.awaitDrain&&(!Qt._writableState||Qt._writableState.needDrain)&&ga()}Yr.on("data",ja);function ja(E){V("ondata");var Ee=Qt.write(E);V("dest.write",Ee),Ee===!1&&((rn.pipesCount===1&&rn.pipes===Qt||rn.pipesCount>1&&Ii(rn.pipes,Qt)!==-1)&&!la&&(V("false write response, pause",rn.awaitDrain),rn.awaitDrain++),Yr.pause())}function ha(E){V("onerror",E),g(),Qt.removeListener("error",ha),n(Qt,"error")===0&&at(Qt,E)}Gt(Qt,"error",ha);function Ca(){Qt.removeListener("finish",i),g()}Qt.once("close",Ca);function i(){V("onfinish"),Qt.removeListener("close",Ca),g()}Qt.once("finish",i);function g(){V("unpipe"),Yr.unpipe(Qt)}return Qt.emit("pipe",Yr),rn.flowing||(V("pipe resume"),Yr.resume()),Qt};function Fr(Qt){return function(){var Xt=Qt._readableState;V("pipeOnDrain",Xt.awaitDrain),Xt.awaitDrain&&Xt.awaitDrain--,Xt.awaitDrain===0&&n(Qt,"data")&&(Xt.flowing=!0,ir(Qt))}}sr.prototype.unpipe=function(Qt){var Xt=this._readableState,Yr={hasUnpiped:!1};if(Xt.pipesCount===0)return this;if(Xt.pipesCount===1)return Qt&&Qt!==Xt.pipes?this:(Qt||(Qt=Xt.pipes),Xt.pipes=null,Xt.pipesCount=0,Xt.flowing=!1,Qt&&Qt.emit("unpipe",this,Yr),this);if(!Qt){var rn=Xt.pipes,aa=Xt.pipesCount;Xt.pipes=null,Xt.pipesCount=0,Xt.flowing=!1;for(var Gs=0;Gs<aa;Gs++)rn[Gs].emit("unpipe",this,{hasUnpiped:!1});return this}var Pr=Ii(Xt.pipes,Qt);return Pr===-1?this:(Xt.pipes.splice(Pr,1),Xt.pipesCount-=1,Xt.pipesCount===1&&(Xt.pipes=Xt.pipes[0]),Qt.emit("unpipe",this,Yr),this)},sr.prototype.on=function(Qt,Xt){var Yr=o.prototype.on.call(this,Qt,Xt),rn=this._readableState;return Qt==="data"?(rn.readableListening=this.listenerCount("readable")>0,rn.flowing!==!1&&this.resume()):Qt==="readable"&&!rn.endEmitted&&!rn.readableListening&&(rn.readableListening=rn.needReadable=!0,rn.flowing=!1,rn.emittedReadable=!1,V("on readable",rn.length,rn.reading),rn.length?Js(this):rn.reading||process.nextTick(yo,this)),Yr},sr.prototype.addListener=sr.prototype.on,sr.prototype.removeListener=function(Qt,Xt){var Yr=o.prototype.removeListener.call(this,Qt,Xt);return Qt==="readable"&&process.nextTick(qr,this),Yr},sr.prototype.removeAllListeners=function(Qt){var Xt=o.prototype.removeAllListeners.apply(this,arguments);return(Qt==="readable"||Qt===void 0)&&process.nextTick(qr,this),Xt};function qr(Qt){var Xt=Qt._readableState;Xt.readableListening=Qt.listenerCount("readable")>0,Xt.resumeScheduled&&!Xt.paused?Xt.flowing=!0:Qt.listenerCount("data")>0&&Qt.resume()}function yo(Qt){V("readable nexttick read 0"),Qt.read(0)}sr.prototype.resume=function(){var Qt=this._readableState;return Qt.flowing||(V("resume"),Qt.flowing=!Qt.readableListening,Ys(this,Qt)),Qt.paused=!1,this};function Ys(Qt,Xt){Xt.resumeScheduled||(Xt.resumeScheduled=!0,process.nextTick(Qs,Qt,Xt))}function Qs(Qt,Xt){V("resume",Xt.reading),Xt.reading||Qt.read(0),Xt.resumeScheduled=!1,Qt.emit("resume"),ir(Qt),Xt.flowing&&!Xt.reading&&Qt.read(0)}sr.prototype.pause=function(){return V("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(V("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ir(Qt){var Xt=Qt._readableState;for(V("flow",Xt.flowing);Xt.flowing&&Qt.read()!==null;);}sr.prototype.wrap=function(Qt){var Xt=this,Yr=this._readableState,rn=!1;Qt.on("end",function(){if(V("wrapped end"),Yr.decoder&&!Yr.ended){var Pr=Yr.decoder.end();Pr&&Pr.length&&Xt.push(Pr)}Xt.push(null)}),Qt.on("data",function(Pr){if(V("wrapped data"),Yr.decoder&&(Pr=Yr.decoder.write(Pr)),!(Yr.objectMode&&Pr==null)&&!(!Yr.objectMode&&(!Pr||!Pr.length))){var ba=Xt.push(Pr);ba||(rn=!0,Qt.pause())}});for(var aa in Qt)this[aa]===void 0&&typeof Qt[aa]=="function"&&(this[aa]=function(Pr){return function(){return Qt[Pr].apply(Qt,arguments)}}(aa));for(var Gs=0;Gs<st.length;Gs++)Qt.on(st[Gs],this.emit.bind(this,st[Gs]));return this._read=function(Pr){V("wrapped _read",Pr),rn&&(rn=!1,Qt.resume())},this},typeof Symbol=="function"&&(sr.prototype[Symbol.asyncIterator]=function(){return Wt===void 0&&(Wt=qv()),Wt(this)}),Object.defineProperty(sr.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(sr.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(sr.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Qt){this._readableState&&(this._readableState.flowing=Qt)}}),sr._fromList=ar,Object.defineProperty(sr.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ar(Qt,Xt){if(Xt.length===0)return null;var Yr;return Xt.objectMode?Yr=Xt.buffer.shift():!Qt||Qt>=Xt.length?(Xt.decoder?Yr=Xt.buffer.join(""):Xt.buffer.length===1?Yr=Xt.buffer.first():Yr=Xt.buffer.concat(Xt.length),Xt.buffer.clear()):Yr=Xt.buffer.consume(Qt,Xt.decoder),Yr}function zr(Qt){var Xt=Qt._readableState;V("endReadable",Xt.endEmitted),Xt.endEmitted||(Xt.ended=!0,process.nextTick(wo,Xt,Qt))}function wo(Qt,Xt){if(V("endReadableNT",Qt.endEmitted,Qt.length),!Qt.endEmitted&&Qt.length===0&&(Qt.endEmitted=!0,Xt.readable=!1,Xt.emit("end"),Qt.autoDestroy)){var Yr=Xt._writableState;(!Yr||Yr.autoDestroy&&Yr.finished)&&Xt.destroy()}}typeof Symbol=="function"&&(sr.from=function(Qt,Xt){return ot===void 0&&(ot=$v()),ot(sr,Qt,Xt)});function Ii(Qt,Xt){for(var Yr=0,rn=Qt.length;Yr<rn;Yr++)if(Qt[Yr]===Xt)return Yr;return-1}}),_l$1=h((e,t)=>{u(),t.exports=P;var r=Mr().codes,n=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,w=r.ERR_TRANSFORM_WITH_LENGTH_0,y=jr();Te()(P,y);function k(we,q){var L=this._transformState;L.transforming=!1;var I=L.writecb;if(I===null)return this.emit("error",new o);L.writechunk=null,L.writecb=null,q!=null&&this.push(q),I(we);var ie=this._readableState;ie.reading=!1,(ie.needReadable||ie.length<ie.highWaterMark)&&this._read(ie.highWaterMark)}function P(we){if(!(this instanceof P))return new P(we);y.call(this,we),this._transformState={afterTransform:k.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,we&&(typeof we.transform=="function"&&(this._transform=we.transform),typeof we.flush=="function"&&(this._flush=we.flush)),this.on("prefinish",V)}function V(){var we=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(q,L){X(we,q,L)}):X(this,null,null)}P.prototype.push=function(we,q){return this._transformState.needTransform=!1,y.prototype.push.call(this,we,q)},P.prototype._transform=function(we,q,L){L(new n("_transform()"))},P.prototype._write=function(we,q,L){var I=this._transformState;if(I.writecb=L,I.writechunk=we,I.writeencoding=q,!I.transforming){var ie=this._readableState;(I.needTransform||ie.needReadable||ie.length<ie.highWaterMark)&&this._read(ie.highWaterMark)}},P.prototype._read=function(we){var q=this._transformState;q.writechunk!==null&&!q.transforming?(q.transforming=!0,this._transform(q.writechunk,q.writeencoding,q.afterTransform)):q.needTransform=!0},P.prototype._destroy=function(we,q){y.prototype._destroy.call(this,we,function(L){q(L)})};function X(we,q,L){if(q)return we.emit("error",q);if(L!=null&&we.push(L),we._writableState.length)throw new w;if(we._transformState.transforming)throw new s;return we.push(null)}}),nE=h((e,t)=>{u(),t.exports=n;var r=_l$1();Te()(n,r);function n(o){if(!(this instanceof n))return new n(o);r.call(this,o)}n.prototype._transform=function(o,s,w){w(null,o)}}),uE=h((e,t)=>{u();var r;function n(L){var I=!1;return function(){I||(I=!0,L.apply(void 0,arguments))}}var o=Mr().codes,s=o.ERR_MISSING_ARGS,w=o.ERR_STREAM_DESTROYED;function y(L){if(L)throw L}function k(L){return L.setHeader&&typeof L.abort=="function"}function P(L,I,ie,he){he=n(he);var _e=!1;L.on("close",function(){_e=!0}),r===void 0&&(r=pa$1()),r(L,{readable:I,writable:ie},function(et){if(et)return he(et);_e=!0,he()});var Ie=!1;return function(et){if(!_e&&!Ie){if(Ie=!0,k(L))return L.abort();if(typeof L.destroy=="function")return L.destroy();he(et||new w("pipe"))}}}function V(L){L()}function X(L,I){return L.pipe(I)}function we(L){return!L.length||typeof L[L.length-1]!="function"?y:L.pop()}function q(){for(var L=arguments.length,I=new Array(L),ie=0;ie<L;ie++)I[ie]=arguments[ie];var he=we(I);if(Array.isArray(I[0])&&(I=I[0]),I.length<2)throw new s("streams");var _e,Ie=I.map(function(et,Wt){var ot=Wt<I.length-1,at=Wt>0;return P(et,ot,at,function(st){_e||(_e=st),st&&Ie.forEach(V),!ot&&(Ie.forEach(V),he(_e))})});return I.reduce(X)}t.exports=q}),fE=h((e,t)=>{u(),e=t.exports=al(),e.Stream=e,e.Readable=e,e.Writable=il(),e.Duplex=jr(),e.Transform=_l$1(),e.PassThrough=nE(),e.finished=pa$1(),e.pipeline=uE()}),pE=h((e,t)=>{u();var r=Te(),{Readable:n}=fE();t.exports=o,r(o,n);function o(s,w){if(!(this instanceof o))return new o(s,w);w=w||{},n.call(this,Object.assign({},w,{objectMode:!0})),this._iterator=s,this._options=w,this.on("end",this.destroy.bind(this,null,null))}o.prototype._read=function(){this.destroyed||this._iterator.next((s,w,y)=>{if(!this.destroyed){if(s)return this.destroy(s);w===void 0&&y===void 0?this.push(null):this._options.keys!==!1&&this._options.values===!1?this.push(w):this._options.keys===!1&&this._options.values!==!1?this.push(y):this.push({key:w,value:y})}})},o.prototype._destroy=function(s,w){this._iterator.end(function(y){w(s||y)})}}),_a$1=h((e,t)=>{u();function r(o,s){let w=function(y,k){if(typeof y=="object"&&y!==null&&(k=k||y,y=y.message||y.name),y=y||"",k=k||void 0,typeof k=="object"&&k.type===o&&k.message===y)return k;Object.defineProperty(this,"type",{value:o,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"name",{value:o,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"cause",{value:k,enumerable:!1,writable:!0,configurable:!0}),Object.defineProperty(this,"message",{value:y,enumerable:!1,writable:!0,configurable:!0}),Error.call(this),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,w)};return w.prototype=new s,w}var n=r("LevelUPError",Error);t.exports={LevelUPError:n,InitializationError:r("InitializationError",n),OpenError:r("OpenError",n),ReadError:r("ReadError",n),WriteError:r("WriteError",n),NotFoundError:r("NotFoundError",n),EncodingError:r("EncodingError",n)},t.exports.NotFoundError.prototype.notFound=!0,t.exports.NotFoundError.prototype.status=404}),ro$1=h(e=>{u(),e.getCallback=function(t,r){return typeof t=="function"?t:r},e.getOptions=function(t){return typeof t=="object"&&t!==null?t:{}}}),yE=h((e,t)=>{u();var r=_a$1().WriteError,n=ta$1(),o=ro$1().getCallback,s=ro$1().getOptions;function w(y){this.db=y,this.batch=y.db.batch(),this.ops=[],this.length=0}w.prototype.put=function(y,k,P){try{this.batch.put(y,k,P)}catch(V){throw new r(V)}return this.ops.push({...P,type:"put",key:y,value:k}),this.length++,this},w.prototype.del=function(y,k){try{this.batch.del(y,k)}catch(P){throw new r(P)}return this.ops.push({...k,type:"del",key:y}),this.length++,this},w.prototype.clear=function(){try{this.batch.clear()}catch(y){throw new r(y)}return this.ops=[],this.length=0,this},w.prototype.write=function(y,k){let P=this.db,V=this.ops;k=o(y,k),k=n.fromCallback(k),y=s(y);try{this.batch.write(y,function(X){if(X)return k(new r(X));P.emit("batch",V),k()})}catch(X){throw new r(X)}return k.promise},t.exports=w}),wE=h((e,t)=>{u();var r=ra$1();t.exports=function(n,...o){o.length===0?r(n):r(()=>n(...o))}}),EE=h((e,t)=>{u();var r=Rn().EventEmitter,n=P0().inherits,o=cv(),s=pE(),w=yE(),y=_a$1(),k=Uf$1(),P=ta$1(),V=ro$1().getCallback,X=ro$1().getOptions,we=wE(),q=y.WriteError,L=y.ReadError,I=y.NotFoundError,ie=y.OpenError,he=y.InitializationError;function _e(et,Wt,ot){if(!(this instanceof _e))return new _e(et,Wt,ot);let at;if(r.call(this),this.setMaxListeners(1/0),typeof Wt=="function"&&(ot=Wt,Wt={}),Wt=Wt||{},!et||typeof et!="object"){if(at=new he("First argument must be an abstract-leveldown compliant store"),typeof ot=="function")return we(ot,at);throw at}if(typeof et.status!="string")throw new Error(".status required, old abstract-leveldown");this.options=X(Wt),this._db=et,this.db=null,this.open(ot||(st=>{st&&this.emit("error",st)})),this.supports=k(this.db.supports,{status:!0,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0});for(let st of Object.keys(this.supports.additionalMethods))this[st]==null&&(this[st]=function(...Gt){return this.db[st](...Gt)})}_e.prototype.emit=r.prototype.emit,_e.prototype.once=r.prototype.once,n(_e,r),Object.defineProperty(_e.prototype,"status",{enumerable:!0,get(){return this.db.status}}),_e.prototype.isOperational=function(){return this.db.status==="open"||this.db.status==="opening"},_e.prototype.open=function(et,Wt){return typeof et=="function"&&(Wt=et,et=null),Wt=P.fromCallback(Wt),et||(et=this.options),this.db&&this.isOpen()?(we(Wt,null,this),Wt.promise):this.db&&this._isOpening()?(this.once("open",()=>{Wt(null,this)}),Wt.promise):(this.db=new o(this._db),this.emit("opening"),this.db.open(et,ot=>{if(ot)return Wt(new ie(ot));this.db=this._db,Wt(null,this),this.emit("open"),this.emit("ready")}),Wt.promise)},_e.prototype.close=function(et){return et=P.fromCallback(et),this.isOpen()?(this.db.close((Wt,...ot)=>{this.emit("closed"),et(Wt,...ot)}),this.emit("closing")):this.isClosed()?we(et):this.db.status==="closing"?this.once("closed",et):this._isOpening()&&this.once("open",()=>{this.close(et)}),et.promise},_e.prototype.isOpen=function(){return this.db.status==="open"},_e.prototype._isOpening=function(){return this.db.status==="opening"},_e.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},_e.prototype.get=function(et,Wt,ot){return ot=V(Wt,ot),ot=P.fromCallback(ot),Ie(this,ot)||(Wt=X(Wt),this.db.get(et,Wt,function(at,st){if(at)return/notfound/i.test(at)||at.notFound?at=new I("Key not found in database ["+et+"]",at):at=new L(at),ot(at);ot(null,st)})),ot.promise},_e.prototype.getMany=function(et,Wt,ot){return this.db.getMany(et,Wt,ot)},_e.prototype.put=function(et,Wt,ot,at){return at=V(ot,at),at=P.fromCallback(at),Ie(this,at)||(ot=X(ot),this.db.put(et,Wt,ot,st=>{if(st)return at(new q(st));this.emit("put",et,Wt),at()})),at.promise},_e.prototype.del=function(et,Wt,ot){return ot=V(Wt,ot),ot=P.fromCallback(ot),Ie(this,ot)||(Wt=X(Wt),this.db.del(et,Wt,at=>{if(at)return ot(new q(at));this.emit("del",et),ot()})),ot.promise},_e.prototype.batch=function(et,Wt,ot){return arguments.length?(typeof et=="function"?ot=et:ot=V(Wt,ot),ot=P.fromCallback(ot),Ie(this,ot)||(Wt=X(Wt),this.db.batch(et,Wt,at=>{if(at)return ot(new q(at));this.emit("batch",et),ot()})),ot.promise):new w(this)},_e.prototype.iterator=function(et){return this.db.iterator(et)},_e.prototype.clear=function(et,Wt){return Wt=V(et,Wt),et=X(et),Wt=P.fromCallback(Wt),Ie(this,Wt)||this.db.clear(et,ot=>{if(ot)return Wt(new q(ot));this.emit("clear",et),Wt()}),Wt.promise},_e.prototype.readStream=_e.prototype.createReadStream=function(et){return et=Object.assign({keys:!0,values:!0},et),typeof et.limit!="number"&&(et.limit=-1),new s(this.db.iterator(et),et)},_e.prototype.keyStream=_e.prototype.createKeyStream=function(et){return this.createReadStream(Object.assign({},et,{keys:!0,values:!1}))},_e.prototype.valueStream=_e.prototype.createValueStream=function(et){return this.createReadStream(Object.assign({},et,{keys:!1,values:!0}))},_e.prototype.toString=function(){return"LevelUP"},_e.prototype.type="levelup",_e.prototype._nextTick=we;function Ie(et,Wt){return et.isOperational()?!1:(we(Wt,new L("Database is not open")),!0)}_e.errors=y,t.exports=_e}),_E=h(e=>{u();var{Buffer:t}=ct$1();e.utf8=e["utf-8"]={encode:function(s){return o(s)?s:String(s)},decode:n,buffer:!1,type:"utf8"},e.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},e.binary={encode:function(s){return o(s)?s:t.from(s)},decode:n,buffer:!0,type:"binary"},e.none={encode:n,decode:n,buffer:!1,type:"id"},e.id=e.none;var r=["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"];for(let s of r)e[s]={encode:function(w){return o(w)?w:t.from(w,s)},decode:function(w){return w.toString(s)},buffer:!0,type:s};function n(s){return s}function o(s){return s==null||t.isBuffer(s)}}),DE=h((e,t)=>{u();var r=_E(),n=new Set(["lt","gt","lte","gte"]);t.exports=o;function o(s){if(!(this instanceof o))return new o(s);this.opts=s||{},this.encodings=r}o.prototype._encoding=function(s){return typeof s=="string"&&(s=r[s]),s||(s=r.id),s},o.prototype._keyEncoding=function(s,w){return this._encoding(w&&w.keyEncoding||s&&s.keyEncoding||this.opts.keyEncoding)},o.prototype._valueEncoding=function(s,w){return this._encoding(w&&(w.valueEncoding||w.encoding)||s&&(s.valueEncoding||s.encoding)||this.opts.valueEncoding||this.opts.encoding)},o.prototype.encodeKey=function(s,w,y){return this._keyEncoding(w,y).encode(s)},o.prototype.encodeValue=function(s,w,y){return this._valueEncoding(w,y).encode(s)},o.prototype.decodeKey=function(s,w){return this._keyEncoding(w).decode(s)},o.prototype.decodeValue=function(s,w){return this._valueEncoding(w).decode(s)},o.prototype.encodeBatch=function(s,w){return s.map(y=>{let k={type:y.type,key:this.encodeKey(y.key,w,y)};return this.keyAsBuffer(w,y)&&(k.keyEncoding="binary"),y.prefix&&(k.prefix=y.prefix),"value"in y&&(k.value=this.encodeValue(y.value,w,y),this.valueAsBuffer(w,y)&&(k.valueEncoding="binary")),k})},o.prototype.encodeLtgt=function(s){let w={};for(let y of Object.keys(s)){if(y==="start"||y==="end")throw new Error('Legacy range options ("start" and "end") have been removed');w[y]=n.has(y)?this.encodeKey(s[y],s):s[y]}return w},o.prototype.createStreamDecoder=function(s){return s.keys&&s.values?(w,y)=>({key:this.decodeKey(w,s),value:this.decodeValue(y,s)}):s.keys?w=>this.decodeKey(w,s):s.values?(w,y)=>this.decodeValue(y,s):function(){}},o.prototype.keyAsBuffer=function(s){return this._keyEncoding(s).buffer},o.prototype.valueAsBuffer=function(s){return this._valueEncoding(s).buffer}}),TE=h((e,t)=>{u();var r=Nt().AbstractLevelDOWN,n=Nt().AbstractChainedBatch,o=Nt().AbstractIterator,s=Te(),w=DE(),y=_a$1().EncodingError,k=["approximateSize","compactRange"];t.exports=P;function P(we,q){if(!(this instanceof P))return new P(we,q);let L=we.supports||{},I=L.additionalMethods||{};r.call(this,L),this.supports.encodings=!0,this.supports.additionalMethods={},k.forEach(function(ie){let he=typeof we[ie]=="function";(I[ie]||he)&&(this.supports.additionalMethods[ie]=!0,this[ie]=function(_e,Ie,et,Wt){return _e=this.codec.encodeKey(_e,et),Ie=this.codec.encodeKey(Ie,et),this.db[ie](_e,Ie,et,Wt)})},this),q=q||{},typeof q.keyEncoding>"u"&&(q.keyEncoding="utf8"),typeof q.valueEncoding>"u"&&(q.valueEncoding="utf8"),this.db=we,this.codec=new w(q)}s(P,r),P.prototype.type="encoding-down",P.prototype._serializeKey=P.prototype._serializeValue=function(we){return we},P.prototype._open=function(we,q){this.db.open(we,q)},P.prototype._close=function(we){this.db.close(we)},P.prototype._put=function(we,q,L,I){we=this.codec.encodeKey(we,L),q=this.codec.encodeValue(q,L),this.db.put(we,q,L,I)},P.prototype._get=function(we,q,L){we=this.codec.encodeKey(we,q),q.asBuffer=this.codec.valueAsBuffer(q),this.db.get(we,q,(I,ie)=>{if(I)return L(I);try{ie=this.codec.decodeValue(ie,q)}catch(he){return L(new y(he))}L(null,ie)})},P.prototype._getMany=function(we,q,L){we=we.map(I=>this.codec.encodeKey(I,q)),q.asBuffer=this.codec.valueAsBuffer(q),this.db.getMany(we,q,(I,ie)=>{if(I)return L(I);let he=new Array(ie.length);for(let _e=0;_e<ie.length;_e++){if(ie[_e]===void 0){he[_e]=void 0;continue}try{he[_e]=this.codec.decodeValue(ie[_e],q)}catch(Ie){return L(new y(Ie))}}L(null,he)})},P.prototype._del=function(we,q,L){we=this.codec.encodeKey(we,q),this.db.del(we,q,L)},P.prototype._chainedBatch=function(){return new X(this)},P.prototype._batch=function(we,q,L){we=this.codec.encodeBatch(we,q),this.db.batch(we,q,L)},P.prototype._iterator=function(we){return we.keyAsBuffer=this.codec.keyAsBuffer(we),we.valueAsBuffer=this.codec.valueAsBuffer(we),new V(this,we)},P.prototype._clear=function(we,q){we=this.codec.encodeLtgt(we),this.db.clear(we,q)};function V(we,q){o.call(this,we),this.codec=we.codec,this.keys=q.keys,this.values=q.values,this.opts=this.codec.encodeLtgt(q),this.it=we.db.iterator(this.opts)}s(V,o),V.prototype._next=function(we){this.it.next((q,L,I)=>{if(q)return we(q);try{this.keys&&typeof L<"u"?L=this.codec.decodeKey(L,this.opts):L=void 0,this.values&&typeof I<"u"?I=this.codec.decodeValue(I,this.opts):I=void 0}catch(ie){return we(new y(ie))}we(null,L,I)})},V.prototype._seek=function(we){we=this.codec.encodeKey(we,this.opts),this.it.seek(we)},V.prototype._end=function(we){this.it.end(we)};function X(we,q){n.call(this,we),this.codec=we.codec,this.batch=we.db.batch()}s(X,n),X.prototype._put=function(we,q,L){we=this.codec.encodeKey(we,L),q=this.codec.encodeValue(q,L),this.batch.put(we,q)},X.prototype._del=function(we,q){we=this.codec.encodeKey(we,q),this.batch.del(we)},X.prototype._clear=function(){this.batch.clear()},X.prototype._write=function(we,q){this.batch.write(we,q)}}),BE=h((e,t)=>{u();var r=EE(),n=TE();function o(s){function w(k,P,V){return typeof k=="function"?V=k:typeof P=="function"&&(V=P),y(P)||(P=y(k)?k:{}),r(n(s(k,P),P),P,V)}function y(k){return typeof k=="object"&&k!==null}for(let k of["destroy","repair"])typeof s[k]=="function"&&(w[k]=function(...P){s[k](...P)});return w.errors=r.errors,w}t.exports=o}),kE=h((e,t)=>{u(),t.exports=n;var r=ra$1();function n(o,s,w){if(typeof s!="number")throw new Error("second argument must be a Number");let y,k,P,V,X,we=!0,q;Array.isArray(o)?(y=[],P=k=o.length):(V=Object.keys(o),y={},P=k=V.length);function L(ie){function he(){w&&w(ie,y),w=null}we?r(he):he()}function I(ie,he,_e){if(y[ie]=_e,he&&(X=!0),--P===0||he)L(he);else if(!X&&q<k){let Ie;V?(Ie=V[q],q+=1,o[Ie](function(et,Wt){I(Ie,et,Wt)})):(Ie=q,q+=1,o[Ie](function(et,Wt){I(Ie,et,Wt)}))}}q=s,P?V?V.some(function(ie,he){return o[ie](function(_e,Ie){I(ie,_e,Ie)}),he===s-1}):o.some(function(ie,he){return ie(function(_e,Ie){I(he,_e,Ie)}),he===s-1}):L(null),we=!1}}),NE=h(e=>{u(),e.compare=function(q,L){if(Buffer.isBuffer(q)){for(var I=Math.min(q.length,L.length),ie=0;ie<I;ie++){var he=q[ie]-L[ie];if(he)return he}return q.length-L.length}return q<L?-1:q>L?1:0};function t(q){return q!==void 0&&q!==""}function r(q,L){return Object.hasOwnProperty.call(q,L)}function n(q,L){return Object.hasOwnProperty.call(q,L)&&L}var o=e.lowerBoundKey=function(q){return n(q,"gt")||n(q,"gte")||n(q,"min")||(q.reverse?n(q,"end"):n(q,"start"))||void 0},s=e.lowerBound=function(q,L){var I=o(q);return I?q[I]:L},w=e.lowerBoundInclusive=function(q){return!r(q,"gt")},y=e.upperBoundInclusive=function(q){return!r(q,"lt")},k=e.lowerBoundExclusive=function(q){return!w(q)},P=e.upperBoundExclusive=function(q){return!y(q)},V=e.upperBoundKey=function(q){return n(q,"lt")||n(q,"lte")||n(q,"max")||(q.reverse?n(q,"start"):n(q,"end"))||void 0},X=e.upperBound=function(q,L){var I=V(q);return I?q[I]:L};e.start=function(q,L){return q.reverse?X(q,L):s(q,L)},e.end=function(q,L){return q.reverse?s(q,L):X(q,L)},e.startInclusive=function(q){return q.reverse?y(q):w(q)},e.endInclusive=function(q){return q.reverse?w(q):y(q)};function we(q){return q}e.toLtgt=function(q,L,I,ie,he){L=L||{},I=I||we;var _e=arguments.length>3,Ie=e.lowerBoundKey(q),et=e.upperBoundKey(q);return Ie?Ie==="gt"?L.gt=I(q.gt,!1):L.gte=I(q[Ie],!1):_e&&(L.gte=I(ie,!1)),et?et==="lt"?L.lt=I(q.lt,!0):L.lte=I(q[et],!0):_e&&(L.lte=I(he,!0)),q.reverse!=null&&(L.reverse=!!q.reverse),r(L,"max")&&delete L.max,r(L,"min")&&delete L.min,r(L,"start")&&delete L.start,r(L,"end")&&delete L.end,L},e.contains=function(q,L,I){I=I||e.compare;var ie=s(q);if(t(ie)){var he=I(L,ie);if(he<0||he===0&&k(q))return!1}var _e=X(q);if(t(_e)){var he=I(L,_e);if(he>0||he===0&&P(q))return!1}return!0},e.filter=function(q,L){return function(I){return e.contains(q,I,L)}}}),kl$1=h((e,t)=>{u();var r=NE(),n=Symbol("none");t.exports=function(o){let s=r.lowerBound(o,n),w=r.upperBound(o,n),y=r.lowerBoundExclusive(o,n),k=r.upperBoundExclusive(o,n);return s!==n&&w!==n?IDBKeyRange.bound(s,w,y,k):s!==n?IDBKeyRange.lowerBound(s,y):w!==n?IDBKeyRange.upperBound(w,k):null}}),Fl$1=h((e,t)=>{u();var r=ct$1().Buffer,n=function(){if(global.TextDecoder){let w=new TextDecoder("utf-8");return w.decode.bind(w)}else return function(w){return s(w).toString()}}(),o=function(){if(global.TextDecoder){let w=new TextDecoder("utf-8");return w.decode.bind(w)}else return function(w){return r.from(w).toString()}}();function s(w){let y=r.from(w.buffer);return w.byteLength===w.buffer.byteLength?y:y.slice(w.byteOffset,w.byteOffset+w.byteLength)}t.exports=function(w,y){return w instanceof Uint8Array?y?s(w):n(w):w instanceof ArrayBuffer?y?r.from(w):o(w):y?r.from(String(w)):String(w)}}),KE=h((e,t)=>{u();var r=Te(),n=Nt().AbstractIterator,o=kl$1(),s=Fl$1(),w=function(){};t.exports=y;function y(k,P,V){if(n.call(this,k),this._limit=V.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=V.keys,this._values=V.values,this._keyAsBuffer=V.keyAsBuffer,this._valueAsBuffer=V.valueAsBuffer,this._limit===0){this._completed=!0;return}let X;try{X=o(V)}catch{this._completed=!0;return}this.createIterator(P,X,V.reverse)}r(y,n),y.prototype.createIterator=function(k,P,V){let X=this.db.db.transaction([k],"readonly"),we=X.objectStore(k).openCursor(P,V?"prev":"next");we.onsuccess=q=>{let L=q.target.result;L&&this.onItem(L)},this._transaction=X,X.onabort=()=>{this.onAbort(this._transaction.error||new Error("aborted by user"))},X.oncomplete=()=>{this.onComplete()}},y.prototype.onItem=function(k){this._cache.push(k.key,k.value),(this._limit<=0||++this._count<this._limit)&&k.continue(),this.maybeNext()},y.prototype.onAbort=function(k){this._aborted=!0,this._error=k,this.maybeNext()},y.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},y.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},y.prototype._next=function(k){if(this._aborted){let P=this._error;this._error=null,this._nextTick(k,P)}else if(this._cache.length>0){let P=this._cache.shift(),V=this._cache.shift();this._keys&&P!==void 0?P=this._deserializeKey(P,this._keyAsBuffer):P=void 0,this._values&&V!==void 0?V=this._deserializeValue(V,this._valueAsBuffer):V=void 0,this._nextTick(k,null,P,V)}else this._completed?this._nextTick(k):this._callback=k},y.prototype._deserializeKey=s,y.prototype._deserializeValue=s,y.prototype._end=function(k){if(this._aborted||this._completed)return this._nextTick(k,this._error);this.onItem=w,this.onAbort=k,this.onComplete=k}}),VE=h((e,t)=>{u();var r=ct$1().Buffer,n=function(){if(global.TextEncoder){let o=new TextEncoder("utf-8");return o.encode.bind(o)}else return r.from}();t.exports=function(o,s){return s?r.isBuffer(o)?o:n(String(o)):String(o)}}),GE=h(e=>{u();var t=ct$1().Buffer;e.test=function(r){return function(n){try{return n.cmp(r,0),!0}catch{return!1}}},e.bufferKeys=e.test(t.alloc(0))}),JE=h((e,t)=>{u(),t.exports=function(r,n,o,s,w){if(s.limit===0)return r._nextTick(w);let y=r.db.transaction([n],"readwrite"),k=y.objectStore(n),P=0;y.oncomplete=function(){w()},y.onabort=function(){w(y.error||new Error("aborted by user"))};let V=k.openKeyCursor?"openKeyCursor":"openCursor",X=s.reverse?"prev":"next";k[V](o,X).onsuccess=function(we){let q=we.target.result;q&&(k.delete(q.key).onsuccess=function(){(s.limit<=0||++P<s.limit)&&q.continue()})}}}),e_=h((e,t)=>{u(),t.exports=we;var r=Nt().AbstractLevelDOWN,n=Te(),o=kE(),s=KE(),w=VE(),y=Fl$1(),k=GE(),P=JE(),V=kl$1(),X="level-js-";function we(q,L){if(!(this instanceof we))return new we(q,L);if(r.call(this,{bufferKeys:k.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0,getMany:!0}),L=L||{},typeof q!="string")throw new Error("constructor requires a location string argument");this.location=q,this.prefix=L.prefix==null?X:L.prefix,this.version=parseInt(L.version||1,10)}n(we,r),we.prototype.type="level-js",we.prototype._open=function(q,L){let I=indexedDB.open(this.prefix+this.location,this.version);I.onerror=function(){L(I.error||new Error("unknown error"))},I.onsuccess=()=>{this.db=I.result,L()},I.onupgradeneeded=ie=>{let he=ie.target.result;he.objectStoreNames.contains(this.location)||he.createObjectStore(this.location)}},we.prototype.store=function(q){return this.db.transaction([this.location],q).objectStore(this.location)},we.prototype.await=function(q,L){let I=q.transaction;I.onabort=function(){L(I.error||new Error("aborted by user"))},I.oncomplete=function(){L(null,q.result)}},we.prototype._get=function(q,L,I){let ie=this.store("readonly"),he;try{he=ie.get(q)}catch(_e){return this._nextTick(I,_e)}this.await(he,function(_e,Ie){if(_e)return I(_e);if(Ie===void 0)return I(new Error("NotFound"));I(null,y(Ie,L.asBuffer))})},we.prototype._getMany=function(q,L,I){let ie=L.asBuffer,he=this.store("readonly"),_e=q.map(Ie=>et=>{let Wt;try{Wt=he.get(Ie)}catch(ot){return et(ot)}Wt.onsuccess=()=>{let ot=Wt.result;et(null,ot===void 0?ot:y(ot,ie))},Wt.onerror=ot=>{ot.stopPropagation(),et(Wt.error)}});o(_e,16,I)},we.prototype._del=function(q,L,I){let ie=this.store("readwrite"),he;try{he=ie.delete(q)}catch(_e){return this._nextTick(I,_e)}this.await(he,I)},we.prototype._put=function(q,L,I,ie){let he=this.store("readwrite"),_e;try{_e=he.put(L,q)}catch(Ie){return this._nextTick(ie,Ie)}this.await(_e,ie)},we.prototype._serializeKey=function(q){return w(q,this.supports.bufferKeys)},we.prototype._serializeValue=function(q){return w(q,!0)},we.prototype._iterator=function(q){return new s(this,this.location,q)},we.prototype._batch=function(q,L,I){if(q.length===0)return this._nextTick(I);let ie=this.store("readwrite"),he=ie.transaction,_e=0,Ie;he.onabort=function(){I(Ie||he.error||new Error("aborted by user"))},he.oncomplete=function(){I()};function et(){let Wt=q[_e++],ot=Wt.key,at;try{at=Wt.type==="del"?ie.delete(ot):ie.put(Wt.value,ot)}catch(st){Ie=st,he.abort();return}_e<q.length&&(at.onsuccess=et)}et()},we.prototype._clear=function(q,L){let I,ie;try{I=V(q)}catch{return this._nextTick(L)}if(q.limit>=0)return P(this,this.location,I,q,L);try{let he=this.store("readwrite");ie=I?he.delete(I):he.clear()}catch(he){return this._nextTick(L,he)}this.await(ie,L)},we.prototype._close=function(q){this.db.close(),this._nextTick(q)},we.prototype.upgrade=function(q){if(this.status!=="open")return this._nextTick(q,new Error("cannot upgrade() before open()"));let L=this.iterator(),I={},ie=this;L._deserializeKey=L._deserializeValue=et,he();function he(Wt){if(Wt)return Ie(Wt);L.next(_e)}function _e(Wt,ot,at){if(Wt||ot===void 0)return Ie(Wt);let st=ie._serializeKey(y(ot,!0)),Gt=ie._serializeValue(y(at,!0));ie._batch([{type:"del",key:ot},{type:"put",key:st,value:Gt}],I,he)}function Ie(Wt){L.end(function(ot){q(Wt||ot)})}function et(Wt){return Wt}},we.destroy=function(q,L,I){typeof L=="function"&&(I=L,L=X);let ie=indexedDB.deleteDatabase(L+q);ie.onsuccess=function(){I()},ie.onerror=function(he){I(he)}}}),r_=h((e,t)=>{u(),t.exports=BE()(e_())}),s_=h((e,t)=>{u();var r=Fi$1();t.exports=n=>{n=n||{};let o;typeof n=="function"?(o=n,n={}):o=n.onEnd;let s=new r,w,y,k,P=()=>{if(!s.isEmpty()){if(n.writev){let _e,Ie=[];for(;!s.isEmpty();){if(_e=s.shift(),_e.error)throw _e.error;Ie.push(_e.value)}return{done:_e.done,value:Ie}}let he=s.shift();if(he.error)throw he.error;return he}return k?{done:!0}:new Promise((he,_e)=>{y=Ie=>(y=null,Ie.error?_e(Ie.error):n.writev&&!Ie.done?he({done:Ie.done,value:[Ie.value]}):he(Ie),w)})},V=he=>y?y(he):(s.push(he),w),X=he=>(s=new r,y?y({error:he}):(s.push({error:he}),w)),we=he=>k?w:V({done:!1,value:he}),q=he=>k?w:(k=!0,he?X(he):V({done:!0})),L=()=>(s=new r,q(),{done:!0}),I=he=>(q(he),{done:!0});if(w={[Symbol.asyncIterator](){return this},next:P,return:L,throw:I,push:we,end:q},!o)return w;let ie=w;return w={[Symbol.asyncIterator](){return this},next(){return ie.next()},throw(he){return ie.throw(he),o&&(o(he),o=null),{done:!0}},return(){return ie.return(),o&&(o(),o=null),{done:!0}},push:we,end(he){return ie.end(he),o&&(o(he),o=null),w}},w}});u();u();var cf=_$1(za(),1),Xw=_$1(We(),1),Ir$1=_$1(dt$1(),1);u();u();u();ge();u();xo();ke$1();yt$1();var Tt$1="/",np=new TextEncoder().encode(Tt$1),To$1=np[0],A=class{constructor(e,t){if(typeof e=="string")this._buf=oe(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(t==null&&(t=!0),t&&this.clean(),this._buf.byteLength===0||this._buf[0]!==To$1)throw new Error("Invalid key")}toString(e="utf8"){return de(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new A(e.join(Tt$1))}static random(){return new A(eu().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new A(e):e.uint8Array?new A(e.uint8Array()):null}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=np),this._buf[0]!==To$1){let e=new Uint8Array(this._buf.byteLength+1);e.fill(To$1,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===To$1;)this._buf=this._buf.subarray(0,-1)}less(e){let t=this.list(),r=e.list();for(let n=0;n<t.length;n++){if(r.length<n+1)return!1;let o=t[n],s=r[n];if(o<s)return!0;if(o>s)return!1}return t.length<r.length}reverse(){return A.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Tt$1).slice(1)}type(){return gx(this.baseNamespace())}name(){return mx(this.baseNamespace())}instance(e){return new A(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Tt$1)||(e+=Tt$1),e+=this.type(),new A(e)}parent(){let e=this.list();return e.length===1?new A(Tt$1):new A(e.slice(0,-1).join(Tt$1))}child(e){return this.toString()===Tt$1?e:e.toString()===Tt$1?this:new A(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return A.withNamespaces([...this.namespaces(),...wx(e.map(t=>t.namespaces()))])}};function gx(e){let t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}function mx(e){let t=e.split(":");return t[t.length-1]}function wx(e){return[].concat(...e)}var sp=_$1(We(),1),ap=_$1(Eu(),1);ht$1();ci$1();pt$1();var vx=(0,sp.default)("ipfs:repo:migrator:migration-8");function up(e){return e.child?up(e.child):e}function Ex(e){try{let t=U$1.decode(`b${e.toString().toLowerCase().slice(1)}`),r=S$1.decode(t).multihash.bytes,n=U$1.encode(r).slice(1).toUpperCase();return new A(`/${n}`,!1)}catch{return e}}function _x(e){try{let t=U$1.decode(`b${e.toString().toLowerCase().slice(1)}`),r=Ve(t),n=U$1.encode(S$1.createV1(ui$1,r).bytes).slice(1);return new A(`/${n.toUpperCase()}`,!1)}catch{return e}}async function op(e,t,r){let n=e.blocks;await n.open();let o=up(n),s=await(0,ap.default)(o.queryKeys({filters:[w=>r(w).toString()!==w.toString()]}));try{let w=0;for await(let y of o.query({})){let k=r(y.key);k.toString()!==y.key.toString()&&(w+=1,vx(`Migrating Block from ${y.key} to ${k}`,await o.has(y.key)),await o.delete(y.key),await o.put(k,y.value),t(w/s*100,`Migrated Block from ${y.key} to ${k}`))}}finally{await n.close()}}var cp={version:8,description:"Transforms key names into base32 encoding and converts Block store to use bare multihashes encoded as base32",migrate:(e,t=()=>{})=>op(e,t,Ex),revert:(e,t=()=>{})=>op(e,t,_x)};u();ge();u();ge();u();var xx=new TextDecoder;function _u(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");let o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function Io(e,t){let r;[r,t]=_u(e,t);let n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function fp(e,t){let r;return[r,t]=_u(e,t),[r&7,r>>3,t]}function Dx(e){let t={},r=e.length,n=0;for(;n<r;){let o,s;if([o,s,n]=fp(e,n),s===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=Io(e,n)}else if(s===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let w;[w,n]=Io(e,n),t.Name=xx.decode(w)}else if(s===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=_u(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function lp(e){let t=e.length,r=0,n,o=!1,s;for(;r<t;){let y,k;if([y,k,r]=fp(e,r),y!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${y}`);if(k===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=Io(e,r),n&&(o=!0)}else if(k===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let P;[P,r]=Io(e,r),n.push(Dx(P))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${k}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");let w={};return s&&(w.Data=s),w.Links=n||[],w}u();var pp=new TextEncoder,dp=2**32,Ax=2**31;function Sx(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=li$1(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){let n=pp.encode(e.Name);r-=n.length,t.set(n,r),r=li$1(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=li$1(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function hp(e){let t=Ox(e),r=new Uint8Array(t),n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=li$1(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){let s=Sx(e.Links[o],r.subarray(0,n));n-=s,n=li$1(r,n,s)-1,r[n]=18}return r}function Cx(e){let t=0;if(e.Hash){let r=e.Hash.length;t+=1+r+cn(r)}if(typeof e.Name=="string"){let r=pp.encode(e.Name).length;t+=1+r+cn(r)}return typeof e.Tsize=="number"&&(t+=1+cn(e.Tsize)),t}function Ox(e){let t=0;if(e.Data){let r=e.Data.length;t+=1+r+cn(r)}if(e.Links)for(let r of e.Links){let n=Cx(r);t+=1+n+cn(n)}return t}function li$1(e,t,r){t-=cn(r);let n=t;for(;r>=Ax;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function cn(e){return e%2===0&&e++,Math.floor((Tx(e)+6)/7)}function Tx(e){let t=0;return e>=dp&&(e=Math.floor(e/dp),t=32),e>=1<<16&&(e>>>=16,t+=16),e>=1<<8&&(e>>>=8,t+=8),t+Ix[e]}var Ix=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];u();ge();var Rx=["Data","Links"],Bx=["Hash","Name","Tsize"],yp=new TextEncoder;function Px(e,t){if(e===t)return 0;let r=e.Name?yp.encode(e.Name):[],n=t.Name?yp.encode(t.Name):[],o=r.length,s=n.length;for(let w=0,y=Math.min(o,s);w<y;++w)if(r[w]!==n[w]){o=r[w],s=n[w];break}return o<s?-1:s<o?1:0}function gp(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function mp(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!gp(e,Rx))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){let r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!gp(r,Bx))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&Px(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}var It=112;function di$1(e){mp(e);let t={};return e.Links&&(t.Links=e.Links.map(r=>{let n={};return r.Hash&&(n.Hash=r.Hash.bytes),r.Name!==void 0&&(n.Name=r.Name),r.Tsize!==void 0&&(n.Tsize=r.Tsize),n})),e.Data&&(t.Data=e.Data),hp(t)}function pi$1(e){let t=lp(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map(n=>{let o={};try{o.Hash=S$1.decode(n.Hash)}catch{}if(!o.Hash)throw new Error("Invalid Hash field found in link, expected CID");return n.Name!==void 0&&(o.Name=n.Name),n.Tsize!==void 0&&(o.Tsize=n.Tsize),o})),r}u();u();u();var kx=["string","number","bigint","symbol"],Fx=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function wp(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;return kx.includes(t)?t:t==="function"?"Function":Array.isArray(e)?"Array":Nx(e)?"Buffer":Lx(e)||"Object"}function Nx(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function Lx(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(Fx.includes(t))return t}u();var m=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};m.uint=new m(0,"uint",!0);m.negint=new m(1,"negint",!0);m.bytes=new m(2,"bytes",!0);m.string=new m(3,"string",!0);m.array=new m(4,"array",!1);m.map=new m(5,"map",!1);m.tag=new m(6,"tag",!1);m.float=new m(7,"float",!0);m.false=new m(7,"false",!0);m.true=new m(7,"true",!0);m.null=new m(7,"null",!0);m.undefined=new m(7,"undefined",!0);m.break=new m(7,"break",!0);var x$1=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};u();u();var fn$1=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",Mx=new TextDecoder,jx=new TextEncoder;function Ro$1(e){return fn$1&&globalThis.Buffer.isBuffer(e)}function Du(e){return e instanceof Uint8Array?Ro$1(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var _p=fn$1?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):vp(e,t,r):(e,t,r)=>r-t>64?Mx.decode(e.subarray(t,r)):vp(e,t,r),xp=fn$1?e=>e.length>64?globalThis.Buffer.from(e):bp(e):e=>e.length>64?jx.encode(e):bp(e),gt$1=e=>Uint8Array.from(e),ln$1=fn$1?(e,t,r)=>Ro$1(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Dp=fn$1?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Du(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Ap=fn$1?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Sp(e,t){if(Ro$1(e)&&Ro$1(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function bp(e,t=1/0){let r,n=e.length,o=null,s=[];for(let w=0;w<n;++w){if(r=e.charCodeAt(w),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(w+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function vp(e,t,r){let n=[];for(;t<r;){let o=e[t],s=null,w=o>239?4:o>223?3:o>191?2:1;if(t+w<=r){let y,k,P,V;switch(w){case 1:o<128&&(s=o);break;case 2:y=e[t+1],(y&192)===128&&(V=(o&31)<<6|y&63,V>127&&(s=V));break;case 3:y=e[t+1],k=e[t+2],(y&192)===128&&(k&192)===128&&(V=(o&15)<<12|(y&63)<<6|k&63,V>2047&&(V<55296||V>57343)&&(s=V));break;case 4:y=e[t+1],k=e[t+2],P=e[t+3],(y&192)===128&&(k&192)===128&&(P&192)===128&&(V=(o&15)<<18|(y&63)<<12|(k&63)<<6|P&63,V>65535&&V<1114112&&(s=V))}}s===null?(s=65533,w=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),t+=w}return qx(n)}var Ep=4096;function qx(e){let t=e.length;if(t<=Ep)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=Ep));return r}var Ux=256,hi$1=class{constructor(e=Ux){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let r=t.length-(this.maxCursor-this.cursor)-1;r<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,r),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Ap(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=ln$1(r,0,this.cursor)}else t=Dp(this.chunks,this.cursor);return e&&this.reset(),t}};u();var C$1="CBOR decode error:",Au="CBOR encode error:";function Rt$1(e,t,r){if(e.length-t<r)throw new Error(`${C$1} not enough data for type`)}u();u();var te$1=[24,256,65536,4294967296,BigInt("18446744073709551616")];function De(e,t,r){Rt$1(e,t,1);let n=e[t];if(r.strict===!0&&n<te$1[0])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);return n}function Ae(e,t,r){Rt$1(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<te$1[1])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);return n}function Se$1(e,t,r){Rt$1(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<te$1[2])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);return n}function Ce$1(e,t,r){Rt$1(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<te$1[3])throw new Error(`${C$1} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${C$1} integers outside of the safe integer range are not supported`)}function Cp(e,t,r,n){return new x$1(m.uint,De(e,t+1,n),2)}function Op(e,t,r,n){return new x$1(m.uint,Ae(e,t+1,n),3)}function Tp(e,t,r,n){return new x$1(m.uint,Se$1(e,t+1,n),5)}function Ip(e,t,r,n){return new x$1(m.uint,Ce$1(e,t+1,n),9)}function Fe$1(e,t){return se(e,0,t.value)}function se(e,t,r){if(r<te$1[0]){let n=Number(r);e.push([t|n])}else if(r<te$1[1]){let n=Number(r);e.push([t|24,n])}else if(r<te$1[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<te$1[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<te$1[4]){let o=[t|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),w=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=w&255,w=w>>8,o[3]=w&255,w=w>>8,o[2]=w&255,w=w>>8,o[1]=w&255,e.push(o)}else throw new Error(`${C$1} encountered BigInt larger than allowable range`)}}Fe$1.encodedSize=function(e){return se.encodedSize(e.value)};se.encodedSize=function(e){return e<te$1[0]?1:e<te$1[1]?2:e<te$1[2]?3:e<te$1[3]?5:9};Fe$1.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};u();function Rp(e,t,r,n){return new x$1(m.negint,-1-De(e,t+1,n),2)}function Bp(e,t,r,n){return new x$1(m.negint,-1-Ae(e,t+1,n),3)}function Pp(e,t,r,n){return new x$1(m.negint,-1-Se$1(e,t+1,n),5)}var Su=BigInt(-1),kp=BigInt(1);function Fp(e,t,r,n){let o=Ce$1(e,t+1,n);if(typeof o!="bigint"){let s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new x$1(m.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${C$1} integers outside of the safe integer range are not supported`);return new x$1(m.negint,Su-BigInt(o),9)}function Bo(e,t){let r=t.value,n=typeof r=="bigint"?r*Su-kp:r*-1-1;se(e,t.type.majorEncoded,n)}Bo.encodedSize=function(e){let t=e.value,r=typeof t=="bigint"?t*Su-kp:t*-1-1;return r<te$1[0]?1:r<te$1[1]?2:r<te$1[2]?3:r<te$1[3]?5:9};Bo.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};u();function gi$1(e,t,r,n){Rt$1(e,t,r+n);let o=ln$1(e,t+r,t+r+n);return new x$1(m.bytes,o,r+n)}function Np(e,t,r,n){return gi$1(e,t,1,r)}function Lp(e,t,r,n){return gi$1(e,t,2,De(e,t+1,n))}function Mp(e,t,r,n){return gi$1(e,t,3,Ae(e,t+1,n))}function jp(e,t,r,n){return gi$1(e,t,5,Se$1(e,t+1,n))}function qp(e,t,r,n){let o=Ce$1(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer bytes lengths not supported`);return gi$1(e,t,9,o)}function Po$1(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===m.string?xp(e.value):e.value),e.encodedBytes}function dn$1(e,t){let r=Po$1(t);se(e,t.type.majorEncoded,r.length),e.push(r)}dn$1.encodedSize=function(e){let t=Po$1(e);return se.encodedSize(t.length)+t.length};dn$1.compareTokens=function(e,t){return Kx(Po$1(e),Po$1(t))};function Kx(e,t){return e.length<t.length?-1:e.length>t.length?1:Sp(e,t)}u();function mi$1(e,t,r,n,o){let s=r+n;Rt$1(e,t,s);let w=new x$1(m.string,_p(e,t+r,t+s),s);return o.retainStringBytes===!0&&(w.byteValue=ln$1(e,t+r,t+s)),w}function Up(e,t,r,n){return mi$1(e,t,1,r,n)}function $p(e,t,r,n){return mi$1(e,t,2,De(e,t+1,n),n)}function Kp(e,t,r,n){return mi$1(e,t,3,Ae(e,t+1,n),n)}function zp(e,t,r,n){return mi$1(e,t,5,Se$1(e,t+1,n),n)}function Wp(e,t,r,n){let o=Ce$1(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer string lengths not supported`);return mi$1(e,t,9,o,n)}var Vp=dn$1;u();function pn$1(e,t,r,n){return new x$1(m.array,n,r)}function Gp(e,t,r,n){return pn$1(e,t,1,r)}function Hp(e,t,r,n){return pn$1(e,t,2,De(e,t+1,n))}function Jp(e,t,r,n){return pn$1(e,t,3,Ae(e,t+1,n))}function Yp(e,t,r,n){return pn$1(e,t,5,Se$1(e,t+1,n))}function Qp(e,t,r,n){let o=Ce$1(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer array lengths not supported`);return pn$1(e,t,9,o)}function Zp(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C$1} indefinite length items not allowed`);return pn$1(e,t,1,1/0)}function ko$1(e,t){se(e,m.array.majorEncoded,t.value)}ko$1.compareTokens=Fe$1.compareTokens;ko$1.encodedSize=function(e){return se.encodedSize(e.value)};u();function hn$1(e,t,r,n){return new x$1(m.map,n,r)}function Xp(e,t,r,n){return hn$1(e,t,1,r)}function eh(e,t,r,n){return hn$1(e,t,2,De(e,t+1,n))}function th(e,t,r,n){return hn$1(e,t,3,Ae(e,t+1,n))}function rh(e,t,r,n){return hn$1(e,t,5,Se$1(e,t+1,n))}function nh(e,t,r,n){let o=Ce$1(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C$1} 64-bit integer map lengths not supported`);return hn$1(e,t,9,o)}function ih(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C$1} indefinite length items not allowed`);return hn$1(e,t,1,1/0)}function Fo(e,t){se(e,m.map.majorEncoded,t.value)}Fo.compareTokens=Fe$1.compareTokens;Fo.encodedSize=function(e){return se.encodedSize(e.value)};u();function oh(e,t,r,n){return new x$1(m.tag,r,1)}function sh(e,t,r,n){return new x$1(m.tag,De(e,t+1,n),2)}function ah(e,t,r,n){return new x$1(m.tag,Ae(e,t+1,n),3)}function uh$1(e,t,r,n){return new x$1(m.tag,Se$1(e,t+1,n),5)}function ch(e,t,r,n){return new x$1(m.tag,Ce$1(e,t+1,n),9)}function No$1(e,t){se(e,m.tag.majorEncoded,t.value)}No$1.compareTokens=Fe$1.compareTokens;No$1.encodedSize=function(e){return se.encodedSize(e.value)};u();var Jx=20,Yx=21,Qx=22,Zx=23;function fh(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${C$1} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new x$1(m.null,null,1):new x$1(m.undefined,void 0,1)}function lh(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C$1} indefinite length items not allowed`);return new x$1(m.break,void 0,1)}function Cu(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${C$1} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${C$1} Infinity values are not supported`)}return new x$1(m.float,e,t)}function dh(e,t,r,n){return Cu(Ou(e,t+1),3,n)}function ph(e,t,r,n){return Cu(Tu(e,t+1),5,n)}function hh(e,t,r,n){return Cu(wh(e,t+1),9,n)}function Lo(e,t,r){let n=t.value;if(n===!1)e.push([m.float.majorEncoded|Jx]);else if(n===!0)e.push([m.float.majorEncoded|Yx]);else if(n===null)e.push([m.float.majorEncoded|Qx]);else if(n===void 0)e.push([m.float.majorEncoded|Zx]);else{let o,s=!1;(!r||r.float64!==!0)&&(gh(n),o=Ou(Je,1),n===o||Number.isNaN(n)?(Je[0]=249,e.push(Je.slice(0,3)),s=!0):(mh(n),o=Tu(Je,1),n===o&&(Je[0]=250,e.push(Je.slice(0,5)),s=!0))),s||(Xx(n),o=wh(Je,1),Je[0]=251,e.push(Je.slice(0,9)))}}Lo.encodedSize=function(e,t){let r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){gh(r);let n=Ou(Je,1);if(r===n||Number.isNaN(r))return 3;if(mh(r),n=Tu(Je,1),r===n)return 5}return 9};var yh=new ArrayBuffer(9),Ne$1=new DataView(yh,1),Je=new Uint8Array(yh,0);function gh(e){if(e===1/0)Ne$1.setUint16(0,31744,!1);else if(e===-1/0)Ne$1.setUint16(0,64512,!1);else if(Number.isNaN(e))Ne$1.setUint16(0,32256,!1);else{Ne$1.setFloat32(0,e);let t=Ne$1.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)Ne$1.setUint16(0,31744,!1);else if(r===0)Ne$1.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?Ne$1.setUint16(0,0):o<-14?Ne$1.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):Ne$1.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function Ou(e,t){if(e.length-t<2)throw new Error(`${C$1} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function mh(e){Ne$1.setFloat32(0,e,!1)}function Tu(e,t){if(e.length-t<4)throw new Error(`${C$1} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Xx(e){Ne$1.setFloat64(0,e,!1)}function wh(e,t){if(e.length-t<8)throw new Error(`${C$1} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}Lo.compareTokens=Fe$1.compareTokens;function N(e,t,r){throw new Error(`${C$1} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Mo(e){return()=>{throw new Error(`${C$1} ${e}`)}}var v=[];for(let e=0;e<=23;e++)v[e]=N;v[24]=Cp;v[25]=Op;v[26]=Tp;v[27]=Ip;v[28]=N;v[29]=N;v[30]=N;v[31]=N;for(let e=32;e<=55;e++)v[e]=N;v[56]=Rp;v[57]=Bp;v[58]=Pp;v[59]=Fp;v[60]=N;v[61]=N;v[62]=N;v[63]=N;for(let e=64;e<=87;e++)v[e]=Np;v[88]=Lp;v[89]=Mp;v[90]=jp;v[91]=qp;v[92]=N;v[93]=N;v[94]=N;v[95]=Mo("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)v[e]=Up;v[120]=$p;v[121]=Kp;v[122]=zp;v[123]=Wp;v[124]=N;v[125]=N;v[126]=N;v[127]=Mo("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)v[e]=Gp;v[152]=Hp;v[153]=Jp;v[154]=Yp;v[155]=Qp;v[156]=N;v[157]=N;v[158]=N;v[159]=Zp;for(let e=160;e<=183;e++)v[e]=Xp;v[184]=eh;v[185]=th;v[186]=rh;v[187]=nh;v[188]=N;v[189]=N;v[190]=N;v[191]=ih;for(let e=192;e<=215;e++)v[e]=oh;v[216]=sh;v[217]=ah;v[218]=uh$1;v[219]=ch;v[220]=N;v[221]=N;v[222]=N;v[223]=N;for(let e=224;e<=243;e++)v[e]=Mo("simple values are not supported");v[244]=N;v[245]=N;v[246]=N;v[247]=fh;v[248]=Mo("simple values are not supported");v[249]=dh;v[250]=ph;v[251]=hh;v[252]=N;v[253]=N;v[254]=N;v[255]=lh;var Ye=[];for(let e=0;e<24;e++)Ye[e]=new x$1(m.uint,e,1);for(let e=-1;e>=-24;e--)Ye[31-e]=new x$1(m.negint,e,1);Ye[64]=new x$1(m.bytes,new Uint8Array(0),1);Ye[96]=new x$1(m.string,"",1);Ye[128]=new x$1(m.array,0,1);Ye[160]=new x$1(m.map,0,1);Ye[244]=new x$1(m.false,!1,1);Ye[245]=new x$1(m.true,!0,1);Ye[246]=new x$1(m.null,null,1);function bh(e){switch(e.type){case m.false:return gt$1([244]);case m.true:return gt$1([245]);case m.null:return gt$1([246]);case m.bytes:return e.value.length?void 0:gt$1([64]);case m.string:return e.value===""?gt$1([96]):void 0;case m.array:return e.value===0?gt$1([128]):void 0;case m.map:return e.value===0?gt$1([160]):void 0;case m.uint:return e.value<24?gt$1([Number(e.value)]):void 0;case m.negint:if(e.value>=-24)return gt$1([31-Number(e.value)])}}var t2={float64:!1,mapSorter:i2,quickEncodeToken:bh};function r2(){let e=[];return e[m.uint.major]=Fe$1,e[m.negint.major]=Bo,e[m.bytes.major]=dn$1,e[m.string.major]=Vp,e[m.array.major]=ko$1,e[m.map.major]=Fo,e[m.tag.major]=No$1,e[m.float.major]=Lo,e}var vh=r2(),Iu=new hi$1,yn$1=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${Au} object contains circular references`);return new yn$1(t,e)}},Kt={null:new x$1(m.null,null),undefined:new x$1(m.undefined,void 0),true:new x$1(m.true,!0),false:new x$1(m.false,!1),emptyArray:new x$1(m.array,0),emptyMap:new x$1(m.map,0)},zt={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new x$1(m.float,e):e>=0?new x$1(m.uint,e):new x$1(m.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new x$1(m.uint,e):new x$1(m.negint,e)},Uint8Array(e,t,r,n){return new x$1(m.bytes,e)},string(e,t,r,n){return new x$1(m.string,e)},boolean(e,t,r,n){return e?Kt.true:Kt.false},null(e,t,r,n){return Kt.null},undefined(e,t,r,n){return Kt.undefined},ArrayBuffer(e,t,r,n){return new x$1(m.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new x$1(m.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Kt.emptyArray,new x$1(m.break)]:Kt.emptyArray;n=yn$1.createCheck(n,e);let o=[],s=0;for(let w of e)o[s++]=jo(w,r,n);return r.addBreakTokens?[new x$1(m.array,e.length),o,new x$1(m.break)]:[new x$1(m.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",s=o?e.keys():Object.keys(e),w=o?e.size:s.length;if(!w)return r.addBreakTokens===!0?[Kt.emptyMap,new x$1(m.break)]:Kt.emptyMap;n=yn$1.createCheck(n,e);let y=[],k=0;for(let P of s)y[k++]=[jo(P,r,n),jo(o?e.get(P):e[P],r,n)];return n2(y,r),r.addBreakTokens?[new x$1(m.map,w),y,new x$1(m.break)]:[new x$1(m.map,w),y]}};zt.Map=zt.Object;zt.Buffer=zt.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))zt[`${e}Array`]=zt.DataView;function jo(e,t={},r){let n=wp(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||zt[n];if(typeof o=="function"){let w=o(e,n,t,r);if(w!=null)return w}let s=zt[n];if(!s)throw new Error(`${Au} unsupported type: ${n}`);return s(e,n,t,r)}function n2(e,t){t.mapSorter&&e.sort(t.mapSorter)}function i2(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,s=vh[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function Eh(e,t,r,n){if(Array.isArray(t))for(let o of t)Eh(e,o,r,n);else r[t.type.major](e,t,n)}function o2(e,t,r){let n=jo(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let s=t[n.type.major];if(s.encodedSize){let w=s.encodedSize(n,r),y=new hi$1(w);if(s(y,n,r),y.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Du(y.chunks[0])}}return Iu.reset(),Eh(Iu,n,t,r),Iu.toBytes(!0)}function wr$1(e,t){return t=Object.assign({},t2,t),o2(e,vh,t)}u();var s2={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},Ru=class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=Ye[e];if(t===void 0){let r=v[e];if(!r)throw new Error(`${C$1} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}},wi$1=Symbol.for("DONE"),qo=Symbol.for("BREAK");function a2(e,t,r){let n=[];for(let o=0;o<e.value;o++){let s=bi$1(t,r);if(s===qo){if(e.value===1/0)break;throw new Error(`${C$1} got unexpected break to lengthed array`)}if(s===wi$1)throw new Error(`${C$1} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=s}return n}function u2(e,t,r){let n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let w=0;w<e.value;w++){let y=bi$1(t,r);if(y===qo){if(e.value===1/0)break;throw new Error(`${C$1} got unexpected break to lengthed map`)}if(y===wi$1)throw new Error(`${C$1} found map but not enough entries (got ${w} [no key], expected ${e.value})`);if(n!==!0&&typeof y!="string")throw new Error(`${C$1} non-string keys not supported (got ${typeof y})`);let k=bi$1(t,r);if(k===wi$1)throw new Error(`${C$1} found map but not enough entries (got ${w} [no value], expected ${e.value})`);n?s.set(y,k):o[y]=k}return n?s:o}function bi$1(e,t){if(e.done())return wi$1;let r=e.next();if(r.type===m.break)return qo;if(r.type.terminal)return r.value;if(r.type===m.array)return a2(r,e,t);if(r.type===m.map)return u2(r,e,t);if(r.type===m.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=bi$1(e,t);return t.tags[r.value](n)}throw new Error(`${C$1} tag not supported (${r.value})`)}throw new Error("unsupported")}function mt$1(e,t){if(!(e instanceof Uint8Array))throw new Error(`${C$1} data to decode must be a Uint8Array`);t=Object.assign({},s2,t);let r=t.tokenizer||new Ru(e,t),n=bi$1(r,t);if(n===wi$1)throw new Error(`${C$1} did not find any content to decode`);if(n===qo)throw new Error(`${C$1} got unexpected break`);if(!r.done())throw new Error(`${C$1} too many terminals, data makes no sense`);return n}u();ge();u();var Er$1=_$1(Ht$1(),1),by=Er$1.default.Reader,w2=Er$1.default.Writer;Er$1.default.util;var Wo=Er$1.default.roots.default||(Er$1.default.roots.default={}),vy=Wo.ipfs=(()=>{let e={};return e.pin=function(){let t={};return t.Set=function(){function r(n){if(n)for(var o=Object.keys(n),s=0;s<o.length;++s)n[o[s]]!=null&&(this[o[s]]=n[o[s]])}return r.prototype.version=0,r.prototype.fanout=0,r.prototype.seed=0,r.encode=function(n,o){return o||(o=w2.create()),n.version!=null&&Object.hasOwnProperty.call(n,"version")&&o.uint32(8).uint32(n.version),n.fanout!=null&&Object.hasOwnProperty.call(n,"fanout")&&o.uint32(16).uint32(n.fanout),n.seed!=null&&Object.hasOwnProperty.call(n,"seed")&&o.uint32(29).fixed32(n.seed),o},r.decode=function(n,o){n instanceof by||(n=by.create(n));for(var s=o===void 0?n.len:n.pos+o,w=new Wo.ipfs.pin.Set;n.pos<s;){var y=n.uint32();switch(y>>>3){case 1:w.version=n.uint32();break;case 2:w.fanout=n.uint32();break;case 3:w.seed=n.fixed32();break;default:n.skipType(y&7);break}}return w},r.fromObject=function(n){if(n instanceof Wo.ipfs.pin.Set)return n;var o=new Wo.ipfs.pin.Set;return n.version!=null&&(o.version=n.version>>>0),n.fanout!=null&&(o.fanout=n.fanout>>>0),n.seed!=null&&(o.seed=n.seed>>>0),o},r.toObject=function(n,o){o||(o={});var s={};return o.defaults&&(s.version=0,s.fanout=0,s.seed=0),n.version!=null&&n.hasOwnProperty("version")&&(s.version=n.version),n.fanout!=null&&n.hasOwnProperty("fanout")&&(s.fanout=n.fanout),n.seed!=null&&n.hasOwnProperty("seed")&&(s.seed=n.seed),s},r.prototype.toJSON=function(){return this.constructor.toObject(this,Er$1.default.util.toJSONOptions)},r}(),t}(),e})(),ky=_$1(_y(),1),Jo=_$1(xi(),1);u();ht$1();ge();var Di=new A("/local/pins"),Go=256,By=8192,Hu=S$1.parse("QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n"),_r={direct:"direct",recursive:"recursive"};function Ju(e){return new A(`/${U$1.encode(e.multihash.bytes).toUpperCase().substring(1)}`)}Ho();u();function Py(e,t){for(let r=0;r<e.byteLength;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return e.byteLength>t.byteLength?1:e.byteLength<t.byteLength?-1:0}ke$1();yt$1();Do();var Qu=vy.pin.Set;function B2(e){let t=e.Data;if(!t)throw new Error("No data present");let r=Jo.default.decode(t),n=Jo.default.decode.bytes;if(n<=0)throw new Error("Invalid Set header length");if(n+r>t.length)throw new Error("Impossibly large set header length");let o=t.slice(n,r+n),s=Qu.toObject(Qu.decode(o),{defaults:!1,arrays:!0,longs:Number,objects:!1});if(s.version!==1)throw new Error(`Unsupported Set version: ${s.version}`);if(s.fanout>e.Links.length)throw new Error("Impossibly large fanout");return{header:s,data:t.slice(r+n)}}function P2(e,t){let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,e,!0);let n=oe(t.toString()),o=Ai([r,n],r.byteLength+n.byteLength);return(0,ky.default)(de(o))}async function*Fy(e,t){let r=B2(t),n=0;for(let o of t.Links){if(n<r.header.fanout){let s=o.Hash;if(!Hu.equals(s)){let w=await e.get(s),y=pi$1(w);yield*Fy(e,y)}}else yield o.Hash;n++}}async function*Si$1(e,t,r){let n=t.Links.find(w=>w.Name===r);if(!n)throw new Error("No link found with name "+r);let o=await e.get(n.Hash),s=pi$1(o);yield*Fy(e,s)}function k2(e,t){return r(t,0);async function r(n,o){let s=Qu.encode({version:1,fanout:Go,seed:o}).finish(),w=Jo.default.encode(s.length),y=Ai([w,s]),k=[];for(let V=0;V<Go;V++)k.push({Name:"",Tsize:1,Hash:Hu});if(n.length<=By){let V=n.map(we=>({link:{Name:"",Tsize:1,Hash:we.key},data:we.data||new Uint8Array})).sort((we,q)=>Py(we.link.Hash.bytes,q.link.Hash.bytes)),X=k.concat(V.map(we=>we.link));return{Data:Ai([y,...V.map(we=>we.data)]),Links:X}}else{let V=n.reduce((we,q)=>{let L=P2(o,q.key)%Go;return we[L]=L in we?we[L].concat([q]):[q],we},[]),X=0;for(let we of V){let q=await r(we,o+1);await P(q,X),X++}return{Data:y,Links:k}}async function P(V,X){let we=di$1(V),q=await un$1.digest(we),L=S$1.createV0(q);await e.put(L,we);let I=V.Links.reduce((ie,he)=>ie+(he.Tsize||0),0)+we.length;k[X]={Name:"",Tsize:I,Hash:L}}}}async function Zu(e,t,r){let n=await k2(e,r.map(k=>({key:k}))),o=di$1(n),s=await un$1.digest(o),w=S$1.createV0(s);await e.put(w,o);let y=n.Links.reduce((k,P)=>k+P.Tsize,0)+o.length;return{Name:t,Tsize:y,Hash:w}}var Yo=_$1(Eu(),1);Do();pt$1();ht$1();async function N2(e,t,r,n){if(!await t.has(Di))return;let o=await t.get(Di),s=S$1.decode(o),w=await e.get(s),y=pi$1(w),k=0,P=await(0,Yo.default)(Si$1(e,y,_r.recursive))+await(0,Yo.default)(Si$1(e,y,_r.direct));for await(let V of Si$1(e,y,_r.recursive)){k++;let X={depth:1/0};V.version!==0&&(X.version=V.version),V.code!==It&&(X.codec=V.code),await r.put(Ju(V),wr$1(X)),n(k/P*100,`Migrated recursive pin ${V}`)}for await(let V of Si$1(e,y,_r.direct)){k++;let X={depth:0};V.version!==0&&(X.version=V.version),V.code!==It&&(X.codec=V.code),await r.put(Ju(V),wr$1(X)),n(k/P*100,`Migrated direct pin ${V}`)}await e.delete(s),await t.delete(Di)}async function L2(e,t,r,n){let o=[],s=[],w=0,y=await(0,Yo.default)(r.queryKeys({}));for await(let{key:we,value:q}of r.query({})){w++;let L=mt$1(q),I=S$1.create(L.version||0,L.codec||It,Ve(U$1.decode("b"+we.toString().toLowerCase().split("/").pop())));L.depth===0?(n(w/y*100,`Reverted direct pin ${I}`),s.push(I)):(n(w/y*100,`Reverted recursive pin ${I}`),o.push(I))}n(100,"Updating pin root");let k={Links:[await Zu(e,_r.direct,s),await Zu(e,_r.recursive,o)]},P=di$1(k),V=await un$1.digest(P),X=S$1.createV0(V);await e.put(X,P),await t.put(Di,X.bytes)}async function Ny(e,t,r){let n=e.blocks,o=e.datastore,s=e.pins;await n.open(),await o.open(),await s.open();try{await r(n,o,s,t)}finally{await s.close(),await o.close(),await n.close()}}var Ly={version:9,description:"Migrates pins to datastore",migrate:(e,t=()=>{})=>Ny(e,t,N2),revert:(e,t=()=>{})=>Ny(e,t,L2)};u();u();var Me$1={};G$1(Me$1,{abortedError:()=>M2,dbDeleteFailedError:()=>ec$1,dbOpenFailedError:()=>Xu,dbWriteFailedError:()=>tc$1,notFoundError:()=>Bt});u();var mn$1=_$1(dt$1(),1);function Xu(e){return e=e||new Error("Cannot open database"),(0,mn$1.default)(e,"ERR_DB_OPEN_FAILED")}function ec$1(e){return e=e||new Error("Delete failed"),(0,mn$1.default)(e,"ERR_DB_DELETE_FAILED")}function tc$1(e){return e=e||new Error("Write failed"),(0,mn$1.default)(e,"ERR_DB_WRITE_FAILED")}function Bt(e){return e=e||new Error("Not Found"),(0,mn$1.default)(e,"ERR_NOT_FOUND")}function M2(e){return e=e||new Error("Aborted"),(0,mn$1.default)(e,"ERR_ABORTED")}var My=new A("/config"),Ci$1=new A("/version");function Oi$1(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,t.type==="level-js"||t.constructor.name==="Level")return t}async function j2(e,t,r){let n=await t(e);if(n)return n;let o=Oi$1(r);return o?new Promise((s,w)=>{let y=o.store("readonly").get(e.toString());y.transaction.onabort=()=>{w(y.transaction.error)},y.transaction.oncomplete=()=>{s(Boolean(y.result))}}):!1}async function q2(e,t,r,n){if(await r(e))return t(e);let o=Oi$1(n);if(!o)throw Bt();return new Promise((s,w)=>{let y=o.store("readonly").get(e.toString());y.transaction.onabort=()=>{w(y.transaction.error)},y.transaction.oncomplete=()=>{if(y.result)return s(y.result);w(Bt())}})}function Qo(e){let t=e.get.bind(e),r=e.has.bind(e);return e.get=n=>q2(n,t,r,e),e.has=n=>j2(n,r,e),e}function rc$1(e){return{...e,root:Qo(e.root),datastore:Qo(e.datastore),pins:Qo(e.pins),keys:Qo(e.keys)}}yt$1();ke$1();async function U2(e,t,r=()=>{}){let n=Oi$1(t);if(!n){r(`${e} did not need an upgrade`);return}r(`Upgrading ${e}`),await $y(n,(o,s)=>[{type:"del",key:o},{type:"put",key:oe(o),value:s}])}async function $2(e,t,r=()=>{}){let n=Oi$1(t);if(!n){r(`${e} did not need a downgrade`);return}r(`Downgrading ${e}`),await $y(n,(o,s)=>[{type:"del",key:o},{type:"put",key:de(o),value:s}])}function qy(e){return e.child?qy(e.child):e}async function jy(e,t,r){let n=Object.entries(e).map(([w,y])=>({key:w,backend:qy(y)})).filter(({key:w,backend:y})=>y.constructor.name==="LevelDatastore").map(({key:w,backend:y})=>({name:w,store:y}));t(0,`Migrating ${n.length} dbs`);let o=0,s=w=>{t(Math.round(o/n.length*100),w)};for(let{name:w,store:y}of n){await y.open();try{await r(w,y,s)}finally{o++,await y.close()}}t(100,`Migrated ${n.length} dbs`)}var Uy={version:10,description:"Migrates datastore-level keys to binary",migrate:(e,t=()=>{})=>jy(e,t,U2),revert:(e,t=()=>{})=>jy(e,t,$2)};function $y(e,t){function r(n,o){let s=e.store("readwrite"),w=s.transaction,y=0,k;w.onabort=()=>o(k||w.error||new Error("aborted by user")),w.oncomplete=()=>o();function P(){let V=n[y++],X=V.key,we;try{we=V.type==="del"?s.delete(X):s.put(V.value,X)}catch(q){k=q,w.abort();return}y<n.length&&(we.onsuccess=P)}P()}return new Promise((n,o)=>{let s=e.iterator(),w=k=>k;s._deserializeKey=s._deserializeValue=w,y();function y(){let k=(P,V,X)=>{if(P||V===void 0){let we=q=>{if(q){o(q);return}n()};s.end(we);return}r(t(V,X),y)};s.next(k)}})}u();var Jt=new A("/local/filesroot");async function K2(e,t=()=>{}){if(t(100,"Migrating MFS root to repo datastore"),await e.root.open(),await e.datastore.open(),await e.root.has(Jt)){let r=await e.root.get(Jt);await e.datastore.put(Jt,r),await e.root.delete(Jt)}await e.datastore.close(),await e.root.close(),t(100,"Stored MFS root in repo datastore")}async function z2(e,t=()=>{}){if(t(100,"Migrating MFS root to repo root datastore"),await e.root.open(),await e.datastore.open(),await e.datastore.has(Jt)){let r=await e.datastore.get(Jt);await e.root.put(Jt,r),await e.datastore.delete(Jt)}await e.datastore.close(),await e.root.close(),t(100,"Stored MFS root in repo root datastore")}var Ky={version:11,description:"Store mfs root in the datastore",migrate:K2,revert:z2};u();var bc$1=_$1(Ht$1(),1);u();var xr$1=_$1(Ht$1(),1),zy=xr$1.default.Reader,W2=xr$1.default.Writer,V2=xr$1.default.util,Zo=xr$1.default.roots.default||(xr$1.default.roots.default={}),nc$1=Zo.Protocols=(()=>{function e(t){if(this.protocols=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.protocols=V2.emptyArray,e.encode=function(t,r){if(r||(r=W2.create()),t.protocols!=null&&t.protocols.length)for(var n=0;n<t.protocols.length;++n)r.uint32(10).string(t.protocols[n]);return r},e.decode=function(t,r){t instanceof zy||(t=zy.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Zo.Protocols;t.pos<n;){var s=t.uint32();switch(s>>>3){case 1:o.protocols&&o.protocols.length||(o.protocols=[]),o.protocols.push(t.string());break;default:t.skipType(s&7);break}}return o},e.fromObject=function(t){if(t instanceof Zo.Protocols)return t;var r=new Zo.Protocols;if(t.protocols){if(!Array.isArray(t.protocols))throw TypeError(".Protocols.protocols: array expected");r.protocols=[];for(var n=0;n<t.protocols.length;++n)r.protocols[n]=String(t.protocols[n])}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.protocols=[]),t.protocols&&t.protocols.length){n.protocols=[];for(var o=0;o<t.protocols.length;++o)n.protocols[o]=t.protocols[o]}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,xr$1.default.util.toJSONOptions)},e})();u();var Pt$1=_$1(Ht$1(),1),wn$1=Pt$1.default.Reader,ic$1=Pt$1.default.Writer,$=Pt$1.default.util,ne$1=Pt$1.default.roots.default||(Pt$1.default.roots.default={}),oc$1=ne$1.Addresses=(()=>{function e(t){if(this.addrs=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.addrs=$.emptyArray,e.prototype.certifiedRecord=null,e.encode=function(t,r){if(r||(r=ic$1.create()),t.addrs!=null&&t.addrs.length)for(var n=0;n<t.addrs.length;++n)ne$1.Addresses.Address.encode(t.addrs[n],r.uint32(10).fork()).ldelim();return t.certifiedRecord!=null&&Object.hasOwnProperty.call(t,"certifiedRecord")&&ne$1.Addresses.CertifiedRecord.encode(t.certifiedRecord,r.uint32(18).fork()).ldelim(),r},e.decode=function(t,r){t instanceof wn$1||(t=wn$1.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new ne$1.Addresses;t.pos<n;){var s=t.uint32();switch(s>>>3){case 1:o.addrs&&o.addrs.length||(o.addrs=[]),o.addrs.push(ne$1.Addresses.Address.decode(t,t.uint32()));break;case 2:o.certifiedRecord=ne$1.Addresses.CertifiedRecord.decode(t,t.uint32());break;default:t.skipType(s&7);break}}return o},e.fromObject=function(t){if(t instanceof ne$1.Addresses)return t;var r=new ne$1.Addresses;if(t.addrs){if(!Array.isArray(t.addrs))throw TypeError(".Addresses.addrs: array expected");r.addrs=[];for(var n=0;n<t.addrs.length;++n){if(typeof t.addrs[n]!="object")throw TypeError(".Addresses.addrs: object expected");r.addrs[n]=ne$1.Addresses.Address.fromObject(t.addrs[n])}}if(t.certifiedRecord!=null){if(typeof t.certifiedRecord!="object")throw TypeError(".Addresses.certifiedRecord: object expected");r.certifiedRecord=ne$1.Addresses.CertifiedRecord.fromObject(t.certifiedRecord)}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.addrs=[]),r.defaults&&(n.certifiedRecord=null),t.addrs&&t.addrs.length){n.addrs=[];for(var o=0;o<t.addrs.length;++o)n.addrs[o]=ne$1.Addresses.Address.toObject(t.addrs[o],r)}return t.certifiedRecord!=null&&t.hasOwnProperty("certifiedRecord")&&(n.certifiedRecord=ne$1.Addresses.CertifiedRecord.toObject(t.certifiedRecord,r)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Pt$1.default.util.toJSONOptions)},e.Address=function(){function t(n){if(n)for(var o=Object.keys(n),s=0;s<o.length;++s)n[o[s]]!=null&&(this[o[s]]=n[o[s]])}t.prototype.multiaddr=$.newBuffer([]),t.prototype.isCertified=null;let r;return Object.defineProperty(t.prototype,"_isCertified",{get:$.oneOfGetter(r=["isCertified"]),set:$.oneOfSetter(r)}),t.encode=function(n,o){return o||(o=ic$1.create()),n.multiaddr!=null&&Object.hasOwnProperty.call(n,"multiaddr")&&o.uint32(10).bytes(n.multiaddr),n.isCertified!=null&&Object.hasOwnProperty.call(n,"isCertified")&&o.uint32(16).bool(n.isCertified),o},t.decode=function(n,o){n instanceof wn$1||(n=wn$1.create(n));for(var s=o===void 0?n.len:n.pos+o,w=new ne$1.Addresses.Address;n.pos<s;){var y=n.uint32();switch(y>>>3){case 1:w.multiaddr=n.bytes();break;case 2:w.isCertified=n.bool();break;default:n.skipType(y&7);break}}return w},t.fromObject=function(n){if(n instanceof ne$1.Addresses.Address)return n;var o=new ne$1.Addresses.Address;return n.multiaddr!=null&&(typeof n.multiaddr=="string"?$.base64.decode(n.multiaddr,o.multiaddr=$.newBuffer($.base64.length(n.multiaddr)),0):n.multiaddr.length&&(o.multiaddr=n.multiaddr)),n.isCertified!=null&&(o.isCertified=Boolean(n.isCertified)),o},t.toObject=function(n,o){o||(o={});var s={};return o.defaults&&(o.bytes===String?s.multiaddr="":(s.multiaddr=[],o.bytes!==Array&&(s.multiaddr=$.newBuffer(s.multiaddr)))),n.multiaddr!=null&&n.hasOwnProperty("multiaddr")&&(s.multiaddr=o.bytes===String?$.base64.encode(n.multiaddr,0,n.multiaddr.length):o.bytes===Array?Array.prototype.slice.call(n.multiaddr):n.multiaddr),n.isCertified!=null&&n.hasOwnProperty("isCertified")&&(s.isCertified=n.isCertified,o.oneofs&&(s._isCertified="isCertified")),s},t.prototype.toJSON=function(){return this.constructor.toObject(this,Pt$1.default.util.toJSONOptions)},t}(),e.CertifiedRecord=function(){function t(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}return t.prototype.seq=$.Long?$.Long.fromBits(0,0,!0):0,t.prototype.raw=$.newBuffer([]),t.encode=function(r,n){return n||(n=ic$1.create()),r.seq!=null&&Object.hasOwnProperty.call(r,"seq")&&n.uint32(8).uint64(r.seq),r.raw!=null&&Object.hasOwnProperty.call(r,"raw")&&n.uint32(18).bytes(r.raw),n},t.decode=function(r,n){r instanceof wn$1||(r=wn$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new ne$1.Addresses.CertifiedRecord;r.pos<o;){var w=r.uint32();switch(w>>>3){case 1:s.seq=r.uint64();break;case 2:s.raw=r.bytes();break;default:r.skipType(w&7);break}}return s},t.fromObject=function(r){if(r instanceof ne$1.Addresses.CertifiedRecord)return r;var n=new ne$1.Addresses.CertifiedRecord;return r.seq!=null&&($.Long?(n.seq=$.Long.fromValue(r.seq)).unsigned=!0:typeof r.seq=="string"?n.seq=parseInt(r.seq,10):typeof r.seq=="number"?n.seq=r.seq:typeof r.seq=="object"&&(n.seq=new $.LongBits(r.seq.low>>>0,r.seq.high>>>0).toNumber(!0))),r.raw!=null&&(typeof r.raw=="string"?$.base64.decode(r.raw,n.raw=$.newBuffer($.base64.length(r.raw)),0):r.raw.length&&(n.raw=r.raw)),n},t.toObject=function(r,n){n||(n={});var o={};if(n.defaults){if($.Long){var s=new $.Long(0,0,!0);o.seq=n.longs===String?s.toString():n.longs===Number?s.toNumber():s}else o.seq=n.longs===String?"0":0;n.bytes===String?o.raw="":(o.raw=[],n.bytes!==Array&&(o.raw=$.newBuffer(o.raw)))}return r.seq!=null&&r.hasOwnProperty("seq")&&(typeof r.seq=="number"?o.seq=n.longs===String?String(r.seq):r.seq:o.seq=n.longs===String?$.Long.prototype.toString.call(r.seq):n.longs===Number?new $.LongBits(r.seq.low>>>0,r.seq.high>>>0).toNumber(!0):r.seq),r.raw!=null&&r.hasOwnProperty("raw")&&(o.raw=n.bytes===String?$.base64.encode(r.raw,0,r.raw.length):n.bytes===Array?Array.prototype.slice.call(r.raw):r.raw),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Pt$1.default.util.toJSONOptions)},t}(),e})();u();var kt=_$1(Ht$1(),1),bn$1=kt.default.Reader,sc$1=kt.default.Writer,M$1=kt.default.util,Q$1=kt.default.roots.default||(kt.default.roots.default={}),ac$1=Q$1.Peer=(()=>{function e(r){if(this.addresses=[],this.protocols=[],this.metadata=[],r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}e.prototype.addresses=M$1.emptyArray,e.prototype.protocols=M$1.emptyArray,e.prototype.metadata=M$1.emptyArray,e.prototype.pubKey=null,e.prototype.peerRecordEnvelope=null;let t;return Object.defineProperty(e.prototype,"_pubKey",{get:M$1.oneOfGetter(t=["pubKey"]),set:M$1.oneOfSetter(t)}),Object.defineProperty(e.prototype,"_peerRecordEnvelope",{get:M$1.oneOfGetter(t=["peerRecordEnvelope"]),set:M$1.oneOfSetter(t)}),e.encode=function(r,n){if(n||(n=sc$1.create()),r.addresses!=null&&r.addresses.length)for(var o=0;o<r.addresses.length;++o)Q$1.Address.encode(r.addresses[o],n.uint32(10).fork()).ldelim();if(r.protocols!=null&&r.protocols.length)for(var o=0;o<r.protocols.length;++o)n.uint32(18).string(r.protocols[o]);if(r.metadata!=null&&r.metadata.length)for(var o=0;o<r.metadata.length;++o)Q$1.Metadata.encode(r.metadata[o],n.uint32(26).fork()).ldelim();return r.pubKey!=null&&Object.hasOwnProperty.call(r,"pubKey")&&n.uint32(34).bytes(r.pubKey),r.peerRecordEnvelope!=null&&Object.hasOwnProperty.call(r,"peerRecordEnvelope")&&n.uint32(42).bytes(r.peerRecordEnvelope),n},e.decode=function(r,n){r instanceof bn$1||(r=bn$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new Q$1.Peer;r.pos<o;){var w=r.uint32();switch(w>>>3){case 1:s.addresses&&s.addresses.length||(s.addresses=[]),s.addresses.push(Q$1.Address.decode(r,r.uint32()));break;case 2:s.protocols&&s.protocols.length||(s.protocols=[]),s.protocols.push(r.string());break;case 3:s.metadata&&s.metadata.length||(s.metadata=[]),s.metadata.push(Q$1.Metadata.decode(r,r.uint32()));break;case 4:s.pubKey=r.bytes();break;case 5:s.peerRecordEnvelope=r.bytes();break;default:r.skipType(w&7);break}}return s},e.fromObject=function(r){if(r instanceof Q$1.Peer)return r;var n=new Q$1.Peer;if(r.addresses){if(!Array.isArray(r.addresses))throw TypeError(".Peer.addresses: array expected");n.addresses=[];for(var o=0;o<r.addresses.length;++o){if(typeof r.addresses[o]!="object")throw TypeError(".Peer.addresses: object expected");n.addresses[o]=Q$1.Address.fromObject(r.addresses[o])}}if(r.protocols){if(!Array.isArray(r.protocols))throw TypeError(".Peer.protocols: array expected");n.protocols=[];for(var o=0;o<r.protocols.length;++o)n.protocols[o]=String(r.protocols[o])}if(r.metadata){if(!Array.isArray(r.metadata))throw TypeError(".Peer.metadata: array expected");n.metadata=[];for(var o=0;o<r.metadata.length;++o){if(typeof r.metadata[o]!="object")throw TypeError(".Peer.metadata: object expected");n.metadata[o]=Q$1.Metadata.fromObject(r.metadata[o])}}return r.pubKey!=null&&(typeof r.pubKey=="string"?M$1.base64.decode(r.pubKey,n.pubKey=M$1.newBuffer(M$1.base64.length(r.pubKey)),0):r.pubKey.length&&(n.pubKey=r.pubKey)),r.peerRecordEnvelope!=null&&(typeof r.peerRecordEnvelope=="string"?M$1.base64.decode(r.peerRecordEnvelope,n.peerRecordEnvelope=M$1.newBuffer(M$1.base64.length(r.peerRecordEnvelope)),0):r.peerRecordEnvelope.length&&(n.peerRecordEnvelope=r.peerRecordEnvelope)),n},e.toObject=function(r,n){n||(n={});var o={};if((n.arrays||n.defaults)&&(o.addresses=[],o.protocols=[],o.metadata=[]),r.addresses&&r.addresses.length){o.addresses=[];for(var s=0;s<r.addresses.length;++s)o.addresses[s]=Q$1.Address.toObject(r.addresses[s],n)}if(r.protocols&&r.protocols.length){o.protocols=[];for(var s=0;s<r.protocols.length;++s)o.protocols[s]=r.protocols[s]}if(r.metadata&&r.metadata.length){o.metadata=[];for(var s=0;s<r.metadata.length;++s)o.metadata[s]=Q$1.Metadata.toObject(r.metadata[s],n)}return r.pubKey!=null&&r.hasOwnProperty("pubKey")&&(o.pubKey=n.bytes===String?M$1.base64.encode(r.pubKey,0,r.pubKey.length):n.bytes===Array?Array.prototype.slice.call(r.pubKey):r.pubKey,n.oneofs&&(o._pubKey="pubKey")),r.peerRecordEnvelope!=null&&r.hasOwnProperty("peerRecordEnvelope")&&(o.peerRecordEnvelope=n.bytes===String?M$1.base64.encode(r.peerRecordEnvelope,0,r.peerRecordEnvelope.length):n.bytes===Array?Array.prototype.slice.call(r.peerRecordEnvelope):r.peerRecordEnvelope,n.oneofs&&(o._peerRecordEnvelope="peerRecordEnvelope")),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();Q$1.Address=(()=>{function e(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}e.prototype.multiaddr=M$1.newBuffer([]),e.prototype.isCertified=null;let t;return Object.defineProperty(e.prototype,"_isCertified",{get:M$1.oneOfGetter(t=["isCertified"]),set:M$1.oneOfSetter(t)}),e.encode=function(r,n){return n||(n=sc$1.create()),r.multiaddr!=null&&Object.hasOwnProperty.call(r,"multiaddr")&&n.uint32(10).bytes(r.multiaddr),r.isCertified!=null&&Object.hasOwnProperty.call(r,"isCertified")&&n.uint32(16).bool(r.isCertified),n},e.decode=function(r,n){r instanceof bn$1||(r=bn$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new Q$1.Address;r.pos<o;){var w=r.uint32();switch(w>>>3){case 1:s.multiaddr=r.bytes();break;case 2:s.isCertified=r.bool();break;default:r.skipType(w&7);break}}return s},e.fromObject=function(r){if(r instanceof Q$1.Address)return r;var n=new Q$1.Address;return r.multiaddr!=null&&(typeof r.multiaddr=="string"?M$1.base64.decode(r.multiaddr,n.multiaddr=M$1.newBuffer(M$1.base64.length(r.multiaddr)),0):r.multiaddr.length&&(n.multiaddr=r.multiaddr)),r.isCertified!=null&&(n.isCertified=Boolean(r.isCertified)),n},e.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(n.bytes===String?o.multiaddr="":(o.multiaddr=[],n.bytes!==Array&&(o.multiaddr=M$1.newBuffer(o.multiaddr)))),r.multiaddr!=null&&r.hasOwnProperty("multiaddr")&&(o.multiaddr=n.bytes===String?M$1.base64.encode(r.multiaddr,0,r.multiaddr.length):n.bytes===Array?Array.prototype.slice.call(r.multiaddr):r.multiaddr),r.isCertified!=null&&r.hasOwnProperty("isCertified")&&(o.isCertified=r.isCertified,n.oneofs&&(o._isCertified="isCertified")),o},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();Q$1.Metadata=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.key="",e.prototype.value=M$1.newBuffer([]),e.encode=function(t,r){return r||(r=sc$1.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&r.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&r.uint32(18).bytes(t.value),r},e.decode=function(t,r){t instanceof bn$1||(t=bn$1.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Q$1.Metadata;t.pos<n;){var s=t.uint32();switch(s>>>3){case 1:o.key=t.string();break;case 2:o.value=t.bytes();break;default:t.skipType(s&7);break}}return o},e.fromObject=function(t){if(t instanceof Q$1.Metadata)return t;var r=new Q$1.Metadata;return t.key!=null&&(r.key=String(t.key)),t.value!=null&&(typeof t.value=="string"?M$1.base64.decode(t.value,r.value=M$1.newBuffer(M$1.base64.length(t.value)),0):t.value.length&&(r.value=t.value)),r},e.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(n.key="",r.bytes===String?n.value="":(n.value=[],r.bytes!==Array&&(n.value=M$1.newBuffer(n.value)))),t.key!=null&&t.hasOwnProperty("key")&&(n.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(n.value=r.bytes===String?M$1.base64.encode(t.value,0,t.value.length):r.bytes===Array?Array.prototype.slice.call(t.value):t.value),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,kt.default.util.toJSONOptions)},e})();u();var Dr$1=_$1(Ht$1(),1),Wy=Dr$1.default.Reader,G2=Dr$1.default.Writer,K=Dr$1.default.util,Xo=Dr$1.default.roots.default||(Dr$1.default.roots.default={}),Vy=Xo.Envelope=(()=>{function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.publicKey=K.newBuffer([]),e.prototype.payloadType=K.newBuffer([]),e.prototype.payload=K.newBuffer([]),e.prototype.signature=K.newBuffer([]),e.encode=function(t,r){return r||(r=G2.create()),t.publicKey!=null&&Object.hasOwnProperty.call(t,"publicKey")&&r.uint32(10).bytes(t.publicKey),t.payloadType!=null&&Object.hasOwnProperty.call(t,"payloadType")&&r.uint32(18).bytes(t.payloadType),t.payload!=null&&Object.hasOwnProperty.call(t,"payload")&&r.uint32(26).bytes(t.payload),t.signature!=null&&Object.hasOwnProperty.call(t,"signature")&&r.uint32(42).bytes(t.signature),r},e.decode=function(t,r){t instanceof Wy||(t=Wy.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Xo.Envelope;t.pos<n;){var s=t.uint32();switch(s>>>3){case 1:o.publicKey=t.bytes();break;case 2:o.payloadType=t.bytes();break;case 3:o.payload=t.bytes();break;case 5:o.signature=t.bytes();break;default:t.skipType(s&7);break}}return o},e.fromObject=function(t){if(t instanceof Xo.Envelope)return t;var r=new Xo.Envelope;return t.publicKey!=null&&(typeof t.publicKey=="string"?K.base64.decode(t.publicKey,r.publicKey=K.newBuffer(K.base64.length(t.publicKey)),0):t.publicKey.length&&(r.publicKey=t.publicKey)),t.payloadType!=null&&(typeof t.payloadType=="string"?K.base64.decode(t.payloadType,r.payloadType=K.newBuffer(K.base64.length(t.payloadType)),0):t.payloadType.length&&(r.payloadType=t.payloadType)),t.payload!=null&&(typeof t.payload=="string"?K.base64.decode(t.payload,r.payload=K.newBuffer(K.base64.length(t.payload)),0):t.payload.length&&(r.payload=t.payload)),t.signature!=null&&(typeof t.signature=="string"?K.base64.decode(t.signature,r.signature=K.newBuffer(K.base64.length(t.signature)),0):t.signature.length&&(r.signature=t.signature)),r},e.toObject=function(t,r){r||(r={});var n={};return r.defaults&&(r.bytes===String?n.publicKey="":(n.publicKey=[],r.bytes!==Array&&(n.publicKey=K.newBuffer(n.publicKey))),r.bytes===String?n.payloadType="":(n.payloadType=[],r.bytes!==Array&&(n.payloadType=K.newBuffer(n.payloadType))),r.bytes===String?n.payload="":(n.payload=[],r.bytes!==Array&&(n.payload=K.newBuffer(n.payload))),r.bytes===String?n.signature="":(n.signature=[],r.bytes!==Array&&(n.signature=K.newBuffer(n.signature)))),t.publicKey!=null&&t.hasOwnProperty("publicKey")&&(n.publicKey=r.bytes===String?K.base64.encode(t.publicKey,0,t.publicKey.length):r.bytes===Array?Array.prototype.slice.call(t.publicKey):t.publicKey),t.payloadType!=null&&t.hasOwnProperty("payloadType")&&(n.payloadType=r.bytes===String?K.base64.encode(t.payloadType,0,t.payloadType.length):r.bytes===Array?Array.prototype.slice.call(t.payloadType):t.payloadType),t.payload!=null&&t.hasOwnProperty("payload")&&(n.payload=r.bytes===String?K.base64.encode(t.payload,0,t.payload.length):r.bytes===Array?Array.prototype.slice.call(t.payload):t.payload),t.signature!=null&&t.hasOwnProperty("signature")&&(n.signature=r.bytes===String?K.base64.encode(t.signature,0,t.signature.length):r.bytes===Array?Array.prototype.slice.call(t.signature):t.signature),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Dr$1.default.util.toJSONOptions)},e})();u();var Yt$1=_$1(Ht$1(),1),es$1=Yt$1.default.Reader,Gy=Yt$1.default.Writer,W=Yt$1.default.util,Xe$1=Yt$1.default.roots.default||(Yt$1.default.roots.default={}),Hy=Xe$1.PeerRecord=(()=>{function e(t){if(this.addresses=[],t)for(var r=Object.keys(t),n=0;n<r.length;++n)t[r[n]]!=null&&(this[r[n]]=t[r[n]])}return e.prototype.peerId=W.newBuffer([]),e.prototype.seq=W.Long?W.Long.fromBits(0,0,!0):0,e.prototype.addresses=W.emptyArray,e.encode=function(t,r){if(r||(r=Gy.create()),t.peerId!=null&&Object.hasOwnProperty.call(t,"peerId")&&r.uint32(10).bytes(t.peerId),t.seq!=null&&Object.hasOwnProperty.call(t,"seq")&&r.uint32(16).uint64(t.seq),t.addresses!=null&&t.addresses.length)for(var n=0;n<t.addresses.length;++n)Xe$1.PeerRecord.AddressInfo.encode(t.addresses[n],r.uint32(26).fork()).ldelim();return r},e.decode=function(t,r){t instanceof es$1||(t=es$1.create(t));for(var n=r===void 0?t.len:t.pos+r,o=new Xe$1.PeerRecord;t.pos<n;){var s=t.uint32();switch(s>>>3){case 1:o.peerId=t.bytes();break;case 2:o.seq=t.uint64();break;case 3:o.addresses&&o.addresses.length||(o.addresses=[]),o.addresses.push(Xe$1.PeerRecord.AddressInfo.decode(t,t.uint32()));break;default:t.skipType(s&7);break}}return o},e.fromObject=function(t){if(t instanceof Xe$1.PeerRecord)return t;var r=new Xe$1.PeerRecord;if(t.peerId!=null&&(typeof t.peerId=="string"?W.base64.decode(t.peerId,r.peerId=W.newBuffer(W.base64.length(t.peerId)),0):t.peerId.length&&(r.peerId=t.peerId)),t.seq!=null&&(W.Long?(r.seq=W.Long.fromValue(t.seq)).unsigned=!0:typeof t.seq=="string"?r.seq=parseInt(t.seq,10):typeof t.seq=="number"?r.seq=t.seq:typeof t.seq=="object"&&(r.seq=new W.LongBits(t.seq.low>>>0,t.seq.high>>>0).toNumber(!0))),t.addresses){if(!Array.isArray(t.addresses))throw TypeError(".PeerRecord.addresses: array expected");r.addresses=[];for(var n=0;n<t.addresses.length;++n){if(typeof t.addresses[n]!="object")throw TypeError(".PeerRecord.addresses: object expected");r.addresses[n]=Xe$1.PeerRecord.AddressInfo.fromObject(t.addresses[n])}}return r},e.toObject=function(t,r){r||(r={});var n={};if((r.arrays||r.defaults)&&(n.addresses=[]),r.defaults)if(r.bytes===String?n.peerId="":(n.peerId=[],r.bytes!==Array&&(n.peerId=W.newBuffer(n.peerId))),W.Long){var o=new W.Long(0,0,!0);n.seq=r.longs===String?o.toString():r.longs===Number?o.toNumber():o}else n.seq=r.longs===String?"0":0;if(t.peerId!=null&&t.hasOwnProperty("peerId")&&(n.peerId=r.bytes===String?W.base64.encode(t.peerId,0,t.peerId.length):r.bytes===Array?Array.prototype.slice.call(t.peerId):t.peerId),t.seq!=null&&t.hasOwnProperty("seq")&&(typeof t.seq=="number"?n.seq=r.longs===String?String(t.seq):t.seq:n.seq=r.longs===String?W.Long.prototype.toString.call(t.seq):r.longs===Number?new W.LongBits(t.seq.low>>>0,t.seq.high>>>0).toNumber(!0):t.seq),t.addresses&&t.addresses.length){n.addresses=[];for(var s=0;s<t.addresses.length;++s)n.addresses[s]=Xe$1.PeerRecord.AddressInfo.toObject(t.addresses[s],r)}return n},e.prototype.toJSON=function(){return this.constructor.toObject(this,Yt$1.default.util.toJSONOptions)},e.AddressInfo=function(){function t(r){if(r)for(var n=Object.keys(r),o=0;o<n.length;++o)r[n[o]]!=null&&(this[n[o]]=r[n[o]])}return t.prototype.multiaddr=W.newBuffer([]),t.encode=function(r,n){return n||(n=Gy.create()),r.multiaddr!=null&&Object.hasOwnProperty.call(r,"multiaddr")&&n.uint32(10).bytes(r.multiaddr),n},t.decode=function(r,n){r instanceof es$1||(r=es$1.create(r));for(var o=n===void 0?r.len:r.pos+n,s=new Xe$1.PeerRecord.AddressInfo;r.pos<o;){var w=r.uint32();switch(w>>>3){case 1:s.multiaddr=r.bytes();break;default:r.skipType(w&7);break}}return s},t.fromObject=function(r){if(r instanceof Xe$1.PeerRecord.AddressInfo)return r;var n=new Xe$1.PeerRecord.AddressInfo;return r.multiaddr!=null&&(typeof r.multiaddr=="string"?W.base64.decode(r.multiaddr,n.multiaddr=W.newBuffer(W.base64.length(r.multiaddr)),0):r.multiaddr.length&&(n.multiaddr=r.multiaddr)),n},t.toObject=function(r,n){n||(n={});var o={};return n.defaults&&(n.bytes===String?o.multiaddr="":(o.multiaddr=[],n.bytes!==Array&&(o.multiaddr=W.newBuffer(o.multiaddr)))),r.multiaddr!=null&&r.hasOwnProperty("multiaddr")&&(o.multiaddr=n.bytes===String?W.base64.encode(r.multiaddr,0,r.multiaddr.length):n.bytes===Array?Array.prototype.slice.call(r.multiaddr):r.multiaddr),o},t.prototype.toJSON=function(){return this.constructor.toObject(this,Yt$1.default.util.toJSONOptions)},t}(),e})(),wc$1=_$1(Bg(),1);bc$1.default.util.Long=void 0;bc$1.default.configure();async function vD(e,t=()=>{}){t(0,"Storing each peerstore key under a single datastore key"),await e.datastore.open();let r={},n=[];for await(let{key:o,value:s}of e.datastore.query({prefix:"/peers"})){n.push(o);let w=o.toString(),[y,k,P,V,X]=w.split("/");if(k==="peers"&&!!["protos","addrs","metadata","keys"].includes(P)&&!!V)if(r[V]=r[V]||{addresses:[],protocols:[],metadata:[]},P==="protos"){let we=nc$1.decode(s);r[V].protocols=we.protocols.sort()}else if(P==="addrs"){let we=oc$1.decode(s);r[V].addresses=we.addrs.sort((q,L)=>new wc$1.Multiaddr(q.multiaddr).toString().localeCompare(new wc$1.Multiaddr(L.multiaddr).toString())),we.certifiedRecord&&we.certifiedRecord.raw&&(r[V].peerRecordEnvelope=we.certifiedRecord.raw)}else P==="metadata"?r[V].metadata.push({key:X,value:s}):P==="keys"&&(r[V].pubKey=s)}t(33,"Read peer data from store");for(let o of n)await e.datastore.delete(o);t(66,"Removed existing peer data from store");for(let o of Object.keys(r)){let s=r[o];s.metadata=s.metadata.sort((y,k)=>y.key.localeCompare(k.key));let w=ac$1.encode(s).finish();await e.datastore.put(new A(`/peers/${o}`),w)}await e.datastore.close(),t(100,"Stored each peerstore key under a single datastore key")}async function ED(e,t=()=>{}){t(0,"Storing each peerstore key under a multiple datastore keys"),await e.datastore.open();let r={},n=[];for await(let{key:o,value:s}of e.datastore.query({prefix:"/peers"})){n.push(o);let w=o.toString(),[y,k,P]=w.split("/");r[P]=ac$1.decode(s)}t(33,"Read peer data from store");for(let o of n)await e.datastore.delete(o);t(66,"Removed existing peer data from store");for(let[o,s]of Object.entries(r)){if(s.protocols&&s.protocols.length>0&&await e.datastore.put(new A(`/peers/protos/${o}`),nc$1.encode({protocols:s.protocols}).finish()),s.addresses&&s.addresses.length>0){let w=s.peerRecordEnvelope,y;if(w){let k=Vy.decode(w),P=Hy.decode(k.payload);y={raw:w,seq:P.seq}}await e.datastore.put(new A(`/peers/addrs/${o}`),oc$1.encode({addrs:s.addresses,certifiedRecord:y}).finish())}if(s.metadata&&s.metadata.length>0)for(let{key:w,value:y}of s.metadata)await e.datastore.put(new A(`/peers/metadata/${o}/${w}`),y);s.pubKey&&await e.datastore.put(new A(`/peers/keys/${o}`),s.pubKey)}await e.datastore.close(),t(100,"Stored each peerstore key under multiple datastore keys")}var Pg={version:12,description:"Store each peerstore peer under a single datastore key",migrate:vD,revert:ED},Ar$1={description:"Empty migration.",migrate:()=>{},revert:()=>{},empty:!0},us$1=[Object.assign({version:1},Ar$1),Object.assign({version:2},Ar$1),Object.assign({version:3},Ar$1),Object.assign({version:4},Ar$1),Object.assign({version:5},Ar$1),Object.assign({version:6},Ar$1),Object.assign({version:7},Ar$1),cp,Ly,Uy,Ky,Pg];u();u();var kg=_$1(We(),1),vc={};G$1(vc,{InvalidValueError:()=>An$1,MissingRepoOptionsError:()=>vt,NonReversibleMigrationError:()=>xn,NotInitializedRepoError:()=>Zt,RequiredParameterError:()=>Dn$1});u();var xn=class extends Error{constructor(e){super(e),this.name="NonReversibleMigrationError",this.code=xn.code,this.message=e}};xn.code="ERR_NON_REVERSIBLE_MIGRATION";var Zt=class extends Error{constructor(e){super(e),this.name="NotInitializedRepoError",this.code=Zt.code,this.message=e}};Zt.code="ERR_NOT_INITIALIZED_REPO";var Dn$1=class extends Error{constructor(e){super(e),this.name="RequiredParameterError",this.code=Dn$1.code,this.message=e}};Dn$1.code="ERR_REQUIRED_PARAMETER";var An$1=class extends Error{constructor(e){super(e),this.name="InvalidValueError",this.code=An$1.code,this.message=e}};An$1.code="ERR_INVALID_VALUE";var vt=class extends Error{constructor(e){super(e),this.name="MissingRepoOptionsError",this.code=vt.code,this.message=e}};vt.code="ERR_MISSING_REPO_OPTIONS";var Ec$1=(0,kg.default)("ipfs:repo:migrator:repo:init");async function Fg(e){if(!e)throw new vt("Please pass repo options when trying to open a repo");let t=e.root;try{await t.open();let r=await t.has(Ci$1),n=await t.has(My);return!r||!n?(Ec$1(`Version entry present: ${r}`),Ec$1(`Config entry present: ${n}`),!1):!0}catch(r){return Ec$1("While checking if repo is initialized error was thrown: "+r.message),!1}finally{if(t!==void 0)try{await t.close()}catch{}}}yt$1();ke$1();async function _c(e){if(!await Fg(e))throw new Zt("Repo is not initialized!");let t=e.root;await t.open();try{return parseInt(de(await t.get(Ci$1)))}finally{await t.close()}}async function Bi(e,t){if(!t)throw new vt("Please pass repo options when trying to open a repo");let r=t.root;await r.open(),await r.put(Ci$1,oe(String(e))),await r.close()}var Ng=_$1(We(),1),rt=(0,Ng.default)("ipfs:repo:migrator");function xD(e){return e=e||us$1,!Array.isArray(e)||e.length===0?0:e[e.length-1].version}async function Lg(e,t,r,n,{ignoreLock:o=!1,onProgress:s,isDryRun:w=!1,migrations:y}){if(y=y||us$1,!e)throw new qe$1.RequiredParameterError("Path argument is required!");if(!r)throw new qe$1.RequiredParameterError("repoOptions argument is required!");if(!n)throw new qe$1.RequiredParameterError("toVersion argument is required!");if(!Number.isInteger(n)||n<=0)throw new qe$1.InvalidValueError("Version has to be positive integer!");t=rc$1(t);let k=await _c(t);if(k===n){rt("Nothing to migrate.");return}if(k>n)throw new qe$1.InvalidValueError(`Current repo's version (${k}) is higher then toVersion (${n}), you probably wanted to revert it?`);jg(y,k,n);let P;!w&&!o&&(P=await r.repoLock.lock(e));try{for(let V of y){if(n!==void 0&&V.version>n)break;if(!(V.version<=k)){rt(`Migrating version ${V.version}`);try{if(!w){let X=()=>{};s&&(X=(we,q)=>s(V.version,we.toFixed(2),q)),await V.migrate(t,X)}}catch(X){let we=V.version-1;throw rt(`An exception was raised during execution of migration. Setting the repo's version to last successfully migrated version: ${we}`),await Bi(we,t),new Error(`During migration to version ${V.version} exception was raised: ${X.stack||X.message||X}`)}rt(`Migrating to version ${V.version} finished`)}}w||await Bi(n||xD(y),t),rt("Repo successfully migrated",n!==void 0?`to version ${n}!`:"to latest version!")}finally{!w&&!o&&P&&await P.close()}}async function Mg(e,t,r,n,{ignoreLock:o=!1,onProgress:s,isDryRun:w=!1,migrations:y}){if(y=y||us$1,!e)throw new qe$1.RequiredParameterError("Path argument is required!");if(!r)throw new qe$1.RequiredParameterError("repoOptions argument is required!");if(!n)throw new qe$1.RequiredParameterError("When reverting migrations, you have to specify to which version to revert!");if(!Number.isInteger(n)||n<=0)throw new qe$1.InvalidValueError("Version has to be positive integer!");t=rc$1(t);let k=await _c(t);if(k===n){rt("Nothing to revert.");return}if(k<n)throw new qe$1.InvalidValueError(`Current repo's version (${k}) is lower then toVersion (${n}), you probably wanted to migrate it?`);jg(y,n,k,!0);let P;!w&&!o&&(P=await r.repoLock.lock(e)),rt(`Reverting from version ${k} to ${n}`);try{let V=y.slice().reverse();for(let X of V){if(X.version<=n)break;if(!(X.version>k)){rt(`Reverting migration version ${X.version}`);try{if(!w){let we=()=>{};s&&(we=(q,L)=>s(X.version,q.toFixed(2),L)),await X.revert(t,we)}}catch(we){let q=X.version;throw rt(`An exception was raised during execution of migration. Setting the repo's version to last successfully reverted version: ${q}`),await Bi(q,t),we.message=`During reversion to version ${X.version} exception was raised: ${we.message}`,we}rt(`Reverting to version ${X.version} finished`)}}w||await Bi(n,t),rt(`All migrations successfully reverted to version ${n}!`)}finally{!w&&!o&&P&&await P.close()}}function jg(e,t,r,n=!1){let o=0;for(let s of e){if(s.version>r)break;if(s.version>t){if(n&&!s.revert)throw new qe$1.NonReversibleMigrationError(`It is not possible to revert to version ${t} because migration version ${s.version} is not reversible. Cancelling reversion.`);o++}}if(o!==r-t)throw new qe$1.InvalidValueError(`The ipfs-repo-migrations package does not have all migration to migrate from version ${t} to ${r}`)}var qe$1=vc,eb=_$1($g(),1);u();var Yg=_$1(Jg(),1),Qg=Yg.default;u();u();var tm=_$1(We(),1);ke$1();yt$1();u();u();var Sr$1=class extends Error{constructor(e){super(e),this.name="LockExistsError",this.code=Sr$1.code}};Sr$1.code="ERR_LOCK_EXISTS";var Oe$1=class extends Error{constructor(e){super(e),this.name="NotFoundError",this.code=Oe$1.code}};Oe$1.code="ERR_NOT_FOUND";var Cr$1=class extends Error{constructor(e){super(e),this.name="InvalidRepoVersionError",this.code=Cr$1.code}};Cr$1.code="ERR_INVALID_REPO_VERSION";var Pi$1="ERR_REPO_NOT_INITIALIZED",Zg="ERR_REPO_ALREADY_OPEN",Xg="ERR_REPO_ALREADY_CLOSED";async function ds$1(e,t,r){let n=await t(e);if(n)return n;let o=em(r);return o?new Promise((s,w)=>{let y=o.store("readonly").get(e.toString());y.transaction.onabort=()=>{w(y.transaction.error)},y.transaction.oncomplete=()=>{s(Boolean(y.result))}}):!1}async function ps$1(e,t,r,n){if(await r(e))return t(e);let o=em(n);if(!o)throw new Oe$1;return new Promise((s,w)=>{let y=o.store("readonly").get(e.toString());y.transaction.onabort=()=>{w(y.transaction.error)},y.transaction.oncomplete=()=>{if(y.result)return s(y.result);w(new Oe$1)}})}function em(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,t.type==="level-js"||t.constructor.name==="Level")return t}var ND=(0,tm.default)("ipfs:repo:version"),Ac$1=new A("version");function rm(e){return{async exists(){return ds$1(Ac$1,e.has.bind(e),e)},async get(){let t=await ps$1(Ac$1,e.get.bind(e),e.has.bind(e),e);return parseInt(de(t),10)},set(t){return e.put(Ac$1,oe(String(t)))},async check(t){let r=await this.get();return ND("comparing version: %s and %s",r,t),r===t||r===6&&t===7||t===6&&r===7}}}u();var ws$1=_$1(fm(),1),hm=_$1(za(),1),ym=_$1(pm(),1),bs$1=_$1(dt$1(),1);ke$1();yt$1();var VD=ws$1.default.default?ws$1.default.default:ws$1.default,kc=new A("config");function gm(e){let t=new VD({concurrency:1}),r={async getAll(s={}){let w=await ps$1(kc,e.get.bind(e),e.has.bind(e),e);return JSON.parse(de(w))},async get(s,w={}){if(s==null)throw new Oe$1(`Key ${s} does not exist in config`);let y=await this.getAll(w),k=(0,hm.default)(y,s);if(k===void 0)throw new Oe$1(`Key ${s} does not exist in config`);return k},set(s,w,y={}){if(typeof s!="string"&&!(s instanceof String))throw(0,bs$1.default)(new Error("Invalid key type: "+typeof s),"ERR_INVALID_KEY");if(w===void 0||w instanceof Uint8Array)throw(0,bs$1.default)(new Error("Invalid value type: "+typeof w),"ERR_INVALID_VALUE");return t.add(()=>n({key:s,value:w},y.signal))},replace(s,w={}){if(!s||s instanceof Uint8Array)throw(0,bs$1.default)(new Error("Invalid value type: "+typeof s),"ERR_INVALID_VALUE");return t.add(()=>n({key:void 0,value:s},w.signal))},async exists(){return ds$1(kc,e.has.bind(e),e)}};return r;async function n(s,w){if(w&&w.aborted)return;let y=s.key,k=s.value;if(y){let P=await r.getAll();return typeof P=="object"&&P!==null&&(0,ym.default)(P,y,k),o(P)}return o(k)}function o(s){let w=oe(JSON.stringify(s,null,2));return e.put(kc,w)}}u();u();var bm=_$1(wm(),1);ke$1();yt$1();var Nc=new A("datastore_spec");function vm(e){return{exists(){return e.has(Nc)},async get(){let t=await e.get(Nc);return JSON.parse(de(t))},async set(t){return e.put(Nc,oe(JSON.stringify((0,bm.default)(t,{deep:!0}))))}}}u();yt$1();var Lc=new A("api");function Em(e){return{async get(){let t=await e.get(Lc);return t&&t.toString()},set(t){return e.put(Lc,oe(t.toString()))},delete(){return e.delete(Lc)}}}u();var Im=_$1(Or(),1),Rm=_$1(Om(),1),Bm=_$1(On$1(),1);ge();var Pm=_$1(dt$1(),1);gu$1();function km(e){return{open(){return e.open()},close(){return e.close()},query(t,r){return e.query(t,r)},queryKeys(t,r){return e.queryKeys(t,r)},async get(t,r){let n=er(t);return n.isIdentity?Promise.resolve(n.digest):e.get(t,r)},async*getMany(t,r){for await(let n of t)yield this.get(n,r)},async put(t,r,n){let{isIdentity:o}=er(t);o||await e.put(t,r,n)},async*putMany(t,r){let n=(0,Rm.default)();(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)(async()=>{try{await(0,Bm.default)(e.putMany(async function*(){for await(let{key:o,value:s}of t)er(o).isIdentity||(yield{key:o,value:s}),n.push({key:o,value:s})}())),n.end()}catch(o){n.end(o)}}),yield*n},has(t,r){let{isIdentity:n}=er(t);return n?Promise.resolve(!0):e.has(t,r)},delete(t,r){let{isIdentity:n}=er(t);return n?Promise.resolve():e.delete(t,r)},deleteMany(t,r){return e.deleteMany((0,Im.default)(t,n=>!er(n).isIdentity),r)},batch(){let t=e.batch();return{put(r,n){let{isIdentity:o}=er(r);o||t.put(r,n)},delete(r){let{isIdentity:n}=er(r);n||t.delete(r)},commit:r=>t.commit(r)}}}}function er(e){let t=S$1.asCID(e);if(t==null)throw(0,Pm.default)(new Error("Not a valid cid"),"ERR_INVALID_CID");return t.multihash.code!==hu.code?{isIdentity:!1}:{isIdentity:!0,digest:t.multihash.digest}}u();u();var Fm=_$1(We(),1),Nm=(0,Fm.default)("ipfs:repo:lock:memory"),Lm="repo.lock",Ni$1={};async function JD(e){let t=e+"/"+Lm;if(Nm("locking %s",t),Ni$1[t]===!0)throw new Sr$1(`Lock already being held for file: ${t}`);return Ni$1[t]=!0,{async close(){Ni$1[t]&&delete Ni$1[t]}}}async function YD(e){let t=e+"/"+Lm;return Nm(`checking lock: ${t}`),Boolean(Ni$1[t])}var vs$1={lock:JD,locked:YD},Mm={autoMigrate:!0,onMigrationProgress:()=>{},repoOwner:!0,repoLock:vs$1};u();var jc={Spec:{type:"mount",mounts:[{mountpoint:"/blocks",type:"measure",prefix:"flatfs.datastore",child:{type:"flatfs",path:"blocks",sync:!0,shardFunc:"/repo/flatfs/shard/v1/next-to-last/2"}},{mountpoint:"/",type:"measure",prefix:"leveldb.datastore",child:{type:"levelds",path:"datastore",compression:"none"}}]}};u();ge();var Km=_$1(dt$1(),1),zm=_$1(We(),1),zc=_$1(qm(),1);u();So();var Es$1=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),qc=function*(e,t){if(e!=null&&!(e instanceof Uint8Array))for(let[r,n]of Object.entries(e)){let o=[...t,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let[s,w]of n.entries()){let y=[...o,s],k=S$1.asCID(w);k?yield[y.join("/"),k]:typeof w=="object"&&(yield*qc(w,y))}else{let s=S$1.asCID(n);s?yield[o.join("/"),s]:yield*qc(n,o)}}},Uc$1=function*(e,t){if(e!=null)for(let[r,n]of Object.entries(e)){let o=[...t,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!S$1.asCID(n))if(Array.isArray(n))for(let[s,w]of n.entries()){let y=[...o,s];yield y.join("/"),typeof w=="object"&&!S$1.asCID(w)&&(yield*Uc$1(w,y))}else yield*Uc$1(n,o)}},ZD=(e,t)=>{let r=e;for(let[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(w=>`[${JSON.stringify(w)}]`).join("")}`);let s=S$1.asCID(r);if(s)return{value:s,remaining:t.slice(n+1).join("/")}}return{value:r}},$c=class{constructor({cid:e,bytes:t,value:r}){if(!e||!t||typeof r>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:Es$1(),bytes:Es$1(),value:Es$1(),asBlock:Es$1()})}links(){return qc(this.value,[])}tree(){return Uc$1(this.value,[])}get(e="/"){return ZD(this.value,e.split("/").filter(Boolean))}},_s$1=({bytes:e,cid:t,value:r,codec:n})=>{let o=r!==void 0?r:n&&n.decode(e);if(o===void 0)throw new Error('Missing required argument, must either provide "value" or "codec"');return new $c({cid:t,bytes:e,value:o})};u();So();ci$1();var Um=_$1(dt$1(),1);ht$1();pt$1();function Li$1(e){let t=S$1.asCID(e);if(t==null)throw(0,Um.default)(new Error("Not a valid cid"),"ERR_INVALID_CID");let r=U$1.encode(t.multihash.bytes);return new A("/"+r.slice(1).toUpperCase(),!1)}function Kc(e){return Ve(U$1.decode(`b${e.toString().toLowerCase().substring(1)}`))}u();var $m=_$1(We(),1),XD=(0,$m.default)("ipfs:repo:utils:walk-dag");async function*Tn$1(e,t,r,n){try{let o=await t.get(e,n),s=await r(e.code),w=_s$1({bytes:o,cid:e,codec:s});for(let[,y]of w.links())yield y,yield*Tn$1(y,t,r,n)}catch(o){throw XD("Could not walk DAG for CID",e.toString(),o),o}}u();var be={direct:"direct",recursive:"recursive",indirect:"indirect",all:"all"};function eA(e){let t=`Invalid type '${e}', must be one of {direct, indirect, recursive, all}`;return(0,Km.default)(new Error(t),"ERR_INVALID_PIN_TYPE")}var xs$1=class{constructor({pinstore:e,blockstore:t,loadCodec:r}){this.pinstore=e,this.blockstore=t,this.loadCodec=r,this.log=(0,zm.default)("ipfs:repo:pin"),this.directPins=new Set,this.recursivePins=new Set}async pinDirectly(e,t={}){await this.blockstore.get(e,t);let r={depth:0};return e.version!==0&&(r.version=e.version),e.code!==It&&(r.codec=e.code),t.metadata&&(r.metadata=t.metadata),this.pinstore.put(Li$1(e),wr$1(r))}unpin(e,t){return this.pinstore.delete(Li$1(e),t)}async pinRecursively(e,t={}){await this.fetchCompleteDag(e,t);let r={depth:1/0};e.version!==0&&(r.version=e.version),e.code!==It&&(r.codec=e.code),t.metadata&&(r.metadata=t.metadata),await this.pinstore.put(Li$1(e),wr$1(r))}async*directKeys(e){for await(let t of this.pinstore.query({filters:[r=>mt$1(r.value).depth===0]})){let r=mt$1(t.value),n=r.version||0,o=r.codec!=null?r.codec:It,s=Kc(t.key);yield{cid:S$1.create(n,o,s),metadata:r.metadata}}}async*recursiveKeys(e){for await(let t of this.pinstore.query({filters:[r=>mt$1(r.value).depth===1/0]})){let r=mt$1(t.value),n=r.version||0,o=r.codec!=null?r.codec:It,s=Kc(t.key);yield{cid:S$1.create(n,o,s),metadata:r.metadata}}}async*indirectKeys(e){for await(let{cid:t}of this.recursiveKeys())for await(let r of Tn$1(t,this.blockstore,this.loadCodec,e)){let n=[be.recursive];(await this.isPinnedWithType(r,n)).pinned||(yield r)}}async isPinnedWithType(e,t,r){Array.isArray(t)||(t=[t]);let n=t.includes(be.all),o=t.includes(be.direct),s=t.includes(be.recursive),w=t.includes(be.indirect);if(s||o||n){let P=await(0,zc.default)(this.pinstore.query({prefix:Li$1(e).toString(),filters:[V=>{if(n)return!0;let X=mt$1(V.value);return t.includes(X.depth===0?be.direct:be.recursive)}],limit:1}));if(P){let V=mt$1(P.value);return{cid:e,pinned:!0,reason:V.depth===0?be.direct:be.recursive,metadata:V.metadata}}}let y=this;async function*k(P,V){for await(let{cid:X}of V)for await(let we of Tn$1(X,y.blockstore,y.loadCodec))if(we.equals(P)){yield X;return}}if(n||w){let P=await(0,zc.default)(k(e,this.recursiveKeys()));if(P)return{cid:e,pinned:!0,reason:be.indirect,parent:P}}return{cid:e,pinned:!1}}async fetchCompleteDag(e,t){let r=new Set,n=async(o,s)=>{if(r.has(o.toString()))return;r.add(o.toString());let w=await this.blockstore.get(o,s),y=await this.loadCodec(o.code),k=_s$1({bytes:w,cid:o,codec:y});await Promise.all([...k.links()].map(([,P])=>n(P,s)))};await n(e,t)}static checkPinType(e){if(typeof e!="string"||!Object.keys(be).includes(e))throw eA(e);return!0}};u();var Gm=_$1(Mi$1(),1),Hm=_$1(dt$1(),1);function Jm(e,t){return{open(){return t.open()},close(){return t.close()},query(r,n){return t.query(r,n)},queryKeys(r,n){return t.queryKeys(r,n)},async get(r,n){return t.get(r,n)},async*getMany(r,n){yield*t.getMany(r,n)},async put(r,n,o){await t.put(r,n,o)},async*putMany(r,n){yield*t.putMany(r,n)},has(r,n){return t.has(r,n)},async delete(r,n){return await Vm(r,e),t.delete(r,n)},deleteMany(r,n){return t.deleteMany((0,Gm.default)(r,async o=>(await Vm(o,e),o)),n)},batch(){return t.batch()}}}async function Vm(e,t){let{pinned:r,reason:n}=await t.isPinnedWithType(e,be.all);if(r)throw(0,Hm.default)(new Error(`pinned: ${n}`),"ERR_BLOCK_PINNED")}var tb=_$1(Nw(),1);u();ge();var Gw=_$1(We(),1),Hw=_$1(qw(),1),Jw=_$1(Kw(),1),sf=_$1(of(),1),Ts$1=_$1(Mi$1(),1),Yw=_$1(Or(),1);ht$1();var qi$1=(0,Gw.default)("ipfs:repo:gc"),IA=Bt().code,RA=256,BA=new A("/local/filesroot");function Qw({gcLock:e,pins:t,blockstore:r,root:n,loadCodec:o}){async function*s(){let w=Date.now();qi$1("Creating set of marked blocks");let y=await e.writeLock();try{let k=await PA({pins:t,blockstore:r,root:n,loadCodec:o}),P=r.queryKeys({});yield*kA({blockstore:r},k,P),qi$1(`Complete (${Date.now()-w}ms)`)}finally{y()}}return s}async function PA({pins:e,blockstore:t,loadCodec:r,root:n}){let o=async function*(){let y;try{y=await n.get(BA)}catch(P){if(P.code===IA){qi$1("No blocks in MFS");return}throw P}let k=S$1.decode(y);yield k,yield*Tn$1(k,t,r)}(),s=(0,sf.default)((0,Ts$1.default)(e.recursiveKeys(),({cid:y})=>y),e.indirectKeys(),(0,Ts$1.default)(e.directKeys(),({cid:y})=>y),o),w=new Set;for await(let y of(0,sf.default)(s,o))w.add(U$1.encode(y.multihash.bytes));return w}async function*kA({blockstore:e},t,r){let n=0,o=0;yield*(0,Jw.pipe)((0,Hw.default)((0,Ts$1.default)(r,async s=>async function(){n++;try{let w=U$1.encode(s.multihash.bytes);if(t.has(w))return null;try{await e.delete(s),o++}catch(y){return{err:new Error(`Could not delete block with CID ${s}: ${y.message}`)}}return{cid:s}}catch(w){let y=`Could delete block with CID ${s}`;return qi$1(y,w),{err:new Error(y+`: ${w.message}`)}}}),RA),s=>(0,Yw.default)(s,Boolean)),qi$1(`Marked set has ${t.size} unique blocks. Blockstore has ${n} blocks. Deleted ${o} blocks.`)}var ve$1=(0,Xw.default)("ipfs:repo"),FA=Number.MAX_SAFE_INTEGER,NA="repoAutoMigrate",uf=class{constructor(e,t,r,n){if(typeof e!="string")throw new Error("missing repo path");if(typeof t!="function")throw new Error("missing codec loader");this.options=Qg(Mm,n),this.closed=!0,this.path=e,this.root=r.root,this.datastore=r.datastore,this.keys=r.keys;let o=r.blocks,s=r.pins;this.pins=new xs$1({pinstore:s,blockstore:o,loadCodec:t});let w=Jm(this.pins,o);this.blocks=km(w),this.version=rm(this.root),this.config=gm(this.root),this.spec=vm(this.root),this.apiAddr=Em(this.root),this.gcLock=(0,tb.default)(e,{singleProcess:this.options.repoOwner!==!1}),this.gc=Qw({gcLock:this.gcLock,pins:this.pins,blockstore:this.blocks,root:this.root,loadCodec:t})}async init(e){ve$1("initializing at: %s",this.path),await this._openRoot(),await this.config.replace(LA(e)),await this.spec.set(MA(e)),await this.version.set(12)}async isInitialized(){if(!this.closed)return!0;try{return await this._openRoot(),await this._checkInitialized(),await this.root.close(),!0}catch{return!1}}async open(){if(!this.closed)throw(0,Ir$1.default)(new Error("repo is already open"),Zg);ve$1("opening at: %s",this.path);try{if(await this._openRoot(),await this._checkInitialized(),this._lockfile=await this._openLock(),ve$1("acquired repo.lock"),!await this.version.check(12))if(await this._isAutoMigrationEnabled())await this._migrate(12,{root:this.root,datastore:this.datastore,pins:this.pins.pinstore,blocks:this.pins.blockstore,keys:this.keys});else throw new Cr$1("Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.");ve$1("creating datastore"),await this.datastore.open(),ve$1("creating blocks"),await this.blocks.open(),ve$1("creating keystore"),await this.keys.open(),ve$1("creating pins"),await this.pins.pinstore.open(),this.closed=!1,ve$1("all opened")}catch(e){if(this._lockfile)try{await this._closeLock(),this._lockfile=null}catch(t){ve$1("error removing lock",t)}throw e}}async _openRoot(){try{await this.root.open()}catch(e){if(e.message!=="Already open")throw e}}async _openLock(){let e=await this.options.repoLock.lock(this.path);if(typeof e.close!="function")throw(0,Ir$1.default)(new Error("Locks must have a close method"),"ERR_NO_CLOSE_FUNCTION");return e}_closeLock(){return this._lockfile&&this._lockfile.close()}async _checkInitialized(){ve$1("init check");let e;try{[e]=await Promise.all([this.config.exists(),this.spec.exists(),this.version.exists()])}catch(t){throw t.code==="ERR_NOT_FOUND"?(0,Ir$1.default)(new Error("repo is not initialized yet"),Pi$1,{path:this.path}):t}if(!e)throw(0,Ir$1.default)(new Error("repo is not initialized yet"),Pi$1,{path:this.path})}async close(){if(this.closed)throw(0,Ir$1.default)(new Error("repo is already closed"),Xg);ve$1("closing at: %s",this.path);try{await this.apiAddr.delete()}catch(e){if(e.code!==Pi$1&&!e.message.startsWith("ENOENT"))throw e}await Promise.all([this.root,this.blocks,this.keys,this.datastore,this.pins.pinstore].map(e=>e&&e.close())),ve$1("unlocking"),this.closed=!0,await this._closeLock()}exists(){return this.version.exists()}async stat(){if(this.datastore&&this.keys){let[e,t,r,n,o]=await Promise.all([this._storageMaxStat(),this._blockStat(),this.version.get(),Zw(this.datastore),Zw(this.keys)]),s=t.size+n+o;return{repoPath:this.path,storageMax:e,version:r,numObjects:t.count,repoSize:s}}throw(0,Ir$1.default)(new Error("repo is not initialized yet"),Pi$1,{path:this.path})}async _isAutoMigrationEnabled(){if(this.options.autoMigrate!==void 0)return this.options.autoMigrate;let e;try{e=await this.config.get(NA)}catch(t){if(t.code===Oe$1.code)e=!0;else throw t}return e}async _migrate(e,t){return await this.version.get()>e?(ve$1(`reverting to version ${e}`),Mg(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress})):(ve$1(`migrating to version ${e}`),Lg(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress}))}async _storageMaxStat(){try{let e=await this.config.get("Datastore.StorageMax");return BigInt((0,eb.default)(e))}catch{return BigInt(FA)}}async _blockStat(){let e=BigInt(0),t=BigInt(0);if(this.blocks)for await(let{key:r,value:n}of this.blocks.query({}))e+=BigInt(1),t+=BigInt(n.byteLength),t+=BigInt(r.bytes.byteLength);return{count:e,size:t}}};async function Zw(e){let t=BigInt(0);for await(let r of e.query({}))t+=BigInt(r.value.byteLength),t+=BigInt(r.key.uint8Array().byteLength);return t}function rb(e,t,r,n){return new uf(e,t,r,n)}function LA(e){return e.Datastore=Object.assign({},jc,(0,cf.default)(e,"datastore")),e}function MA(e){let t={...jc.Spec,...(0,cf.default)(e,"Datastore.Spec")};return{type:t.type,mounts:t.mounts.map(r=>({mountpoint:r.mountpoint,type:r.child.type,path:r.child.path,shardFunc:r.child.shardFunc}))}}u();u();u();u();var nb="SHARDING",ib="_README";u();u();var sb=_$1(Is$1(),1),Rs$1=(e,t)=>async function*(){yield*(await(0,sb.default)(e)).sort(t)}(),ff=_$1(On$1(),1),Rr=_$1(Or(),1),lf=_$1(Ui(),1),Et$1=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,r){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(let{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async*getMany(e,t={}){for await(let r of e)yield this.get(r,t)}async*deleteMany(e,t={}){for await(let r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(r,n){e.push({key:r,value:n})},delete(r){t.push(r)},commit:async r=>{await(0,ff.default)(this.putMany(e,r)),e=[],await(0,ff.default)(this.deleteMany(t,r)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(e.prefix!=null&&(r=(0,Rr.default)(r,n=>n.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Rr.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>Rs$1(n,o),r)),e.offset!=null){let n=0;r=(0,Rr.default)(r,()=>n++>=e.offset)}return e.limit!=null&&(r=(0,lf.default)(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(e.prefix!=null&&(r=(0,Rr.default)(r,n=>n.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Rr.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>Rs$1(n,o),r)),e.offset!=null){let n=0;r=(0,Rr.default)(r,()=>n++>=e.offset)}return e.limit!=null&&(r=(0,lf.default)(r,e.limit)),r}};u();u();_$1(Mi$1(),1);_$1(fb(),1);u();new A(nb);new A(ib);u();_$1(Or(),1);_$1(Ui(),1);_$1(of(),1);u();var hb=_$1(We(),1);_$1(pb(),1);_$1(On$1(),1);(0,hb.default)("datastore:core:tiered");u();var co$1=_$1(Or(),1),n_=_$1(Mi$1(),1),Nl$1=_$1(Ui(),1),Ll$1=_$1(gb(),1),i_=_$1(r_(),1),fr$1=class extends Et$1{constructor(e,t){super(),this.path=e,this.opts=t,t&&t.db?(this.database=t.db,delete t.db):this.database=i_.default}_initDb(){return new Promise((e,t)=>{this.db=this.database(this.path,{...this.opts,valueEncoding:"binary",compression:!1},r=>{if(r)return t(r);e(this.db)})})}async open(){try{this.db?await this.db.open():this.db=await this._initDb()}catch(e){throw Me$1.dbOpenFailedError(e)}}async put(e,t){try{await this.db.put(e.toString(),t)}catch(r){throw Me$1.dbWriteFailedError(r)}}async get(e){let t;try{t=await this.db.get(e.toString())}catch(r){throw r.notFound?Me$1.notFoundError(r):Me$1.dbWriteFailedError(r)}return t}async has(e){try{await this.db.get(e.toString())}catch(t){if(t.notFound)return!1;throw t}return!0}async delete(e){try{await this.db.del(e.toString())}catch(t){throw Me$1.dbDeleteFailedError(t)}}close(){return this.db&&this.db.close()}batch(){let e=[];return{put:(t,r)=>{e.push({type:"put",key:t.toString(),value:r})},delete:t=>{e.push({type:"del",key:t.toString()})},commit:()=>this.db.batch(e)}}query(e){let t=this._query({values:!0,prefix:e.prefix});Array.isArray(e.filters)&&(t=e.filters.reduce((o,s)=>(0,co$1.default)(o,s),t)),Array.isArray(e.orders)&&(t=e.orders.reduce((o,s)=>(0,Ll$1.default)(o,s),t));let{offset:r,limit:n}=e;if(r){let o=0;t=(0,co$1.default)(t,()=>o++>=r)}return n&&(t=(0,Nl$1.default)(t,n)),t}queryKeys(e){let t=(0,n_.default)(this._query({values:!1,prefix:e.prefix}),({key:o})=>o);Array.isArray(e.filters)&&(t=e.filters.reduce((o,s)=>(0,co$1.default)(o,s),t)),Array.isArray(e.orders)&&(t=e.orders.reduce((o,s)=>(0,Ll$1.default)(o,s),t));let{offset:r,limit:n}=e;if(r){let o=0;t=(0,co$1.default)(t,()=>o++>=r)}return n&&(t=(0,Nl$1.default)(t,n)),t}_query(e){let t={keys:!0,keyAsBuffer:!0,values:e.values};if(e.prefix!=null){let r=e.prefix.toString();t.gte=r,t.lt=r+"\xFF"}return qO(this.db.iterator(t))}};function qO(e){return{[Symbol.asyncIterator](){return{next:()=>new Promise((t,r)=>{e.next((n,o,s)=>{if(n)return r(n);if(o==null)return e.end(w=>{if(w)return r(w);t({done:!0,value:void 0})});t({done:!1,value:{key:new A(o,!1),value:s}})})}),return:()=>new Promise((t,r)=>{e.end(n=>{if(n)return r(n);t({done:!0,value:void 0})})})}}}}u();var Ul$1=_$1(On$1(),1),$l$1=_$1(s_(),1);ge();ci$1();pt$1();ht$1();an();var c_=_$1(dt$1(),1);u();var jl$1=_$1(On$1(),1),Gr$1=_$1(Or(),1),ql$1=_$1(Ui(),1),u_=_$1(Is$1(),1),a_=(e,t)=>async function*(){yield*(await(0,u_.default)(e)).sort(t)}(),Ia$1=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,r){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(let{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async*getMany(e,t={}){for await(let r of e)yield this.get(r,t)}async*deleteMany(e,t={}){for await(let r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(r,n){e.push({key:r,value:n})},delete(r){t.push(r)},commit:async r=>{await(0,jl$1.default)(this.putMany(e,r)),e=[],await(0,jl$1.default)(this.deleteMany(t,r)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(e.prefix!=null&&(r=(0,Gr$1.default)(r,n=>n.key.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Gr$1.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>a_(n,o),r)),e.offset!=null){let n=0;r=(0,Gr$1.default)(r,()=>n++>=(e.offset||0))}return e.limit!=null&&(r=(0,ql$1.default)(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(e.prefix!=null&&(r=(0,Gr$1.default)(r,n=>n.toString().startsWith(e.prefix||""))),Array.isArray(e.filters)&&(r=e.filters.reduce((n,o)=>(0,Gr$1.default)(n,o),r)),Array.isArray(e.orders)&&(r=e.orders.reduce((n,o)=>a_(n,o),r)),e.offset!=null){let n=0;r=(0,Gr$1.default)(r,()=>n++>=e.offset)}return e.limit!=null&&(r=(0,ql$1.default)(r,e.limit)),r}};function ri(e){let t=S$1.asCID(e);if(!t)throw(0,c_.default)(new Error("Not a valid cid"),"ERR_INVALID_CID");return new A("/"+U$1.encode(t.multihash.bytes).slice(1).toUpperCase(),!1)}function lr$1(e){return S$1.createV1(ui$1,Ve(U$1.decode("b"+e.toString().slice(1).toLowerCase())))}function Kl$1(e){let t=e.substring(0,1);if(t==="/")return Kl$1(e.substring(1));let r;t.toLowerCase()==="b"?r=s=>U$1.decode(s.toLowerCase()).subarray(2):t.toLowerCase()==="c"?r=s=>Za.decode(s.toLowerCase()).subarray(2):t==="z"?r=s=>xe.decode(s).subarray(2):t==="Q"?r=s=>xe.decode("z"+s):r=s=>U$1.decode("b"+s.toLowerCase()).subarray(2);let n;for(let s=1;s<e.length;s++)try{n=r(e.substring(0,s))}catch(w){if(w.message!=="Unexpected end of data")throw w}let o="/C";return n&&(o=`/${U$1.encode(n).slice(1,-1).toUpperCase()||"C"}`),o}function UO(e){return{...e,prefix:e.prefix?Kl$1(e.prefix):void 0,filters:e.filters?e.filters.map(t=>r=>t({key:lr$1(r.key),value:r.value})):void 0,orders:e.orders?e.orders.map(t=>(r,n)=>t({key:lr$1(r.key),value:r.value},{key:lr$1(n.key),value:n.value})):void 0}}function $O(e){return{...e,prefix:e.prefix?Kl$1(e.prefix):void 0,filters:e.filters?e.filters.map(t=>r=>t(lr$1(r))):void 0,orders:e.orders?e.orders.map(t=>(r,n)=>t(lr$1(r),lr$1(n))):void 0}}var Ra$1=class extends Ia$1{constructor(e){super(),this.child=e}open(){return this.child.open()}close(){return this.child.close()}async*query(e,t){for await(let{key:r,value:n}of this.child.query(UO(e),t))yield{key:lr$1(r),value:n}}async*queryKeys(e,t){for await(let r of this.child.queryKeys($O(e),t))yield lr$1(r)}async get(e,t){return this.child.get(ri(e),t)}async*getMany(e,t){for await(let r of e)yield this.get(r,t)}async put(e,t,r){await this.child.put(ri(e),t,r)}async*putMany(e,t){let r=(0,$l$1.default)();(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)(async()=>{try{let n=this.child;await(0,Ul$1.default)(this.child.putMany(async function*(){for await(let o of e){let s=ri(o.key);await n.has(s,t)||(yield{key:s,value:o.value}),r.push(o)}}())),r.end()}catch(n){r.end(n)}}),yield*r}has(e,t){return this.child.has(ri(e),t)}delete(e,t){return this.child.delete(ri(e),t)}deleteMany(e,t){let r=(0,$l$1.default)();return(0,Ul$1.default)(this.child.deleteMany(async function*(){for await(let n of e)yield ri(n),r.push(n);r.end()}(),t)).catch(n=>{r.end(n)}),r}};function cF(e,t,r){let n=r.path||"ipfs";return rb(n,o=>t.getCodec(o),{root:new fr$1(n,{prefix:"",version:2}),blocks:new Ra$1(new fr$1(`${n}/blocks`,{prefix:"",version:2})),datastore:new fr$1(`${n}/datastore`,{prefix:"",version:2}),keys:new fr$1(`${n}/keys`,{prefix:"",version:2}),pins:new fr$1(`${n}/pins`,{prefix:"",version:2})},{autoMigrate:r.autoMigrate,onMigrationProgress:r.onMigrationProgress||e,repoLock:vs$1})}/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 *//*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 *//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *//*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Tc=Object.create,nr=Object.defineProperty,Ic=Object.getOwnPropertyDescriptor,Sc=Object.getOwnPropertyNames,Uc=Object.getPrototypeOf,Fc=Object.prototype.hasOwnProperty,F=(e,t)=>()=>(e&&(t=e(e=0)),t),S=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),M=(e,t)=>{for(var r in t)nr(e,r,{get:t[r],enumerable:!0})},No=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Sc(t))!Fc.call(e,o)&&o!==r&&nr(e,o,{get:()=>t[o],enumerable:!(n=Ic(t,o))||n.enumerable});return e},J=(e,t,r)=>(r=e!=null?Tc(Uc(e)):{},No(t||!e||!e.__esModule?nr(r,"default",{value:e,enumerable:!0}):r,e)),R=e=>No(nr({},"__esModule",{value:!0}),e),Po=S(e=>{a(),e.byteLength=k,e.toByteArray=V,e.fromByteArray=q;var t=[],r=[],n=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(s=0,w=o.length;s<w;++s)t[s]=o[s],r[o.charCodeAt(s)]=s;var s,w;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function y(L){var I=L.length;if(I%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ie=L.indexOf("=");ie===-1&&(ie=I);var he=ie===I?0:4-ie%4;return[ie,he]}function k(L){var I=y(L),ie=I[0],he=I[1];return(ie+he)*3/4-he}function P(L,I,ie){return(I+ie)*3/4-ie}function V(L){var I,ie=y(L),he=ie[0],_e=ie[1],Ie=new n(P(L,he,_e)),et=0,Wt=_e>0?he-4:he,ot;for(ot=0;ot<Wt;ot+=4)I=r[L.charCodeAt(ot)]<<18|r[L.charCodeAt(ot+1)]<<12|r[L.charCodeAt(ot+2)]<<6|r[L.charCodeAt(ot+3)],Ie[et++]=I>>16&255,Ie[et++]=I>>8&255,Ie[et++]=I&255;return _e===2&&(I=r[L.charCodeAt(ot)]<<2|r[L.charCodeAt(ot+1)]>>4,Ie[et++]=I&255),_e===1&&(I=r[L.charCodeAt(ot)]<<10|r[L.charCodeAt(ot+1)]<<4|r[L.charCodeAt(ot+2)]>>2,Ie[et++]=I>>8&255,Ie[et++]=I&255),Ie}function X(L){return t[L>>18&63]+t[L>>12&63]+t[L>>6&63]+t[L&63]}function we(L,I,ie){for(var he,_e=[],Ie=I;Ie<ie;Ie+=3)he=(L[Ie]<<16&16711680)+(L[Ie+1]<<8&65280)+(L[Ie+2]&255),_e.push(X(he));return _e.join("")}function q(L){for(var I,ie=L.length,he=ie%3,_e=[],Ie=16383,et=0,Wt=ie-he;et<Wt;et+=Ie)_e.push(we(L,et,et+Ie>Wt?Wt:et+Ie));return he===1?(I=L[ie-1],_e.push(t[I>>2]+t[I<<4&63]+"==")):he===2&&(I=(L[ie-2]<<8)+L[ie-1],_e.push(t[I>>10]+t[I>>4&63]+t[I<<2&63]+"=")),_e.join("")}}),Ro=S(e=>{a(),e.read=function(t,r,n,o,s){var w,y,k=s*8-o-1,P=(1<<k)-1,V=P>>1,X=-7,we=n?s-1:0,q=n?-1:1,L=t[r+we];for(we+=q,w=L&(1<<-X)-1,L>>=-X,X+=k;X>0;w=w*256+t[r+we],we+=q,X-=8);for(y=w&(1<<-X)-1,w>>=-X,X+=o;X>0;y=y*256+t[r+we],we+=q,X-=8);if(w===0)w=1-V;else{if(w===P)return y?NaN:(L?-1:1)*(1/0);y=y+Math.pow(2,o),w=w-V}return(L?-1:1)*y*Math.pow(2,w-o)},e.write=function(t,r,n,o,s,w){var y,k,P,V=w*8-s-1,X=(1<<V)-1,we=X>>1,q=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=o?0:w-1,I=o?1:-1,ie=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(k=isNaN(r)?1:0,y=X):(y=Math.floor(Math.log(r)/Math.LN2),r*(P=Math.pow(2,-y))<1&&(y--,P*=2),y+we>=1?r+=q/P:r+=q*Math.pow(2,1-we),r*P>=2&&(y++,P/=2),y+we>=X?(k=0,y=X):y+we>=1?(k=(r*P-1)*Math.pow(2,s),y=y+we):(k=r*Math.pow(2,we-1)*Math.pow(2,s),y=0));s>=8;t[n+L]=k&255,L+=I,k/=256,s-=8);for(y=y<<s|k,V+=s;V>0;t[n+L]=y&255,L+=I,y/=256,V-=8);t[n+L-I]|=ie*128}}),ti=S(e=>{a();var t=Po(),r=Ro(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=y,e.SlowBuffer=_e,e.INSPECT_MAX_BYTES=50;var o=2147483647;e.kMaxLength=o,y.TYPED_ARRAY_SUPPORT=s(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{let i=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(i,g),i.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function w(i){if(i>o)throw new RangeError('The value "'+i+'" is invalid for option "size"');let g=new Uint8Array(i);return Object.setPrototypeOf(g,y.prototype),g}function y(i,g,E){if(typeof i=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return X(i)}return k(i,g,E)}y.poolSize=8192;function k(i,g,E){if(typeof i=="string")return we(i,g);if(ArrayBuffer.isView(i))return L(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(la(i,ArrayBuffer)||i&&la(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(la(i,SharedArrayBuffer)||i&&la(i.buffer,SharedArrayBuffer)))return I(i,g,E);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let Ee=i.valueOf&&i.valueOf();if(Ee!=null&&Ee!==i)return y.from(Ee,g,E);let je=ie(i);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return y.from(i[Symbol.toPrimitive]("string"),g,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}y.from=function(i,g,E){return k(i,g,E)},Object.setPrototypeOf(y.prototype,Uint8Array.prototype),Object.setPrototypeOf(y,Uint8Array);function P(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function V(i,g,E){return P(i),i<=0?w(i):g!==void 0?typeof E=="string"?w(i).fill(g,E):w(i).fill(g):w(i)}y.alloc=function(i,g,E){return V(i,g,E)};function X(i){return P(i),w(i<0?0:he(i)|0)}y.allocUnsafe=function(i){return X(i)},y.allocUnsafeSlow=function(i){return X(i)};function we(i,g){if((typeof g!="string"||g==="")&&(g="utf8"),!y.isEncoding(g))throw new TypeError("Unknown encoding: "+g);let E=Ie(i,g)|0,Ee=w(E),je=Ee.write(i,g);return je!==E&&(Ee=Ee.slice(0,je)),Ee}function q(i){let g=i.length<0?0:he(i.length)|0,E=w(g);for(let Ee=0;Ee<g;Ee+=1)E[Ee]=i[Ee]&255;return E}function L(i){if(la(i,Uint8Array)){let g=new Uint8Array(i);return I(g.buffer,g.byteOffset,g.byteLength)}return q(i)}function I(i,g,E){if(g<0||i.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<g+(E||0))throw new RangeError('"length" is outside of buffer bounds');let Ee;return g===void 0&&E===void 0?Ee=new Uint8Array(i):E===void 0?Ee=new Uint8Array(i,g):Ee=new Uint8Array(i,g,E),Object.setPrototypeOf(Ee,y.prototype),Ee}function ie(i){if(y.isBuffer(i)){let g=he(i.length)|0,E=w(g);return E.length===0||i.copy(E,0,0,g),E}if(i.length!==void 0)return typeof i.length!="number"||Ea(i.length)?w(0):q(i);if(i.type==="Buffer"&&Array.isArray(i.data))return q(i.data)}function he(i){if(i>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return i|0}function _e(i){return+i!=i&&(i=0),y.alloc(+i)}y.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==y.prototype},y.compare=function(i,g){if(la(i,Uint8Array)&&(i=y.from(i,i.offset,i.byteLength)),la(g,Uint8Array)&&(g=y.from(g,g.offset,g.byteLength)),!y.isBuffer(i)||!y.isBuffer(g))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===g)return 0;let E=i.length,Ee=g.length;for(let je=0,it=Math.min(E,Ee);je<it;++je)if(i[je]!==g[je]){E=i[je],Ee=g[je];break}return E<Ee?-1:Ee<E?1:0},y.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(i,g){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return y.alloc(0);let E;if(g===void 0)for(g=0,E=0;E<i.length;++E)g+=i[E].length;let Ee=y.allocUnsafe(g),je=0;for(E=0;E<i.length;++E){let it=i[E];if(la(it,Uint8Array))je+it.length>Ee.length?(y.isBuffer(it)||(it=y.from(it)),it.copy(Ee,je)):Uint8Array.prototype.set.call(Ee,it,je);else if(y.isBuffer(it))it.copy(Ee,je);else throw new TypeError('"list" argument must be an Array of Buffers');je+=it.length}return Ee};function Ie(i,g){if(y.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||la(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);let E=i.length,Ee=arguments.length>2&&arguments[2]===!0;if(!Ee&&E===0)return 0;let je=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return aa(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return ba(i).length;default:if(je)return Ee?-1:aa(i).length;g=(""+g).toLowerCase(),je=!0}}y.byteLength=Ie;function et(i,g,E){let Ee=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,g>>>=0,E<=g))return"";for(i||(i="utf8");;)switch(i){case"hex":return Js(this,g,E);case"utf8":case"utf-8":return ao(this,g,E);case"ascii":return ia(this,g,E);case"latin1":case"binary":return Hr(this,g,E);case"base64":return Qr(this,g,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ya(this,g,E);default:if(Ee)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),Ee=!0}}y.prototype._isBuffer=!0;function Wt(i,g,E){let Ee=i[g];i[g]=i[E],i[E]=Ee}y.prototype.swap16=function(){let i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let g=0;g<i;g+=2)Wt(this,g,g+1);return this},y.prototype.swap32=function(){let i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let g=0;g<i;g+=4)Wt(this,g,g+3),Wt(this,g+1,g+2);return this},y.prototype.swap64=function(){let i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let g=0;g<i;g+=8)Wt(this,g,g+7),Wt(this,g+1,g+6),Wt(this,g+2,g+5),Wt(this,g+3,g+4);return this},y.prototype.toString=function(){let i=this.length;return i===0?"":arguments.length===0?ao(this,0,i):et.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(i){if(!y.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:y.compare(this,i)===0},y.prototype.inspect=function(){let i="",g=e.INSPECT_MAX_BYTES;return i=this.toString("hex",0,g).replace(/(.{2})/g,"$1 ").trim(),this.length>g&&(i+=" ... "),"<Buffer "+i+">"},n&&(y.prototype[n]=y.prototype.inspect),y.prototype.compare=function(i,g,E,Ee,je){if(la(i,Uint8Array)&&(i=y.from(i,i.offset,i.byteLength)),!y.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(g===void 0&&(g=0),E===void 0&&(E=i?i.length:0),Ee===void 0&&(Ee=0),je===void 0&&(je=this.length),g<0||E>i.length||Ee<0||je>this.length)throw new RangeError("out of range index");if(Ee>=je&&g>=E)return 0;if(Ee>=je)return-1;if(g>=E)return 1;if(g>>>=0,E>>>=0,Ee>>>=0,je>>>=0,this===i)return 0;let it=je-Ee,tr=E-g,Xr=Math.min(it,tr),Ei=this.slice(Ee,je),tn=i.slice(g,E);for(let Zr=0;Zr<Xr;++Zr)if(Ei[Zr]!==tn[Zr]){it=Ei[Zr],tr=tn[Zr];break}return it<tr?-1:tr<it?1:0};function ot(i,g,E,Ee,je){if(i.length===0)return-1;if(typeof E=="string"?(Ee=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,Ea(E)&&(E=je?0:i.length-1),E<0&&(E=i.length+E),E>=i.length){if(je)return-1;E=i.length-1}else if(E<0)if(je)E=0;else return-1;if(typeof g=="string"&&(g=y.from(g,Ee)),y.isBuffer(g))return g.length===0?-1:at(i,g,E,Ee,je);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(i,g,E):Uint8Array.prototype.lastIndexOf.call(i,g,E):at(i,[g],E,Ee,je);throw new TypeError("val must be string, number or Buffer")}function at(i,g,E,Ee,je){let it=1,tr=i.length,Xr=g.length;if(Ee!==void 0&&(Ee=String(Ee).toLowerCase(),Ee==="ucs2"||Ee==="ucs-2"||Ee==="utf16le"||Ee==="utf-16le")){if(i.length<2||g.length<2)return-1;it=2,tr/=2,Xr/=2,E/=2}function Ei(Zr,ei){return it===1?Zr[ei]:Zr.readUInt16BE(ei*it)}let tn;if(je){let Zr=-1;for(tn=E;tn<tr;tn++)if(Ei(i,tn)===Ei(g,Zr===-1?0:tn-Zr)){if(Zr===-1&&(Zr=tn),tn-Zr+1===Xr)return Zr*it}else Zr!==-1&&(tn-=tn-Zr),Zr=-1}else for(E+Xr>tr&&(E=tr-Xr),tn=E;tn>=0;tn--){let Zr=!0;for(let ei=0;ei<Xr;ei++)if(Ei(i,tn+ei)!==Ei(g,ei)){Zr=!1;break}if(Zr)return tn}return-1}y.prototype.includes=function(i,g,E){return this.indexOf(i,g,E)!==-1},y.prototype.indexOf=function(i,g,E){return ot(this,i,g,E,!0)},y.prototype.lastIndexOf=function(i,g,E){return ot(this,i,g,E,!1)};function st(i,g,E,Ee){E=Number(E)||0;let je=i.length-E;Ee?(Ee=Number(Ee),Ee>je&&(Ee=je)):Ee=je;let it=g.length;Ee>it/2&&(Ee=it/2);let tr;for(tr=0;tr<Ee;++tr){let Xr=parseInt(g.substr(tr*2,2),16);if(Ea(Xr))return tr;i[E+tr]=Xr}return tr}function Gt(i,g,E,Ee){return ga(aa(g,i.length-E),i,E,Ee)}function vr(i,g,E,Ee){return ga(Gs(g),i,E,Ee)}function sr(i,g,E,Ee){return ga(ba(g),i,E,Ee)}function Kr(i,g,E,Ee){return ga(Pr(g,i.length-E),i,E,Ee)}y.prototype.write=function(i,g,E,Ee){if(g===void 0)Ee="utf8",E=this.length,g=0;else if(E===void 0&&typeof g=="string")Ee=g,E=this.length,g=0;else if(isFinite(g))g=g>>>0,isFinite(E)?(E=E>>>0,Ee===void 0&&(Ee="utf8")):(Ee=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let je=this.length-g;if((E===void 0||E>je)&&(E=je),i.length>0&&(E<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let it=!1;for(;;)switch(Ee){case"hex":return st(this,i,g,E);case"utf8":case"utf-8":return Gt(this,i,g,E);case"ascii":case"latin1":case"binary":return vr(this,i,g,E);case"base64":return sr(this,i,g,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kr(this,i,g,E);default:if(it)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),it=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Qr(i,g,E){return g===0&&E===i.length?t.fromByteArray(i):t.fromByteArray(i.slice(g,E))}function ao(i,g,E){E=Math.min(i.length,E);let Ee=[],je=g;for(;je<E;){let it=i[je],tr=null,Xr=it>239?4:it>223?3:it>191?2:1;if(je+Xr<=E){let Ei,tn,Zr,ei;switch(Xr){case 1:it<128&&(tr=it);break;case 2:Ei=i[je+1],(Ei&192)===128&&(ei=(it&31)<<6|Ei&63,ei>127&&(tr=ei));break;case 3:Ei=i[je+1],tn=i[je+2],(Ei&192)===128&&(tn&192)===128&&(ei=(it&15)<<12|(Ei&63)<<6|tn&63,ei>2047&&(ei<55296||ei>57343)&&(tr=ei));break;case 4:Ei=i[je+1],tn=i[je+2],Zr=i[je+3],(Ei&192)===128&&(tn&192)===128&&(Zr&192)===128&&(ei=(it&15)<<18|(Ei&63)<<12|(tn&63)<<6|Zr&63,ei>65535&&ei<1114112&&(tr=ei))}}tr===null?(tr=65533,Xr=1):tr>65535&&(tr-=65536,Ee.push(tr>>>10&1023|55296),tr=56320|tr&1023),Ee.push(tr),je+=Xr}return Ks(Ee)}var ni=4096;function Ks(i){let g=i.length;if(g<=ni)return String.fromCharCode.apply(String,i);let E="",Ee=0;for(;Ee<g;)E+=String.fromCharCode.apply(String,i.slice(Ee,Ee+=ni));return E}function ia(i,g,E){let Ee="";E=Math.min(i.length,E);for(let je=g;je<E;++je)Ee+=String.fromCharCode(i[je]&127);return Ee}function Hr(i,g,E){let Ee="";E=Math.min(i.length,E);for(let je=g;je<E;++je)Ee+=String.fromCharCode(i[je]);return Ee}function Js(i,g,E){let Ee=i.length;(!g||g<0)&&(g=0),(!E||E<0||E>Ee)&&(E=Ee);let je="";for(let it=g;it<E;++it)je+=ja[i[it]];return je}function ya(i,g,E){let Ee=i.slice(g,E),je="";for(let it=0;it<Ee.length-1;it+=2)je+=String.fromCharCode(Ee[it]+Ee[it+1]*256);return je}y.prototype.slice=function(i,g){let E=this.length;i=~~i,g=g===void 0?E:~~g,i<0?(i+=E,i<0&&(i=0)):i>E&&(i=E),g<0?(g+=E,g<0&&(g=0)):g>E&&(g=E),g<i&&(g=i);let Ee=this.subarray(i,g);return Object.setPrototypeOf(Ee,y.prototype),Ee};function en(i,g,E){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+g>E)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=this[i],je=1,it=0;for(;++it<g&&(je*=256);)Ee+=this[i+it]*je;return Ee},y.prototype.readUintBE=y.prototype.readUIntBE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=this[i+--g],je=1;for(;g>0&&(je*=256);)Ee+=this[i+--g]*je;return Ee},y.prototype.readUint8=y.prototype.readUInt8=function(i,g){return i=i>>>0,g||en(i,1,this.length),this[i]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(i,g){return i=i>>>0,g||en(i,2,this.length),this[i]|this[i+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(i,g){return i=i>>>0,g||en(i,2,this.length),this[i]<<8|this[i+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(i,g){return i=i>>>0,g||en(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(i,g){return i=i>>>0,g||en(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},y.prototype.readBigUInt64LE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=g+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,je=this[++i]+this[++i]*2**8+this[++i]*2**16+E*2**24;return BigInt(Ee)+(BigInt(je)<<BigInt(32))}),y.prototype.readBigUInt64BE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=g*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],je=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+E;return(BigInt(Ee)<<BigInt(32))+BigInt(je)}),y.prototype.readIntLE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=this[i],je=1,it=0;for(;++it<g&&(je*=256);)Ee+=this[i+it]*je;return je*=128,Ee>=je&&(Ee-=Math.pow(2,8*g)),Ee},y.prototype.readIntBE=function(i,g,E){i=i>>>0,g=g>>>0,E||en(i,g,this.length);let Ee=g,je=1,it=this[i+--Ee];for(;Ee>0&&(je*=256);)it+=this[i+--Ee]*je;return je*=128,it>=je&&(it-=Math.pow(2,8*g)),it},y.prototype.readInt8=function(i,g){return i=i>>>0,g||en(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},y.prototype.readInt16LE=function(i,g){i=i>>>0,g||en(i,2,this.length);let E=this[i]|this[i+1]<<8;return E&32768?E|4294901760:E},y.prototype.readInt16BE=function(i,g){i=i>>>0,g||en(i,2,this.length);let E=this[i+1]|this[i]<<8;return E&32768?E|4294901760:E},y.prototype.readInt32LE=function(i,g){return i=i>>>0,g||en(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},y.prototype.readInt32BE=function(i,g){return i=i>>>0,g||en(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},y.prototype.readBigInt64LE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(E<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(g+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),y.prototype.readBigInt64BE=ha(function(i){i=i>>>0,Qt(i,"offset");let g=this[i],E=this[i+7];(g===void 0||E===void 0)&&Xt(i,this.length-8);let Ee=(g<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+E)}),y.prototype.readFloatLE=function(i,g){return i=i>>>0,g||en(i,4,this.length),r.read(this,i,!0,23,4)},y.prototype.readFloatBE=function(i,g){return i=i>>>0,g||en(i,4,this.length),r.read(this,i,!1,23,4)},y.prototype.readDoubleLE=function(i,g){return i=i>>>0,g||en(i,8,this.length),r.read(this,i,!0,52,8)},y.prototype.readDoubleBE=function(i,g){return i=i>>>0,g||en(i,8,this.length),r.read(this,i,!1,52,8)};function rr(i,g,E,Ee,je,it){if(!y.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>je||g<it)throw new RangeError('"value" argument is out of bounds');if(E+Ee>i.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(i,g,E,Ee){if(i=+i,g=g>>>0,E=E>>>0,!Ee){let tr=Math.pow(2,8*E)-1;rr(this,i,g,E,tr,0)}let je=1,it=0;for(this[g]=i&255;++it<E&&(je*=256);)this[g+it]=i/je&255;return g+E},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(i,g,E,Ee){if(i=+i,g=g>>>0,E=E>>>0,!Ee){let tr=Math.pow(2,8*E)-1;rr(this,i,g,E,tr,0)}let je=E-1,it=1;for(this[g+je]=i&255;--je>=0&&(it*=256);)this[g+je]=i/it&255;return g+E},y.prototype.writeUint8=y.prototype.writeUInt8=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,1,255,0),this[g]=i&255,g+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,65535,0),this[g]=i&255,this[g+1]=i>>>8,g+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,65535,0),this[g]=i>>>8,this[g+1]=i&255,g+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,4294967295,0),this[g+3]=i>>>24,this[g+2]=i>>>16,this[g+1]=i>>>8,this[g]=i&255,g+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,4294967295,0),this[g]=i>>>24,this[g+1]=i>>>16,this[g+2]=i>>>8,this[g+3]=i&255,g+4};function Fr(i,g,E,Ee,je){Ii(g,Ee,je,i,E,7);let it=Number(g&BigInt(4294967295));i[E++]=it,it=it>>8,i[E++]=it,it=it>>8,i[E++]=it,it=it>>8,i[E++]=it;let tr=Number(g>>BigInt(32)&BigInt(4294967295));return i[E++]=tr,tr=tr>>8,i[E++]=tr,tr=tr>>8,i[E++]=tr,tr=tr>>8,i[E++]=tr,E}function qr(i,g,E,Ee,je){Ii(g,Ee,je,i,E,7);let it=Number(g&BigInt(4294967295));i[E+7]=it,it=it>>8,i[E+6]=it,it=it>>8,i[E+5]=it,it=it>>8,i[E+4]=it;let tr=Number(g>>BigInt(32)&BigInt(4294967295));return i[E+3]=tr,tr=tr>>8,i[E+2]=tr,tr=tr>>8,i[E+1]=tr,tr=tr>>8,i[E]=tr,E+8}y.prototype.writeBigUInt64LE=ha(function(i,g=0){return Fr(this,i,g,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=ha(function(i,g=0){return qr(this,i,g,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(i,g,E,Ee){if(i=+i,g=g>>>0,!Ee){let Xr=Math.pow(2,8*E-1);rr(this,i,g,E,Xr-1,-Xr)}let je=0,it=1,tr=0;for(this[g]=i&255;++je<E&&(it*=256);)i<0&&tr===0&&this[g+je-1]!==0&&(tr=1),this[g+je]=(i/it>>0)-tr&255;return g+E},y.prototype.writeIntBE=function(i,g,E,Ee){if(i=+i,g=g>>>0,!Ee){let Xr=Math.pow(2,8*E-1);rr(this,i,g,E,Xr-1,-Xr)}let je=E-1,it=1,tr=0;for(this[g+je]=i&255;--je>=0&&(it*=256);)i<0&&tr===0&&this[g+je+1]!==0&&(tr=1),this[g+je]=(i/it>>0)-tr&255;return g+E},y.prototype.writeInt8=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,1,127,-128),i<0&&(i=255+i+1),this[g]=i&255,g+1},y.prototype.writeInt16LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,32767,-32768),this[g]=i&255,this[g+1]=i>>>8,g+2},y.prototype.writeInt16BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,2,32767,-32768),this[g]=i>>>8,this[g+1]=i&255,g+2},y.prototype.writeInt32LE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,2147483647,-2147483648),this[g]=i&255,this[g+1]=i>>>8,this[g+2]=i>>>16,this[g+3]=i>>>24,g+4},y.prototype.writeInt32BE=function(i,g,E){return i=+i,g=g>>>0,E||rr(this,i,g,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[g]=i>>>24,this[g+1]=i>>>16,this[g+2]=i>>>8,this[g+3]=i&255,g+4},y.prototype.writeBigInt64LE=ha(function(i,g=0){return Fr(this,i,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=ha(function(i,g=0){return qr(this,i,g,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function yo(i,g,E,Ee,je,it){if(E+Ee>i.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function Ys(i,g,E,Ee,je){return g=+g,E=E>>>0,je||yo(i,g,E,4),r.write(i,g,E,Ee,23,4),E+4}y.prototype.writeFloatLE=function(i,g,E){return Ys(this,i,g,!0,E)},y.prototype.writeFloatBE=function(i,g,E){return Ys(this,i,g,!1,E)};function Qs(i,g,E,Ee,je){return g=+g,E=E>>>0,je||yo(i,g,E,8),r.write(i,g,E,Ee,52,8),E+8}y.prototype.writeDoubleLE=function(i,g,E){return Qs(this,i,g,!0,E)},y.prototype.writeDoubleBE=function(i,g,E){return Qs(this,i,g,!1,E)},y.prototype.copy=function(i,g,E,Ee){if(!y.isBuffer(i))throw new TypeError("argument should be a Buffer");if(E||(E=0),!Ee&&Ee!==0&&(Ee=this.length),g>=i.length&&(g=i.length),g||(g=0),Ee>0&&Ee<E&&(Ee=E),Ee===E||i.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),i.length-g<Ee-E&&(Ee=i.length-g+E);let je=Ee-E;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(g,E,Ee):Uint8Array.prototype.set.call(i,this.subarray(E,Ee),g),je},y.prototype.fill=function(i,g,E,Ee){if(typeof i=="string"){if(typeof g=="string"?(Ee=g,g=0,E=this.length):typeof E=="string"&&(Ee=E,E=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!y.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(i.length===1){let it=i.charCodeAt(0);(Ee==="utf8"&&it<128||Ee==="latin1")&&(i=it)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(g<0||this.length<g||this.length<E)throw new RangeError("Out of range index");if(E<=g)return this;g=g>>>0,E=E===void 0?this.length:E>>>0,i||(i=0);let je;if(typeof i=="number")for(je=g;je<E;++je)this[je]=i;else{let it=y.isBuffer(i)?i:y.from(i,Ee),tr=it.length;if(tr===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(je=0;je<E-g;++je)this[je+g]=it[je%tr]}return this};var ir={};function ar(i,g,E){ir[i]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${i}]`,this.stack,delete this.name}get code(){return i}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${i}]: ${this.message}`}}}ar("ERR_BUFFER_OUT_OF_BOUNDS",function(i){return i?`${i} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ar("ERR_INVALID_ARG_TYPE",function(i,g){return`The "${i}" argument must be of type number. Received type ${typeof g}`},TypeError),ar("ERR_OUT_OF_RANGE",function(i,g,E){let Ee=`The value of "${i}" is out of range.`,je=E;return Number.isInteger(E)&&Math.abs(E)>2**32?je=zr(String(E)):typeof E=="bigint"&&(je=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(je=zr(je)),je+="n"),Ee+=` It must be ${g}. Received ${je}`,Ee},RangeError);function zr(i){let g="",E=i.length,Ee=i[0]==="-"?1:0;for(;E>=Ee+4;E-=3)g=`_${i.slice(E-3,E)}${g}`;return`${i.slice(0,E)}${g}`}function wo(i,g,E){Qt(g,"offset"),(i[g]===void 0||i[g+E]===void 0)&&Xt(g,i.length-(E+1))}function Ii(i,g,E,Ee,je,it){if(i>E||i<g){let tr=typeof g=="bigint"?"n":"",Xr;throw it>3?g===0||g===BigInt(0)?Xr=`>= 0${tr} and < 2${tr} ** ${(it+1)*8}${tr}`:Xr=`>= -(2${tr} ** ${(it+1)*8-1}${tr}) and < 2 ** ${(it+1)*8-1}${tr}`:Xr=`>= ${g}${tr} and <= ${E}${tr}`,new ir.ERR_OUT_OF_RANGE("value",Xr,i)}wo(Ee,je,it)}function Qt(i,g){if(typeof i!="number")throw new ir.ERR_INVALID_ARG_TYPE(g,"number",i)}function Xt(i,g,E){throw Math.floor(i)!==i?(Qt(i,E),new ir.ERR_OUT_OF_RANGE(E||"offset","an integer",i)):g<0?new ir.ERR_BUFFER_OUT_OF_BOUNDS:new ir.ERR_OUT_OF_RANGE(E||"offset",`>= ${E?1:0} and <= ${g}`,i)}var Yr=/[^+/0-9A-Za-z-_]/g;function rn(i){if(i=i.split("=")[0],i=i.trim().replace(Yr,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function aa(i,g){g=g||1/0;let E,Ee=i.length,je=null,it=[];for(let tr=0;tr<Ee;++tr){if(E=i.charCodeAt(tr),E>55295&&E<57344){if(!je){if(E>56319){(g-=3)>-1&&it.push(239,191,189);continue}else if(tr+1===Ee){(g-=3)>-1&&it.push(239,191,189);continue}je=E;continue}if(E<56320){(g-=3)>-1&&it.push(239,191,189),je=E;continue}E=(je-55296<<10|E-56320)+65536}else je&&(g-=3)>-1&&it.push(239,191,189);if(je=null,E<128){if((g-=1)<0)break;it.push(E)}else if(E<2048){if((g-=2)<0)break;it.push(E>>6|192,E&63|128)}else if(E<65536){if((g-=3)<0)break;it.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((g-=4)<0)break;it.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return it}function Gs(i){let g=[];for(let E=0;E<i.length;++E)g.push(i.charCodeAt(E)&255);return g}function Pr(i,g){let E,Ee,je,it=[];for(let tr=0;tr<i.length&&!((g-=2)<0);++tr)E=i.charCodeAt(tr),Ee=E>>8,je=E%256,it.push(je),it.push(Ee);return it}function ba(i){return t.toByteArray(rn(i))}function ga(i,g,E,Ee){let je;for(je=0;je<Ee&&!(je+E>=g.length||je>=i.length);++je)g[je+E]=i[je];return je}function la(i,g){return i instanceof g||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===g.name}function Ea(i){return i!==i}var ja=function(){let i="0123456789abcdef",g=new Array(256);for(let E=0;E<16;++E){let Ee=E*16;for(let je=0;je<16;++je)g[Ee+je]=i[E]+i[je]}return g}();function ha(i){return typeof BigInt>"u"?Ca:i}function Ca(){throw new Error("BigInt not supported")}}),si=S((e,t)=>{a();var r=t.exports={},n,o;function s(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?o=clearTimeout:o=w}catch{o=w}})();function y(he){if(n===setTimeout)return setTimeout(he,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(he,0);try{return n(he,0)}catch{try{return n.call(null,he,0)}catch{return n.call(this,he,0)}}}function k(he){if(o===clearTimeout)return clearTimeout(he);if((o===w||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(he);try{return o(he)}catch{try{return o.call(null,he)}catch{return o.call(this,he)}}}var P=[],V=!1,X,we=-1;function q(){!V||!X||(V=!1,X.length?P=X.concat(P):we=-1,P.length&&L())}function L(){if(!V){var he=y(q);V=!0;for(var _e=P.length;_e;){for(X=P,P=[];++we<_e;)X&&X[we].run();we=-1,_e=P.length}X=null,V=!1,k(he)}}r.nextTick=function(he){var _e=new Array(arguments.length-1);if(arguments.length>1)for(var Ie=1;Ie<arguments.length;Ie++)_e[Ie-1]=arguments[Ie];P.push(new I(he,_e)),P.length===1&&!V&&y(L)};function I(he,_e){this.fun=he,this.array=_e}I.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function ie(){}r.on=ie,r.addListener=ie,r.once=ie,r.off=ie,r.removeListener=ie,r.removeAllListeners=ie,r.emit=ie,r.prependListener=ie,r.prependOnceListener=ie,r.listeners=function(he){return[]},r.binding=function(he){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(he){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),p,d,a=F(()=>{ti().Buffer,p=si(),d=globalThis,globalThis&&globalThis.process&&globalThis.process.env&&(globalThis.process.env.LIBP2P_FORCE_PNET=!1)});function ci(e,t,r){t=t||[],r=r||0;for(var n=r;e>=mf;)t[r++]=e&255|ai,e/=128;for(;e&pf;)t[r++]=e&255|ai,e>>>=7;return t[r]=e|0,ci.bytes=r-n+1,t}function un(e,n){var r=0,n=n||0,o=0,s=n,w,y=e.length;do{if(s>=y)throw un.bytes=0,new RangeError("Could not decode varint");w=e[s++],r+=o<28?(w&ui)<<o:(w&ui)*Math.pow(2,o),o+=7}while(w>=wf);return un.bytes=s-n,r}var df,ai,hf,pf,mf,yf,wf,ui,gf,Df,bf,Ef,xf,Cf,Bf,Af,Tf,If,Sf,Uf,Lt,fi=F(()=>{a(),df=ci,ai=128,hf=127,pf=~hf,mf=Math.pow(2,31),yf=un,wf=128,ui=127,gf=Math.pow(2,7),Df=Math.pow(2,14),bf=Math.pow(2,21),Ef=Math.pow(2,28),xf=Math.pow(2,35),Cf=Math.pow(2,42),Bf=Math.pow(2,49),Af=Math.pow(2,56),Tf=Math.pow(2,63),If=function(e){return e<gf?1:e<Df?2:e<bf?3:e<Ef?4:e<xf?5:e<Cf?6:e<Bf?7:e<Af?8:e<Tf?9:10},Sf={encode:df,decode:yf,encodingLength:If},Uf=Sf,Lt=Uf}),Pt,ut,ct,cr=F(()=>{a(),fi(),Pt=e=>[Lt.decode(e),Lt.decode.bytes],ut=(e,t,r=0)=>(Lt.encode(e,t,r),t),ct=e=>Lt.encodingLength(e)}),li,Se,di,hi,Ne=F(()=>{a(),li=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Se=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},di=e=>new TextEncoder().encode(e),hi=e=>new TextDecoder().decode(e)}),Ue={};M(Ue,{Digest:()=>Xe,create:()=>$e,decode:()=>ft,equals:()=>fn});var $e,ft,fn,Xe,Le=F(()=>{a(),Ne(),cr(),$e=(e,t)=>{let r=t.byteLength,n=ct(e),o=n+ct(r),s=new Uint8Array(o+r);return ut(e,s,0),ut(r,s,n),s.set(t,o),new Xe(e,r,t,s)},ft=e=>{let t=Se(e),[r,n]=Pt(t),[o,s]=Pt(t.subarray(n)),w=t.subarray(n+s);if(w.byteLength!==o)throw new Error("Incorrect length");return new Xe(r,o,w,t)},fn=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&li(e.bytes,t.bytes),Xe=class{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}});function Ff(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var s=e.charAt(o),w=s.charCodeAt(0);if(r[w]!==255)throw new TypeError(s+" is ambiguous");r[w]=o}var y=e.length,k=e.charAt(0),P=Math.log(y)/Math.log(256),V=Math.log(256)/Math.log(y);function X(L){if(L instanceof Uint8Array||(ArrayBuffer.isView(L)?L=new Uint8Array(L.buffer,L.byteOffset,L.byteLength):Array.isArray(L)&&(L=Uint8Array.from(L))),!(L instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(L.length===0)return"";for(var I=0,ie=0,he=0,_e=L.length;he!==_e&&L[he]===0;)he++,I++;for(var Ie=(_e-he)*V+1>>>0,et=new Uint8Array(Ie);he!==_e;){for(var Wt=L[he],ot=0,at=Ie-1;(Wt!==0||ot<ie)&&at!==-1;at--,ot++)Wt+=256*et[at]>>>0,et[at]=Wt%y>>>0,Wt=Wt/y>>>0;if(Wt!==0)throw new Error("Non-zero carry");ie=ot,he++}for(var st=Ie-ie;st!==Ie&&et[st]===0;)st++;for(var Gt=k.repeat(I);st<Ie;++st)Gt+=e.charAt(et[st]);return Gt}function we(L){if(typeof L!="string")throw new TypeError("Expected String");if(L.length===0)return new Uint8Array;var I=0;if(L[I]!==" "){for(var ie=0,he=0;L[I]===k;)ie++,I++;for(var _e=(L.length-I)*P+1>>>0,Ie=new Uint8Array(_e);L[I];){var et=r[L.charCodeAt(I)];if(et===255)return;for(var Wt=0,ot=_e-1;(et!==0||Wt<he)&&ot!==-1;ot--,Wt++)et+=y*Ie[ot]>>>0,Ie[ot]=et%256>>>0,et=et/256>>>0;if(et!==0)throw new Error("Non-zero carry");he=Wt,I++}if(L[I]!==" "){for(var at=_e-he;at!==_e&&Ie[at]===0;)at++;for(var st=new Uint8Array(ie+(_e-at)),Gt=ie;at!==_e;)st[Gt++]=Ie[at++];return st}}}function q(L){var I=we(L);if(I)return I;throw new Error(`Non-${t} character`)}return{encode:X,decodeUnsafe:we,decode:q}}var vf,kf,pi,mi=F(()=>{a(),vf=Ff,kf=vf,pi=kf}),ln,dn,hn,yi,pn,lt,Pe,_f,Nf,_,pe=F(()=>{a(),mi(),Ne(),ln=class{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},dn=class{constructor(e,t,r){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return yi(this,e)}},hn=class{constructor(e){this.decoders=e}or(e){return yi(this,e)}decode(e){let t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},yi=(e,t)=>new hn({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),pn=class{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new ln(e,t,r),this.decoder=new dn(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},lt=({name:e,prefix:t,encode:r,decode:n})=>new pn(e,t,r,n),Pe=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=pi(r,t);return lt({prefix:e,name:t,encode:n,decode:s=>Se(o(s))})},_f=(e,t,r,n)=>{let o={};for(let V=0;V<t.length;++V)o[t[V]]=V;let s=e.length;for(;e[s-1]==="=";)--s;let w=new Uint8Array(s*r/8|0),y=0,k=0,P=0;for(let V=0;V<s;++V){let X=o[e[V]];if(X===void 0)throw new SyntaxError(`Non-${n} character`);k=k<<r|X,y+=r,y>=8&&(y-=8,w[P++]=255&k>>y)}if(y>=r||255&k<<8-y)throw new SyntaxError("Unexpected end of data");return w},Nf=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,s="",w=0,y=0;for(let k=0;k<e.length;++k)for(y=y<<8|e[k],w+=8;w>r;)w-=r,s+=t[o&y>>w];if(w&&(s+=t[o&y<<r-w]),n)for(;s.length*r&7;)s+="=";return s},_=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>lt({prefix:t,name:e,encode(o){return Nf(o,n,r)},decode(o){return _f(o,n,r,e)}})}),dt={};M(dt,{base58btc:()=>Y,base58flickr:()=>$f});var Y,$f,Re=F(()=>{a(),pe(),Y=Pe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),$f=Pe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})}),Rt={};M(Rt,{base32:()=>Me,base32hex:()=>Mf,base32hexpad:()=>zf,base32hexpadupper:()=>qf,base32hexupper:()=>Of,base32pad:()=>Pf,base32padupper:()=>Rf,base32upper:()=>Lf,base32z:()=>Hf});var Me,Lf,Pf,Rf,Mf,Of,zf,qf,Hf,ht=F(()=>{a(),pe(),Me=_({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Lf=_({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pf=_({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Rf=_({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Mf=_({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Of=_({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),zf=_({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qf=_({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Hf=_({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})}),dr={};M(dr,{CID:()=>x});var x,jf,Vf,Gf,Mt,Wf,wi,gi,fr,lr,Jf,Xf,Yf,Q=F(()=>{a(),cr(),Le(),Re(),ht(),Ne(),x=class{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:lr,byteLength:lr,code:fr,version:fr,multihash:fr,bytes:fr,_baseCache:lr,asCID:lr})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:t}=this;if(e!==Mt)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==Wf)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return x.createV0(t)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:t}=this.multihash,r=$e(e,t);return x.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&fn(this.multihash,e.multihash)}toString(e){let{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return Vf(t,n,e||Y.encoder);default:return Gf(t,n,e||Me.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return Xf(/^0\.0/,Yf),!!(e&&(e[gi]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof x)return e;if(e!=null&&e.asCID===e){let{version:t,code:r,multihash:n,bytes:o}=e;return new x(t,r,n,o||wi(t,r,n.bytes))}else if(e!=null&&e[gi]===!0){let{version:t,multihash:r,code:n}=e,o=ft(r);return x.create(t,n,o)}else return null}static create(e,t,r){if(typeof t!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(t!==Mt)throw new Error(`Version 0 CID must use dag-pb (code: ${Mt}) block encoding`);return new x(e,t,r,r.bytes)}case 1:{let n=wi(e,t,r.bytes);return new x(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return x.create(0,Mt,e)}static createV1(e,t){return x.create(1,e,t)}static decode(e){let[t,r]=x.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){let t=x.inspectBytes(e),r=t.size-t.multihashSize,n=Se(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");let o=n.subarray(t.multihashSize-t.digestSize),s=new Xe(t.multihashCode,t.digestSize,o,n);return[t.version===0?x.createV0(s):x.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0,r=()=>{let[V,X]=Pt(e.subarray(t));return t+=X,V},n=r(),o=Mt;if(n===18?(n=0,t=0):n===1&&(o=r()),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=t,w=r(),y=r(),k=t+y,P=k-s;return{version:n,codec:o,multihashCode:w,digestSize:y,multihashSize:P,size:k}}static parse(e,t){let[r,n]=jf(e,t),o=x.decode(n);return o._baseCache.set(r,e),o}},jf=(e,t)=>{switch(e[0]){case"Q":{let r=t||Y;return[Y.prefix,r.decode(`${Y.prefix}${e}`)]}case Y.prefix:{let r=t||Y;return[Y.prefix,r.decode(e)]}case Me.prefix:{let r=t||Me;return[Me.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},Vf=(e,t,r)=>{let{prefix:n}=r;if(n!==Y.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let s=r.encode(e).slice(1);return t.set(n,s),s}else return o},Gf=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let s=r.encode(e);return t.set(n,s),s}else return o},Mt=112,Wf=18,wi=(e,t,r)=>{let n=ct(e),o=n+ct(t),s=new Uint8Array(o+r.byteLength);return ut(e,s,0),ut(t,s,n),s.set(r,o),s},gi=Symbol.for("@ipld/js-cid/CID"),fr={writable:!1,configurable:!1,enumerable:!0},lr={writable:!1,enumerable:!1,configurable:!1},Jf="0.0.0-dev",Xf=(e,t)=>{if(e.test(Jf))console.warn(t);else throw new Error(t)},Yf=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`}),yn,mn,wn=F(()=>{a(),Le(),yn=({name:e,code:t,encode:r})=>new mn(e,t,r),mn=class{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){let t=this.encode(e);return t instanceof Uint8Array?$e(this.code,t):t.then(r=>$e(this.code,r))}else throw Error("Unknown type, must be binary type")}}}),gn=F(()=>{a(),Q(),cr(),Ne(),wn(),Le()}),Ci=S((e,t)=>{a(),t.exports=w;var r=128,n=127,o=~n,s=Math.pow(2,31);function w(y,k,P){if(Number.MAX_SAFE_INTEGER&&y>Number.MAX_SAFE_INTEGER)throw w.bytes=0,new RangeError("Could not encode varint");k=k||[],P=P||0;for(var V=P;y>=s;)k[P++]=y&255|r,y/=128;for(;y&o;)k[P++]=y&255|r,y>>>=7;return k[P]=y|0,w.bytes=P-V+1,k}}),Ti=S((e,t)=>{a(),t.exports=o;var r=128,n=127;function o(s,k){var y=0,k=k||0,P=0,V=k,X,we=s.length;do{if(V>=we||P>49)throw o.bytes=0,new RangeError("Could not decode varint");X=s[V++],y+=P<28?(X&n)<<P:(X&n)*Math.pow(2,P),P+=7}while(X>=r);return o.bytes=V-k,y}}),Si=S((e,t)=>{a();var r=Math.pow(2,7),n=Math.pow(2,14),o=Math.pow(2,21),s=Math.pow(2,28),w=Math.pow(2,35),y=Math.pow(2,42),k=Math.pow(2,49),P=Math.pow(2,56),V=Math.pow(2,63);t.exports=function(X){return X<r?1:X<n?2:X<o?3:X<s?4:X<w?5:X<y?6:X<k?7:X<P?8:X<V?9:10}}),pt=S((e,t)=>{a(),t.exports={encode:Ci(),decode:Ti(),encodingLength:Si()}}),Ws=S((e,t)=>{a(),t.exports=function(){return Date.now()}}),Xs=S((e,t)=>{a();var r=Ws(),n=class{constructor(s,w,y){let k=this;this._started=r(),this._rescheduled=0,this._scheduled=w,this._args=y,this._triggered=!1,this._timerWrapper=()=>{k._rescheduled>0?(k._scheduled=k._rescheduled-(r()-k._started),k._schedule(k._scheduled)):(k._triggered=!0,s.apply(null,k._args))},this._timer=setTimeout(this._timerWrapper,w)}reschedule(s){s||(s=this._scheduled);let w=r();w+s-(this._started+this._scheduled)<0?(clearTimeout(this._timer),this._schedule(s)):this._triggered?this._schedule(s):(this._started=w,this._rescheduled=s)}_schedule(s){this._triggered=!1,this._started=r(),this._rescheduled=0,this._scheduled=s,this._timer=setTimeout(this._timerWrapper,s)}clear(){clearTimeout(this._timer)}};function o(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");let s;if(arguments.length>0){s=new Array(arguments.length-2);for(var w=0;w<s.length;w++)s[w]=arguments[w+2]}return new n(arguments[0],arguments[1],s)}t.exports=o}),Zs=S((e,t)=>{a();var{AbortController:r}=globalThis,n=Xs(),o=class extends r{constructor(s){super(),this._ms=s,this._timer=n(()=>this.abort(),s),Object.setPrototypeOf(this,o.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=n(()=>this.abort(),this._ms)}};t.exports={TimeoutController:o}}),ea=S((e,t)=>{a();function r(n){let o=new globalThis.AbortController;function s(){o.abort();for(let w of n)!w||!w.removeEventListener||w.removeEventListener("abort",s)}for(let w of n)if(!(!w||!w.addEventListener)){if(w.aborted){s();break}w.addEventListener("abort",s)}return o.signal}t.exports=r,t.exports.anySignal=r}),sa=S((e,t)=>{a();var r=1e3,n=r*60,o=n*60,s=o*24,w=s*7,y=s*365.25;t.exports=function(we,q){q=q||{};var L=typeof we;if(L==="string"&&we.length>0)return k(we);if(L==="number"&&isFinite(we))return q.long?V(we):P(we);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(we))};function k(we){if(we=String(we),!(we.length>100)){var q=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(we);if(q){var L=parseFloat(q[1]),I=(q[2]||"ms").toLowerCase();switch(I){case"years":case"year":case"yrs":case"yr":case"y":return L*y;case"weeks":case"week":case"w":return L*w;case"days":case"day":case"d":return L*s;case"hours":case"hour":case"hrs":case"hr":case"h":return L*o;case"minutes":case"minute":case"mins":case"min":case"m":return L*n;case"seconds":case"second":case"secs":case"sec":case"s":return L*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return L;default:return}}}}function P(we){var q=Math.abs(we);return q>=s?Math.round(we/s)+"d":q>=o?Math.round(we/o)+"h":q>=n?Math.round(we/n)+"m":q>=r?Math.round(we/r)+"s":we+"ms"}function V(we){var q=Math.abs(we);return q>=s?X(we,q,s,"day"):q>=o?X(we,q,o,"hour"):q>=n?X(we,q,n,"minute"):q>=r?X(we,q,r,"second"):we+" ms"}function X(we,q,L,I){var ie=q>=L*1.5;return Math.round(we/L)+" "+I+(ie?"s":"")}}),ua=S((e,t)=>{a();function r(n){s.debug=s,s.default=s,s.coerce=X,s.disable=k,s.enable=y,s.enabled=P,s.humanize=sa(),s.destroy=we,Object.keys(n).forEach(q=>{s[q]=n[q]}),s.names=[],s.skips=[],s.formatters={};function o(q){let L=0;for(let I=0;I<q.length;I++)L=(L<<5)-L+q.charCodeAt(I),L|=0;return s.colors[Math.abs(L)%s.colors.length]}s.selectColor=o;function s(q){let L,I=null,ie,he;function _e(...Ie){if(!_e.enabled)return;let et=_e,Wt=Number(new Date),ot=Wt-(L||Wt);et.diff=ot,et.prev=L,et.curr=Wt,L=Wt,Ie[0]=s.coerce(Ie[0]),typeof Ie[0]!="string"&&Ie.unshift("%O");let at=0;Ie[0]=Ie[0].replace(/%([a-zA-Z%])/g,(st,Gt)=>{if(st==="%%")return"%";at++;let vr=s.formatters[Gt];if(typeof vr=="function"){let sr=Ie[at];st=vr.call(et,sr),Ie.splice(at,1),at--}return st}),s.formatArgs.call(et,Ie),(et.log||s.log).apply(et,Ie)}return _e.namespace=q,_e.useColors=s.useColors(),_e.color=s.selectColor(q),_e.extend=w,_e.destroy=s.destroy,Object.defineProperty(_e,"enabled",{enumerable:!0,configurable:!1,get:()=>I!==null?I:(ie!==s.namespaces&&(ie=s.namespaces,he=s.enabled(q)),he),set:Ie=>{I=Ie}}),typeof s.init=="function"&&s.init(_e),_e}function w(q,L){let I=s(this.namespace+(typeof L>"u"?":":L)+q);return I.log=this.log,I}function y(q){s.save(q),s.namespaces=q,s.names=[],s.skips=[];let L,I=(typeof q=="string"?q:"").split(/[\s,]+/),ie=I.length;for(L=0;L<ie;L++)!I[L]||(q=I[L].replace(/\*/g,".*?"),q[0]==="-"?s.skips.push(new RegExp("^"+q.slice(1)+"$")):s.names.push(new RegExp("^"+q+"$")))}function k(){let q=[...s.names.map(V),...s.skips.map(V).map(L=>"-"+L)].join(",");return s.enable(""),q}function P(q){if(q[q.length-1]==="*")return!0;let L,I;for(L=0,I=s.skips.length;L<I;L++)if(s.skips[L].test(q))return!1;for(L=0,I=s.names.length;L<I;L++)if(s.names[L].test(q))return!0;return!1}function V(q){return q.toString().substring(2,q.toString().length-2).replace(/\.\*\?$/,"*")}function X(q){return q instanceof Error?q.stack||q.message:q}function we(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}t.exports=r}),ca=S((e,t)=>{a(),e.formatArgs=n,e.save=o,e.load=s,e.useColors=r,e.storage=w(),e.destroy=(()=>{let k=!1;return()=>{k||(k=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(k){if(k[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+k[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let P="color: "+this.color;k.splice(1,0,P,"color: inherit");let V=0,X=0;k[0].replace(/%[a-zA-Z%]/g,we=>{we!=="%%"&&(V++,we==="%c"&&(X=V))}),k.splice(X,0,P)}e.log=console.debug||console.log||(()=>{});function o(k){try{k?e.storage.setItem("debug",k):e.storage.removeItem("debug")}catch{}}function s(){let k;try{k=e.storage.getItem("debug")}catch{}return!k&&typeof p<"u"&&"env"in p&&(k=p.env.DEBUG),k}function w(){try{return localStorage}catch{}}t.exports=ua()(e);var{formatters:y}=t.exports;y.j=function(k){try{return JSON.stringify(k)}catch(P){return"[UnexpectedJSONParseError]: "+P.message}}}),On={};M(On,{base64:()=>Mn,base64pad:()=>md,base64url:()=>yd,base64urlpad:()=>wd});var Mn,md,yd,wd,zn=F(()=>{a(),pe(),Mn=_({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),md=_({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),yd=_({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wd=_({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})}),fa,qn=F(()=>{a(),Ne(),fa=85}),da,Hn=F(()=>{a(),new TextEncoder,new TextDecoder,da=512}),wa=S((e,t)=>{a();var r=async n=>{for await(let o of n)return o};t.exports=r}),Da=S((e,t)=>{a();var r=async n=>{let o;for await(let s of n)o=s;return o};t.exports=r}),xa=S((e,t)=>{a();var r="[a-fA-F\\d:]",n=X=>X&&X.includeBoundaries?`(?:(?<=\\s|^)(?=${r})|(?<=${r})(?=\\s|$))`:"",o="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",w=`
(?:
(?:${s}:){7}(?:${s}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${s}:){6}(?:${o}|:${s}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${s}:){5}(?::${o}|(?::${s}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${s}:){4}(?:(?::${s}){0,1}:${o}|(?::${s}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${s}:){3}(?:(?::${s}){0,2}:${o}|(?::${s}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${s}:){2}(?:(?::${s}){0,3}:${o}|(?::${s}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${s}:){1}(?:(?::${s}){0,4}:${o}|(?::${s}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${s}){0,5}:${o}|(?::${s}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),y=new RegExp(`(?:^${o}$)|(?:^${w}$)`),k=new RegExp(`^${o}$`),P=new RegExp(`^${w}$`),V=X=>X&&X.exact?y:new RegExp(`(?:${n(X)}${o}${n(X)})|(?:${n(X)}${w}${n(X)})`,"g");V.v4=X=>X&&X.exact?k:new RegExp(`${n(X)}${o}${n(X)}`,"g"),V.v6=X=>X&&X.exact?P:new RegExp(`${n(X)}${w}${n(X)}`,"g"),t.exports=V}),Ba=S((e,t)=>{a();var r=xa(),n=o=>r({exact:!0}).test(o);n.v4=o=>r.v4({exact:!0}).test(o),n.v6=o=>r.v6({exact:!0}).test(o),n.version=o=>n(o)?n.v4(o)?4:6:void 0,t.exports=n}),Wn={};M(Wn,{identity:()=>Ad});var Ad,Aa=F(()=>{a(),pe(),Ne(),Ad=lt({prefix:"\0",name:"identity",encode:e=>hi(e),decode:e=>di(e)})}),Jn={};M(Jn,{base2:()=>Td});var Td,Ta=F(()=>{a(),pe(),Td=_({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})}),Xn={};M(Xn,{base8:()=>Id});var Id,Ia=F(()=>{a(),pe(),Id=_({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})}),Yn={};M(Yn,{base10:()=>Sd});var Sd,Sa=F(()=>{a(),pe(),Sd=Pe({prefix:"9",name:"base10",alphabet:"0123456789"})}),Qn={};M(Qn,{base16:()=>Ud,base16upper:()=>Fd});var Ud,Fd,Ua=F(()=>{a(),pe(),Ud=_({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Fd=_({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})}),Zn={};M(Zn,{base36:()=>vd,base36upper:()=>kd});var vd,kd,Fa=F(()=>{a(),pe(),vd=Pe({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),kd=Pe({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})}),Kn={};M(Kn,{base256emoji:()=>Pd});function $d(e){return e.reduce((t,r)=>(t+=_d[r],t),"")}function Ld(e){let t=[];for(let r of e){let n=Nd[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var va,_d,Nd,Pd,ka=F(()=>{a(),pe(),va=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),_d=va.reduce((e,t,r)=>(e[r]=t,e),[]),Nd=va.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]),Pd=lt({prefix:"\u{1F680}",name:"base256emoji",encode:$d,decode:Ld})}),eo={};M(eo,{sha256:()=>Rd,sha512:()=>Md});var _a,Rd,Md,Na=F(()=>{a(),wn(),_a=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Rd=yn({name:"sha2-256",code:18,encode:_a("SHA-256")}),Md=yn({name:"sha2-512",code:19,encode:_a("SHA-512")})}),to={};M(to,{identity:()=>qd});var $a,Od,La,zd,qd,Pa=F(()=>{a(),Ne(),Le(),$a=0,Od="identity",La=Se,zd=e=>$e($a,La(e)),qd={code:$a,name:Od,encode:La,digest:zd}}),ro,Ra=F(()=>{a(),Aa(),Ta(),Ia(),Sa(),Ua(),ht(),Fa(),Re(),zn(),ka(),Na(),Pa(),qn(),Hn(),gn(),ro={...Wn,...Jn,...Xn,...Yn,...Qn,...Rt,...Zn,...dt,...On,...Kn},{...eo,...to}});function Nr(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}var no=F(()=>{a()});function Oa(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var Ma,oo,Hd,$r,io=F(()=>{a(),Ra(),no(),Ma=Oa("utf8","u",e=>{let t=new TextDecoder("utf8");return"u"+t.decode(e)},e=>new TextEncoder().encode(e.substring(1))),oo=Oa("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Nr(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Hd={utf8:Ma,"utf-8":Ma,hex:ro.base16,latin1:oo,ascii:oo,binary:oo,...ro},$r=Hd}),Tt={};M(Tt,{toString:()=>so});function so(e,t="utf8"){let r=$r[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var Ke=F(()=>{a(),io()}),Va=S((e,t)=>{a();var r=Ba(),{toString:n}=(Ke(),R(Tt)),o=r,s=r.v4,w=r.v6,y=function(P,V,X){X=~~X;let we;if(s(P))we=V||new Uint8Array(X+4),P.split(/\./g).map(function(q){we[X++]=parseInt(q,10)&255});else if(w(P)){let q=P.split(":",8),L;for(L=0;L<q.length;L++){let I=s(q[L]),ie;I&&(ie=y(q[L]),q[L]=n(ie.slice(0,2),"base16")),ie&&++L<8&&q.splice(L,0,n(ie.slice(2,4),"base16"))}if(q[0]==="")for(;q.length<8;)q.unshift("0");else if(q[q.length-1]==="")for(;q.length<8;)q.push("0");else if(q.length<8){for(L=0;L<q.length&&q[L]!=="";L++);let I=[L,"1"];for(L=9-q.length;L>0;L--)I.push("0");q.splice.apply(q,I)}for(we=V||new Uint8Array(X+16),L=0;L<q.length;L++){let I=parseInt(q[L],16);we[X++]=I>>8&255,we[X++]=I&255}}if(!we)throw Error("Invalid ip address: "+P);return we},k=function(P,V,X){V=~~V,X=X||P.length-V;let we=[],q,L=new DataView(P.buffer);if(X===4){for(let I=0;I<X;I++)we.push(P[V+I]);q=we.join(".")}else if(X===16){for(let I=0;I<X;I+=2)we.push(L.getUint16(V+I).toString(16));q=we.join(":"),q=q.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),q=q.replace(/:{3,4}/,"::")}return q};t.exports={isIP:o,isV4:s,isV6:w,toBytes:y,toString:k}}),Lr=S((e,t)=>{a();function r(s){if(typeof s=="number"){if(r.codes[s])return r.codes[s];throw new Error("no protocol with code: "+s)}else if(typeof s=="string"){if(r.names[s])return r.names[s];throw new Error("no protocol with name: "+s)}throw new Error("invalid protocol id type: "+s)}var n=-1;r.lengthPrefixedVarSize=n,r.V=n,r.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[53,n,"dns","resolvable"],[54,n,"dns4","resolvable"],[55,n,"dns6","resolvable"],[56,n,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,"path"],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]],r.names={},r.codes={},r.table.map(s=>{let w=o.apply(null,s);return r.codes[w.code]=w,r.names[w.name]=w,null}),r.object=o;function o(s,w,y,k,P){return{code:s,size:w,name:y,resolvable:Boolean(k),path:Boolean(P)}}t.exports=r}),Ja={};M(Ja,{fromString:()=>co});function co(e,t="utf8"){let r=$r[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}var fo=F(()=>{a(),io()}),lo={};M(lo,{concat:()=>Gd});function Gd(e,t){t||(t=e.reduce((o,s)=>o+s.length,0));let r=Nr(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}var ho=F(()=>{a(),no()}),ru=S((e,t)=>{a();var r=Va(),n=Lr(),{CID:o}=(Q(),R(dr)),{base32:s}=(ht(),R(Rt)),{base58btc:w}=(Re(),R(dt)),y=(Le(),R(Ue)),k=pt(),{toString:P}=(Ke(),R(Tt)),{fromString:V}=(fo(),R(Ja)),{concat:X}=(ho(),R(lo));t.exports=we;function we(st,Gt){return Gt instanceof Uint8Array?we.toString(st,Gt):we.toBytes(st,Gt)}we.toString=function(st,Gt){switch(n(st).code){case 4:case 41:return L(Gt);case 6:case 273:case 33:case 132:return ie(Gt).toString();case 53:case 54:case 55:case 56:case 400:case 777:return _e(Gt);case 421:return et(Gt);case 444:return at(Gt);case 445:return at(Gt);default:return P(Gt,"base16")}},we.toBytes=function(st,Gt){switch(n(st).code){case 4:return q(Gt);case 41:return q(Gt);case 6:case 273:case 33:case 132:return I(parseInt(Gt,10));case 53:case 54:case 55:case 56:case 400:case 777:return he(Gt);case 421:return Ie(Gt);case 444:return Wt(Gt);case 445:return ot(Gt);default:return V(Gt,"base16")}};function q(st){if(!r.isIP(st))throw new Error("invalid ip address");return r.toBytes(st)}function L(st){let Gt=r.toString(st);if(!Gt||!r.isIP(Gt))throw new Error("invalid ip address");return Gt}function I(st){let Gt=new ArrayBuffer(2);return new DataView(Gt).setUint16(0,st),new Uint8Array(Gt)}function ie(st){return new DataView(st.buffer).getUint16(st.byteOffset)}function he(st){let Gt=V(st),vr=Uint8Array.from(k.encode(Gt.length));return X([vr,Gt],vr.length+Gt.length)}function _e(st){let Gt=k.decode(st);if(st=st.slice(k.decode.bytes),st.length!==Gt)throw new Error("inconsistent lengths");return P(st)}function Ie(st){let Gt;st[0]==="Q"||st[0]==="1"?Gt=y.decode(w.decode(`z${st}`)).bytes:Gt=o.parse(st).multihash.bytes;let vr=Uint8Array.from(k.encode(Gt.length));return X([vr,Gt],vr.length+Gt.length)}function et(st){let Gt=k.decode(st),vr=st.slice(k.decode.bytes);if(vr.length!==Gt)throw new Error("inconsistent lengths");return P(vr,"base58btc")}function Wt(st){let Gt=st.split(":");if(Gt.length!==2)throw new Error("failed to parse onion addr: "+Gt+" does not contain a port number");if(Gt[0].length!==16)throw new Error("failed to parse onion addr: "+Gt[0]+" not a Tor onion address.");let vr=s.decode("b"+Gt[0]),sr=parseInt(Gt[1],10);if(sr<1||sr>65536)throw new Error("Port number is not in range(1, 65536)");let Kr=I(sr);return X([vr,Kr],vr.length+Kr.length)}function ot(st){let Gt=st.split(":");if(Gt.length!==2)throw new Error("failed to parse onion addr: "+Gt+" does not contain a port number");if(Gt[0].length!==56)throw new Error("failed to parse onion addr: "+Gt[0]+" not a Tor onion3 address.");let vr=s.decode("b"+Gt[0]),sr=parseInt(Gt[1],10);if(sr<1||sr>65536)throw new Error("Port number is not in range(1, 65536)");let Kr=I(sr);return X([vr,Kr],vr.length+Kr.length)}function at(st){let Gt=st.slice(0,st.length-2),vr=st.slice(st.length-2),sr=P(Gt,"base32"),Kr=ie(vr);return sr+":"+Kr}}),pu=S((e,t)=>{a();var r=ru(),n=Lr(),o=pt(),{concat:s}=(ho(),R(lo)),{toString:w}=(Ke(),R(Tt));t.exports={stringToStringTuples:y,stringTuplesToString:k,tuplesToStringTuples:V,stringTuplesToTuples:P,bytesToTuples:q,tuplesToBytes:X,bytesToString:L,stringToBytes:I,fromString:ie,fromBytes:he,validateBytes:_e,isValidBytes:Ie,cleanPath:et,ParseError:Wt,protoFromTuple:ot,sizeForAddr:we};function y(at){let st=[],Gt=at.split("/").slice(1);if(Gt.length===1&&Gt[0]==="")return[];for(let vr=0;vr<Gt.length;vr++){let sr=Gt[vr],Kr=n(sr);if(Kr.size===0){st.push([sr]);continue}if(vr++,vr>=Gt.length)throw Wt("invalid address: "+at);if(Kr.path){st.push([sr,et(Gt.slice(vr).join("/"))]);break}st.push([sr,Gt[vr]])}return st}function k(at){let st=[];return at.map(Gt=>{let vr=ot(Gt);return st.push(vr.name),Gt.length>1&&st.push(Gt[1]),null}),et(st.join("/"))}function P(at){return at.map(st=>{Array.isArray(st)||(st=[st]);let Gt=ot(st);return st.length>1?[Gt.code,r.toBytes(Gt.code,st[1])]:[Gt.code]})}function V(at){return at.map(st=>{let Gt=ot(st);return st[1]?[Gt.code,r.toString(Gt.code,st[1])]:[Gt.code]})}function X(at){return he(s(at.map(st=>{let Gt=ot(st),vr=Uint8Array.from(o.encode(Gt.code));return st.length>1&&(vr=s([vr,st[1]])),vr})))}function we(at,st){return at.size>0?at.size/8:at.size===0?0:o.decode(st)+o.decode.bytes}function q(at){let st=[],Gt=0;for(;Gt<at.length;){let vr=o.decode(at,Gt),sr=o.decode.bytes,Kr=n(vr),Qr=we(Kr,at.slice(Gt+sr));if(Qr===0){st.push([vr]),Gt+=sr;continue}let ao=at.slice(Gt+sr,Gt+sr+Qr);if(Gt+=Qr+sr,Gt>at.length)throw Wt("Invalid address Uint8Array: "+w(at,"base16"));st.push([vr,ao])}return st}function L(at){let st=q(at),Gt=V(st);return k(Gt)}function I(at){at=et(at);let st=y(at),Gt=P(st);return X(Gt)}function ie(at){return I(at)}function he(at){let st=_e(at);if(st)throw st;return Uint8Array.from(at)}function _e(at){try{q(at)}catch(st){return st}}function Ie(at){return _e(at)===void 0}function et(at){return"/"+at.trim().split("/").filter(st=>st).join("/")}function Wt(at){return new Error("Error parsing address: "+at)}function ot(at){return n(at[0])}}),Yt=S((e,t)=>{a();function r(o,s){for(let w in s)Object.defineProperty(o,w,{value:s[w],enumerable:!0,configurable:!0});return o}function n(o,s,w){if(!o||typeof o=="string")throw new TypeError("Please pass an Error to err-code");w||(w={}),typeof s=="object"&&(w=s,s=""),s&&(w.code=s);try{return r(o,w)}catch{w.message=o.message,w.stack=o.stack;let y=function(){};return y.prototype=Object.create(Object.getPrototypeOf(o)),r(new y,w)}}t.exports=n}),wu={};M(wu,{equals:()=>uh});function uh(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}var gu=F(()=>{a()}),bo=S((e,t)=>{a();var r=pu(),n=Lr(),o=pt(),{CID:s}=(Q(),R(dr)),{base58btc:w}=(Re(),R(dt)),y=Yt(),k=Symbol.for("nodejs.util.inspect.custom"),{toString:P}=(Ke(),R(Tt)),{equals:V}=(gu(),R(wu)),X=new Map,we=Symbol.for("@multiformats/js-multiaddr/multiaddr"),q=class{constructor(I){if(I==null&&(I=""),Object.defineProperty(this,we,{value:!0}),I instanceof Uint8Array)this.bytes=r.fromBytes(I);else if(typeof I=="string"){if(I.length>0&&I.charAt(0)!=="/")throw new Error(`multiaddr "${I}" must start with a "/"`);this.bytes=r.fromString(I)}else if(q.isMultiaddr(I))this.bytes=r.fromBytes(I.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return r.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){let I={},ie=this.toString().split("/");return I.family=ie[1]==="ip4"?4:6,I.host=ie[2],I.transport=ie[3],I.port=parseInt(ie[4]),I}protos(){return this.protoCodes().map(I=>Object.assign({},n(I)))}protoCodes(){let I=[],ie=this.bytes,he=0;for(;he<ie.length;){let _e=o.decode(ie,he),Ie=o.decode.bytes,et=n(_e);he+=r.sizeForAddr(et,ie.slice(he+Ie))+Ie,I.push(_e)}return I}protoNames(){return this.protos().map(I=>I.name)}tuples(){return r.bytesToTuples(this.bytes)}stringTuples(){let I=r.bytesToTuples(this.bytes);return r.tuplesToStringTuples(I)}encapsulate(I){return I=new q(I),new q(this.toString()+I.toString())}decapsulate(I){let ie=I.toString(),he=this.toString(),_e=he.lastIndexOf(ie);if(_e<0)throw new Error("Address "+this+" does not contain subaddress: "+I);return new q(he.slice(0,_e))}decapsulateCode(I){let ie=this.tuples();for(let he=ie.length-1;he>=0;he--)if(ie[he][0]===I)return new q(r.tuplesToBytes(ie.slice(0,he)));return this}getPeerId(){try{let I=this.stringTuples().filter(ie=>ie[0]===n.names.ipfs.code).pop();if(I&&I[1]){let ie=I[1];return ie[0]==="Q"||ie[0]==="1"?P(w.decode(`z${ie}`),"base58btc"):P(s.parse(ie).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let I=null;try{I=this.stringTuples().filter(ie=>!!n(ie[0]).path)[0][1],I||(I=null)}catch{I=null}return I}equals(I){return V(this.bytes,I.bytes)}async resolve(){let I=this.protos().find(he=>he.resolvable);if(!I)return[this];let ie=X.get(I.name);if(!ie)throw y(new Error(`no available resolver for ${I.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await ie(this)).map(he=>new q(he))}nodeAddress(){let I=this.protoCodes(),ie=this.protoNames(),he=this.toString().split("/").slice(1);if(he.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(I[0]!==4&&I[0]!==41&&I[0]!==54&&I[0]!==55)throw new Error(`no protocol with name: "'${ie[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(he[2]!=="tcp"&&he[2]!=="udp")throw new Error(`no protocol with name: "'${ie[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:I[0]===41||I[0]===55?6:4,address:he[1],port:parseInt(he[3])}}isThinWaistAddress(I){let ie=(I||this).protos();return!(ie.length!==2||ie[0].code!==4&&ie[0].code!==41||ie[1].code!==6&&ie[1].code!==273)}static fromNodeAddress(I,ie){if(!I)throw new Error("requires node address object");if(!ie)throw new Error("requires transport protocol");let he;switch(I.family){case 4:he="ip4";break;case 6:he="ip6";break;default:throw Error(`Invalid addr family. Got '${I.family}' instead of 4 or 6`)}return new q("/"+[he,I.address,ie,I.port].join("/"))}static isName(I){return q.isMultiaddr(I)?I.protos().some(ie=>ie.resolvable):!1}static isMultiaddr(I){return I instanceof q||Boolean(I&&I[we])}[k](){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+P(this.bytes,"base16")+" - "+r.bytesToString(this.bytes)+">"}};q.protocols=n,q.resolvers=X;function L(I){return new q(I)}t.exports={Multiaddr:q,multiaddr:L,protocols:n,resolvers:X}}),ku=S((e,t)=>{a();var{Multiaddr:r}=bo(),n=Qr("dns4"),o=Qr("dns6"),s=Qr("dnsaddr"),w=Kr(Qr("dns"),s,n,o),y=Kr(Qr("ip4"),Qr("ip6")),k=Kr(sr(y,Qr("tcp")),sr(w,Qr("tcp"))),P=sr(y,Qr("udp")),V=sr(P,Qr("utp")),X=sr(P,Qr("quic")),we=Kr(sr(k,Qr("ws")),sr(w,Qr("ws"))),q=Kr(sr(k,Qr("wss")),sr(w,Qr("wss"))),L=Kr(sr(k,Qr("http")),sr(y,Qr("http")),sr(w,Qr("http"))),I=Kr(sr(k,Qr("https")),sr(y,Qr("https")),sr(w,Qr("https"))),ie=Kr(sr(we,Qr("p2p-webrtc-star"),Qr("p2p")),sr(q,Qr("p2p-webrtc-star"),Qr("p2p")),sr(we,Qr("p2p-webrtc-star")),sr(q,Qr("p2p-webrtc-star"))),he=Kr(sr(we,Qr("p2p-websocket-star"),Qr("p2p")),sr(q,Qr("p2p-websocket-star"),Qr("p2p")),sr(we,Qr("p2p-websocket-star")),sr(q,Qr("p2p-websocket-star"))),_e=Kr(sr(L,Qr("p2p-webrtc-direct"),Qr("p2p")),sr(I,Qr("p2p-webrtc-direct"),Qr("p2p")),sr(L,Qr("p2p-webrtc-direct")),sr(I,Qr("p2p-webrtc-direct"))),Ie=Kr(we,q,L,I,ie,_e,k,V,X,w),et=Kr(sr(Ie,Qr("p2p-stardust"),Qr("p2p")),sr(Ie,Qr("p2p-stardust"))),Wt=Kr(sr(Ie,Qr("p2p")),ie,_e,Qr("p2p")),ot=Kr(sr(Wt,Qr("p2p-circuit"),Wt),sr(Wt,Qr("p2p-circuit")),sr(Qr("p2p-circuit"),Wt),sr(Ie,Qr("p2p-circuit")),sr(Qr("p2p-circuit"),Ie),Qr("p2p-circuit")),at=()=>Kr(sr(ot,at),ot),st=at(),Gt=Kr(sr(st,Wt,st),sr(Wt,st),sr(st,Wt),st,Wt);t.exports={DNS:w,DNS4:n,DNS6:o,DNSADDR:s,IP:y,TCP:k,UDP:P,QUIC:X,UTP:V,HTTP:L,HTTPS:I,WebSockets:we,WebSocketsSecure:q,WebSocketStar:he,WebRTCStar:ie,WebRTCDirect:_e,Reliable:Ie,Stardust:et,Circuit:st,P2P:Gt,IPFS:Gt};function vr(ao){function ni(Ks){if(!r.isMultiaddr(Ks))try{Ks=new r(Ks)}catch{return!1}let ia=ao(Ks.protoNames());return ia===null?!1:ia===!0||ia===!1?ia:ia.length===0}return ni}function sr(...ao){function ni(Ks){if(Ks.length<ao.length)return null;let ia=Ks;return ao.some(Hr=>(ia=typeof Hr=="function"?Hr().partialMatch(Ks):Hr.partialMatch(Ks),Array.isArray(ia)&&(Ks=ia),ia===null)),ia}return{toString:function(){return"{ "+ao.join(" ")+" }"},input:ao,matches:vr(ni),partialMatch:ni}}function Kr(...ao){function ni(Ks){let ia=null;return ao.some(Hr=>{let Js=typeof Hr=="function"?Hr().partialMatch(Ks):Hr.partialMatch(Ks);return Js?(ia=Js,!0):!1}),ia}return{toString:function(){return"{ "+ao.join(" ")+" }"},input:ao,matches:vr(ni),partialMatch:ni}}function Qr(ao){let ni=ao;function Ks(Hr){let Js;if(typeof Hr=="string"||Hr instanceof Uint8Array)try{Js=new r(Hr)}catch{return!1}else Js=Hr;let ya=Js.protoNames();return ya.length===1&&ya[0]===ni}function ia(Hr){return Hr.length===0?null:Hr[0]===ni?Hr.slice(1):null}return{toString:function(){return ni},matches:Ks,partialMatch:ia}}}),To=S((e,t)=>{a();var r=typeof navigator<"u"&&navigator.product==="ReactNative";function n(){return r?"http://localhost":d.location?d.location.protocol+"//"+d.location.host:""}var o=d.URL,s=n(),w=class{constructor(k="",P=s){this.super=new o(k,P),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(k){this.super.hash=k}set host(k){this.super.host=k}set hostname(k){this.super.hostname=k}set href(k){this.super.href=k}set password(k){this.super.password=k}set pathname(k){this.super.pathname=k}set port(k){this.super.port=k}set protocol(k){this.super.protocol=k}set search(k){this.super.search=k}set username(k){this.super.username=k}static createObjectURL(k){return o.createObjectURL(k)}static revokeObjectURL(k){o.revokeObjectURL(k)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function y(k){if(typeof k=="string")return new o(k).toString();if(!(k instanceof o)){let P=k.username&&k.password?`${k.username}:${k.password}@`:"",V=k.auth?k.auth+"@":"",X=k.port?":"+k.port:"",we=k.protocol?k.protocol+"//":"",q=k.host||"",L=k.hostname||"",I=k.search||(k.query?"?"+k.query:""),ie=k.hash||"",he=k.pathname||"",_e=k.path||he+I;return`${we}${P||V}${q||L+X}${_e}${ie}`}}t.exports={URLWithLegacySupport:w,URLSearchParams:d.URLSearchParams,defaultBase:s,format:y}}),Pu=S((e,t)=>{a();var{URLWithLegacySupport:r,format:n}=To();t.exports=(o,s={},w={},y)=>{let k=s.protocol?s.protocol.replace(":",""):"http";k=(w[k]||y||k)+":";let P;try{P=new r(o)}catch{P={}}let V=Object.assign({},s,{protocol:k||P.protocol,host:s.host||P.host});return new r(o,n(V)).toString()}}),Mu=S((e,t)=>{a();var{URLWithLegacySupport:r,format:n,URLSearchParams:o,defaultBase:s}=To(),w=Pu();t.exports={URL:r,URLSearchParams:o,format:n,relative:w,defaultBase:s}}),Ku=S((e,t)=>{a();var{base58btc:r}=(Re(),R(dt)),{base32:n}=(ht(),R(Rt)),o=(Le(),R(Ue)),{Multiaddr:s}=bo(),w=ku(),{CID:y}=(Q(),R(dr)),{URL:k}=Mu(),{toString:P}=(Ke(),R(Tt)),V=/^https?:\/\/[^/]+\/(ip[fn]s)\/([^/?#]+)/,X=/^\/(ip[fn]s)\/([^/?#]+)/,we=1,q=2,L=/^https?:\/\/([^/]+)\.(ip[fn]s)\.[^/?]+/,I=1,ie=2,he=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)+([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function _e(Hr){let Js=vr(Hr);try{o.decode(r.decode("z"+Js))}catch{return!1}return!0}function Ie(Hr){try{n.decode(Hr)}catch{return!1}return!0}function et(Hr){try{return typeof Hr=="string"?Boolean(y.parse(Hr)):Hr instanceof Uint8Array?Boolean(y.decode(Hr)):Boolean(y.asCID(Hr))}catch{return!1}}function Wt(Hr){if(!Hr)return!1;if(s.isMultiaddr(Hr))return!0;try{return new s(Hr),!0}catch{return!1}}function ot(Hr){return Wt(Hr)&&w.P2P.matches(Hr)}function at(Hr,Js,ya=we,en=q){let rr=vr(Hr);if(!rr)return!1;let Fr=rr.match(Js);if(!Fr||Fr[ya]!=="ipfs")return!1;let qr=Fr[en];return qr&&Js===L&&(qr=qr.toLowerCase()),et(qr)}function st(Hr,Js,ya=we,en=q){let rr=vr(Hr);if(!rr)return!1;let Fr=rr.match(Js);if(!Fr||Fr[ya]!=="ipns")return!1;let qr=Fr[en];if(qr&&Js===L){if(qr=qr.toLowerCase(),et(qr))return!0;try{!qr.includes(".")&&qr.includes("-")&&(qr=qr.replace(/--/g,"@").replace(/-/g,".").replace(/@/g,"-"));let{hostname:yo}=new k(`http://${qr}`);return he.test(yo)}catch{return!1}}return!0}function Gt(Hr){return typeof Hr=="string"}function vr(Hr){return Hr instanceof Uint8Array?P(Hr,"base58btc"):Gt(Hr)?Hr:!1}var sr=Hr=>at(Hr,L,ie,I),Kr=Hr=>st(Hr,L,ie,I),Qr=Hr=>sr(Hr)||Kr(Hr),ao=Hr=>at(Hr,V)||sr(Hr),ni=Hr=>st(Hr,V)||Kr(Hr),Ks=Hr=>ao(Hr)||ni(Hr)||Qr(Hr),ia=Hr=>at(Hr,X)||st(Hr,X);t.exports={multihash:_e,multiaddr:Wt,peerMultiaddr:ot,cid:et,base32cid:Hr=>Ie(Hr)&&et(Hr),ipfsSubdomain:sr,ipnsSubdomain:Kr,subdomain:Qr,subdomainGatewayPattern:L,ipfsUrl:ao,ipnsUrl:ni,url:Ks,pathGatewayPattern:V,ipfsPath:Hr=>at(Hr,X),ipnsPath:Hr=>st(Hr,X),path:ia,pathPattern:X,urlOrPath:Hr=>Ks(Hr)||ia(Hr),cidPath:Hr=>Gt(Hr)&&!et(Hr)&&at(`/ipfs/${Hr}`,X)}}),hc=S((e,t)=>{a();function r(n){let[o,s]=n[Symbol.asyncIterator]?[n[Symbol.asyncIterator](),Symbol.asyncIterator]:[n[Symbol.iterator](),Symbol.iterator],w=[];return{peek:()=>o.next(),push:y=>{w.push(y)},next:()=>w.length?{done:!1,value:w.shift()}:o.next(),[s](){return this}}}t.exports=r}),mc=S((e,t)=>{a();var r=async n=>{for await(let o of n);};t.exports=r}),wc=S((e,t)=>{a();var r=async function*(n,o){for await(let s of n)yield o(s)};t.exports=r});a();a();Q();a();gn();var hr=({enumerable:e=!0,configurable:t=!1}={})=>({enumerable:e,configurable:t,writable:!1}),Dn=function*(e,t){if(e!=null&&!(e instanceof Uint8Array))for(let[r,n]of Object.entries(e)){let o=[...t,r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let[s,w]of n.entries()){let y=[...o,s],k=x.asCID(w);k?yield[y.join("/"),k]:typeof w=="object"&&(yield*Dn(w,y))}else{let s=x.asCID(n);s?yield[o.join("/"),s]:yield*Dn(n,o)}}},bn=function*(e,t){if(e!=null)for(let[r,n]of Object.entries(e)){let o=[...t,r];if(yield o.join("/"),n!=null&&!(n instanceof Uint8Array)&&typeof n=="object"&&!x.asCID(n))if(Array.isArray(n))for(let[s,w]of n.entries()){let y=[...o,s];yield y.join("/"),typeof w=="object"&&!x.asCID(w)&&(yield*bn(w,y))}else yield*bn(n,o)}},Qf=(e,t)=>{let r=e;for(let[n,o]of t.entries()){if(r=r[o],r==null)throw new Error(`Object has no property at ${t.slice(0,n+1).map(w=>`[${JSON.stringify(w)}]`).join("")}`);let s=x.asCID(r);if(s)return{value:s,remaining:t.slice(n+1).join("/")}}return{value:r}},En=class{constructor({cid:e,bytes:t,value:r}){if(!e||!t||typeof r>"u")throw new Error("Missing required argument");this.cid=e,this.bytes=t,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:hr(),bytes:hr(),value:hr(),asBlock:hr()})}links(){return Dn(this.value,[])}tree(){return bn(this.value,[])}get(e="/"){return Qf(this.value,e.split("/").filter(Boolean))}},bi=({bytes:e,cid:t,value:r,codec:n})=>{let o=r!==void 0?r:n&&n.decode(e);if(o===void 0)throw new Error('Missing required argument, must either provide "value" or "codec"');return new En({cid:t,bytes:e,value:o})};a();Q();a();var Nn=J(pt(),1);a();a();a();a();var ll=["string","number","bigint","symbol"],dl=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Fi(e){if(e===null)return"null";if(e===void 0)return"undefined";if(e===!0||e===!1)return"boolean";let t=typeof e;return ll.includes(t)?t:t==="function"?"Function":Array.isArray(e)?"Array":hl(e)?"Buffer":pl(e)||"Object"}function hl(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}function pl(e){let t=Object.prototype.toString.call(e).slice(8,-1);if(dl.includes(t))return t}a();var l=class{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}};l.uint=new l(0,"uint",!0);l.negint=new l(1,"negint",!0);l.bytes=new l(2,"bytes",!0);l.string=new l(3,"string",!0);l.array=new l(4,"array",!1);l.map=new l(5,"map",!1);l.tag=new l(6,"tag",!1);l.float=new l(7,"float",!0);l.false=new l(7,"false",!0);l.true=new l(7,"true",!0);l.null=new l(7,"null",!0);l.undefined=new l(7,"undefined",!0);l.break=new l(7,"break",!0);var b=class{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}};a();a();var mt=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&typeof globalThis.Buffer.isBuffer=="function",ml=new TextDecoder,yl=new TextEncoder;function pr(e){return mt&&globalThis.Buffer.isBuffer(e)}function Bn(e){return e instanceof Uint8Array?pr(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}var Ni=mt?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):ki(e,t,r):(e,t,r)=>r-t>64?ml.decode(e.subarray(t,r)):ki(e,t,r),$i=mt?e=>e.length>64?globalThis.Buffer.from(e):vi(e):e=>e.length>64?yl.encode(e):vi(e),Ce=e=>Uint8Array.from(e),yt=mt?(e,t,r)=>pr(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),Li=mt?(e,t)=>(e=e.map(r=>r instanceof Uint8Array?r:globalThis.Buffer.from(r)),Bn(globalThis.Buffer.concat(e,t))):(e,t)=>{let r=new Uint8Array(t),n=0;for(let o of e)n+o.length>r.length&&(o=o.subarray(0,r.length-n)),r.set(o,n),n+=o.length;return r},Pi=mt?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function Ri(e,t){if(pr(e)&&pr(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function vi(e,t=1/0){let r,n=e.length,o=null,s=[];for(let w=0;w<n;++w){if(r=e.charCodeAt(w),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}else if(w+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function ki(e,t,r){let n=[];for(;t<r;){let o=e[t],s=null,w=o>239?4:o>223?3:o>191?2:1;if(t+w<=r){let y,k,P,V;switch(w){case 1:o<128&&(s=o);break;case 2:y=e[t+1],(y&192)===128&&(V=(o&31)<<6|y&63,V>127&&(s=V));break;case 3:y=e[t+1],k=e[t+2],(y&192)===128&&(k&192)===128&&(V=(o&15)<<12|(y&63)<<6|k&63,V>2047&&(V<55296||V>57343)&&(s=V));break;case 4:y=e[t+1],k=e[t+2],P=e[t+3],(y&192)===128&&(k&192)===128&&(P&192)===128&&(V=(o&15)<<18|(y&63)<<12|(k&63)<<6|P&63,V>65535&&V<1114112&&(s=V))}}s===null?(s=65533,w=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),t+=w}return wl(n)}var _i=4096;function wl(e){let t=e.length;if(t<=_i)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=_i));return r}var gl=256,Ot=class{constructor(e=gl){this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),this._initReuseChunk!==null&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){let r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){let r=t.length-(this.maxCursor-this.cursor)-1;r<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,r),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=Pi(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,this._initReuseChunk===null&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(e=!1){let t;if(this.chunks.length===1){let r=this.chunks[0];e&&this.cursor>r.length/2?(t=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):t=yt(r,0,this.cursor)}else t=Li(this.chunks,this.cursor);return e&&this.reset(),t}};a();var C="CBOR decode error:",An="CBOR encode error:";function Fe(e,t,r){if(e.length-t<r)throw new Error(`${C} not enough data for type`)}a();a();var z=[24,256,65536,4294967296,BigInt("18446744073709551616")];function ee(e,t,r){Fe(e,t,1);let n=e[t];if(r.strict===!0&&n<z[0])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);return n}function te(e,t,r){Fe(e,t,2);let n=e[t]<<8|e[t+1];if(r.strict===!0&&n<z[1])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);return n}function re(e,t,r){Fe(e,t,4);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(r.strict===!0&&n<z[2])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);return n}function ne(e,t,r){Fe(e,t,8);let n=e[t]*16777216+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=e[t+4]*16777216+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],s=(BigInt(n)<<BigInt(32))+BigInt(o);if(r.strict===!0&&s<z[3])throw new Error(`${C} integer encoded in more bytes than necessary (strict decode)`);if(s<=Number.MAX_SAFE_INTEGER)return Number(s);if(r.allowBigInt===!0)return s;throw new Error(`${C} integers outside of the safe integer range are not supported`)}function Mi(e,t,r,n){return new b(l.uint,ee(e,t+1,n),2)}function Oi(e,t,r,n){return new b(l.uint,te(e,t+1,n),3)}function zi(e,t,r,n){return new b(l.uint,re(e,t+1,n),5)}function qi(e,t,r,n){return new b(l.uint,ne(e,t+1,n),9)}function ce(e,t){return H(e,0,t.value)}function H(e,t,r){if(r<z[0]){let n=Number(r);e.push([t|n])}else if(r<z[1]){let n=Number(r);e.push([t|24,n])}else if(r<z[2]){let n=Number(r);e.push([t|25,n>>>8,n&255])}else if(r<z[3]){let n=Number(r);e.push([t|26,n>>>24&255,n>>>16&255,n>>>8&255,n&255])}else{let n=BigInt(r);if(n<z[4]){let o=[t|27,0,0,0,0,0,0,0],s=Number(n&BigInt(4294967295)),w=Number(n>>BigInt(32)&BigInt(4294967295));o[8]=s&255,s=s>>8,o[7]=s&255,s=s>>8,o[6]=s&255,s=s>>8,o[5]=s&255,o[4]=w&255,w=w>>8,o[3]=w&255,w=w>>8,o[2]=w&255,w=w>>8,o[1]=w&255,e.push(o)}else throw new Error(`${C} encountered BigInt larger than allowable range`)}}ce.encodedSize=function(e){return H.encodedSize(e.value)};H.encodedSize=function(e){return e<z[0]?1:e<z[1]?2:e<z[2]?3:e<z[3]?5:9};ce.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};a();function Hi(e,t,r,n){return new b(l.negint,-1-ee(e,t+1,n),2)}function ji(e,t,r,n){return new b(l.negint,-1-te(e,t+1,n),3)}function Vi(e,t,r,n){return new b(l.negint,-1-re(e,t+1,n),5)}var Tn=BigInt(-1),Gi=BigInt(1);function Wi(e,t,r,n){let o=ne(e,t+1,n);if(typeof o!="bigint"){let s=-1-o;if(s>=Number.MIN_SAFE_INTEGER)return new b(l.negint,s,9)}if(n.allowBigInt!==!0)throw new Error(`${C} integers outside of the safe integer range are not supported`);return new b(l.negint,Tn-BigInt(o),9)}function mr(e,t){let r=t.value,n=typeof r=="bigint"?r*Tn-Gi:r*-1-1;H(e,t.type.majorEncoded,n)}mr.encodedSize=function(e){let t=e.value,r=typeof t=="bigint"?t*Tn-Gi:t*-1-1;return r<z[0]?1:r<z[1]?2:r<z[2]?3:r<z[3]?5:9};mr.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0};a();function qt(e,t,r,n){Fe(e,t,r+n);let o=yt(e,t+r,t+r+n);return new b(l.bytes,o,r+n)}function Ji(e,t,r,n){return qt(e,t,1,r)}function Xi(e,t,r,n){return qt(e,t,2,ee(e,t+1,n))}function Yi(e,t,r,n){return qt(e,t,3,te(e,t+1,n))}function Qi(e,t,r,n){return qt(e,t,5,re(e,t+1,n))}function Zi(e,t,r,n){let o=ne(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer bytes lengths not supported`);return qt(e,t,9,o)}function yr(e){return e.encodedBytes===void 0&&(e.encodedBytes=e.type===l.string?$i(e.value):e.value),e.encodedBytes}function wt(e,t){let r=yr(t);H(e,t.type.majorEncoded,r.length),e.push(r)}wt.encodedSize=function(e){let t=yr(e);return H.encodedSize(t.length)+t.length};wt.compareTokens=function(e,t){return bl(yr(e),yr(t))};function bl(e,t){return e.length<t.length?-1:e.length>t.length?1:Ri(e,t)}a();function Ht(e,t,r,n,o){let s=r+n;Fe(e,t,s);let w=new b(l.string,Ni(e,t+r,t+s),s);return o.retainStringBytes===!0&&(w.byteValue=yt(e,t+r,t+s)),w}function Ki(e,t,r,n){return Ht(e,t,1,r,n)}function es(e,t,r,n){return Ht(e,t,2,ee(e,t+1,n),n)}function ts(e,t,r,n){return Ht(e,t,3,te(e,t+1,n),n)}function rs(e,t,r,n){return Ht(e,t,5,re(e,t+1,n),n)}function ns(e,t,r,n){let o=ne(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer string lengths not supported`);return Ht(e,t,9,o,n)}var os=wt;a();function gt(e,t,r,n){return new b(l.array,n,r)}function is(e,t,r,n){return gt(e,t,1,r)}function ss(e,t,r,n){return gt(e,t,2,ee(e,t+1,n))}function as(e,t,r,n){return gt(e,t,3,te(e,t+1,n))}function us(e,t,r,n){return gt(e,t,5,re(e,t+1,n))}function cs(e,t,r,n){let o=ne(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer array lengths not supported`);return gt(e,t,9,o)}function fs(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C} indefinite length items not allowed`);return gt(e,t,1,1/0)}function wr(e,t){H(e,l.array.majorEncoded,t.value)}wr.compareTokens=ce.compareTokens;wr.encodedSize=function(e){return H.encodedSize(e.value)};a();function Dt(e,t,r,n){return new b(l.map,n,r)}function ls(e,t,r,n){return Dt(e,t,1,r)}function ds(e,t,r,n){return Dt(e,t,2,ee(e,t+1,n))}function hs(e,t,r,n){return Dt(e,t,3,te(e,t+1,n))}function ps(e,t,r,n){return Dt(e,t,5,re(e,t+1,n))}function ms(e,t,r,n){let o=ne(e,t+1,n);if(typeof o=="bigint")throw new Error(`${C} 64-bit integer map lengths not supported`);return Dt(e,t,9,o)}function ys(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C} indefinite length items not allowed`);return Dt(e,t,1,1/0)}function gr(e,t){H(e,l.map.majorEncoded,t.value)}gr.compareTokens=ce.compareTokens;gr.encodedSize=function(e){return H.encodedSize(e.value)};a();function ws(e,t,r,n){return new b(l.tag,r,1)}function gs(e,t,r,n){return new b(l.tag,ee(e,t+1,n),2)}function Ds(e,t,r,n){return new b(l.tag,te(e,t+1,n),3)}function bs(e,t,r,n){return new b(l.tag,re(e,t+1,n),5)}function Es(e,t,r,n){return new b(l.tag,ne(e,t+1,n),9)}function Dr(e,t){H(e,l.tag.majorEncoded,t.value)}Dr.compareTokens=ce.compareTokens;Dr.encodedSize=function(e){return H.encodedSize(e.value)};a();var Tl=20,Il=21,Sl=22,Ul=23;function xs(e,t,r,n){if(n.allowUndefined===!1)throw new Error(`${C} undefined values are not supported`);return n.coerceUndefinedToNull===!0?new b(l.null,null,1):new b(l.undefined,void 0,1)}function Cs(e,t,r,n){if(n.allowIndefinite===!1)throw new Error(`${C} indefinite length items not allowed`);return new b(l.break,void 0,1)}function In(e,t,r){if(r){if(r.allowNaN===!1&&Number.isNaN(e))throw new Error(`${C} NaN values are not supported`);if(r.allowInfinity===!1&&(e===1/0||e===-1/0))throw new Error(`${C} Infinity values are not supported`)}return new b(l.float,e,t)}function Bs(e,t,r,n){return In(Sn(e,t+1),3,n)}function As(e,t,r,n){return In(Un(e,t+1),5,n)}function Ts(e,t,r,n){return In(Fs(e,t+1),9,n)}function br(e,t,r){let n=t.value;if(n===!1)e.push([l.float.majorEncoded|Tl]);else if(n===!0)e.push([l.float.majorEncoded|Il]);else if(n===null)e.push([l.float.majorEncoded|Sl]);else if(n===void 0)e.push([l.float.majorEncoded|Ul]);else{let o,s=!1;(!r||r.float64!==!0)&&(Ss(n),o=Sn(me,1),n===o||Number.isNaN(n)?(me[0]=249,e.push(me.slice(0,3)),s=!0):(Us(n),o=Un(me,1),n===o&&(me[0]=250,e.push(me.slice(0,5)),s=!0))),s||(Fl(n),o=Fs(me,1),me[0]=251,e.push(me.slice(0,9)))}}br.encodedSize=function(e,t){let r=e.value;if(r===!1||r===!0||r===null||r===void 0)return 1;if(!t||t.float64!==!0){Ss(r);let n=Sn(me,1);if(r===n||Number.isNaN(r))return 3;if(Us(r),n=Un(me,1),r===n)return 5}return 9};var Is=new ArrayBuffer(9),fe=new DataView(Is,1),me=new Uint8Array(Is,0);function Ss(e){if(e===1/0)fe.setUint16(0,31744,!1);else if(e===-1/0)fe.setUint16(0,64512,!1);else if(Number.isNaN(e))fe.setUint16(0,32256,!1);else{fe.setFloat32(0,e);let t=fe.getUint32(0),r=(t&2139095040)>>23,n=t&8388607;if(r===255)fe.setUint16(0,31744,!1);else if(r===0)fe.setUint16(0,(e&2147483648)>>16|n>>13,!1);else{let o=r-127;o<-24?fe.setUint16(0,0):o<-14?fe.setUint16(0,(t&2147483648)>>16|1<<24+o,!1):fe.setUint16(0,(t&2147483648)>>16|o+15<<10|n>>13,!1)}}}function Sn(e,t){if(e.length-t<2)throw new Error(`${C} not enough data for float16`);let r=(e[t]<<8)+e[t+1];if(r===31744)return 1/0;if(r===64512)return-1/0;if(r===32256)return NaN;let n=r>>10&31,o=r&1023,s;return n===0?s=o*2**-24:n!==31?s=(o+1024)*2**(n-25):s=o===0?1/0:NaN,r&32768?-s:s}function Us(e){fe.setFloat32(0,e,!1)}function Un(e,t){if(e.length-t<4)throw new Error(`${C} not enough data for float32`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function Fl(e){fe.setFloat64(0,e,!1)}function Fs(e,t){if(e.length-t<8)throw new Error(`${C} not enough data for float64`);let r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}br.compareTokens=ce.compareTokens;function U(e,t,r){throw new Error(`${C} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function Er(e){return()=>{throw new Error(`${C} ${e}`)}}var D=[];for(let e=0;e<=23;e++)D[e]=U;D[24]=Mi;D[25]=Oi;D[26]=zi;D[27]=qi;D[28]=U;D[29]=U;D[30]=U;D[31]=U;for(let e=32;e<=55;e++)D[e]=U;D[56]=Hi;D[57]=ji;D[58]=Vi;D[59]=Wi;D[60]=U;D[61]=U;D[62]=U;D[63]=U;for(let e=64;e<=87;e++)D[e]=Ji;D[88]=Xi;D[89]=Yi;D[90]=Qi;D[91]=Zi;D[92]=U;D[93]=U;D[94]=U;D[95]=Er("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)D[e]=Ki;D[120]=es;D[121]=ts;D[122]=rs;D[123]=ns;D[124]=U;D[125]=U;D[126]=U;D[127]=Er("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)D[e]=is;D[152]=ss;D[153]=as;D[154]=us;D[155]=cs;D[156]=U;D[157]=U;D[158]=U;D[159]=fs;for(let e=160;e<=183;e++)D[e]=ls;D[184]=ds;D[185]=hs;D[186]=ps;D[187]=ms;D[188]=U;D[189]=U;D[190]=U;D[191]=ys;for(let e=192;e<=215;e++)D[e]=ws;D[216]=gs;D[217]=Ds;D[218]=bs;D[219]=Es;D[220]=U;D[221]=U;D[222]=U;D[223]=U;for(let e=224;e<=243;e++)D[e]=Er("simple values are not supported");D[244]=U;D[245]=U;D[246]=U;D[247]=xs;D[248]=Er("simple values are not supported");D[249]=Bs;D[250]=As;D[251]=Ts;D[252]=U;D[253]=U;D[254]=U;D[255]=Cs;var ye=[];for(let e=0;e<24;e++)ye[e]=new b(l.uint,e,1);for(let e=-1;e>=-24;e--)ye[31-e]=new b(l.negint,e,1);ye[64]=new b(l.bytes,new Uint8Array(0),1);ye[96]=new b(l.string,"",1);ye[128]=new b(l.array,0,1);ye[160]=new b(l.map,0,1);ye[244]=new b(l.false,!1,1);ye[245]=new b(l.true,!0,1);ye[246]=new b(l.null,null,1);function vs(e){switch(e.type){case l.false:return Ce([244]);case l.true:return Ce([245]);case l.null:return Ce([246]);case l.bytes:return e.value.length?void 0:Ce([64]);case l.string:return e.value===""?Ce([96]):void 0;case l.array:return e.value===0?Ce([128]):void 0;case l.map:return e.value===0?Ce([160]):void 0;case l.uint:return e.value<24?Ce([Number(e.value)]):void 0;case l.negint:if(e.value>=-24)return Ce([31-Number(e.value)])}}var kl={float64:!1,mapSorter:$l,quickEncodeToken:vs};function _l(){let e=[];return e[l.uint.major]=ce,e[l.negint.major]=mr,e[l.bytes.major]=wt,e[l.string.major]=os,e[l.array.major]=wr,e[l.map.major]=gr,e[l.tag.major]=Dr,e[l.float.major]=br,e}var ks=_l(),Fn=new Ot,bt=class{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do if(t.obj===e)return!0;while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${An} object contains circular references`);return new bt(t,e)}},Oe={null:new b(l.null,null),undefined:new b(l.undefined,void 0),true:new b(l.true,!0),false:new b(l.false,!1),emptyArray:new b(l.array,0),emptyMap:new b(l.map,0)},ze={number(e,t,r,n){return!Number.isInteger(e)||!Number.isSafeInteger(e)?new b(l.float,e):e>=0?new b(l.uint,e):new b(l.negint,e)},bigint(e,t,r,n){return e>=BigInt(0)?new b(l.uint,e):new b(l.negint,e)},Uint8Array(e,t,r,n){return new b(l.bytes,e)},string(e,t,r,n){return new b(l.string,e)},boolean(e,t,r,n){return e?Oe.true:Oe.false},null(e,t,r,n){return Oe.null},undefined(e,t,r,n){return Oe.undefined},ArrayBuffer(e,t,r,n){return new b(l.bytes,new Uint8Array(e))},DataView(e,t,r,n){return new b(l.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength))},Array(e,t,r,n){if(!e.length)return r.addBreakTokens===!0?[Oe.emptyArray,new b(l.break)]:Oe.emptyArray;n=bt.createCheck(n,e);let o=[],s=0;for(let w of e)o[s++]=xr(w,r,n);return r.addBreakTokens?[new b(l.array,e.length),o,new b(l.break)]:[new b(l.array,e.length),o]},Object(e,t,r,n){let o=t!=="Object",s=o?e.keys():Object.keys(e),w=o?e.size:s.length;if(!w)return r.addBreakTokens===!0?[Oe.emptyMap,new b(l.break)]:Oe.emptyMap;n=bt.createCheck(n,e);let y=[],k=0;for(let P of s)y[k++]=[xr(P,r,n),xr(o?e.get(P):e[P],r,n)];return Nl(y,r),r.addBreakTokens?[new b(l.map,w),y,new b(l.break)]:[new b(l.map,w),y]}};ze.Map=ze.Object;ze.Buffer=ze.Uint8Array;for(let e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ze[`${e}Array`]=ze.DataView;function xr(e,t={},r){let n=Fi(e),o=t&&t.typeEncoders&&t.typeEncoders[n]||ze[n];if(typeof o=="function"){let w=o(e,n,t,r);if(w!=null)return w}let s=ze[n];if(!s)throw new Error(`${An} unsupported type: ${n}`);return s(e,n,t,r)}function Nl(e,t){t.mapSorter&&e.sort(t.mapSorter)}function $l(e,t){let r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);let o=r.type.major,s=ks[o].compareTokens(r,n);return s===0&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone"),s}function _s(e,t,r,n){if(Array.isArray(t))for(let o of t)_s(e,o,r,n);else r[t.type.major](e,t,n)}function Ll(e,t,r){let n=xr(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){let o=r.quickEncodeToken(n);if(o)return o;let s=t[n.type.major];if(s.encodedSize){let w=s.encodedSize(n,r),y=new Ot(w);if(s(y,n,r),y.chunks.length!==1)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return Bn(y.chunks[0])}}return Fn.reset(),_s(Fn,n,t,r),Fn.toBytes(!0)}function vn(e,t){return t=Object.assign({},kl,t),Ll(e,ks,t)}a();var Pl={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0},kn=class{constructor(e,t={}){this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){let e=this.data[this.pos],t=ye[e];if(t===void 0){let r=D[e];if(!r)throw new Error(`${C} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);let n=e&31;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}},jt=Symbol.for("DONE"),Cr=Symbol.for("BREAK");function Rl(e,t,r){let n=[];for(let o=0;o<e.value;o++){let s=Vt(t,r);if(s===Cr){if(e.value===1/0)break;throw new Error(`${C} got unexpected break to lengthed array`)}if(s===jt)throw new Error(`${C} found array but not enough entries (got ${o}, expected ${e.value})`);n[o]=s}return n}function Ml(e,t,r){let n=r.useMaps===!0,o=n?void 0:{},s=n?new Map:void 0;for(let w=0;w<e.value;w++){let y=Vt(t,r);if(y===Cr){if(e.value===1/0)break;throw new Error(`${C} got unexpected break to lengthed map`)}if(y===jt)throw new Error(`${C} found map but not enough entries (got ${w} [no key], expected ${e.value})`);if(n!==!0&&typeof y!="string")throw new Error(`${C} non-string keys not supported (got ${typeof y})`);let k=Vt(t,r);if(k===jt)throw new Error(`${C} found map but not enough entries (got ${w} [no value], expected ${e.value})`);n?s.set(y,k):o[y]=k}return n?s:o}function Vt(e,t){if(e.done())return jt;let r=e.next();if(r.type===l.break)return Cr;if(r.type.terminal)return r.value;if(r.type===l.array)return Rl(r,e,t);if(r.type===l.map)return Ml(r,e,t);if(r.type===l.tag){if(t.tags&&typeof t.tags[r.value]=="function"){let n=Vt(e,t);return t.tags[r.value](n)}throw new Error(`${C} tag not supported (${r.value})`)}throw new Error("unsupported")}function _n(e,t){if(!(e instanceof Uint8Array))throw new Error(`${C} data to decode must be a Uint8Array`);t=Object.assign({},Pl,t);let r=t.tokenizer||new kn(e,t),n=Vt(r,t);if(n===jt)throw new Error(`${C} did not find any content to decode`);if(n===Cr)throw new Error(`${C} got unexpected break`);if(!r.done())throw new Error(`${C} too many terminals, data makes no sense`);return n}Q();var Ns=42;function zl(e){if(e.asCID!==e)return null;let t=x.asCID(e);if(!t)return null;let r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new b(l.tag,Ns),new b(l.bytes,r)]}function ql(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function Hl(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}var jl={float64:!0,typeEncoders:{Object:zl,undefined:ql,number:Hl}};function Vl(e){if(e[0]!==0)throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return x.decode(e.subarray(1))}var $s={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};$s.tags[Ns]=Vl;var Ls=e=>vn(e,jl),Ps=e=>_n(e,$s);function $n(e){let t=Ls({version:1,roots:e}),r=Nn.default.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function Rs(e){return{async setRoots(t){let r=$n(t);await e.write(r)},async writeBlock(t){let{cid:r,bytes:n}=t;await e.write(new Uint8Array(Nn.default.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},async close(){await e.end()}}}a();function Br(){}function Ms(){let e=[],t=null,r=Br,n=!1,o=null,s=Br,w=()=>(t||(t=new Promise(P=>{r=()=>{t=null,r=Br,P()}})),t),y={write(P){e.push(P);let V=w();return s(),V},async end(){n=!0;let P=w();s(),await P}},k={async next(){let P=e.shift();return P?(e.length===0&&r(),{done:!1,value:P}):n?(r(),{done:!0,value:void 0}):(o||(o=new Promise(V=>{s=()=>(o=null,s=Br,V(k.next()))})),o)}};return{writer:y,iterator:k}}a();var He=J(pt(),1);Q();Le();a();var qe={Null:e=>e===null,Int:e=>Number.isInteger(e),Float:e=>typeof e=="number"&&Number.isFinite(e),String:e=>typeof e=="string",Bool:e=>typeof e=="boolean",Bytes:e=>e instanceof Uint8Array,Link:e=>!qe.Null(e)&&typeof e=="object"&&e.asCID===e,List:e=>Array.isArray(e),Map:e=>!qe.Null(e)&&typeof e=="object"&&e.asCID!==e&&!qe.List(e)&&!qe.Bytes(e)},Et={Int:qe.Int,"CarHeader > version":e=>Et.Int(e),"CarHeader > roots (anon) > valueType (anon)":qe.Link,"CarHeader > roots (anon)":e=>qe.List(e)&&Array.prototype.every.call(e,Et["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":e=>Et["CarHeader > roots (anon)"](e),CarHeader:e=>{let t=e&&Object.keys(e);return qe.Map(e)&&["version"].every(r=>t.includes(r))&&Object.entries(e).every(([r,n])=>Et["CarHeader > "+r]&&Et["CarHeader > "+r](n))}},Os=Et.CarHeader,Ln={SHA2_256:18,LENGTH:32,DAG_PB:112},zs=16+8+8+8;async function Ar(e){let t=await e.upTo(8);if(!t.length)throw new Error("Unexpected end of data");let r=He.default.decode(t);return e.seek(He.default.decode.bytes),r}async function Gl(e){let t=await e.exactly(zs),r=new DataView(t.buffer,t.byteOffset,t.byteLength),n=0,o={version:2,characteristics:[r.getBigUint64(n,!0),r.getBigUint64(n+=8,!0)],dataOffset:Number(r.getBigUint64(n+=8,!0)),dataSize:Number(r.getBigUint64(n+=8,!0)),indexOffset:Number(r.getBigUint64(n+=8,!0))};return e.seek(zs),o}async function Tr(e,t){let r=await Ar(e);if(r===0)throw new Error("Invalid CAR header (zero length)");let n=await e.exactly(r);e.seek(r);let o=Ps(n);if(!Os(o))throw new Error("Invalid CAR header format");if(o.version!==1&&o.version!==2||t!==void 0&&o.version!==t)throw new Error(`Invalid CAR version: ${o.version}${t!==void 0?` (expected ${t})`:""}`);let s=Array.isArray(o.roots);if(o.version===1&&!s||o.version===2&&s)throw new Error("Invalid CAR header format");if(o.version===1)return o;let w=await Gl(e);e.seek(w.dataOffset-e.pos);let y=await Tr(e,1);return Object.assign(y,w)}async function Wl(e){let t=await e.upTo(8);He.default.decode(t);let r=He.default.decode.bytes,n=He.default.decode(t.subarray(He.default.decode.bytes)),o=He.default.decode.bytes,s=r+o+n,w=await e.exactly(s);return e.seek(s),w}async function Jl(e){let t=await e.exactly(2);if(t[0]===Ln.SHA2_256&&t[1]===Ln.LENGTH){let w=await e.exactly(34);e.seek(34);let y=ft(w);return x.create(0,Ln.DAG_PB,y)}let r=await Ar(e);if(r!==1)throw new Error(`Unexpected CID version (${r})`);let n=await Ar(e),o=await Wl(e),s=ft(o);return x.create(r,n,s)}async function qs(e){let t=e.pos,r=await Ar(e);if(r===0)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;let n=await Jl(e),o=r-Number(e.pos-t);return{cid:n,length:r,blockLength:o}}async function Xl(e){let{cid:t,blockLength:r}=await qs(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function Yl(e){let t=e.pos,{cid:r,length:n,blockLength:o}=await qs(e),s={cid:r,length:n,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(s.blockLength),s}function Hs(e){let t=(async()=>{let r=await Tr(e);if(r.version===2){let n=e.pos-r.dataOffset;e=Zl(e,r.dataSize-n)}return r})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await Xl(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await Yl(e)}}}function Ir(e){let t=0;return{async upTo(r){return e.subarray(t,t+Math.min(r,e.length-t))},async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(r){t+=r},get pos(){return t}}}function Ql(e){let t=0,r=0,n=0,o=new Uint8Array(0),s=async w=>{r=o.length-n;let y=[o.subarray(n)];for(;r<w;){let P=await e();if(P==null)break;r<0?P.length>r&&y.push(P.subarray(-r)):y.push(P),r+=P.length}o=new Uint8Array(y.reduce((P,V)=>P+V.length,0));let k=0;for(let P of y)o.set(P,k),k+=P.length;n=0};return{async upTo(w){return o.length-n<w&&await s(w),o.subarray(n,n+Math.min(o.length-n,w))},async exactly(w){if(o.length-n<w&&await s(w),o.length-n<w)throw new Error("Unexpected end of data");return o.subarray(n,n+w)},seek(w){t+=w,n+=w},get pos(){return t}}}function js(e){let t=e[Symbol.asyncIterator]();async function r(){let n=await t.next();return n.done?null:n.value}return Ql(r)}function Zl(e,t){let r=0;return{async upTo(n){let o=await e.upTo(n);return o.length+r>t&&(o=o.subarray(0,t-r)),o},async exactly(n){let o=await e.exactly(n);if(o.length+r>t)throw new Error("Unexpected end of data");return o},seek(n){r+=n,e.seek(n)},get pos(){return e.pos}}}var Qe=class{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");let t=x.asCID(e.cid);if(!t)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then(()=>this._encoder.writeBlock({cid:t,bytes:e.bytes})),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=Kl(e);let{encoder:t,iterator:r}=Vs(),n=new Qe(e,t),o=new Sr(r);return{writer:n,out:o}}static createAppender(){let{encoder:e,iterator:t}=Vs();e.setRoots=()=>Promise.resolve();let r=new Qe([],e),n=new Sr(t);return{writer:r,out:n}}static async updateRootsInBytes(e,t){let r=Ir(e);await Tr(r);let n=$n(t);if(Number(r.pos)!==n.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${r.pos} bytes, new header is ${n.length} bytes)`);return e.set(n,0),e}},Sr=class{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}};function Vs(){let e=Ms(),{writer:t,iterator:r}=e;return{encoder:Rs(t),iterator:r}}function Kl(e){if(e===void 0)return[];if(!Array.isArray(e)){let r=x.asCID(e);if(!r)throw new TypeError("roots must be a single CID or an array of CIDs");return[r]}let t=[];for(let r of e){let n=x.asCID(r);if(!n)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(n)}return t}a();var na=J(Zs(),1),oa=J(ea(),1);a();var rd=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/uig;T.nanosecond=T.ns=1/1e6;T.\u00B5s=T.\u03BCs=T.us=T.microsecond=1/1e3;T.millisecond=T.ms=T[""]=1;T.second=T.sec=T.s=T.ms*1e3;T.minute=T.min=T.m=T.s*60;T.hour=T.hr=T.h=T.m*60;T.day=T.d=T.h*24;T.week=T.wk=T.w=T.d*7;T.month=T.b=T.d*(365.25/12);T.year=T.yr=T.y=T.d*365.25;function T(e="",t="ms"){var r=null;return e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2"),e.replace(rd,function(n,o,s){s=ta(s),s&&(r=(r||0)+parseFloat(o,10)*s)}),r&&r/(ta(t)||1)}function ta(e){return T[e]||T[e.toLowerCase().replace(/s$/,"")]}var ra=T;a();var ve=class extends Error{constructor(e="request timed out"){super(e),this.name="TimeoutError",this.code=ve.code}};ve.code="ERR_TIMEOUT";function le(e,t){return(...r)=>{let n=r[t!=null?t:r.length-1];if(!n||!n.timeout)return e(...r);let o=typeof n.timeout=="string"?ra(n.timeout):n.timeout,s=new na.TimeoutController(o);n.signal=(0,oa.anySignal)([n.signal,s.signal]);let w=e(...r),y=new Promise((V,X)=>{s.signal.addEventListener("abort",()=>{X(new ve)})}),k=Date.now(),P=()=>{if(s.signal.aborted)throw new ve;if(Date.now()-k>o)throw s.abort(),new ve};return w[Symbol.asyncIterator]?async function*(){let V=w[Symbol.asyncIterator]();try{for(;;){let{value:X,done:we}=await Promise.race([V.next(),y]);if(we)break;P(),yield X}}catch(X){throw P(),X}finally{s.clear(),V.return&&V.return()}}():(async()=>{try{let V=await Promise.race([w,y]);return P(),V}catch(V){throw P(),V}finally{s.clear()}})()}}a();var Be=J(ca(),1);Re();ht();zn();Be.default.formatters.b=e=>e==null?"undefined":Y.baseEncode(e);Be.default.formatters.t=e=>e==null?"undefined":Me.baseEncode(e);Be.default.formatters.m=e=>e==null?"undefined":Mn.baseEncode(e);Be.default.formatters.p=e=>e==null?"undefined":e.toString();Be.default.formatters.c=e=>e==null?"undefined":e.toString();Be.default.formatters.k=e=>e==null?"undefined":e.toString();function kr(e){return Object.assign((0,Be.default)(e),{error:(0,Be.default)(`${e}:error`),trace:(0,Be.default)(`${e}:trace`)})}qn();Hn();a();Re();var jn=async({cid:e,load:t,seen:r})=>{r=r||new Set;let n=e.toString(Y);if(r.has(n))return;let o=await t(e);if(r.add(n),o!==null)for(let[,s]of o.links())await jn({cid:s,load:t,seen:r})},pa=kr("ipfs:components:dag:import"),gd=[fa,da];function ma({repo:e,preload:t,codecs:r}){async function*n(o,s={}){s.preload!==!1&&t(o);let w=x.asCID(o);if(!w)throw new Error(`Unexpected error converting CID type: ${o}`);pa(`Exporting ${w} as car`);let{writer:y,out:k}=await Qe.create([w]),P=null;(async()=>{try{let V=Dd(e,y,{signal:s.signal,timeout:s.timeout},r);await jn({cid:w,load:V})}catch(V){P=V}finally{y.close()}})();for await(let V of k){if(P)break;yield V}if(P)throw P}return le(n)}function Dd(e,t,r,n){return async o=>{let s=await n.getCodec(o.code);if(!s)throw new Error(`Can't decode links in block with codec 0x${o.code.toString(16)} to form complete DAG`);let w=await e.blocks.get(o,r);return pa(`Adding block ${o} to car`),await t.put({cid:o,bytes:w}),gd.includes(o.code)?null:bi({bytes:w,cid:o,codec:s})}}a();var ic=J(wa(),1),sc=J(Da(),1);a();J(Ku(),1);Q();a();a();a();var ec=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");Ke();fo();var ke="/",tc=new TextEncoder().encode(ke),Vr=tc[0],G=class{constructor(e,t){if(typeof e=="string")this._buf=co(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(t==null&&(t=!0),t&&this.clean(),this._buf.byteLength===0||this._buf[0]!==Vr)throw new Error("Invalid key")}toString(e="utf8"){return so(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new G(e.join(ke))}static random(){return new G(ec().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||typeof e=="string"?new G(e):e.uint8Array?new G(e.uint8Array()):null}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=tc),this._buf[0]!==Vr){let e=new Uint8Array(this._buf.byteLength+1);e.fill(Vr,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Vr;)this._buf=this._buf.subarray(0,-1)}less(e){let t=this.list(),r=e.list();for(let n=0;n<t.length;n++){if(r.length<n+1)return!1;let o=t[n],s=r[n];if(o<s)return!0;if(o>s)return!1}return t.length<r.length}reverse(){return G.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(ke).slice(1)}type(){return Lh(this.baseNamespace())}name(){return Ph(this.baseNamespace())}instance(e){return new G(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(ke)||(e+=ke),e+=this.type(),new G(e)}parent(){let e=this.list();return e.length===1?new G(ke):new G(e.slice(0,-1).join(ke))}child(e){return this.toString()===ke?e:e.toString()===ke?this:new G(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return G.withNamespaces([...this.namespaces(),...Rh(e.map(t=>t.namespaces()))])}};function Lh(e){let t=e.split(":");return t.length<2?"":t.slice(0,-1).join(":")}function Ph(e){let t=e.split(":");return t[t.length-1]}function Rh(e){return[].concat(...e)}var _o=J(Yt(),1);a();Q();var ko=J(Yt(),1),rc="/ipfs/";function Gr(e){if(e instanceof Uint8Array)try{e=x.decode(e)}catch(o){throw(0,ko.default)(o,"ERR_INVALID_CID")}let t=x.asCID(e);if(t)return{cid:t,path:void 0};e=e.toString(),e.startsWith(rc)&&(e=e.substring(rc.length));let r=e.split("/"),n;try{t=x.parse(r.shift()||"")}catch(o){throw(0,ko.default)(o,"ERR_INVALID_CID")}return r.length&&(n=`/${r.join("/")}`),{cid:t,path:n}}a();Q();a();new TextDecoder;a();new TextEncoder;a();Q();new TextEncoder;var nc=112;new G("/local/filesroot");var oc=async function(e,t,r,n={}){let{cid:o,path:s}=Gr(r);s&&(n.path=s);let w=o,y=n.path||"";if(y.startsWith("/")&&(y=y.substring(1)),n.path)try{for await(let{value:k,remainderPath:P}of Wr(o,n.path,t,e,{signal:n.signal})){if(!x.asCID(k))break;y=P,w=k}}catch(k){throw k.message.startsWith("Object has no property")&&(k.message=`no link named "${y.split("/")[0]}" under ${w}`,k.code="ERR_NO_LINK"),k}return{cid:w,remainderPath:y||""}},Wr=async function*(e,t,r,n,o){let s=async P=>{let V=await r.getCodec(P.code),X=await n.blocks.get(P,o);return V.decode(X)},w=t.split("/").filter(Boolean),y=await s(e),k=e;for(;w.length;){let P=w.shift();if(!P)throw(0,_o.default)(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(e.code===nc&&Array.isArray(y.Links)){let V=y.Links.find(X=>X.Name===P);if(V){yield{value:V.Hash,remainderPath:w.join("/")},y=await s(V.Hash),k=V.Hash;continue}}if(Object.prototype.hasOwnProperty.call(y,P))y=y[P],yield{value:y,remainderPath:w.join("/")};else throw(0,_o.default)(new Error(`no link named "${P}" under ${k}`),"ERR_NO_LINK");x.asCID(y)&&(k=y,y=await s(y))}yield{value:y,remainderPath:""}},ac=J(Yt(),1);function uc({codecs:e,repo:t,preload:r}){return le(async function(n,o={}){if(o.preload!==!1&&r(n),o.path){let y=o.localResolve?await(0,ic.default)(Wr(n,o.path,e,t,o)):await(0,sc.default)(Wr(n,o.path,e,t,o));if(!y)throw(0,ac.default)(new Error("Not found"),"ERR_NOT_FOUND");return y}let s=await e.getCodec(n.code),w=await t.blocks.get(n,o);return{value:s.decode(w),remainderPath:""}})}a();a();var Jr=class{constructor(e,t,r){this._version=e,this._roots=t,this._iterable=r,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}},tt=class extends Jr{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){let{version:t,roots:r,iterator:n}=await cc(e);return new tt(t,r,n)}static async fromIterable(e){let{version:t,roots:r,iterator:n}=await fc(e);return new tt(t,r,n)}};async function cc(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return lc(Ir(e))}async function fc(e){if(!e||typeof e[Symbol.asyncIterator]!="function")throw new TypeError("fromIterable() requires an async iterable");return lc(js(e))}async function lc(e){let t=Hs(e),{version:r,roots:n}=await t.header();return{version:r,roots:n,iterator:t.blocks()}}var gc=J(hc(),1),Dc=J(mc(),1),bc=J(wc(),1),Ec=kr("ipfs:components:dag:import");function xc({repo:e}){async function*t(r,n={}){let o=await e.gcLock.readLock();try{let s={signal:n.signal,timeout:n.timeout},w=(0,gc.default)(r),{value:y,done:k}=await w.peek();if(k)return;y&&w.push(y);let P;y instanceof Uint8Array?P=[w]:P=w;for await(let V of P){let X=await jh(e,s,V);if(n.pinRoots!==!1)for(let we of X){let q="";try{await e.blocks.has(we)?(Ec(`Pinning root ${we}`),await e.pins.pinRecursively(we)):q="blockstore: block not found"}catch(L){q=L.message}yield{root:{cid:we,pinErrorMsg:q}}}}}finally{o()}}return le(t)}async function jh(e,t,r){let n=await tt.fromIterable(r),o=await n.getRoots();return await(0,Dc.default)(e.blocks.putMany((0,bc.default)(n,({cid:s,bytes:w})=>(Ec(`Import block ${s}`),{key:s,value:w})),{signal:t.signal})),o}a();Q();function Cc({repo:e,codecs:t,hashers:r,preload:n}){async function o(s,w={}){let y=w.pin?await e.gcLock.readLock():null;try{let k=await t.getCodec(w.storeCodec||"dag-cbor");if(!k)throw new Error(`Unknown storeCodec ${w.storeCodec}, please configure additional BlockCodecs for this IPFS instance`);if(w.inputCodec){if(!(s instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");let L=await t.getCodec(w.inputCodec);if(!L)throw new Error(`Unknown inputCodec ${w.inputCodec}, please configure additional BlockCodecs for this IPFS instance`);s=L.decode(s)}let P=w.version!=null?w.version:1,V=await r.getHasher(w.hashAlg||"sha2-256");if(!V)throw new Error(`Unknown hash algorithm ${w.hashAlg}, please configure additional MultihashHashers for this IPFS instance`);let X=k.encode(s),we=await V.digest(X),q=x.create(P,k.code,we);return await e.blocks.put(q,X,{signal:w.signal}),w.pin&&await e.pins.pinRecursively(q),w.preload!==!1&&n(q),q}finally{y&&y()}}return le(o)}a();function Bc({repo:e,codecs:t,preload:r}){async function n(o,s={}){let{cid:w}=Gr(o);return s.preload!==!1&&r(w),oc(e,t,o,s)}return le(n)}var Ac=class{constructor({repo:e,codecs:t,hashers:r,preload:n}){this.export=ma({repo:e,preload:n,codecs:t}),this.get=uc({codecs:t,repo:e,preload:n}),this.import=xc({repo:e}),this.resolve=Bc({repo:e,codecs:t,preload:n}),this.put=Cc({repo:e,codecs:t,hashers:r,preload:n})}};/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*//*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */const code$2=0,name$2="identity",encode$4=coerce,digest=e=>create$1(code$2,encode$4(e)),identity$1={code:code$2,name:name$2,encode:encode$4,digest},identity$2=Object.freeze(Object.defineProperty({__proto__:null,identity:identity$1},Symbol.toStringTag,{value:"Module"})),identity=from$1({prefix:"\0",name:"identity",encode:e=>toString$1(e),decode:e=>fromString$1(e)}),identityBase=Object.freeze(Object.defineProperty({__proto__:null,identity},Symbol.toStringTag,{value:"Module"})),base2=rfc4648({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),base2$1=Object.freeze(Object.defineProperty({__proto__:null,base2},Symbol.toStringTag,{value:"Module"})),base8=rfc4648({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),base8$1=Object.freeze(Object.defineProperty({__proto__:null,base8},Symbol.toStringTag,{value:"Module"})),base10=baseX({prefix:"9",name:"base10",alphabet:"0123456789"}),base10$1=Object.freeze(Object.defineProperty({__proto__:null,base10},Symbol.toStringTag,{value:"Module"})),base16=rfc4648({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),base16upper=rfc4648({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),base16$1=Object.freeze(Object.defineProperty({__proto__:null,base16,base16upper},Symbol.toStringTag,{value:"Module"})),base36=baseX({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),base36upper=baseX({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),base36$1=Object.freeze(Object.defineProperty({__proto__:null,base36,base36upper},Symbol.toStringTag,{value:"Module"})),base64=rfc4648({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),base64pad=rfc4648({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),base64url=rfc4648({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),base64urlpad=rfc4648({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),base64$1=Object.freeze(Object.defineProperty({__proto__:null,base64,base64pad,base64url,base64urlpad},Symbol.toStringTag,{value:"Module"})),alphabet=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),alphabetBytesToChars=alphabet.reduce((e,t,r)=>(e[r]=t,e),[]),alphabetCharsToBytes=alphabet.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function encode$3(e){return e.reduce((t,r)=>(t+=alphabetBytesToChars[r],t),"")}function decode$3(e){const t=[];for(const r of e){const n=alphabetCharsToBytes[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const base256emoji=from$1({prefix:"\u{1F680}",name:"base256emoji",encode:encode$3,decode:decode$3}),base256emoji$1=Object.freeze(Object.defineProperty({__proto__:null,base256emoji},Symbol.toStringTag,{value:"Module"})),textEncoder$2=new TextEncoder,textDecoder$1=new TextDecoder,name$1="json",code$1=512,encode$2=e=>textEncoder$2.encode(JSON.stringify(e)),decode$2=e=>JSON.parse(textDecoder$1.decode(e)),json=Object.freeze(Object.defineProperty({__proto__:null,name:name$1,code:code$1,encode:encode$2,decode:decode$2},Symbol.toStringTag,{value:"Module"}));({...identityBase,...base2$1,...base8$1,...base10$1,...base16$1,...base32$1,...base36$1,...base58,...base64$1,...base256emoji$1});const hashes={...sha2,...identity$2},codecs={raw,json},textDecoder=new TextDecoder;function decodeVarint(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const o=e[t++];if(r+=n<28?(o&127)<<n:(o&127)*2**n,o<128)break}return[r,t]}function decodeBytes(e,t){let r;[r,t]=decodeVarint(e,t);const n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function decodeKey(e,t){let r;return[r,t]=decodeVarint(e,t),[r&7,r>>3,t]}function decodeLink(e){const t={},r=e.length;let n=0;for(;n<r;){let o,s;if([o,s,n]=decodeKey(e,n),s===1){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Hash`);if(t.Name!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=decodeBytes(e,n)}else if(s===2){if(t.Name!==void 0)throw new Error("protobuf: (PBLink) duplicate Name section");if(o!==2)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Name`);if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let w;[w,n]=decodeBytes(e,n),t.Name=textDecoder.decode(w)}else if(s===3){if(t.Tsize!==void 0)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(o!==0)throw new Error(`protobuf: (PBLink) wrong wireType (${o}) for Tsize`);[t.Tsize,n]=decodeVarint(e,n)}else throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${s}`)}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}function decodeNode(e){const t=e.length;let r=0,n,o=!1,s;for(;r<t;){let y,k;if([y,k,r]=decodeKey(e,r),y!==2)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${y}`);if(k===1){if(s)throw new Error("protobuf: (PBNode) duplicate Data section");[s,r]=decodeBytes(e,r),n&&(o=!0)}else if(k===2){if(o)throw new Error("protobuf: (PBNode) duplicate Links section");n||(n=[]);let P;[P,r]=decodeBytes(e,r),n.push(decodeLink(P))}else throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${k}`)}if(r>t)throw new Error("protobuf: (PBNode) unexpected end of data");const w={};return s&&(w.Data=s),w.Links=n||[],w}const textEncoder$1=new TextEncoder,maxInt32=2**32,maxUInt32=2**31;function encodeLink(e,t){let r=t.length;if(typeof e.Tsize=="number"){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=encodeVarint(t,r,e.Tsize)-1,t[r]=24}if(typeof e.Name=="string"){const n=textEncoder$1.encode(e.Name);r-=n.length,t.set(n,r),r=encodeVarint(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=encodeVarint(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function encodeNode(e){const t=sizeNode(e),r=new Uint8Array(t);let n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=encodeVarint(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){const s=encodeLink(e.Links[o],r.subarray(0,n));n-=s,n=encodeVarint(r,n,s)-1,r[n]=18}return r}function sizeLink(e){let t=0;if(e.Hash){const r=e.Hash.length;t+=1+r+sov(r)}if(typeof e.Name=="string"){const r=textEncoder$1.encode(e.Name).length;t+=1+r+sov(r)}return typeof e.Tsize=="number"&&(t+=1+sov(e.Tsize)),t}function sizeNode(e){let t=0;if(e.Data){const r=e.Data.length;t+=1+r+sov(r)}if(e.Links)for(const r of e.Links){const n=sizeLink(r);t+=1+n+sov(n)}return t}function encodeVarint(e,t,r){t-=sov(r);const n=t;for(;r>=maxUInt32;)e[t++]=r&127|128,r/=128;for(;r>=128;)e[t++]=r&127|128,r>>>=7;return e[t]=r,n}function sov(e){return e%2===0&&e++,Math.floor((len64(e)+6)/7)}function len64(e){let t=0;return e>=maxInt32&&(e=Math.floor(e/maxInt32),t=32),e>=1<<16&&(e>>>=16,t+=16),e>=1<<8&&(e>>>=8,t+=8),t+len8tab[e]}const len8tab=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],pbNodeProperties=["Data","Links"],pbLinkProperties=["Hash","Name","Tsize"],textEncoder=new TextEncoder;function linkComparator(e,t){if(e===t)return 0;const r=e.Name?textEncoder.encode(e.Name):[],n=t.Name?textEncoder.encode(t.Name):[];let o=r.length,s=n.length;for(let w=0,y=Math.min(o,s);w<y;++w)if(r[w]!==n[w]){o=r[w],s=n[w];break}return o<s?-1:s<o?1:0}function hasOnlyProperties(e,t){return!Object.keys(e).some(r=>!t.includes(r))}function asLink(e){if(typeof e.asCID=="object"){const r=CID.asCID(e);if(!r)throw new TypeError("Invalid DAG-PB form");return{Hash:r}}if(typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let r=CID.asCID(e.Hash);try{r||(typeof e.Hash=="string"?r=CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=CID.decode(e.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}r&&(t.Hash=r)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return typeof e.Name=="string"&&(t.Name=e.Name),typeof e.Tsize=="number"&&(t.Tsize=e.Tsize),t}function prepare(e){if((e instanceof Uint8Array||typeof e=="string")&&(e={Data:e}),typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Data!==void 0)if(typeof e.Data=="string")t.Data=textEncoder.encode(e.Data);else if(e.Data instanceof Uint8Array)t.Data=e.Data;else throw new TypeError("Invalid DAG-PB form");if(e.Links!==void 0)if(Array.isArray(e.Links))t.Links=e.Links.map(asLink),t.Links.sort(linkComparator);else throw new TypeError("Invalid DAG-PB form");else t.Links=[];return t}function validate(e){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!hasOnlyProperties(e,pbNodeProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(e.Data!==void 0&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){const r=e.Links[t];if(!r||typeof r!="object"||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!hasOnlyProperties(r,pbLinkProperties))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(r.Name!==void 0&&typeof r.Name!="string")throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(r.Tsize!==void 0&&(typeof r.Tsize!="number"||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&linkComparator(r,e.Links[t-1])===-1)throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function createNode(e,t=[]){return prepare({Data:e,Links:t})}function createLink(e,t,r){return asLink({Hash:r,Name:e,Tsize:t})}class JSONEncoder extends Array{constructor(){super(),this.inRecursive=[]}prefix(t){const r=this.inRecursive[this.inRecursive.length-1];r&&(r.type===Type.array&&(r.elements++,r.elements!==1&&t.push([44])),r.type===Type.map&&(r.elements++,r.elements!==1&&(r.elements%2===1?t.push([44]):t.push([58]))))}[Type.uint.major](t,r){this.prefix(t);const n=String(r.value),o=[];for(let s=0;s<n.length;s++)o[s]=n.charCodeAt(s);t.push(o)}[Type.negint.major](t,r){this[Type.uint.major](t,r)}[Type.bytes.major](t,r){throw new Error(`${encodeErrPrefix} unsupported type: Uint8Array`)}[Type.string.major](t,r){this.prefix(t);const n=fromString(JSON.stringify(r.value));t.push(n.length>32?asU8A(n):n)}[Type.array.major](t,r){this.prefix(t),this.inRecursive.push({type:Type.array,elements:0}),t.push([91])}[Type.map.major](t,r){this.prefix(t),this.inRecursive.push({type:Type.map,elements:0}),t.push([123])}[Type.tag.major](t,r){}[Type.float.major](t,r){if(r.type.name==="break"){const w=this.inRecursive.pop();if(w){if(w.type===Type.array)t.push([93]);else if(w.type===Type.map)t.push([125]);else throw new Error("Unexpected recursive type; this should not happen!");return}throw new Error("Unexpected break; this should not happen!")}if(r.value===void 0)throw new Error(`${encodeErrPrefix} unsupported type: undefined`);if(this.prefix(t),r.type.name==="true"){t.push([116,114,117,101]);return}else if(r.type.name==="false"){t.push([102,97,108,115,101]);return}else if(r.type.name==="null"){t.push([110,117,108,108]);return}const n=String(r.value),o=[];let s=!1;for(let w=0;w<n.length;w++)o[w]=n.charCodeAt(w),!s&&(o[w]===46||o[w]===101||o[w]===69)&&(s=!0);s||(o.push(46),o.push(48)),t.push(o)}}function mapSorter(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw new Error(`${encodeErrPrefix} complex map keys are not supported`);const r=e[0],n=t[0];if(r.type!==Type.string||n.type!==Type.string)throw new Error(`${encodeErrPrefix} non-string map keys are not supported`);if(r<n)return-1;if(r>n)return 1;throw new Error(`${encodeErrPrefix} unexpected duplicate map keys, this is not supported`)}const defaultEncodeOptions={addBreakTokens:!0,mapSorter};function encode$1(e,t){return t=Object.assign({},defaultEncodeOptions,t),encodeCustom(e,new JSONEncoder,t)}class Tokenizer{constructor(t,r={}){this.pos=0,this.data=t,this.options=r,this.modeStack=["value"],this.lastToken=""}done(){return this.pos>=this.data.length}ch(){return this.data[this.pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let t=this.ch();for(;t===32||t===9||t===13||t===10;)t=this.data[++this.pos]}expect(t){if(this.data.length-this.pos<t.length)throw new Error(`${decodeErrPrefix} unexpected end of input at position ${this.pos}`);for(let r=0;r<t.length;r++)if(this.data[this.pos++]!==t[r])throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}, expected to find '${String.fromCharCode(...t)}'`)}parseNumber(){const t=this.pos;let r=!1,n=!1;const o=y=>{for(;!this.done();){const k=this.ch();if(y.includes(k))this.pos++;else break}};if(this.ch()===45&&(r=!0,this.pos++),this.ch()===48)if(this.pos++,this.ch()===46)this.pos++,n=!0;else return new Token(Type.uint,0,this.pos-t);if(o([48,49,50,51,52,53,54,55,56,57]),r&&this.pos===t+1)throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}`);if(!this.done()&&this.ch()===46){if(n)throw new Error(`${decodeErrPrefix} unexpected token at position ${this.pos}`);n=!0,this.pos++,o([48,49,50,51,52,53,54,55,56,57])}!this.done()&&(this.ch()===101||this.ch()===69)&&(n=!0,this.pos++,!this.done()&&(this.ch()===43||this.ch()===45)&&this.pos++,o([48,49,50,51,52,53,54,55,56,57]));const s=String.fromCharCode.apply(null,this.data.subarray(t,this.pos)),w=parseFloat(s);return n?new Token(Type.float,w,this.pos-t):this.options.allowBigInt!==!0||Number.isSafeInteger(w)?new Token(w>=0?Type.uint:Type.negint,w,this.pos-t):new Token(w>=0?Type.uint:Type.negint,BigInt(s),this.pos-t)}parseString(){if(this.ch()!==34)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}; this shouldn't happen`);this.pos++;for(let s=this.pos,w=0;s<this.data.length&&w<65536;s++,w++){const y=this.data[s];if(y===92||y<32||y>=128)break;if(y===34){const k=String.fromCharCode.apply(null,this.data.subarray(this.pos,s));return this.pos=s+1,new Token(Type.string,k,w)}}const t=this.pos,r=[],n=()=>{if(this.pos+4>=this.data.length)throw new Error(`${decodeErrPrefix} unexpected end of unicode escape sequence at position ${this.pos}`);let s=0;for(let w=0;w<4;w++){let y=this.ch();if(y>=48&&y<=57)y-=48;else if(y>=97&&y<=102)y=y-97+10;else if(y>=65&&y<=70)y=y-65+10;else throw new Error(`${decodeErrPrefix} unexpected unicode escape character at position ${this.pos}`);s=s*16+y,this.pos++}return s},o=()=>{const s=this.ch();let w=null,y=s>239?4:s>223?3:s>191?2:1;if(this.pos+y>this.data.length)throw new Error(`${decodeErrPrefix} unexpected unicode sequence at position ${this.pos}`);let k,P,V,X;switch(y){case 1:s<128&&(w=s);break;case 2:k=this.data[this.pos+1],(k&192)===128&&(X=(s&31)<<6|k&63,X>127&&(w=X));break;case 3:k=this.data[this.pos+1],P=this.data[this.pos+2],(k&192)===128&&(P&192)===128&&(X=(s&15)<<12|(k&63)<<6|P&63,X>2047&&(X<55296||X>57343)&&(w=X));break;case 4:k=this.data[this.pos+1],P=this.data[this.pos+2],V=this.data[this.pos+3],(k&192)===128&&(P&192)===128&&(V&192)===128&&(X=(s&15)<<18|(k&63)<<12|(P&63)<<6|V&63,X>65535&&X<1114112&&(w=X))}w===null?(w=65533,y=1):w>65535&&(w-=65536,r.push(w>>>10&1023|55296),w=56320|w&1023),r.push(w),this.pos+=y};for(;!this.done();){const s=this.ch();let w;switch(s){case 92:if(this.pos++,this.done())throw new Error(`${decodeErrPrefix} unexpected string termination at position ${this.pos}`);switch(w=this.ch(),this.pos++,w){case 34:case 39:case 92:case 47:r.push(w);break;case 98:r.push(8);break;case 116:r.push(9);break;case 110:r.push(10);break;case 102:r.push(12);break;case 114:r.push(13);break;case 117:r.push(n());break;default:throw new Error(`${decodeErrPrefix} unexpected string escape character at position ${this.pos}`)}break;case 34:return this.pos++,new Token(Type.string,decodeCodePointsArray(r),this.pos-t);default:if(s<32)throw new Error(`${decodeErrPrefix} invalid control character at position ${this.pos}`);s<128?(r.push(s),this.pos++):o()}}throw new Error(`${decodeErrPrefix} unexpected end of string at position ${this.pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this.pos++,new Token(Type.map,1/0,1);case 91:return this.modeStack.push("array-start"),this.pos++,new Token(Type.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new Token(Type.null,null,4);case 102:return this.expect([102,97,108,115,101]),new Token(Type.false,!1,5);case 116:return this.expect([116,114,117,101]),new Token(Type.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":{if(this.modeStack.pop(),this.ch()===93)return this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue()}case"array-start":return this.modeStack.pop(),this.ch()===93?(this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(this.ch()===125)return this.modeStack.pop(),this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);if(this.ch()!==44)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this.pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),this.ch()===125)return this.pos++,this.skipWhitespace(),new Token(Type.break,void 0,1);const t=this.parseString();if(this.skipWhitespace(),this.ch()!==58)throw new Error(`${decodeErrPrefix} unexpected character at position ${this.pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this.pos++,this.modeStack.push("obj-value"),t}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${decodeErrPrefix} unexpected parse state at position ${this.pos}; this shouldn't happen`)}}}function decode$1(e,t){return t=Object.assign({tokenizer:new Tokenizer(e,t)},t),decode$7(e,t)}function cidEncoder(e){if(e.asCID!==e)return null;const t=CID.asCID(e);if(!t)return null;const r=t.toString();return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.string,r,r.length),new Token(Type.break,void 0,1)]}function bytesEncoder(e){const t=base64.encode(e).slice(1);return[new Token(Type.map,1/0,1),new Token(Type.string,"/",1),new Token(Type.map,1/0,1),new Token(Type.string,"bytes",5),new Token(Type.string,t,t.length),new Token(Type.break,void 0,1),new Token(Type.break,void 0,1)]}function undefinedEncoder(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")}function numberEncoder(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}const encodeOptions={typeEncoders:{Object:cidEncoder,Uint8Array:bytesEncoder,Buffer:bytesEncoder,undefined:undefinedEncoder,number:numberEncoder}};class DagJsonTokenizer extends Tokenizer{constructor(t,r){super(t,r),this.tokenBuffer=[]}done(){return this.tokenBuffer.length===0&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const t=this._next();if(t.type===Type.map){const r=this._next();if(r.type===Type.string&&r.value==="/"){const n=this._next();if(n.type===Type.string){if(this._next().type!==Type.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(n),new Token(Type.tag,42,0)}if(n.type===Type.map){const o=this._next();if(o.type===Type.string&&o.value==="bytes"){const s=this._next();if(s.type===Type.string){for(let y=0;y<2;y++)if(this._next().type!==Type.break)throw new Error("Invalid encoded Bytes form");const w=base64.decode(`m${s.value}`);return new Token(Type.bytes,w,s.value.length)}this.tokenBuffer.push(s)}this.tokenBuffer.push(o)}this.tokenBuffer.push(n)}this.tokenBuffer.push(r)}return t}}const decodeOptions={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};decodeOptions.tags[42]=CID.parse;const name="dag-json",code=297,encode=e=>encode$1(e,encodeOptions),decode=e=>{const t=Object.assign(decodeOptions,{tokenizer:new DagJsonTokenizer(e,decodeOptions)});return decode$1(e,t)},dagJSON=Object.freeze(Object.defineProperty({__proto__:null,name,code,encode,decode},Symbol.toStringTag,{value:"Module"}));export{Ac as A,CID as C,Transaction as T,createLink as a,base64url as b,createNode as c,decodeNode as d,encodeNode as e,encode$8 as f,decode$6 as g,codecs as h,identity$1 as i,dagCBOR as j,dagJSON as k,cF as l,hashes as m,mitt as n,encode$5 as o,prepare as p,validate as v};
