{
  "version": 3,
  "sources": ["../node_modules/base64-js/index.js", "../node_modules/ieee754/index.js", "../node_modules/buffer/index.js", "../node_modules/process/browser.js", "../src/node-globals.js", "../node_modules/varint/encode.js", "../node_modules/varint/decode.js", "../node_modules/varint/length.js", "../node_modules/varint/index.js", "../node_modules/multiformats/esm/vendor/varint.js", "../node_modules/multiformats/esm/src/varint.js", "../node_modules/multiformats/esm/src/bytes.js", "../node_modules/multiformats/esm/src/hashes/digest.js", "../node_modules/multiformats/esm/vendor/base-x.js", "../node_modules/multiformats/esm/src/bases/base.js", "../node_modules/multiformats/esm/src/bases/base58.js", "../node_modules/multiformats/esm/src/bases/base32.js", "../node_modules/multiformats/esm/src/cid.js", "../node_modules/multiformats/esm/src/hashes/hasher.js", "../node_modules/multiformats/esm/src/index.js", "../node_modules/multiformats/esm/src/codecs/raw.js", "../node_modules/multiformats/esm/src/hashes/sha2-browser.js", "../node_modules/ms/index.js", "../node_modules/debug/src/common.js", "../node_modules/debug/src/browser.js", "../node_modules/err-code/index.js", "../node_modules/multiformats/esm/src/bases/identity.js", "../node_modules/multiformats/esm/src/bases/base2.js", "../node_modules/multiformats/esm/src/bases/base8.js", "../node_modules/multiformats/esm/src/bases/base10.js", "../node_modules/multiformats/esm/src/bases/base16.js", "../node_modules/multiformats/esm/src/bases/base36.js", "../node_modules/multiformats/esm/src/bases/base64.js", "../node_modules/multiformats/esm/src/bases/base256emoji.js", "../node_modules/multiformats/esm/src/hashes/identity.js", "../node_modules/multiformats/esm/src/codecs/json.js", "../node_modules/multiformats/esm/src/basics.js", "../node_modules/uint8arrays/esm/src/alloc.js", "../node_modules/uint8arrays/esm/src/util/bases.js", "../node_modules/uint8arrays/esm/src/to-string.js", "../node_modules/uint8arrays/esm/src/from-string.js", "../node_modules/it-length/index.js", "../node_modules/@protobufjs/aspromise/index.js", "../node_modules/@protobufjs/base64/index.js", "../node_modules/@protobufjs/eventemitter/index.js", "../node_modules/@protobufjs/float/index.js", "../node_modules/@protobufjs/inquire/index.js", "../node_modules/@protobufjs/utf8/index.js", "../node_modules/@protobufjs/pool/index.js", "../node_modules/protobufjs/src/util/longbits.js", "../node_modules/protobufjs/src/util/minimal.js", "../node_modules/protobufjs/src/writer.js", "../node_modules/protobufjs/src/writer_buffer.js", "../node_modules/protobufjs/src/reader.js", "../node_modules/protobufjs/src/reader_buffer.js", "../node_modules/protobufjs/src/rpc/service.js", "../node_modules/protobufjs/src/rpc.js", "../node_modules/protobufjs/src/roots.js", "../node_modules/protobufjs/src/index-minimal.js", "../node_modules/protobufjs/minimal.js", "../node_modules/fnv1a/index.js", "../node_modules/uint8arrays/esm/src/concat.js", "../node_modules/multiaddr/node_modules/ip-regex/index.js", "../node_modules/multiaddr/node_modules/is-ip/index.js", "../node_modules/multiaddr/src/ip.js", "../node_modules/multiaddr/src/protocols-table.js", "../node_modules/multiaddr/src/convert.js", "../node_modules/multiaddr/src/codec.js", "../node_modules/uint8arrays/esm/src/equals.js", "../node_modules/multiaddr/src/index.js", "../node_modules/bytes/index.js", "../node_modules/is-plain-obj/index.js", "../node_modules/merge-options/index.js", "../node_modules/eventemitter3/index.js", "../node_modules/it-filter/index.js", "../node_modules/it-drain/index.js", "../node_modules/it-first/index.js", "../node_modules/it-map/index.js", "../node_modules/it-batch/index.js", "../node_modules/it-parallel-batch/index.js", "../node_modules/fast-fifo/fixed-size.js", "../node_modules/fast-fifo/index.js", "../node_modules/it-merge/node_modules/it-pushable/index.js", "../node_modules/it-merge/index.js", "../node_modules/it-all/index.js", "../node_modules/it-take/index.js", "../node_modules/it-sort/index.js", "../node_modules/level-supports/index.js", "../node_modules/module-error/index.js", "../node_modules/level-transcoder/lib/text-endec.js", "../node_modules/level-transcoder/lib/encoding.js", "../node_modules/level-transcoder/lib/formats.js", "../node_modules/level-transcoder/lib/encodings.js", "../node_modules/level-transcoder/index.js", "../node_modules/events/events.js", "../node_modules/catering/next-tick-browser.js", "../node_modules/catering/index.js", "../node_modules/abstract-level/lib/common.js", "../node_modules/abstract-level/abstract-iterator.js", "../node_modules/abstract-level/lib/default-kv-iterator.js", "../node_modules/abstract-level/lib/deferred-iterator.js", "../node_modules/abstract-level/abstract-chained-batch.js", "../node_modules/abstract-level/lib/default-chained-batch.js", "../node_modules/abstract-level/lib/range-options.js", "../node_modules/queue-microtask/index.js", "../node_modules/abstract-level/lib/next-tick-browser.js", "../node_modules/abstract-level/lib/abstract-sublevel-iterator.js", "../node_modules/abstract-level/lib/abstract-sublevel.js", "../node_modules/abstract-level/abstract-level.js", "../node_modules/abstract-level/index.js", "../node_modules/run-parallel-limit/index.js", "../node_modules/browser-level/util/key-range.js", "../node_modules/browser-level/util/deserialize.js", "../node_modules/browser-level/iterator.js", "../node_modules/browser-level/util/clear.js", "../node_modules/browser-level/index.js", "../node_modules/level/browser.js", "../node_modules/retimer/time-browser.js", "../node_modules/retimer/retimer.js", "../node_modules/timeout-abort-controller/index.js", "../node_modules/any-signal/index.js", "../node_modules/it-last/index.js", "../node_modules/iso-url/src/url-browser.js", "../node_modules/iso-url/src/relative.js", "../node_modules/iso-url/index.js", "../node_modules/it-peekable/index.js", "../src/lib/index.js", "../src/lib/transaction.ts", "../node_modules/@ipld/car/esm/lib/buffer-writer.js", "../node_modules/cborg/esm/cborg.js", "../node_modules/cborg/esm/lib/encode.js", "../node_modules/cborg/esm/lib/is.js", "../node_modules/cborg/esm/lib/token.js", "../node_modules/cborg/esm/lib/bl.js", "../node_modules/cborg/esm/lib/byte-utils.js", "../node_modules/cborg/esm/lib/common.js", "../node_modules/cborg/esm/lib/jump.js", "../node_modules/cborg/esm/lib/0uint.js", "../node_modules/cborg/esm/lib/1negint.js", "../node_modules/cborg/esm/lib/2bytes.js", "../node_modules/cborg/esm/lib/3string.js", "../node_modules/cborg/esm/lib/4array.js", "../node_modules/cborg/esm/lib/5map.js", "../node_modules/cborg/esm/lib/6tag.js", "../node_modules/cborg/esm/lib/7float.js", "../node_modules/cborg/esm/lib/decode.js", "../node_modules/cborg/esm/lib/length.js", "../node_modules/@ipld/dag-cbor/esm/index.js", "../node_modules/@ipld/car/esm/car-browser.js", "../node_modules/@ipld/car/esm/lib/reader-browser.js", "../node_modules/@ipld/car/esm/lib/decoder.js", "../node_modules/@ipld/car/esm/lib/header-validator.js", "../node_modules/@ipld/car/esm/lib/indexer.js", "../node_modules/@ipld/car/esm/lib/iterator.js", "../node_modules/@ipld/car/esm/lib/writer-browser.js", "../node_modules/@ipld/car/esm/lib/encoder.js", "../node_modules/@ipld/car/esm/lib/iterator-channel.js", "../node_modules/@ipld/car/esm/lib/indexed-reader-browser.js", "../node_modules/multiformats/esm/src/block.js", "../node_modules/mitt/src/index.ts", "../src/lib/dagRepo.ts", "../node_modules/ipfs-core-config/src/repo.browser.js", "../node_modules/ipfs-repo/src/index.js", "../node_modules/just-safe-get/index.mjs", "../node_modules/ipfs-repo-migrations/src/index.js", "../node_modules/ipfs-repo-migrations/migrations/index.js", "../node_modules/ipfs-repo-migrations/migrations/migration-8/index.js", "../node_modules/ipfs-repo-migrations/node_modules/interface-datastore/src/key.ts", "../node_modules/nanoid/index.browser.js", "../node_modules/nanoid/url-alphabet/index.js", "../node_modules/ipfs-repo-migrations/migrations/migration-9/index.js", "../node_modules/@ipld/dag-pb/esm/src/index.js", "../node_modules/@ipld/dag-pb/esm/src/pb-decode.js", "../node_modules/@ipld/dag-pb/esm/src/pb-encode.js", "../node_modules/@ipld/dag-pb/esm/src/util.js", "../node_modules/ipfs-repo-migrations/migrations/migration-9/pin-set.js", "../node_modules/ipfs-repo-migrations/migrations/migration-9/pin.js", "../node_modules/ipfs-repo-migrations/migrations/migration-9/utils.js", "../node_modules/uint8arrays/esm/src/compare.js", "../node_modules/ipfs-repo-migrations/migrations/migration-10/index.js", "../node_modules/ipfs-repo-migrations/src/utils.js", "../node_modules/datastore-core/src/errors.js", "../node_modules/ipfs-repo-migrations/migrations/migration-11/index.js", "../node_modules/ipfs-repo-migrations/migrations/migration-12/index.js", "../node_modules/ipfs-repo-migrations/migrations/migration-12/pb/proto-book.js", "../node_modules/ipfs-repo-migrations/migrations/migration-12/pb/address-book.js", "../node_modules/ipfs-repo-migrations/migrations/migration-12/pb/peer.js", "../node_modules/ipfs-repo-migrations/migrations/migration-12/pb/envelope.js", "../node_modules/ipfs-repo-migrations/migrations/migration-12/pb/peer-record.js", "../node_modules/ipfs-repo-migrations/src/repo/version.js", "../node_modules/ipfs-repo-migrations/src/repo/init.js", "../node_modules/ipfs-repo-migrations/src/errors.js", "../node_modules/merge-options/index.mjs", "../node_modules/ipfs-repo/src/constants.js", "../node_modules/ipfs-repo/src/version.js", "../node_modules/ipfs-repo/node_modules/interface-datastore/src/key.ts", "../node_modules/ipfs-repo/src/utils/level.js", "../node_modules/ipfs-repo/src/errors.js", "../node_modules/ipfs-repo/src/config.js", "../node_modules/p-queue/dist/index.js", "../node_modules/p-queue/node_modules/p-timeout/index.js", "../node_modules/p-queue/dist/priority-queue.js", "../node_modules/p-queue/dist/lower-bound.js", "../node_modules/just-safe-set/index.mjs", "../node_modules/ipfs-repo/src/spec.js", "../node_modules/ipfs-repo/node_modules/interface-datastore/src/index.ts", "../node_modules/sort-keys/index.js", "../node_modules/sort-keys/node_modules/is-plain-obj/index.js", "../node_modules/ipfs-repo/src/api-addr.js", "../node_modules/ipfs-repo/src/idstore.js", "../node_modules/ipfs-repo/node_modules/it-pushable/src/index.ts", "../node_modules/ipfs-repo/node_modules/it-pushable/src/fifo.ts", "../node_modules/ipfs-repo/src/default-options.js", "../node_modules/ipfs-repo/src/locks/memory.js", "../node_modules/ipfs-repo/src/default-datastore.js", "../node_modules/ipfs-repo/src/pin-manager.js", "../node_modules/ipfs-repo/src/utils/blockstore.js", "../node_modules/ipfs-repo/src/utils/walk-dag.js", "../node_modules/ipfs-repo/src/pin-types.js", "../node_modules/ipfs-repo/node_modules/quick-lru/index.js", "../node_modules/ipfs-repo/src/pinned-blockstore.js", "../node_modules/mortice/src/index.ts", "../node_modules/p-timeout/index.js", "../node_modules/mortice/src/browser.ts", "../node_modules/mortice/node_modules/nanoid/index.browser.js", "../node_modules/mortice/src/constants.ts", "../node_modules/observable-webworkers/src/index.ts", "../node_modules/ipfs-repo/src/gc.js", "../node_modules/it-pipe/src/index.ts", "../node_modules/it-pipe/node_modules/it-pushable/src/index.ts", "../node_modules/it-pipe/node_modules/it-pushable/src/fifo.ts", "../node_modules/datastore-level/src/index.js", "../node_modules/datastore-level/node_modules/interface-datastore/src/index.ts", "../node_modules/datastore-level/node_modules/interface-datastore/src/key.ts", "../node_modules/datastore-core/src/index.js", "../node_modules/datastore-core/src/shard.js", "../node_modules/datastore-core/node_modules/interface-datastore/src/key.ts", "../node_modules/datastore-core/src/shard-readme.js", "../node_modules/datastore-core/src/base.js", "../node_modules/datastore-core/src/utils.js", "../node_modules/datastore-core/src/memory.js", "../node_modules/datastore-core/src/keytransform.js", "../node_modules/datastore-core/src/sharding.js", "../node_modules/datastore-core/node_modules/interface-datastore/src/index.ts", "../node_modules/datastore-core/src/mount.js", "../node_modules/datastore-core/src/tiered.js", "../node_modules/datastore-core/node_modules/@libp2p/logger/src/index.ts", "../node_modules/datastore-core/node_modules/it-pushable/src/index.ts", "../node_modules/datastore-core/node_modules/it-pushable/src/fifo.ts", "../node_modules/datastore-core/src/namespace.js", "../node_modules/blockstore-datastore-adapter/src/index.js", "../node_modules/blockstore-datastore-adapter/node_modules/it-pushable/src/index.ts", "../node_modules/blockstore-datastore-adapter/node_modules/it-pushable/src/fifo.ts", "../node_modules/blockstore-datastore-adapter/node_modules/interface-datastore/src/key.ts", "../node_modules/blockstore-core/src/base.js", "../node_modules/ipfs-core/src/components/dag/index.js", "../node_modules/ipfs-core/src/components/dag/export.js", "../node_modules/ipfs-core/node_modules/ipfs-core-utils/src/with-timeout-option.js", "../node_modules/parse-duration/index.mjs", "../node_modules/ipfs-core/node_modules/ipfs-core-utils/src/errors.js", "../node_modules/ipfs-core/node_modules/@libp2p/logger/src/index.ts", "../node_modules/multiformats/esm/src/traversal.js", "../node_modules/ipfs-core/src/components/dag/get.js", "../node_modules/ipfs-core/src/utils.js", "../node_modules/is-ipfs/src/index.ts", "../node_modules/is-ipfs/node_modules/@multiformats/multiaddr/src/codec.ts", "../node_modules/is-ipfs/node_modules/@multiformats/multiaddr/src/convert.ts", "../node_modules/is-ipfs/node_modules/@multiformats/multiaddr/src/ip.ts", "../node_modules/is-ip/index.js", "../node_modules/ip-regex/index.js", "../node_modules/super-regex/index.js", "../node_modules/function-timeout/browser.js", "../node_modules/time-span/browser.js", "../node_modules/clone-regexp/index.js", "../node_modules/is-regexp/index.js", "../node_modules/is-ipfs/node_modules/@multiformats/multiaddr/src/protocols-table.ts", "../node_modules/is-ipfs/node_modules/@multiformats/multiaddr/src/index.ts", "../node_modules/@multiformats/mafmt/src/index.ts", "../node_modules/@multiformats/mafmt/node_modules/@multiformats/multiaddr/src/codec.ts", "../node_modules/@multiformats/mafmt/node_modules/@multiformats/multiaddr/src/convert.ts", "../node_modules/@multiformats/mafmt/node_modules/@multiformats/multiaddr/src/ip.ts", "../node_modules/@multiformats/mafmt/node_modules/@multiformats/multiaddr/src/protocols-table.ts", "../node_modules/@multiformats/mafmt/node_modules/@multiformats/multiaddr/src/index.ts", "../node_modules/ipfs-core/node_modules/interface-datastore/src/key.ts", "../node_modules/ipfs-core/node_modules/ipfs-core-utils/src/to-cid-and-path.js", "../node_modules/ipfs-core/src/components/dag/import.js", "../node_modules/ipfs-core/src/components/dag/put.js", "../node_modules/ipfs-core/src/components/dag/resolve.js", "../node_modules/@ipld/dag-json/esm/index.js", "../node_modules/cborg/esm/lib/json/json.js", "../node_modules/cborg/esm/lib/json/encode.js", "../node_modules/cborg/esm/lib/json/decode.js", "../node_modules/dag-jose/src/index.ts", "../node_modules/dag-jose/src/signing.ts", "../node_modules/dag-jose/src/utils.ts", "../node_modules/dag-jose/src/encryption.ts", "../node_modules/ipfs-core-utils/src/multicodecs.js", "../node_modules/ipfs-core-utils/src/multihashes.js", "../src/lib/utils.ts", "../node_modules/blockstore-core/src/memory.js", "../node_modules/blockstore-core/src/errors.js"],
  "sourcesContent": ["'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n", "/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n", "/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n", "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n", "export const Buffer = require('buffer').Buffer;\r\nexport const process = require('process/browser');\r\nexport const global =\r\n\ttypeof global !== 'undefined'\r\n\t\t? global\r\n\t\t: typeof globalThis !== 'undefined'\r\n\t\t? globalThis\r\n\t\t: typeof self !== 'undefined'\r\n\t\t? self\r\n\t\t: typeof window !== 'undefined'\r\n\t\t? window\r\n\t\t: {};\r\n\r\nexport const self = globalThis;\r\n\r\nif (globalThis && globalThis.process && globalThis.process.env)\r\n\tglobalThis.process.env.LIBP2P_FORCE_PNET = false;\r\n", "module.exports = encode\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31)\n\nfunction encode(num, out, offset) {\n  if (Number.MAX_SAFE_INTEGER && num > Number.MAX_SAFE_INTEGER) {\n    encode.bytes = 0\n    throw new RangeError('Could not encode varint')\n  }\n  out = out || []\n  offset = offset || 0\n  var oldOffset = offset\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB\n    num /= 128\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB\n    num >>>= 7\n  }\n  out[offset] = num | 0\n  \n  encode.bytes = offset - oldOffset + 1\n  \n  return out\n}\n", "module.exports = read\n\nvar MSB = 0x80\n  , REST = 0x7F\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length\n\n  do {\n    if (counter >= l || shift > 49) {\n      read.bytes = 0\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++]\n    res += shift < 28\n      ? (b & REST) << shift\n      : (b & REST) * Math.pow(2, shift)\n    shift += 7\n  } while (b >= MSB)\n\n  read.bytes = counter - offset\n\n  return res\n}\n", "\nvar N1 = Math.pow(2,  7)\nvar N2 = Math.pow(2, 14)\nvar N3 = Math.pow(2, 21)\nvar N4 = Math.pow(2, 28)\nvar N5 = Math.pow(2, 35)\nvar N6 = Math.pow(2, 42)\nvar N7 = Math.pow(2, 49)\nvar N8 = Math.pow(2, 56)\nvar N9 = Math.pow(2, 63)\n\nmodule.exports = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n}\n", "module.exports = {\n    encode: require('./encode.js')\n  , decode: require('./decode.js')\n  , encodingLength: require('./length.js')\n}\n", "var encode_1 = encode;\nvar MSB = 128, REST = 127, MSBALL = ~REST, INT = Math.pow(2, 31);\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n  while (num >= INT) {\n    out[offset++] = num & 255 | MSB;\n    num /= 128;\n  }\n  while (num & MSBALL) {\n    out[offset++] = num & 255 | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  encode.bytes = offset - oldOffset + 1;\n  return out;\n}\nvar decode = read;\nvar MSB$1 = 128, REST$1 = 127;\nfunction read(buf, offset) {\n  var res = 0, offset = offset || 0, shift = 0, counter = offset, b, l = buf.length;\n  do {\n    if (counter >= l) {\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint');\n    }\n    b = buf[counter++];\n    res += shift < 28 ? (b & REST$1) << shift : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1);\n  read.bytes = counter - offset;\n  return res;\n}\nvar N1 = Math.pow(2, 7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\nvar length = function (value) {\n  return value < N1 ? 1 : value < N2 ? 2 : value < N3 ? 3 : value < N4 ? 4 : value < N5 ? 5 : value < N6 ? 6 : value < N7 ? 7 : value < N8 ? 8 : value < N9 ? 9 : 10;\n};\nvar varint = {\n  encode: encode_1,\n  decode: decode,\n  encodingLength: length\n};\nvar _brrp_varint = varint;\nexport default _brrp_varint;", "import varint from '../vendor/varint.js';\nexport const decode = (data, offset = 0) => {\n  const code = varint.decode(data, offset);\n  return [\n    code,\n    varint.decode.bytes\n  ];\n};\nexport const encodeTo = (int, target, offset = 0) => {\n  varint.encode(int, target, offset);\n  return target;\n};\nexport const encodingLength = int => {\n  return varint.encodingLength(int);\n};", "const empty = new Uint8Array(0);\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '');\nconst fromHex = hex => {\n  const hexes = hex.match(/../g);\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty;\n};\nconst equals = (aa, bb) => {\n  if (aa === bb)\n    return true;\n  if (aa.byteLength !== bb.byteLength) {\n    return false;\n  }\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false;\n    }\n  }\n  return true;\n};\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array')\n    return o;\n  if (o instanceof ArrayBuffer)\n    return new Uint8Array(o);\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength);\n  }\n  throw new Error('Unknown type, must be binary type');\n};\nconst isBinary = o => o instanceof ArrayBuffer || ArrayBuffer.isView(o);\nconst fromString = str => new TextEncoder().encode(str);\nconst toString = b => new TextDecoder().decode(b);\nexport {\n  equals,\n  coerce,\n  isBinary,\n  fromHex,\n  toHex,\n  fromString,\n  toString,\n  empty\n};", "import {\n  coerce,\n  equals as equalBytes\n} from '../bytes.js';\nimport * as varint from '../varint.js';\nexport const create = (code, digest) => {\n  const size = digest.byteLength;\n  const sizeOffset = varint.encodingLength(code);\n  const digestOffset = sizeOffset + varint.encodingLength(size);\n  const bytes = new Uint8Array(digestOffset + size);\n  varint.encodeTo(code, bytes, 0);\n  varint.encodeTo(size, bytes, sizeOffset);\n  bytes.set(digest, digestOffset);\n  return new Digest(code, size, digest, bytes);\n};\nexport const decode = multihash => {\n  const bytes = coerce(multihash);\n  const [code, sizeOffset] = varint.decode(bytes);\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset));\n  const digest = bytes.subarray(sizeOffset + digestOffset);\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length');\n  }\n  return new Digest(code, size, digest, bytes);\n};\nexport const equals = (a, b) => {\n  if (a === b) {\n    return true;\n  } else {\n    return a.code === b.code && a.size === b.size && equalBytes(a.bytes, b.bytes);\n  }\n};\nexport class Digest {\n  constructor(code, size, digest, bytes) {\n    this.code = code;\n    this.size = size;\n    this.digest = digest;\n    this.bytes = bytes;\n  }\n}", "function base(ALPHABET, name) {\n  if (ALPHABET.length >= 255) {\n    throw new TypeError('Alphabet too long');\n  }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) {\n      throw new TypeError(x + ' is ambiguous');\n    }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256);\n  var iFACTOR = Math.log(256) / Math.log(BASE);\n  function encode(source) {\n    if (source instanceof Uint8Array);\n    else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) {\n      throw new TypeError('Expected Uint8Array');\n    }\n    if (source.length === 0) {\n      return '';\n    }\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n    var size = (pend - pbegin) * iFACTOR + 1 >>> 0;\n    var b58 = new Uint8Array(size);\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && it1 !== -1; it1--, i++) {\n        carry += 256 * b58[it1] >>> 0;\n        b58[it1] = carry % BASE >>> 0;\n        carry = carry / BASE >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error('Non-zero carry');\n      }\n      length = i;\n      pbegin++;\n    }\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) {\n      str += ALPHABET.charAt(b58[it2]);\n    }\n    return str;\n  }\n  function decodeUnsafe(source) {\n    if (typeof source !== 'string') {\n      throw new TypeError('Expected String');\n    }\n    if (source.length === 0) {\n      return new Uint8Array();\n    }\n    var psz = 0;\n    if (source[psz] === ' ') {\n      return;\n    }\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n    var size = (source.length - psz) * FACTOR + 1 >>> 0;\n    var b256 = new Uint8Array(size);\n    while (source[psz]) {\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n      if (carry === 255) {\n        return;\n      }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && it3 !== -1; it3--, i++) {\n        carry += BASE * b256[it3] >>> 0;\n        b256[it3] = carry % 256 >>> 0;\n        carry = carry / 256 >>> 0;\n      }\n      if (carry !== 0) {\n        throw new Error('Non-zero carry');\n      }\n      length = i;\n      psz++;\n    }\n    if (source[psz] === ' ') {\n      return;\n    }\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch;\n  }\n  function decode(string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) {\n      return buffer;\n    }\n    throw new Error(`Non-${ name } character`);\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  };\n}\nvar src = base;\nvar _brrp__multiformats_scope_baseX = src;\nexport default _brrp__multiformats_scope_baseX;", "import basex from '../../vendor/base-x.js';\nimport { coerce } from '../bytes.js';\nclass Encoder {\n  constructor(name, prefix, baseEncode) {\n    this.name = name;\n    this.prefix = prefix;\n    this.baseEncode = baseEncode;\n  }\n  encode(bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${ this.prefix }${ this.baseEncode(bytes) }`;\n    } else {\n      throw Error('Unknown type, must be binary type');\n    }\n  }\n}\nclass Decoder {\n  constructor(name, prefix, baseDecode) {\n    this.name = name;\n    this.prefix = prefix;\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character');\n    }\n    this.prefixCodePoint = prefix.codePointAt(0);\n    this.baseDecode = baseDecode;\n  }\n  decode(text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${ JSON.stringify(text) }, ${ this.name } decoder only supports inputs prefixed with ${ this.prefix }`);\n      }\n      return this.baseDecode(text.slice(this.prefix.length));\n    } else {\n      throw Error('Can only multibase decode strings');\n    }\n  }\n  or(decoder) {\n    return or(this, decoder);\n  }\n}\nclass ComposedDecoder {\n  constructor(decoders) {\n    this.decoders = decoders;\n  }\n  or(decoder) {\n    return or(this, decoder);\n  }\n  decode(input) {\n    const prefix = input[0];\n    const decoder = this.decoders[prefix];\n    if (decoder) {\n      return decoder.decode(input);\n    } else {\n      throw RangeError(`Unable to decode multibase string ${ JSON.stringify(input) }, only inputs prefixed with ${ Object.keys(this.decoders) } are supported`);\n    }\n  }\n}\nexport const or = (left, right) => new ComposedDecoder({\n  ...left.decoders || { [left.prefix]: left },\n  ...right.decoders || { [right.prefix]: right }\n});\nexport class Codec {\n  constructor(name, prefix, baseEncode, baseDecode) {\n    this.name = name;\n    this.prefix = prefix;\n    this.baseEncode = baseEncode;\n    this.baseDecode = baseDecode;\n    this.encoder = new Encoder(name, prefix, baseEncode);\n    this.decoder = new Decoder(name, prefix, baseDecode);\n  }\n  encode(input) {\n    return this.encoder.encode(input);\n  }\n  decode(input) {\n    return this.decoder.decode(input);\n  }\n}\nexport const from = ({name, prefix, encode, decode}) => new Codec(name, prefix, encode, decode);\nexport const baseX = ({prefix, name, alphabet}) => {\n  const {encode, decode} = basex(alphabet, name);\n  return from({\n    prefix,\n    name,\n    encode,\n    decode: text => coerce(decode(text))\n  });\n};\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  const codes = {};\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i;\n  }\n  let end = string.length;\n  while (string[end - 1] === '=') {\n    --end;\n  }\n  const out = new Uint8Array(end * bitsPerChar / 8 | 0);\n  let bits = 0;\n  let buffer = 0;\n  let written = 0;\n  for (let i = 0; i < end; ++i) {\n    const value = codes[string[i]];\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${ name } character`);\n    }\n    buffer = buffer << bitsPerChar | value;\n    bits += bitsPerChar;\n    if (bits >= 8) {\n      bits -= 8;\n      out[written++] = 255 & buffer >> bits;\n    }\n  }\n  if (bits >= bitsPerChar || 255 & buffer << 8 - bits) {\n    throw new SyntaxError('Unexpected end of data');\n  }\n  return out;\n};\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '=';\n  const mask = (1 << bitsPerChar) - 1;\n  let out = '';\n  let bits = 0;\n  let buffer = 0;\n  for (let i = 0; i < data.length; ++i) {\n    buffer = buffer << 8 | data[i];\n    bits += 8;\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar;\n      out += alphabet[mask & buffer >> bits];\n    }\n  }\n  if (bits) {\n    out += alphabet[mask & buffer << bitsPerChar - bits];\n  }\n  if (pad) {\n    while (out.length * bitsPerChar & 7) {\n      out += '=';\n    }\n  }\n  return out;\n};\nexport const rfc4648 = ({name, prefix, bitsPerChar, alphabet}) => {\n  return from({\n    prefix,\n    name,\n    encode(input) {\n      return encode(input, alphabet, bitsPerChar);\n    },\n    decode(input) {\n      return decode(input, alphabet, bitsPerChar, name);\n    }\n  });\n};", "import { baseX } from './base.js';\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n});\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n});", "import { rfc4648 } from './base.js';\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n});\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n});\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n});\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n});\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n});\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n});\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n});\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n});\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n});", "import * as varint from './varint.js';\nimport * as Digest from './hashes/digest.js';\nimport { base58btc } from './bases/base58.js';\nimport { base32 } from './bases/base32.js';\nimport { coerce } from './bytes.js';\nexport class CID {\n  constructor(version, code, multihash, bytes) {\n    this.code = code;\n    this.version = version;\n    this.multihash = multihash;\n    this.bytes = bytes;\n    this.byteOffset = bytes.byteOffset;\n    this.byteLength = bytes.byteLength;\n    this.asCID = this;\n    this._baseCache = new Map();\n    Object.defineProperties(this, {\n      byteOffset: hidden,\n      byteLength: hidden,\n      code: readonly,\n      version: readonly,\n      multihash: readonly,\n      bytes: readonly,\n      _baseCache: hidden,\n      asCID: hidden\n    });\n  }\n  toV0() {\n    switch (this.version) {\n    case 0: {\n        return this;\n      }\n    default: {\n        const {code, multihash} = this;\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0');\n        }\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0');\n        }\n        return CID.createV0(multihash);\n      }\n    }\n  }\n  toV1() {\n    switch (this.version) {\n    case 0: {\n        const {code, digest} = this.multihash;\n        const multihash = Digest.create(code, digest);\n        return CID.createV1(this.code, multihash);\n      }\n    case 1: {\n        return this;\n      }\n    default: {\n        throw Error(`Can not convert CID version ${ this.version } to version 0. This is a bug please report`);\n      }\n    }\n  }\n  equals(other) {\n    return other && this.code === other.code && this.version === other.version && Digest.equals(this.multihash, other.multihash);\n  }\n  toString(base) {\n    const {bytes, version, _baseCache} = this;\n    switch (version) {\n    case 0:\n      return toStringV0(bytes, _baseCache, base || base58btc.encoder);\n    default:\n      return toStringV1(bytes, _baseCache, base || base32.encoder);\n    }\n  }\n  toJSON() {\n    return {\n      code: this.code,\n      version: this.version,\n      hash: this.multihash.bytes\n    };\n  }\n  get [Symbol.toStringTag]() {\n    return 'CID';\n  }\n  [Symbol.for('nodejs.util.inspect.custom')]() {\n    return 'CID(' + this.toString() + ')';\n  }\n  static isCID(value) {\n    deprecate(/^0\\.0/, IS_CID_DEPRECATION);\n    return !!(value && (value[cidSymbol] || value.asCID === value));\n  }\n  get toBaseEncodedString() {\n    throw new Error('Deprecated, use .toString()');\n  }\n  get codec() {\n    throw new Error('\"codec\" property is deprecated, use integer \"code\" property instead');\n  }\n  get buffer() {\n    throw new Error('Deprecated .buffer property, use .bytes to get Uint8Array instead');\n  }\n  get multibaseName() {\n    throw new Error('\"multibaseName\" property is deprecated');\n  }\n  get prefix() {\n    throw new Error('\"prefix\" property is deprecated');\n  }\n  static asCID(value) {\n    if (value instanceof CID) {\n      return value;\n    } else if (value != null && value.asCID === value) {\n      const {version, code, multihash, bytes} = value;\n      return new CID(version, code, multihash, bytes || encodeCID(version, code, multihash.bytes));\n    } else if (value != null && value[cidSymbol] === true) {\n      const {version, multihash, code} = value;\n      const digest = Digest.decode(multihash);\n      return CID.create(version, code, digest);\n    } else {\n      return null;\n    }\n  }\n  static create(version, code, digest) {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported');\n    }\n    switch (version) {\n    case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(`Version 0 CID must use dag-pb (code: ${ DAG_PB_CODE }) block encoding`);\n        } else {\n          return new CID(version, code, digest, digest.bytes);\n        }\n      }\n    case 1: {\n        const bytes = encodeCID(version, code, digest.bytes);\n        return new CID(version, code, digest, bytes);\n      }\n    default: {\n        throw new Error('Invalid version');\n      }\n    }\n  }\n  static createV0(digest) {\n    return CID.create(0, DAG_PB_CODE, digest);\n  }\n  static createV1(code, digest) {\n    return CID.create(1, code, digest);\n  }\n  static decode(bytes) {\n    const [cid, remainder] = CID.decodeFirst(bytes);\n    if (remainder.length) {\n      throw new Error('Incorrect length');\n    }\n    return cid;\n  }\n  static decodeFirst(bytes) {\n    const specs = CID.inspectBytes(bytes);\n    const prefixSize = specs.size - specs.multihashSize;\n    const multihashBytes = coerce(bytes.subarray(prefixSize, prefixSize + specs.multihashSize));\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length');\n    }\n    const digestBytes = multihashBytes.subarray(specs.multihashSize - specs.digestSize);\n    const digest = new Digest.Digest(specs.multihashCode, specs.digestSize, digestBytes, multihashBytes);\n    const cid = specs.version === 0 ? CID.createV0(digest) : CID.createV1(specs.codec, digest);\n    return [\n      cid,\n      bytes.subarray(specs.size)\n    ];\n  }\n  static inspectBytes(initialBytes) {\n    let offset = 0;\n    const next = () => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset));\n      offset += length;\n      return i;\n    };\n    let version = next();\n    let codec = DAG_PB_CODE;\n    if (version === 18) {\n      version = 0;\n      offset = 0;\n    } else if (version === 1) {\n      codec = next();\n    }\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${ version }`);\n    }\n    const prefixSize = offset;\n    const multihashCode = next();\n    const digestSize = next();\n    const size = offset + digestSize;\n    const multihashSize = size - prefixSize;\n    return {\n      version,\n      codec,\n      multihashCode,\n      digestSize,\n      multihashSize,\n      size\n    };\n  }\n  static parse(source, base) {\n    const [prefix, bytes] = parseCIDtoBytes(source, base);\n    const cid = CID.decode(bytes);\n    cid._baseCache.set(prefix, source);\n    return cid;\n  }\n}\nconst parseCIDtoBytes = (source, base) => {\n  switch (source[0]) {\n  case 'Q': {\n      const decoder = base || base58btc;\n      return [\n        base58btc.prefix,\n        decoder.decode(`${ base58btc.prefix }${ source }`)\n      ];\n    }\n  case base58btc.prefix: {\n      const decoder = base || base58btc;\n      return [\n        base58btc.prefix,\n        decoder.decode(source)\n      ];\n    }\n  case base32.prefix: {\n      const decoder = base || base32;\n      return [\n        base32.prefix,\n        decoder.decode(source)\n      ];\n    }\n  default: {\n      if (base == null) {\n        throw Error('To parse non base32 or base58btc encoded CID multibase decoder must be provided');\n      }\n      return [\n        source[0],\n        base.decode(source)\n      ];\n    }\n  }\n};\nconst toStringV0 = (bytes, cache, base) => {\n  const {prefix} = base;\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${ base.name } encoding`);\n  }\n  const cid = cache.get(prefix);\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1);\n    cache.set(prefix, cid);\n    return cid;\n  } else {\n    return cid;\n  }\n};\nconst toStringV1 = (bytes, cache, base) => {\n  const {prefix} = base;\n  const cid = cache.get(prefix);\n  if (cid == null) {\n    const cid = base.encode(bytes);\n    cache.set(prefix, cid);\n    return cid;\n  } else {\n    return cid;\n  }\n};\nconst DAG_PB_CODE = 112;\nconst SHA_256_CODE = 18;\nconst encodeCID = (version, code, multihash) => {\n  const codeOffset = varint.encodingLength(version);\n  const hashOffset = codeOffset + varint.encodingLength(code);\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength);\n  varint.encodeTo(version, bytes, 0);\n  varint.encodeTo(code, bytes, codeOffset);\n  bytes.set(multihash, hashOffset);\n  return bytes;\n};\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID');\nconst readonly = {\n  writable: false,\n  configurable: false,\n  enumerable: true\n};\nconst hidden = {\n  writable: false,\n  enumerable: false,\n  configurable: false\n};\nconst version = '0.0.0-dev';\nconst deprecate = (range, message) => {\n  if (range.test(version)) {\n    console.warn(message);\n  } else {\n    throw new Error(message);\n  }\n};\nconst IS_CID_DEPRECATION = `CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n`;", "import * as Digest from './digest.js';\nexport const from = ({name, code, encode}) => new Hasher(name, code, encode);\nexport class Hasher {\n  constructor(name, code, encode) {\n    this.name = name;\n    this.code = code;\n    this.encode = encode;\n  }\n  digest(input) {\n    if (input instanceof Uint8Array) {\n      const result = this.encode(input);\n      return result instanceof Uint8Array ? Digest.create(this.code, result) : result.then(digest => Digest.create(this.code, digest));\n    } else {\n      throw Error('Unknown type, must be binary type');\n    }\n  }\n}", "import { CID } from './cid.js';\nimport * as varint from './varint.js';\nimport * as bytes from './bytes.js';\nimport * as hasher from './hashes/hasher.js';\nimport * as digest from './hashes/digest.js';\nexport {\n  CID,\n  hasher,\n  digest,\n  varint,\n  bytes\n};", "import { coerce } from '../bytes.js';\nexport const name = 'raw';\nexport const code = 85;\nexport const encode = node => coerce(node);\nexport const decode = data => coerce(data);", "import { from } from './hasher.js';\nconst sha = name => async data => new Uint8Array(await crypto.subtle.digest(name, data));\nexport const sha256 = from({\n  name: 'sha2-256',\n  code: 18,\n  encode: sha('SHA-256')\n});\nexport const sha512 = from({\n  name: 'sha2-512',\n  code: 19,\n  encode: sha('SHA-512')\n});", "/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n", "\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n", "/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n", "'use strict';\n\n/**\n * @typedef {{ [key: string]: any }} Extensions\n * @typedef {Error} Err\n * @property {string} message\n */\n\n/**\n *\n * @param {Error} obj\n * @param {Extensions} props\n * @returns {Error & Extensions}\n */\nfunction assign(obj, props) {\n    for (const key in props) {\n        Object.defineProperty(obj, key, {\n            value: props[key],\n            enumerable: true,\n            configurable: true,\n        });\n    }\n\n    return obj;\n}\n\n/**\n *\n * @param {any} err - An Error\n * @param {string|Extensions} code - A string code or props to set on the error\n * @param {Extensions} [props] - Props to set on the error\n * @returns {Error & Extensions}\n */\nfunction createError(err, code, props) {\n    if (!err || typeof err === 'string') {\n        throw new TypeError('Please pass an Error to err-code');\n    }\n\n    if (!props) {\n        props = {};\n    }\n\n    if (typeof code === 'object') {\n        props = code;\n        code = '';\n    }\n\n    if (code) {\n        props.code = code;\n    }\n\n    try {\n        return assign(err, props);\n    } catch (_) {\n        props.message = err.message;\n        props.stack = err.stack;\n\n        const ErrClass = function () {};\n\n        ErrClass.prototype = Object.create(Object.getPrototypeOf(err));\n\n        // @ts-ignore\n        const output = assign(new ErrClass(), props);\n\n        return output;\n    }\n}\n\nmodule.exports = createError;\n", "import { from } from './base.js';\nimport {\n  fromString,\n  toString\n} from '../bytes.js';\nexport const identity = from({\n  prefix: '\\0',\n  name: 'identity',\n  encode: buf => toString(buf),\n  decode: str => fromString(str)\n});", "import { rfc4648 } from './base.js';\nexport const base2 = rfc4648({\n  prefix: '0',\n  name: 'base2',\n  alphabet: '01',\n  bitsPerChar: 1\n});", "import { rfc4648 } from './base.js';\nexport const base8 = rfc4648({\n  prefix: '7',\n  name: 'base8',\n  alphabet: '01234567',\n  bitsPerChar: 3\n});", "import { baseX } from './base.js';\nexport const base10 = baseX({\n  prefix: '9',\n  name: 'base10',\n  alphabet: '0123456789'\n});", "import { rfc4648 } from './base.js';\nexport const base16 = rfc4648({\n  prefix: 'f',\n  name: 'base16',\n  alphabet: '0123456789abcdef',\n  bitsPerChar: 4\n});\nexport const base16upper = rfc4648({\n  prefix: 'F',\n  name: 'base16upper',\n  alphabet: '0123456789ABCDEF',\n  bitsPerChar: 4\n});", "import { baseX } from './base.js';\nexport const base36 = baseX({\n  prefix: 'k',\n  name: 'base36',\n  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'\n});\nexport const base36upper = baseX({\n  prefix: 'K',\n  name: 'base36upper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n});", "import { rfc4648 } from './base.js';\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n});\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n});\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n});\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n});", "import { from } from './base.js';\nconst alphabet = Array.from('\\uD83D\\uDE80\\uD83E\\uDE90\\u2604\\uD83D\\uDEF0\\uD83C\\uDF0C\\uD83C\\uDF11\\uD83C\\uDF12\\uD83C\\uDF13\\uD83C\\uDF14\\uD83C\\uDF15\\uD83C\\uDF16\\uD83C\\uDF17\\uD83C\\uDF18\\uD83C\\uDF0D\\uD83C\\uDF0F\\uD83C\\uDF0E\\uD83D\\uDC09\\u2600\\uD83D\\uDCBB\\uD83D\\uDDA5\\uD83D\\uDCBE\\uD83D\\uDCBF\\uD83D\\uDE02\\u2764\\uD83D\\uDE0D\\uD83E\\uDD23\\uD83D\\uDE0A\\uD83D\\uDE4F\\uD83D\\uDC95\\uD83D\\uDE2D\\uD83D\\uDE18\\uD83D\\uDC4D\\uD83D\\uDE05\\uD83D\\uDC4F\\uD83D\\uDE01\\uD83D\\uDD25\\uD83E\\uDD70\\uD83D\\uDC94\\uD83D\\uDC96\\uD83D\\uDC99\\uD83D\\uDE22\\uD83E\\uDD14\\uD83D\\uDE06\\uD83D\\uDE44\\uD83D\\uDCAA\\uD83D\\uDE09\\u263A\\uD83D\\uDC4C\\uD83E\\uDD17\\uD83D\\uDC9C\\uD83D\\uDE14\\uD83D\\uDE0E\\uD83D\\uDE07\\uD83C\\uDF39\\uD83E\\uDD26\\uD83C\\uDF89\\uD83D\\uDC9E\\u270C\\u2728\\uD83E\\uDD37\\uD83D\\uDE31\\uD83D\\uDE0C\\uD83C\\uDF38\\uD83D\\uDE4C\\uD83D\\uDE0B\\uD83D\\uDC97\\uD83D\\uDC9A\\uD83D\\uDE0F\\uD83D\\uDC9B\\uD83D\\uDE42\\uD83D\\uDC93\\uD83E\\uDD29\\uD83D\\uDE04\\uD83D\\uDE00\\uD83D\\uDDA4\\uD83D\\uDE03\\uD83D\\uDCAF\\uD83D\\uDE48\\uD83D\\uDC47\\uD83C\\uDFB6\\uD83D\\uDE12\\uD83E\\uDD2D\\u2763\\uD83D\\uDE1C\\uD83D\\uDC8B\\uD83D\\uDC40\\uD83D\\uDE2A\\uD83D\\uDE11\\uD83D\\uDCA5\\uD83D\\uDE4B\\uD83D\\uDE1E\\uD83D\\uDE29\\uD83D\\uDE21\\uD83E\\uDD2A\\uD83D\\uDC4A\\uD83E\\uDD73\\uD83D\\uDE25\\uD83E\\uDD24\\uD83D\\uDC49\\uD83D\\uDC83\\uD83D\\uDE33\\u270B\\uD83D\\uDE1A\\uD83D\\uDE1D\\uD83D\\uDE34\\uD83C\\uDF1F\\uD83D\\uDE2C\\uD83D\\uDE43\\uD83C\\uDF40\\uD83C\\uDF37\\uD83D\\uDE3B\\uD83D\\uDE13\\u2B50\\u2705\\uD83E\\uDD7A\\uD83C\\uDF08\\uD83D\\uDE08\\uD83E\\uDD18\\uD83D\\uDCA6\\u2714\\uD83D\\uDE23\\uD83C\\uDFC3\\uD83D\\uDC90\\u2639\\uD83C\\uDF8A\\uD83D\\uDC98\\uD83D\\uDE20\\u261D\\uD83D\\uDE15\\uD83C\\uDF3A\\uD83C\\uDF82\\uD83C\\uDF3B\\uD83D\\uDE10\\uD83D\\uDD95\\uD83D\\uDC9D\\uD83D\\uDE4A\\uD83D\\uDE39\\uD83D\\uDDE3\\uD83D\\uDCAB\\uD83D\\uDC80\\uD83D\\uDC51\\uD83C\\uDFB5\\uD83E\\uDD1E\\uD83D\\uDE1B\\uD83D\\uDD34\\uD83D\\uDE24\\uD83C\\uDF3C\\uD83D\\uDE2B\\u26BD\\uD83E\\uDD19\\u2615\\uD83C\\uDFC6\\uD83E\\uDD2B\\uD83D\\uDC48\\uD83D\\uDE2E\\uD83D\\uDE46\\uD83C\\uDF7B\\uD83C\\uDF43\\uD83D\\uDC36\\uD83D\\uDC81\\uD83D\\uDE32\\uD83C\\uDF3F\\uD83E\\uDDE1\\uD83C\\uDF81\\u26A1\\uD83C\\uDF1E\\uD83C\\uDF88\\u274C\\u270A\\uD83D\\uDC4B\\uD83D\\uDE30\\uD83E\\uDD28\\uD83D\\uDE36\\uD83E\\uDD1D\\uD83D\\uDEB6\\uD83D\\uDCB0\\uD83C\\uDF53\\uD83D\\uDCA2\\uD83E\\uDD1F\\uD83D\\uDE41\\uD83D\\uDEA8\\uD83D\\uDCA8\\uD83E\\uDD2C\\u2708\\uD83C\\uDF80\\uD83C\\uDF7A\\uD83E\\uDD13\\uD83D\\uDE19\\uD83D\\uDC9F\\uD83C\\uDF31\\uD83D\\uDE16\\uD83D\\uDC76\\uD83E\\uDD74\\u25B6\\u27A1\\u2753\\uD83D\\uDC8E\\uD83D\\uDCB8\\u2B07\\uD83D\\uDE28\\uD83C\\uDF1A\\uD83E\\uDD8B\\uD83D\\uDE37\\uD83D\\uDD7A\\u26A0\\uD83D\\uDE45\\uD83D\\uDE1F\\uD83D\\uDE35\\uD83D\\uDC4E\\uD83E\\uDD32\\uD83E\\uDD20\\uD83E\\uDD27\\uD83D\\uDCCC\\uD83D\\uDD35\\uD83D\\uDC85\\uD83E\\uDDD0\\uD83D\\uDC3E\\uD83C\\uDF52\\uD83D\\uDE17\\uD83E\\uDD11\\uD83C\\uDF0A\\uD83E\\uDD2F\\uD83D\\uDC37\\u260E\\uD83D\\uDCA7\\uD83D\\uDE2F\\uD83D\\uDC86\\uD83D\\uDC46\\uD83C\\uDFA4\\uD83D\\uDE47\\uD83C\\uDF51\\u2744\\uD83C\\uDF34\\uD83D\\uDCA3\\uD83D\\uDC38\\uD83D\\uDC8C\\uD83D\\uDCCD\\uD83E\\uDD40\\uD83E\\uDD22\\uD83D\\uDC45\\uD83D\\uDCA1\\uD83D\\uDCA9\\uD83D\\uDC50\\uD83D\\uDCF8\\uD83D\\uDC7B\\uD83E\\uDD10\\uD83E\\uDD2E\\uD83C\\uDFBC\\uD83E\\uDD75\\uD83D\\uDEA9\\uD83C\\uDF4E\\uD83C\\uDF4A\\uD83D\\uDC7C\\uD83D\\uDC8D\\uD83D\\uDCE3\\uD83E\\uDD42');\nconst alphabetBytesToChars = alphabet.reduce((p, c, i) => {\n  p[i] = c;\n  return p;\n}, []);\nconst alphabetCharsToBytes = alphabet.reduce((p, c, i) => {\n  p[c.codePointAt(0)] = i;\n  return p;\n}, []);\nfunction encode(data) {\n  return data.reduce((p, c) => {\n    p += alphabetBytesToChars[c];\n    return p;\n  }, '');\n}\nfunction decode(str) {\n  const byts = [];\n  for (const char of str) {\n    const byt = alphabetCharsToBytes[char.codePointAt(0)];\n    if (byt === undefined) {\n      throw new Error(`Non-base256emoji character: ${ char }`);\n    }\n    byts.push(byt);\n  }\n  return new Uint8Array(byts);\n}\nexport const base256emoji = from({\n  prefix: '\\uD83D\\uDE80',\n  name: 'base256emoji',\n  encode,\n  decode\n});", "import { coerce } from '../bytes.js';\nimport * as Digest from './digest.js';\nconst code = 0;\nconst name = 'identity';\nconst encode = coerce;\nconst digest = input => Digest.create(code, encode(input));\nexport const identity = {\n  code,\n  name,\n  encode,\n  digest\n};", "const textEncoder = new TextEncoder();\nconst textDecoder = new TextDecoder();\nexport const name = 'json';\nexport const code = 512;\nexport const encode = node => textEncoder.encode(JSON.stringify(node));\nexport const decode = data => JSON.parse(textDecoder.decode(data));", "import * as identityBase from './bases/identity.js';\nimport * as base2 from './bases/base2.js';\nimport * as base8 from './bases/base8.js';\nimport * as base10 from './bases/base10.js';\nimport * as base16 from './bases/base16.js';\nimport * as base32 from './bases/base32.js';\nimport * as base36 from './bases/base36.js';\nimport * as base58 from './bases/base58.js';\nimport * as base64 from './bases/base64.js';\nimport * as base256emoji from './bases/base256emoji.js';\nimport * as sha2 from './hashes/sha2.js';\nimport * as identity from './hashes/identity.js';\nimport * as raw from './codecs/raw.js';\nimport * as json from './codecs/json.js';\nimport {\n  CID,\n  hasher,\n  digest,\n  varint,\n  bytes\n} from './index.js';\nconst bases = {\n  ...identityBase,\n  ...base2,\n  ...base8,\n  ...base10,\n  ...base16,\n  ...base32,\n  ...base36,\n  ...base58,\n  ...base64,\n  ...base256emoji\n};\nconst hashes = {\n  ...sha2,\n  ...identity\n};\nconst codecs = {\n  raw,\n  json\n};\nexport {\n  CID,\n  hasher,\n  digest,\n  varint,\n  bytes,\n  hashes,\n  bases,\n  codecs\n};", "export function alloc(size = 0) {\n  if (globalThis.Buffer != null && globalThis.Buffer.alloc != null) {\n    return globalThis.Buffer.alloc(size);\n  }\n  return new Uint8Array(size);\n}\nexport function allocUnsafe(size = 0) {\n  if (globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null) {\n    return globalThis.Buffer.allocUnsafe(size);\n  }\n  return new Uint8Array(size);\n}", "import { bases } from 'multiformats/basics';\nimport { allocUnsafe } from '../alloc.js';\nfunction createCodec(name, prefix, encode, decode) {\n  return {\n    name,\n    prefix,\n    encoder: {\n      name,\n      prefix,\n      encode\n    },\n    decoder: { decode }\n  };\n}\nconst string = createCodec('utf8', 'u', buf => {\n  const decoder = new TextDecoder('utf8');\n  return 'u' + decoder.decode(buf);\n}, str => {\n  const encoder = new TextEncoder();\n  return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', buf => {\n  let string = 'a';\n  for (let i = 0; i < buf.length; i++) {\n    string += String.fromCharCode(buf[i]);\n  }\n  return string;\n}, str => {\n  str = str.substring(1);\n  const buf = allocUnsafe(str.length);\n  for (let i = 0; i < str.length; i++) {\n    buf[i] = str.charCodeAt(i);\n  }\n  return buf;\n});\nconst BASES = {\n  utf8: string,\n  'utf-8': string,\n  hex: bases.base16,\n  latin1: ascii,\n  ascii: ascii,\n  binary: ascii,\n  ...bases\n};\nexport default BASES;", "import bases from './util/bases.js';\nexport function toString(array, encoding = 'utf8') {\n  const base = bases[encoding];\n  if (!base) {\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\n  }\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n    return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');\n  }\n  return base.encoder.encode(array).substring(1);\n}", "import bases from './util/bases.js';\nexport function fromString(string, encoding = 'utf8') {\n  const base = bases[encoding];\n  if (!base) {\n    throw new Error(`Unsupported encoding \"${ encoding }\"`);\n  }\n  if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n    return globalThis.Buffer.from(string, 'utf8');\n  }\n  return base.decoder.decode(`${ base.prefix }${ string }`);\n}", "'use strict'\n\n/**\n * Consumes the passed iterator and returns the number of items it contained.\n *\n * @param {AsyncIterable<any> | Iterable<any>} iterator\n * @returns {Promise<number>}\n */\nconst length = async (iterator) => {\n  let count = 0\n\n  for await (const _ of iterator) { // eslint-disable-line no-unused-vars\n    count++\n  }\n\n  return count\n}\n\nmodule.exports = length\n", "\"use strict\";\r\nmodule.exports = asPromise;\r\n\r\n/**\r\n * Callback as used by {@link util.asPromise}.\r\n * @typedef asPromiseCallback\r\n * @type {function}\r\n * @param {Error|null} error Error, if any\r\n * @param {...*} params Additional arguments\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Returns a promise from a node-style callback function.\r\n * @memberof util\r\n * @param {asPromiseCallback} fn Function to call\r\n * @param {*} ctx Function context\r\n * @param {...*} params Function arguments\r\n * @returns {Promise<*>} Promisified function\r\n */\r\nfunction asPromise(fn, ctx/*, varargs */) {\r\n    var params  = new Array(arguments.length - 1),\r\n        offset  = 0,\r\n        index   = 2,\r\n        pending = true;\r\n    while (index < arguments.length)\r\n        params[offset++] = arguments[index++];\r\n    return new Promise(function executor(resolve, reject) {\r\n        params[offset] = function callback(err/*, varargs */) {\r\n            if (pending) {\r\n                pending = false;\r\n                if (err)\r\n                    reject(err);\r\n                else {\r\n                    var params = new Array(arguments.length - 1),\r\n                        offset = 0;\r\n                    while (offset < params.length)\r\n                        params[offset++] = arguments[offset];\r\n                    resolve.apply(null, params);\r\n                }\r\n            }\r\n        };\r\n        try {\r\n            fn.apply(ctx || null, params);\r\n        } catch (err) {\r\n            if (pending) {\r\n                pending = false;\r\n                reject(err);\r\n            }\r\n        }\r\n    });\r\n}\r\n", "\"use strict\";\r\n\r\n/**\r\n * A minimal base64 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar base64 = exports;\r\n\r\n/**\r\n * Calculates the byte length of a base64 encoded string.\r\n * @param {string} string Base64 encoded string\r\n * @returns {number} Byte length\r\n */\r\nbase64.length = function length(string) {\r\n    var p = string.length;\r\n    if (!p)\r\n        return 0;\r\n    var n = 0;\r\n    while (--p % 4 > 1 && string.charAt(p) === \"=\")\r\n        ++n;\r\n    return Math.ceil(string.length * 3) / 4 - n;\r\n};\r\n\r\n// Base64 encoding table\r\nvar b64 = new Array(64);\r\n\r\n// Base64 decoding table\r\nvar s64 = new Array(123);\r\n\r\n// 65..90, 97..122, 48..57, 43, 47\r\nfor (var i = 0; i < 64;)\r\n    s64[b64[i] = i < 26 ? i + 65 : i < 52 ? i + 71 : i < 62 ? i - 4 : i - 59 | 43] = i++;\r\n\r\n/**\r\n * Encodes a buffer to a base64 encoded string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} Base64 encoded string\r\n */\r\nbase64.encode = function encode(buffer, start, end) {\r\n    var parts = null,\r\n        chunk = [];\r\n    var i = 0, // output index\r\n        j = 0, // goto index\r\n        t;     // temporary\r\n    while (start < end) {\r\n        var b = buffer[start++];\r\n        switch (j) {\r\n            case 0:\r\n                chunk[i++] = b64[b >> 2];\r\n                t = (b & 3) << 4;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                chunk[i++] = b64[t | b >> 4];\r\n                t = (b & 15) << 2;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                chunk[i++] = b64[t | b >> 6];\r\n                chunk[i++] = b64[b & 63];\r\n                j = 0;\r\n                break;\r\n        }\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (j) {\r\n        chunk[i++] = b64[t];\r\n        chunk[i++] = 61;\r\n        if (j === 1)\r\n            chunk[i++] = 61;\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\nvar invalidEncoding = \"invalid encoding\";\r\n\r\n/**\r\n * Decodes a base64 encoded string to a buffer.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Number of bytes written\r\n * @throws {Error} If encoding is invalid\r\n */\r\nbase64.decode = function decode(string, buffer, offset) {\r\n    var start = offset;\r\n    var j = 0, // goto index\r\n        t;     // temporary\r\n    for (var i = 0; i < string.length;) {\r\n        var c = string.charCodeAt(i++);\r\n        if (c === 61 && j > 1)\r\n            break;\r\n        if ((c = s64[c]) === undefined)\r\n            throw Error(invalidEncoding);\r\n        switch (j) {\r\n            case 0:\r\n                t = c;\r\n                j = 1;\r\n                break;\r\n            case 1:\r\n                buffer[offset++] = t << 2 | (c & 48) >> 4;\r\n                t = c;\r\n                j = 2;\r\n                break;\r\n            case 2:\r\n                buffer[offset++] = (t & 15) << 4 | (c & 60) >> 2;\r\n                t = c;\r\n                j = 3;\r\n                break;\r\n            case 3:\r\n                buffer[offset++] = (t & 3) << 6 | c;\r\n                j = 0;\r\n                break;\r\n        }\r\n    }\r\n    if (j === 1)\r\n        throw Error(invalidEncoding);\r\n    return offset - start;\r\n};\r\n\r\n/**\r\n * Tests if the specified string appears to be base64 encoded.\r\n * @param {string} string String to test\r\n * @returns {boolean} `true` if probably base64 encoded, otherwise false\r\n */\r\nbase64.test = function test(string) {\r\n    return /^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(string);\r\n};\r\n", "\"use strict\";\r\nmodule.exports = EventEmitter;\r\n\r\n/**\r\n * Constructs a new event emitter instance.\r\n * @classdesc A minimal event emitter.\r\n * @memberof util\r\n * @constructor\r\n */\r\nfunction EventEmitter() {\r\n\r\n    /**\r\n     * Registered listeners.\r\n     * @type {Object.<string,*>}\r\n     * @private\r\n     */\r\n    this._listeners = {};\r\n}\r\n\r\n/**\r\n * Registers an event listener.\r\n * @param {string} evt Event name\r\n * @param {function} fn Listener\r\n * @param {*} [ctx] Listener context\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.on = function on(evt, fn, ctx) {\r\n    (this._listeners[evt] || (this._listeners[evt] = [])).push({\r\n        fn  : fn,\r\n        ctx : ctx || this\r\n    });\r\n    return this;\r\n};\r\n\r\n/**\r\n * Removes an event listener or any matching listeners if arguments are omitted.\r\n * @param {string} [evt] Event name. Removes all listeners if omitted.\r\n * @param {function} [fn] Listener to remove. Removes all listeners of `evt` if omitted.\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.off = function off(evt, fn) {\r\n    if (evt === undefined)\r\n        this._listeners = {};\r\n    else {\r\n        if (fn === undefined)\r\n            this._listeners[evt] = [];\r\n        else {\r\n            var listeners = this._listeners[evt];\r\n            for (var i = 0; i < listeners.length;)\r\n                if (listeners[i].fn === fn)\r\n                    listeners.splice(i, 1);\r\n                else\r\n                    ++i;\r\n        }\r\n    }\r\n    return this;\r\n};\r\n\r\n/**\r\n * Emits an event by calling its listeners with the specified arguments.\r\n * @param {string} evt Event name\r\n * @param {...*} args Arguments\r\n * @returns {util.EventEmitter} `this`\r\n */\r\nEventEmitter.prototype.emit = function emit(evt) {\r\n    var listeners = this._listeners[evt];\r\n    if (listeners) {\r\n        var args = [],\r\n            i = 1;\r\n        for (; i < arguments.length;)\r\n            args.push(arguments[i++]);\r\n        for (i = 0; i < listeners.length;)\r\n            listeners[i].fn.apply(listeners[i++].ctx, args);\r\n    }\r\n    return this;\r\n};\r\n", "\"use strict\";\r\n\r\nmodule.exports = factory(factory);\r\n\r\n/**\r\n * Reads / writes floats / doubles from / to buffers.\r\n * @name util.float\r\n * @namespace\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using little endian byte order.\r\n * @name util.float.writeFloatLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 32 bit float to a buffer using big endian byte order.\r\n * @name util.float.writeFloatBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using little endian byte order.\r\n * @name util.float.readFloatLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 32 bit float from a buffer using big endian byte order.\r\n * @name util.float.readFloatBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using little endian byte order.\r\n * @name util.float.writeDoubleLE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Writes a 64 bit double to a buffer using big endian byte order.\r\n * @name util.float.writeDoubleBE\r\n * @function\r\n * @param {number} val Value to write\r\n * @param {Uint8Array} buf Target buffer\r\n * @param {number} pos Target buffer offset\r\n * @returns {undefined}\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using little endian byte order.\r\n * @name util.float.readDoubleLE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n/**\r\n * Reads a 64 bit double from a buffer using big endian byte order.\r\n * @name util.float.readDoubleBE\r\n * @function\r\n * @param {Uint8Array} buf Source buffer\r\n * @param {number} pos Source buffer offset\r\n * @returns {number} Value read\r\n */\r\n\r\n// Factory function for the purpose of node-based testing in modified global environments\r\nfunction factory(exports) {\r\n\r\n    // float: typed array\r\n    if (typeof Float32Array !== \"undefined\") (function() {\r\n\r\n        var f32 = new Float32Array([ -0 ]),\r\n            f8b = new Uint8Array(f32.buffer),\r\n            le  = f8b[3] === 128;\r\n\r\n        function writeFloat_f32_cpy(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n        }\r\n\r\n        function writeFloat_f32_rev(val, buf, pos) {\r\n            f32[0] = val;\r\n            buf[pos    ] = f8b[3];\r\n            buf[pos + 1] = f8b[2];\r\n            buf[pos + 2] = f8b[1];\r\n            buf[pos + 3] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeFloatLE = le ? writeFloat_f32_cpy : writeFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeFloatBE = le ? writeFloat_f32_rev : writeFloat_f32_cpy;\r\n\r\n        function readFloat_f32_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        function readFloat_f32_rev(buf, pos) {\r\n            f8b[3] = buf[pos    ];\r\n            f8b[2] = buf[pos + 1];\r\n            f8b[1] = buf[pos + 2];\r\n            f8b[0] = buf[pos + 3];\r\n            return f32[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readFloatLE = le ? readFloat_f32_cpy : readFloat_f32_rev;\r\n        /* istanbul ignore next */\r\n        exports.readFloatBE = le ? readFloat_f32_rev : readFloat_f32_cpy;\r\n\r\n    // float: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeFloat_ieee754(writeUint, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0)\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos);\r\n            else if (isNaN(val))\r\n                writeUint(2143289344, buf, pos);\r\n            else if (val > 3.4028234663852886e+38) // +-Infinity\r\n                writeUint((sign << 31 | 2139095040) >>> 0, buf, pos);\r\n            else if (val < 1.1754943508222875e-38) // denormal\r\n                writeUint((sign << 31 | Math.round(val / 1.401298464324817e-45)) >>> 0, buf, pos);\r\n            else {\r\n                var exponent = Math.floor(Math.log(val) / Math.LN2),\r\n                    mantissa = Math.round(val * Math.pow(2, -exponent) * 8388608) & 8388607;\r\n                writeUint((sign << 31 | exponent + 127 << 23 | mantissa) >>> 0, buf, pos);\r\n            }\r\n        }\r\n\r\n        exports.writeFloatLE = writeFloat_ieee754.bind(null, writeUintLE);\r\n        exports.writeFloatBE = writeFloat_ieee754.bind(null, writeUintBE);\r\n\r\n        function readFloat_ieee754(readUint, buf, pos) {\r\n            var uint = readUint(buf, pos),\r\n                sign = (uint >> 31) * 2 + 1,\r\n                exponent = uint >>> 23 & 255,\r\n                mantissa = uint & 8388607;\r\n            return exponent === 255\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 1.401298464324817e-45 * mantissa\r\n                : sign * Math.pow(2, exponent - 150) * (mantissa + 8388608);\r\n        }\r\n\r\n        exports.readFloatLE = readFloat_ieee754.bind(null, readUintLE);\r\n        exports.readFloatBE = readFloat_ieee754.bind(null, readUintBE);\r\n\r\n    })();\r\n\r\n    // double: typed array\r\n    if (typeof Float64Array !== \"undefined\") (function() {\r\n\r\n        var f64 = new Float64Array([-0]),\r\n            f8b = new Uint8Array(f64.buffer),\r\n            le  = f8b[7] === 128;\r\n\r\n        function writeDouble_f64_cpy(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[0];\r\n            buf[pos + 1] = f8b[1];\r\n            buf[pos + 2] = f8b[2];\r\n            buf[pos + 3] = f8b[3];\r\n            buf[pos + 4] = f8b[4];\r\n            buf[pos + 5] = f8b[5];\r\n            buf[pos + 6] = f8b[6];\r\n            buf[pos + 7] = f8b[7];\r\n        }\r\n\r\n        function writeDouble_f64_rev(val, buf, pos) {\r\n            f64[0] = val;\r\n            buf[pos    ] = f8b[7];\r\n            buf[pos + 1] = f8b[6];\r\n            buf[pos + 2] = f8b[5];\r\n            buf[pos + 3] = f8b[4];\r\n            buf[pos + 4] = f8b[3];\r\n            buf[pos + 5] = f8b[2];\r\n            buf[pos + 6] = f8b[1];\r\n            buf[pos + 7] = f8b[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleLE = le ? writeDouble_f64_cpy : writeDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.writeDoubleBE = le ? writeDouble_f64_rev : writeDouble_f64_cpy;\r\n\r\n        function readDouble_f64_cpy(buf, pos) {\r\n            f8b[0] = buf[pos    ];\r\n            f8b[1] = buf[pos + 1];\r\n            f8b[2] = buf[pos + 2];\r\n            f8b[3] = buf[pos + 3];\r\n            f8b[4] = buf[pos + 4];\r\n            f8b[5] = buf[pos + 5];\r\n            f8b[6] = buf[pos + 6];\r\n            f8b[7] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        function readDouble_f64_rev(buf, pos) {\r\n            f8b[7] = buf[pos    ];\r\n            f8b[6] = buf[pos + 1];\r\n            f8b[5] = buf[pos + 2];\r\n            f8b[4] = buf[pos + 3];\r\n            f8b[3] = buf[pos + 4];\r\n            f8b[2] = buf[pos + 5];\r\n            f8b[1] = buf[pos + 6];\r\n            f8b[0] = buf[pos + 7];\r\n            return f64[0];\r\n        }\r\n\r\n        /* istanbul ignore next */\r\n        exports.readDoubleLE = le ? readDouble_f64_cpy : readDouble_f64_rev;\r\n        /* istanbul ignore next */\r\n        exports.readDoubleBE = le ? readDouble_f64_rev : readDouble_f64_cpy;\r\n\r\n    // double: ieee754\r\n    })(); else (function() {\r\n\r\n        function writeDouble_ieee754(writeUint, off0, off1, val, buf, pos) {\r\n            var sign = val < 0 ? 1 : 0;\r\n            if (sign)\r\n                val = -val;\r\n            if (val === 0) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(1 / val > 0 ? /* positive */ 0 : /* negative 0 */ 2147483648, buf, pos + off1);\r\n            } else if (isNaN(val)) {\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint(2146959360, buf, pos + off1);\r\n            } else if (val > 1.7976931348623157e+308) { // +-Infinity\r\n                writeUint(0, buf, pos + off0);\r\n                writeUint((sign << 31 | 2146435072) >>> 0, buf, pos + off1);\r\n            } else {\r\n                var mantissa;\r\n                if (val < 2.2250738585072014e-308) { // denormal\r\n                    mantissa = val / 5e-324;\r\n                    writeUint(mantissa >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | mantissa / 4294967296) >>> 0, buf, pos + off1);\r\n                } else {\r\n                    var exponent = Math.floor(Math.log(val) / Math.LN2);\r\n                    if (exponent === 1024)\r\n                        exponent = 1023;\r\n                    mantissa = val * Math.pow(2, -exponent);\r\n                    writeUint(mantissa * 4503599627370496 >>> 0, buf, pos + off0);\r\n                    writeUint((sign << 31 | exponent + 1023 << 20 | mantissa * 1048576 & 1048575) >>> 0, buf, pos + off1);\r\n                }\r\n            }\r\n        }\r\n\r\n        exports.writeDoubleLE = writeDouble_ieee754.bind(null, writeUintLE, 0, 4);\r\n        exports.writeDoubleBE = writeDouble_ieee754.bind(null, writeUintBE, 4, 0);\r\n\r\n        function readDouble_ieee754(readUint, off0, off1, buf, pos) {\r\n            var lo = readUint(buf, pos + off0),\r\n                hi = readUint(buf, pos + off1);\r\n            var sign = (hi >> 31) * 2 + 1,\r\n                exponent = hi >>> 20 & 2047,\r\n                mantissa = 4294967296 * (hi & 1048575) + lo;\r\n            return exponent === 2047\r\n                ? mantissa\r\n                ? NaN\r\n                : sign * Infinity\r\n                : exponent === 0 // denormal\r\n                ? sign * 5e-324 * mantissa\r\n                : sign * Math.pow(2, exponent - 1075) * (mantissa + 4503599627370496);\r\n        }\r\n\r\n        exports.readDoubleLE = readDouble_ieee754.bind(null, readUintLE, 0, 4);\r\n        exports.readDoubleBE = readDouble_ieee754.bind(null, readUintBE, 4, 0);\r\n\r\n    })();\r\n\r\n    return exports;\r\n}\r\n\r\n// uint helpers\r\n\r\nfunction writeUintLE(val, buf, pos) {\r\n    buf[pos    ] =  val        & 255;\r\n    buf[pos + 1] =  val >>> 8  & 255;\r\n    buf[pos + 2] =  val >>> 16 & 255;\r\n    buf[pos + 3] =  val >>> 24;\r\n}\r\n\r\nfunction writeUintBE(val, buf, pos) {\r\n    buf[pos    ] =  val >>> 24;\r\n    buf[pos + 1] =  val >>> 16 & 255;\r\n    buf[pos + 2] =  val >>> 8  & 255;\r\n    buf[pos + 3] =  val        & 255;\r\n}\r\n\r\nfunction readUintLE(buf, pos) {\r\n    return (buf[pos    ]\r\n          | buf[pos + 1] << 8\r\n          | buf[pos + 2] << 16\r\n          | buf[pos + 3] << 24) >>> 0;\r\n}\r\n\r\nfunction readUintBE(buf, pos) {\r\n    return (buf[pos    ] << 24\r\n          | buf[pos + 1] << 16\r\n          | buf[pos + 2] << 8\r\n          | buf[pos + 3]) >>> 0;\r\n}\r\n", "\"use strict\";\r\nmodule.exports = inquire;\r\n\r\n/**\r\n * Requires a module only if available.\r\n * @memberof util\r\n * @param {string} moduleName Module to require\r\n * @returns {?Object} Required module if available and not empty, otherwise `null`\r\n */\r\nfunction inquire(moduleName) {\r\n    try {\r\n        var mod = eval(\"quire\".replace(/^/,\"re\"))(moduleName); // eslint-disable-line no-eval\r\n        if (mod && (mod.length || Object.keys(mod).length))\r\n            return mod;\r\n    } catch (e) {} // eslint-disable-line no-empty\r\n    return null;\r\n}\r\n", "\"use strict\";\r\n\r\n/**\r\n * A minimal UTF8 implementation for number arrays.\r\n * @memberof util\r\n * @namespace\r\n */\r\nvar utf8 = exports;\r\n\r\n/**\r\n * Calculates the UTF8 byte length of a string.\r\n * @param {string} string String\r\n * @returns {number} Byte length\r\n */\r\nutf8.length = function utf8_length(string) {\r\n    var len = 0,\r\n        c = 0;\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c = string.charCodeAt(i);\r\n        if (c < 128)\r\n            len += 1;\r\n        else if (c < 2048)\r\n            len += 2;\r\n        else if ((c & 0xFC00) === 0xD800 && (string.charCodeAt(i + 1) & 0xFC00) === 0xDC00) {\r\n            ++i;\r\n            len += 4;\r\n        } else\r\n            len += 3;\r\n    }\r\n    return len;\r\n};\r\n\r\n/**\r\n * Reads UTF8 bytes as a string.\r\n * @param {Uint8Array} buffer Source buffer\r\n * @param {number} start Source start\r\n * @param {number} end Source end\r\n * @returns {string} String read\r\n */\r\nutf8.read = function utf8_read(buffer, start, end) {\r\n    var len = end - start;\r\n    if (len < 1)\r\n        return \"\";\r\n    var parts = null,\r\n        chunk = [],\r\n        i = 0, // char offset\r\n        t;     // temporary\r\n    while (start < end) {\r\n        t = buffer[start++];\r\n        if (t < 128)\r\n            chunk[i++] = t;\r\n        else if (t > 191 && t < 224)\r\n            chunk[i++] = (t & 31) << 6 | buffer[start++] & 63;\r\n        else if (t > 239 && t < 365) {\r\n            t = ((t & 7) << 18 | (buffer[start++] & 63) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63) - 0x10000;\r\n            chunk[i++] = 0xD800 + (t >> 10);\r\n            chunk[i++] = 0xDC00 + (t & 1023);\r\n        } else\r\n            chunk[i++] = (t & 15) << 12 | (buffer[start++] & 63) << 6 | buffer[start++] & 63;\r\n        if (i > 8191) {\r\n            (parts || (parts = [])).push(String.fromCharCode.apply(String, chunk));\r\n            i = 0;\r\n        }\r\n    }\r\n    if (parts) {\r\n        if (i)\r\n            parts.push(String.fromCharCode.apply(String, chunk.slice(0, i)));\r\n        return parts.join(\"\");\r\n    }\r\n    return String.fromCharCode.apply(String, chunk.slice(0, i));\r\n};\r\n\r\n/**\r\n * Writes a string as UTF8 bytes.\r\n * @param {string} string Source string\r\n * @param {Uint8Array} buffer Destination buffer\r\n * @param {number} offset Destination offset\r\n * @returns {number} Bytes written\r\n */\r\nutf8.write = function utf8_write(string, buffer, offset) {\r\n    var start = offset,\r\n        c1, // character 1\r\n        c2; // character 2\r\n    for (var i = 0; i < string.length; ++i) {\r\n        c1 = string.charCodeAt(i);\r\n        if (c1 < 128) {\r\n            buffer[offset++] = c1;\r\n        } else if (c1 < 2048) {\r\n            buffer[offset++] = c1 >> 6       | 192;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else if ((c1 & 0xFC00) === 0xD800 && ((c2 = string.charCodeAt(i + 1)) & 0xFC00) === 0xDC00) {\r\n            c1 = 0x10000 + ((c1 & 0x03FF) << 10) + (c2 & 0x03FF);\r\n            ++i;\r\n            buffer[offset++] = c1 >> 18      | 240;\r\n            buffer[offset++] = c1 >> 12 & 63 | 128;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        } else {\r\n            buffer[offset++] = c1 >> 12      | 224;\r\n            buffer[offset++] = c1 >> 6  & 63 | 128;\r\n            buffer[offset++] = c1       & 63 | 128;\r\n        }\r\n    }\r\n    return offset - start;\r\n};\r\n", "\"use strict\";\r\nmodule.exports = pool;\r\n\r\n/**\r\n * An allocator as used by {@link util.pool}.\r\n * @typedef PoolAllocator\r\n * @type {function}\r\n * @param {number} size Buffer size\r\n * @returns {Uint8Array} Buffer\r\n */\r\n\r\n/**\r\n * A slicer as used by {@link util.pool}.\r\n * @typedef PoolSlicer\r\n * @type {function}\r\n * @param {number} start Start offset\r\n * @param {number} end End offset\r\n * @returns {Uint8Array} Buffer slice\r\n * @this {Uint8Array}\r\n */\r\n\r\n/**\r\n * A general purpose buffer pool.\r\n * @memberof util\r\n * @function\r\n * @param {PoolAllocator} alloc Allocator\r\n * @param {PoolSlicer} slice Slicer\r\n * @param {number} [size=8192] Slab size\r\n * @returns {PoolAllocator} Pooled allocator\r\n */\r\nfunction pool(alloc, slice, size) {\r\n    var SIZE   = size || 8192;\r\n    var MAX    = SIZE >>> 1;\r\n    var slab   = null;\r\n    var offset = SIZE;\r\n    return function pool_alloc(size) {\r\n        if (size < 1 || size > MAX)\r\n            return alloc(size);\r\n        if (offset + size > SIZE) {\r\n            slab = alloc(SIZE);\r\n            offset = 0;\r\n        }\r\n        var buf = slice.call(slab, offset, offset += size);\r\n        if (offset & 7) // align to 32 bit\r\n            offset = (offset | 7) + 1;\r\n        return buf;\r\n    };\r\n}\r\n", "\"use strict\";\nmodule.exports = LongBits;\n\nvar util = require(\"../util/minimal\");\n\n/**\n * Constructs new long bits.\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\n * @memberof util\n * @constructor\n * @param {number} lo Low 32 bits, unsigned\n * @param {number} hi High 32 bits, unsigned\n */\nfunction LongBits(lo, hi) {\n\n    // note that the casts below are theoretically unnecessary as of today, but older statically\n    // generated converter code might still call the ctor with signed 32bits. kept for compat.\n\n    /**\n     * Low bits.\n     * @type {number}\n     */\n    this.lo = lo >>> 0;\n\n    /**\n     * High bits.\n     * @type {number}\n     */\n    this.hi = hi >>> 0;\n}\n\n/**\n * Zero bits.\n * @memberof util.LongBits\n * @type {util.LongBits}\n */\nvar zero = LongBits.zero = new LongBits(0, 0);\n\nzero.toNumber = function() { return 0; };\nzero.zzEncode = zero.zzDecode = function() { return this; };\nzero.length = function() { return 1; };\n\n/**\n * Zero hash.\n * @memberof util.LongBits\n * @type {string}\n */\nvar zeroHash = LongBits.zeroHash = \"\\0\\0\\0\\0\\0\\0\\0\\0\";\n\n/**\n * Constructs new long bits from the specified number.\n * @param {number} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.fromNumber = function fromNumber(value) {\n    if (value === 0)\n        return zero;\n    var sign = value < 0;\n    if (sign)\n        value = -value;\n    var lo = value >>> 0,\n        hi = (value - lo) / 4294967296 >>> 0;\n    if (sign) {\n        hi = ~hi >>> 0;\n        lo = ~lo >>> 0;\n        if (++lo > 4294967295) {\n            lo = 0;\n            if (++hi > 4294967295)\n                hi = 0;\n        }\n    }\n    return new LongBits(lo, hi);\n};\n\n/**\n * Constructs new long bits from a number, long or string.\n * @param {Long|number|string} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.from = function from(value) {\n    if (typeof value === \"number\")\n        return LongBits.fromNumber(value);\n    if (util.isString(value)) {\n        /* istanbul ignore else */\n        if (util.Long)\n            value = util.Long.fromString(value);\n        else\n            return LongBits.fromNumber(parseInt(value, 10));\n    }\n    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;\n};\n\n/**\n * Converts this long bits to a possibly unsafe JavaScript number.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {number} Possibly unsafe number\n */\nLongBits.prototype.toNumber = function toNumber(unsigned) {\n    if (!unsigned && this.hi >>> 31) {\n        var lo = ~this.lo + 1 >>> 0,\n            hi = ~this.hi     >>> 0;\n        if (!lo)\n            hi = hi + 1 >>> 0;\n        return -(lo + hi * 4294967296);\n    }\n    return this.lo + this.hi * 4294967296;\n};\n\n/**\n * Converts this long bits to a long.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long} Long\n */\nLongBits.prototype.toLong = function toLong(unsigned) {\n    return util.Long\n        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))\n        /* istanbul ignore next */\n        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };\n};\n\nvar charCodeAt = String.prototype.charCodeAt;\n\n/**\n * Constructs new long bits from the specified 8 characters long hash.\n * @param {string} hash Hash\n * @returns {util.LongBits} Bits\n */\nLongBits.fromHash = function fromHash(hash) {\n    if (hash === zeroHash)\n        return zero;\n    return new LongBits(\n        ( charCodeAt.call(hash, 0)\n        | charCodeAt.call(hash, 1) << 8\n        | charCodeAt.call(hash, 2) << 16\n        | charCodeAt.call(hash, 3) << 24) >>> 0\n    ,\n        ( charCodeAt.call(hash, 4)\n        | charCodeAt.call(hash, 5) << 8\n        | charCodeAt.call(hash, 6) << 16\n        | charCodeAt.call(hash, 7) << 24) >>> 0\n    );\n};\n\n/**\n * Converts this long bits to a 8 characters long hash.\n * @returns {string} Hash\n */\nLongBits.prototype.toHash = function toHash() {\n    return String.fromCharCode(\n        this.lo        & 255,\n        this.lo >>> 8  & 255,\n        this.lo >>> 16 & 255,\n        this.lo >>> 24      ,\n        this.hi        & 255,\n        this.hi >>> 8  & 255,\n        this.hi >>> 16 & 255,\n        this.hi >>> 24\n    );\n};\n\n/**\n * Zig-zag encodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzEncode = function zzEncode() {\n    var mask =   this.hi >> 31;\n    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\n    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Zig-zag decodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzDecode = function zzDecode() {\n    var mask = -(this.lo & 1);\n    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\n    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Calculates the length of this longbits when encoded as a varint.\n * @returns {number} Length\n */\nLongBits.prototype.length = function length() {\n    var part0 =  this.lo,\n        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,\n        part2 =  this.hi >>> 24;\n    return part2 === 0\n         ? part1 === 0\n           ? part0 < 16384\n             ? part0 < 128 ? 1 : 2\n             : part0 < 2097152 ? 3 : 4\n           : part1 < 16384\n             ? part1 < 128 ? 5 : 6\n             : part1 < 2097152 ? 7 : 8\n         : part2 < 128 ? 9 : 10;\n};\n", "\"use strict\";\nvar util = exports;\n\n// used to return a Promise where callback is omitted\nutil.asPromise = require(\"@protobufjs/aspromise\");\n\n// converts to / from base64 encoded strings\nutil.base64 = require(\"@protobufjs/base64\");\n\n// base class of rpc.Service\nutil.EventEmitter = require(\"@protobufjs/eventemitter\");\n\n// float handling accross browsers\nutil.float = require(\"@protobufjs/float\");\n\n// requires modules optionally and hides the call from bundlers\nutil.inquire = require(\"@protobufjs/inquire\");\n\n// converts to / from utf8 encoded strings\nutil.utf8 = require(\"@protobufjs/utf8\");\n\n// provides a node-like buffer pool in the browser\nutil.pool = require(\"@protobufjs/pool\");\n\n// utility to work with the low and high bits of a 64 bit value\nutil.LongBits = require(\"./longbits\");\n\n/**\n * Whether running within node or not.\n * @memberof util\n * @type {boolean}\n */\nutil.isNode = Boolean(typeof global !== \"undefined\"\n                   && global\n                   && global.process\n                   && global.process.versions\n                   && global.process.versions.node);\n\n/**\n * Global object reference.\n * @memberof util\n * @type {Object}\n */\nutil.global = util.isNode && global\n           || typeof window !== \"undefined\" && window\n           || typeof self   !== \"undefined\" && self\n           || this; // eslint-disable-line no-invalid-this\n\n/**\n * An immuable empty array.\n * @memberof util\n * @type {Array.<*>}\n * @const\n */\nutil.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes\n\n/**\n * An immutable empty object.\n * @type {Object}\n * @const\n */\nutil.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes\n\n/**\n * Tests if the specified value is an integer.\n * @function\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is an integer\n */\nutil.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\n};\n\n/**\n * Tests if the specified value is a string.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a string\n */\nutil.isString = function isString(value) {\n    return typeof value === \"string\" || value instanceof String;\n};\n\n/**\n * Tests if the specified value is a non-null object.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a non-null object\n */\nutil.isObject = function isObject(value) {\n    return value && typeof value === \"object\";\n};\n\n/**\n * Checks if a property on a message is considered to be present.\n * This is an alias of {@link util.isSet}.\n * @function\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isset =\n\n/**\n * Checks if a property on a message is considered to be present.\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isSet = function isSet(obj, prop) {\n    var value = obj[prop];\n    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins\n        return typeof value !== \"object\" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;\n    return false;\n};\n\n/**\n * Any compatible Buffer instance.\n * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.\n * @interface Buffer\n * @extends Uint8Array\n */\n\n/**\n * Node's Buffer class if available.\n * @type {Constructor<Buffer>}\n */\nutil.Buffer = (function() {\n    try {\n        var Buffer = util.inquire(\"buffer\").Buffer;\n        // refuse to use non-node buffers if not explicitly assigned (perf reasons):\n        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;\n    } catch (e) {\n        /* istanbul ignore next */\n        return null;\n    }\n})();\n\n// Internal alias of or polyfull for Buffer.from.\nutil._Buffer_from = null;\n\n// Internal alias of or polyfill for Buffer.allocUnsafe.\nutil._Buffer_allocUnsafe = null;\n\n/**\n * Creates a new buffer of whatever type supported by the environment.\n * @param {number|number[]} [sizeOrArray=0] Buffer size or number array\n * @returns {Uint8Array|Buffer} Buffer\n */\nutil.newBuffer = function newBuffer(sizeOrArray) {\n    /* istanbul ignore next */\n    return typeof sizeOrArray === \"number\"\n        ? util.Buffer\n            ? util._Buffer_allocUnsafe(sizeOrArray)\n            : new util.Array(sizeOrArray)\n        : util.Buffer\n            ? util._Buffer_from(sizeOrArray)\n            : typeof Uint8Array === \"undefined\"\n                ? sizeOrArray\n                : new Uint8Array(sizeOrArray);\n};\n\n/**\n * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.\n * @type {Constructor<Uint8Array>}\n */\nutil.Array = typeof Uint8Array !== \"undefined\" ? Uint8Array /* istanbul ignore next */ : Array;\n\n/**\n * Any compatible Long instance.\n * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.\n * @interface Long\n * @property {number} low Low bits\n * @property {number} high High bits\n * @property {boolean} unsigned Whether unsigned or not\n */\n\n/**\n * Long.js's Long class if available.\n * @type {Constructor<Long>}\n */\nutil.Long = /* istanbul ignore next */ util.global.dcodeIO && /* istanbul ignore next */ util.global.dcodeIO.Long\n         || /* istanbul ignore next */ util.global.Long\n         || util.inquire(\"long\");\n\n/**\n * Regular expression used to verify 2 bit (`bool`) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key2Re = /^true|false|0|1$/;\n\n/**\n * Regular expression used to verify 32 bit (`int32` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key32Re = /^-?(?:0|[1-9][0-9]*)$/;\n\n/**\n * Regular expression used to verify 64 bit (`int64` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key64Re = /^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;\n\n/**\n * Converts a number or long to an 8 characters long hash string.\n * @param {Long|number} value Value to convert\n * @returns {string} Hash\n */\nutil.longToHash = function longToHash(value) {\n    return value\n        ? util.LongBits.from(value).toHash()\n        : util.LongBits.zeroHash;\n};\n\n/**\n * Converts an 8 characters long hash string to a long or number.\n * @param {string} hash Hash\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long|number} Original value\n */\nutil.longFromHash = function longFromHash(hash, unsigned) {\n    var bits = util.LongBits.fromHash(hash);\n    if (util.Long)\n        return util.Long.fromBits(bits.lo, bits.hi, unsigned);\n    return bits.toNumber(Boolean(unsigned));\n};\n\n/**\n * Merges the properties of the source object into the destination object.\n * @memberof util\n * @param {Object.<string,*>} dst Destination object\n * @param {Object.<string,*>} src Source object\n * @param {boolean} [ifNotSet=false] Merges only if the key is not already set\n * @returns {Object.<string,*>} Destination object\n */\nfunction merge(dst, src, ifNotSet) { // used by converters\n    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)\n        if (dst[keys[i]] === undefined || !ifNotSet)\n            dst[keys[i]] = src[keys[i]];\n    return dst;\n}\n\nutil.merge = merge;\n\n/**\n * Converts the first character of a string to lower case.\n * @param {string} str String to convert\n * @returns {string} Converted string\n */\nutil.lcFirst = function lcFirst(str) {\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\n/**\n * Creates a custom error constructor.\n * @memberof util\n * @param {string} name Error name\n * @returns {Constructor<Error>} Custom error constructor\n */\nfunction newError(name) {\n\n    function CustomError(message, properties) {\n\n        if (!(this instanceof CustomError))\n            return new CustomError(message, properties);\n\n        // Error.call(this, message);\n        // ^ just returns a new error instance because the ctor can be called as a function\n\n        Object.defineProperty(this, \"message\", { get: function() { return message; } });\n\n        /* istanbul ignore next */\n        if (Error.captureStackTrace) // node\n            Error.captureStackTrace(this, CustomError);\n        else\n            Object.defineProperty(this, \"stack\", { value: new Error().stack || \"\" });\n\n        if (properties)\n            merge(this, properties);\n    }\n\n    CustomError.prototype = Object.create(Error.prototype, {\n        constructor: {\n            value: CustomError,\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n        name: {\n            get() { return name; },\n            set: undefined,\n            enumerable: false,\n            // configurable: false would accurately preserve the behavior of\n            // the original, but I'm guessing that was not intentional.\n            // For an actual error subclass, this property would\n            // be configurable.\n            configurable: true,\n        },\n        toString: {\n            value() { return this.name + \": \" + this.message; },\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n    });\n\n    return CustomError;\n}\n\nutil.newError = newError;\n\n/**\n * Constructs a new protocol error.\n * @classdesc Error subclass indicating a protocol specifc error.\n * @memberof util\n * @extends Error\n * @template T extends Message<T>\n * @constructor\n * @param {string} message Error message\n * @param {Object.<string,*>} [properties] Additional properties\n * @example\n * try {\n *     MyMessage.decode(someBuffer); // throws if required fields are missing\n * } catch (e) {\n *     if (e instanceof ProtocolError && e.instance)\n *         console.log(\"decoded so far: \" + JSON.stringify(e.instance));\n * }\n */\nutil.ProtocolError = newError(\"ProtocolError\");\n\n/**\n * So far decoded message instance.\n * @name util.ProtocolError#instance\n * @type {Message<T>}\n */\n\n/**\n * A OneOf getter as returned by {@link util.oneOfGetter}.\n * @typedef OneOfGetter\n * @type {function}\n * @returns {string|undefined} Set field name, if any\n */\n\n/**\n * Builds a getter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfGetter} Unbound getter\n */\nutil.oneOfGetter = function getOneOf(fieldNames) {\n    var fieldMap = {};\n    for (var i = 0; i < fieldNames.length; ++i)\n        fieldMap[fieldNames[i]] = 1;\n\n    /**\n     * @returns {string|undefined} Set field name, if any\n     * @this Object\n     * @ignore\n     */\n    return function() { // eslint-disable-line consistent-return\n        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)\n            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)\n                return keys[i];\n    };\n};\n\n/**\n * A OneOf setter as returned by {@link util.oneOfSetter}.\n * @typedef OneOfSetter\n * @type {function}\n * @param {string|undefined} value Field name\n * @returns {undefined}\n */\n\n/**\n * Builds a setter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfSetter} Unbound setter\n */\nutil.oneOfSetter = function setOneOf(fieldNames) {\n\n    /**\n     * @param {string} name Field name\n     * @returns {undefined}\n     * @this Object\n     * @ignore\n     */\n    return function(name) {\n        for (var i = 0; i < fieldNames.length; ++i)\n            if (fieldNames[i] !== name)\n                delete this[fieldNames[i]];\n    };\n};\n\n/**\n * Default conversion options used for {@link Message#toJSON} implementations.\n *\n * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:\n *\n * - Longs become strings\n * - Enums become string keys\n * - Bytes become base64 encoded strings\n * - (Sub-)Messages become plain objects\n * - Maps become plain objects with all string keys\n * - Repeated fields become arrays\n * - NaN and Infinity for float and double fields become strings\n *\n * @type {IConversionOptions}\n * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json\n */\nutil.toJSONOptions = {\n    longs: String,\n    enums: String,\n    bytes: String,\n    json: true\n};\n\n// Sets up buffer utility according to the environment (called in index-minimal)\nutil._configure = function() {\n    var Buffer = util.Buffer;\n    /* istanbul ignore if */\n    if (!Buffer) {\n        util._Buffer_from = util._Buffer_allocUnsafe = null;\n        return;\n    }\n    // because node 4.x buffers are incompatible & immutable\n    // see: https://github.com/dcodeIO/protobuf.js/pull/665\n    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||\n        /* istanbul ignore next */\n        function Buffer_from(value, encoding) {\n            return new Buffer(value, encoding);\n        };\n    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||\n        /* istanbul ignore next */\n        function Buffer_allocUnsafe(size) {\n            return new Buffer(size);\n        };\n};\n", "\"use strict\";\nmodule.exports = Writer;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferWriter; // cyclic\n\nvar LongBits  = util.LongBits,\n    base64    = util.base64,\n    utf8      = util.utf8;\n\n/**\n * Constructs a new writer operation instance.\n * @classdesc Scheduled writer operation.\n * @constructor\n * @param {function(*, Uint8Array, number)} fn Function to call\n * @param {number} len Value byte length\n * @param {*} val Value to write\n * @ignore\n */\nfunction Op(fn, len, val) {\n\n    /**\n     * Function to call.\n     * @type {function(Uint8Array, number, *)}\n     */\n    this.fn = fn;\n\n    /**\n     * Value byte length.\n     * @type {number}\n     */\n    this.len = len;\n\n    /**\n     * Next operation.\n     * @type {Writer.Op|undefined}\n     */\n    this.next = undefined;\n\n    /**\n     * Value to write.\n     * @type {*}\n     */\n    this.val = val; // type varies\n}\n\n/* istanbul ignore next */\nfunction noop() {} // eslint-disable-line no-empty-function\n\n/**\n * Constructs a new writer state instance.\n * @classdesc Copied writer state.\n * @memberof Writer\n * @constructor\n * @param {Writer} writer Writer to copy state from\n * @ignore\n */\nfunction State(writer) {\n\n    /**\n     * Current head.\n     * @type {Writer.Op}\n     */\n    this.head = writer.head;\n\n    /**\n     * Current tail.\n     * @type {Writer.Op}\n     */\n    this.tail = writer.tail;\n\n    /**\n     * Current buffer length.\n     * @type {number}\n     */\n    this.len = writer.len;\n\n    /**\n     * Next state.\n     * @type {State|null}\n     */\n    this.next = writer.states;\n}\n\n/**\n * Constructs a new writer instance.\n * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n */\nfunction Writer() {\n\n    /**\n     * Current length.\n     * @type {number}\n     */\n    this.len = 0;\n\n    /**\n     * Operations head.\n     * @type {Object}\n     */\n    this.head = new Op(noop, 0, 0);\n\n    /**\n     * Operations tail\n     * @type {Object}\n     */\n    this.tail = this.head;\n\n    /**\n     * Linked forked states.\n     * @type {Object|null}\n     */\n    this.states = null;\n\n    // When a value is written, the writer calculates its byte length and puts it into a linked\n    // list of operations to perform when finish() is called. This both allows us to allocate\n    // buffers of the exact required size and reduces the amount of work we have to do compared\n    // to first calculating over objects and then encoding over objects. In our case, the encoding\n    // part is just a linked list walk calling operations with already prepared values.\n}\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup() {\n            return (Writer.create = function create_buffer() {\n                return new BufferWriter();\n            })();\n        }\n        /* istanbul ignore next */\n        : function create_array() {\n            return new Writer();\n        };\n};\n\n/**\n * Creates a new writer.\n * @function\n * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}\n */\nWriter.create = create();\n\n/**\n * Allocates a buffer of the specified size.\n * @param {number} size Buffer size\n * @returns {Uint8Array} Buffer\n */\nWriter.alloc = function alloc(size) {\n    return new util.Array(size);\n};\n\n// Use Uint8Array buffer pool in the browser, just like node does with buffers\n/* istanbul ignore else */\nif (util.Array !== Array)\n    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);\n\n/**\n * Pushes a new operation to the queue.\n * @param {function(Uint8Array, number, *)} fn Function to call\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @returns {Writer} `this`\n * @private\n */\nWriter.prototype._push = function push(fn, len, val) {\n    this.tail = this.tail.next = new Op(fn, len, val);\n    this.len += len;\n    return this;\n};\n\nfunction writeByte(val, buf, pos) {\n    buf[pos] = val & 255;\n}\n\nfunction writeVarint32(val, buf, pos) {\n    while (val > 127) {\n        buf[pos++] = val & 127 | 128;\n        val >>>= 7;\n    }\n    buf[pos] = val;\n}\n\n/**\n * Constructs a new varint writer operation instance.\n * @classdesc Scheduled varint writer operation.\n * @extends Op\n * @constructor\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @ignore\n */\nfunction VarintOp(len, val) {\n    this.len = len;\n    this.next = undefined;\n    this.val = val;\n}\n\nVarintOp.prototype = Object.create(Op.prototype);\nVarintOp.prototype.fn = writeVarint32;\n\n/**\n * Writes an unsigned 32 bit value as a varint.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.uint32 = function write_uint32(value) {\n    // here, the call to this.push has been inlined and a varint specific Op subclass is used.\n    // uint32 is by far the most frequently used operation and benefits significantly from this.\n    this.len += (this.tail = this.tail.next = new VarintOp(\n        (value = value >>> 0)\n                < 128       ? 1\n        : value < 16384     ? 2\n        : value < 2097152   ? 3\n        : value < 268435456 ? 4\n        :                     5,\n    value)).len;\n    return this;\n};\n\n/**\n * Writes a signed 32 bit value as a varint.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.int32 = function write_int32(value) {\n    return value < 0\n        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec\n        : this.uint32(value);\n};\n\n/**\n * Writes a 32 bit value as a varint, zig-zag encoded.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sint32 = function write_sint32(value) {\n    return this.uint32((value << 1 ^ value >> 31) >>> 0);\n};\n\nfunction writeVarint64(val, buf, pos) {\n    while (val.hi) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;\n        val.hi >>>= 7;\n    }\n    while (val.lo > 127) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = val.lo >>> 7;\n    }\n    buf[pos++] = val.lo;\n}\n\n/**\n * Writes an unsigned 64 bit value as a varint.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.uint64 = function write_uint64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a signed 64 bit value as a varint.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.int64 = Writer.prototype.uint64;\n\n/**\n * Writes a signed 64 bit value as a varint, zig-zag encoded.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sint64 = function write_sint64(value) {\n    var bits = LongBits.from(value).zzEncode();\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a boolish value as a varint.\n * @param {boolean} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bool = function write_bool(value) {\n    return this._push(writeByte, 1, value ? 1 : 0);\n};\n\nfunction writeFixed32(val, buf, pos) {\n    buf[pos    ] =  val         & 255;\n    buf[pos + 1] =  val >>> 8   & 255;\n    buf[pos + 2] =  val >>> 16  & 255;\n    buf[pos + 3] =  val >>> 24;\n}\n\n/**\n * Writes an unsigned 32 bit value as fixed 32 bits.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.fixed32 = function write_fixed32(value) {\n    return this._push(writeFixed32, 4, value >>> 0);\n};\n\n/**\n * Writes a signed 32 bit value as fixed 32 bits.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sfixed32 = Writer.prototype.fixed32;\n\n/**\n * Writes an unsigned 64 bit value as fixed 64 bits.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.fixed64 = function write_fixed64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);\n};\n\n/**\n * Writes a signed 64 bit value as fixed 64 bits.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sfixed64 = Writer.prototype.fixed64;\n\n/**\n * Writes a float (32 bit).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.float = function write_float(value) {\n    return this._push(util.float.writeFloatLE, 4, value);\n};\n\n/**\n * Writes a double (64 bit float).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.double = function write_double(value) {\n    return this._push(util.float.writeDoubleLE, 8, value);\n};\n\nvar writeBytes = util.Array.prototype.set\n    ? function writeBytes_set(val, buf, pos) {\n        buf.set(val, pos); // also works for plain array values\n    }\n    /* istanbul ignore next */\n    : function writeBytes_for(val, buf, pos) {\n        for (var i = 0; i < val.length; ++i)\n            buf[pos + i] = val[i];\n    };\n\n/**\n * Writes a sequence of bytes.\n * @param {Uint8Array|string} value Buffer or base64 encoded string to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bytes = function write_bytes(value) {\n    var len = value.length >>> 0;\n    if (!len)\n        return this._push(writeByte, 1, 0);\n    if (util.isString(value)) {\n        var buf = Writer.alloc(len = base64.length(value));\n        base64.decode(value, buf, 0);\n        value = buf;\n    }\n    return this.uint32(len)._push(writeBytes, len, value);\n};\n\n/**\n * Writes a string.\n * @param {string} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.string = function write_string(value) {\n    var len = utf8.length(value);\n    return len\n        ? this.uint32(len)._push(utf8.write, len, value)\n        : this._push(writeByte, 1, 0);\n};\n\n/**\n * Forks this writer's state by pushing it to a stack.\n * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.\n * @returns {Writer} `this`\n */\nWriter.prototype.fork = function fork() {\n    this.states = new State(this);\n    this.head = this.tail = new Op(noop, 0, 0);\n    this.len = 0;\n    return this;\n};\n\n/**\n * Resets this instance to the last state.\n * @returns {Writer} `this`\n */\nWriter.prototype.reset = function reset() {\n    if (this.states) {\n        this.head   = this.states.head;\n        this.tail   = this.states.tail;\n        this.len    = this.states.len;\n        this.states = this.states.next;\n    } else {\n        this.head = this.tail = new Op(noop, 0, 0);\n        this.len  = 0;\n    }\n    return this;\n};\n\n/**\n * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.\n * @returns {Writer} `this`\n */\nWriter.prototype.ldelim = function ldelim() {\n    var head = this.head,\n        tail = this.tail,\n        len  = this.len;\n    this.reset().uint32(len);\n    if (len) {\n        this.tail.next = head.next; // skip noop\n        this.tail = tail;\n        this.len += len;\n    }\n    return this;\n};\n\n/**\n * Finishes the write operation.\n * @returns {Uint8Array} Finished buffer\n */\nWriter.prototype.finish = function finish() {\n    var head = this.head.next, // skip noop\n        buf  = this.constructor.alloc(this.len),\n        pos  = 0;\n    while (head) {\n        head.fn(head.val, buf, pos);\n        pos += head.len;\n        head = head.next;\n    }\n    // this.head = this.tail = null;\n    return buf;\n};\n\nWriter._configure = function(BufferWriter_) {\n    BufferWriter = BufferWriter_;\n    Writer.create = create();\n    BufferWriter._configure();\n};\n", "\"use strict\";\nmodule.exports = BufferWriter;\n\n// extends Writer\nvar Writer = require(\"./writer\");\n(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer writer instance.\n * @classdesc Wire format writer using node buffers.\n * @extends Writer\n * @constructor\n */\nfunction BufferWriter() {\n    Writer.call(this);\n}\n\nBufferWriter._configure = function () {\n    /**\n     * Allocates a buffer of the specified size.\n     * @function\n     * @param {number} size Buffer size\n     * @returns {Buffer} Buffer\n     */\n    BufferWriter.alloc = util._Buffer_allocUnsafe;\n\n    BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === \"set\"\n        ? function writeBytesBuffer_set(val, buf, pos) {\n          buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)\n          // also works for plain array values\n        }\n        /* istanbul ignore next */\n        : function writeBytesBuffer_copy(val, buf, pos) {\n          if (val.copy) // Buffer values\n            val.copy(buf, pos, 0, val.length);\n          else for (var i = 0; i < val.length;) // plain array values\n            buf[pos++] = val[i++];\n        };\n};\n\n\n/**\n * @override\n */\nBufferWriter.prototype.bytes = function write_bytes_buffer(value) {\n    if (util.isString(value))\n        value = util._Buffer_from(value, \"base64\");\n    var len = value.length >>> 0;\n    this.uint32(len);\n    if (len)\n        this._push(BufferWriter.writeBytesBuffer, len, value);\n    return this;\n};\n\nfunction writeStringBuffer(val, buf, pos) {\n    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)\n        util.utf8.write(val, buf, pos);\n    else if (buf.utf8Write)\n        buf.utf8Write(val, pos);\n    else\n        buf.write(val, pos);\n}\n\n/**\n * @override\n */\nBufferWriter.prototype.string = function write_string_buffer(value) {\n    var len = util.Buffer.byteLength(value);\n    this.uint32(len);\n    if (len)\n        this._push(writeStringBuffer, len, value);\n    return this;\n};\n\n\n/**\n * Finishes the write operation.\n * @name BufferWriter#finish\n * @function\n * @returns {Buffer} Finished buffer\n */\n\nBufferWriter._configure();\n", "\"use strict\";\nmodule.exports = Reader;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferReader; // cyclic\n\nvar LongBits  = util.LongBits,\n    utf8      = util.utf8;\n\n/* istanbul ignore next */\nfunction indexOutOfRange(reader, writeLength) {\n    return RangeError(\"index out of range: \" + reader.pos + \" + \" + (writeLength || 1) + \" > \" + reader.len);\n}\n\n/**\n * Constructs a new reader instance using the specified buffer.\n * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n * @param {Uint8Array} buffer Buffer to read from\n */\nfunction Reader(buffer) {\n\n    /**\n     * Read buffer.\n     * @type {Uint8Array}\n     */\n    this.buf = buffer;\n\n    /**\n     * Read buffer position.\n     * @type {number}\n     */\n    this.pos = 0;\n\n    /**\n     * Read buffer length.\n     * @type {number}\n     */\n    this.len = buffer.length;\n}\n\nvar create_array = typeof Uint8Array !== \"undefined\"\n    ? function create_typed_array(buffer) {\n        if (buffer instanceof Uint8Array || Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    }\n    /* istanbul ignore next */\n    : function create_array(buffer) {\n        if (Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    };\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup(buffer) {\n            return (Reader.create = function create_buffer(buffer) {\n                return util.Buffer.isBuffer(buffer)\n                    ? new BufferReader(buffer)\n                    /* istanbul ignore next */\n                    : create_array(buffer);\n            })(buffer);\n        }\n        /* istanbul ignore next */\n        : create_array;\n};\n\n/**\n * Creates a new reader using the specified buffer.\n * @function\n * @param {Uint8Array|Buffer} buffer Buffer to read from\n * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}\n * @throws {Error} If `buffer` is not a valid buffer\n */\nReader.create = create();\n\nReader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;\n\n/**\n * Reads a varint as an unsigned 32 bit value.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.uint32 = (function read_uint32_setup() {\n    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)\n    return function read_uint32() {\n        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;\n\n        /* istanbul ignore if */\n        if ((this.pos += 5) > this.len) {\n            this.pos = this.len;\n            throw indexOutOfRange(this, 10);\n        }\n        return value;\n    };\n})();\n\n/**\n * Reads a varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.int32 = function read_int32() {\n    return this.uint32() | 0;\n};\n\n/**\n * Reads a zig-zag encoded varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.sint32 = function read_sint32() {\n    var value = this.uint32();\n    return value >>> 1 ^ -(value & 1) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readLongVarint() {\n    // tends to deopt with local vars for octet etc.\n    var bits = new LongBits(0, 0);\n    var i = 0;\n    if (this.len - this.pos > 4) { // fast route (lo)\n        for (; i < 4; ++i) {\n            // 1st..4th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 5th\n        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;\n        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;\n        if (this.buf[this.pos++] < 128)\n            return bits;\n        i = 0;\n    } else {\n        for (; i < 3; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 1st..3th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 4th\n        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;\n        return bits;\n    }\n    if (this.len - this.pos > 4) { // fast route (hi)\n        for (; i < 5; ++i) {\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    } else {\n        for (; i < 5; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    }\n    /* istanbul ignore next */\n    throw Error(\"invalid varint encoding\");\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads a varint as a signed 64 bit value.\n * @name Reader#int64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as an unsigned 64 bit value.\n * @name Reader#uint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a zig-zag encoded varint as a signed 64 bit value.\n * @name Reader#sint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as a boolean.\n * @returns {boolean} Value read\n */\nReader.prototype.bool = function read_bool() {\n    return this.uint32() !== 0;\n};\n\nfunction readFixed32_end(buf, end) { // note that this uses `end`, not `pos`\n    return (buf[end - 4]\n          | buf[end - 3] << 8\n          | buf[end - 2] << 16\n          | buf[end - 1] << 24) >>> 0;\n}\n\n/**\n * Reads fixed 32 bits as an unsigned 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.fixed32 = function read_fixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4);\n};\n\n/**\n * Reads fixed 32 bits as a signed 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.sfixed32 = function read_sfixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readFixed64(/* this: Reader */) {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 8);\n\n    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads fixed 64 bits.\n * @name Reader#fixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads zig-zag encoded fixed 64 bits.\n * @name Reader#sfixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a float (32 bit) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.float = function read_float() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readFloatLE(this.buf, this.pos);\n    this.pos += 4;\n    return value;\n};\n\n/**\n * Reads a double (64 bit float) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.double = function read_double() {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readDoubleLE(this.buf, this.pos);\n    this.pos += 8;\n    return value;\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @returns {Uint8Array} Value read\n */\nReader.prototype.bytes = function read_bytes() {\n    var length = this.uint32(),\n        start  = this.pos,\n        end    = this.pos + length;\n\n    /* istanbul ignore if */\n    if (end > this.len)\n        throw indexOutOfRange(this, length);\n\n    this.pos += length;\n    if (Array.isArray(this.buf)) // plain array\n        return this.buf.slice(start, end);\n    return start === end // fix for IE 10/Win8 and others' subarray returning array of size 1\n        ? new this.buf.constructor(0)\n        : this._slice.call(this.buf, start, end);\n};\n\n/**\n * Reads a string preceeded by its byte length as a varint.\n * @returns {string} Value read\n */\nReader.prototype.string = function read_string() {\n    var bytes = this.bytes();\n    return utf8.read(bytes, 0, bytes.length);\n};\n\n/**\n * Skips the specified number of bytes if specified, otherwise skips a varint.\n * @param {number} [length] Length if known, otherwise a varint is assumed\n * @returns {Reader} `this`\n */\nReader.prototype.skip = function skip(length) {\n    if (typeof length === \"number\") {\n        /* istanbul ignore if */\n        if (this.pos + length > this.len)\n            throw indexOutOfRange(this, length);\n        this.pos += length;\n    } else {\n        do {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n        } while (this.buf[this.pos++] & 128);\n    }\n    return this;\n};\n\n/**\n * Skips the next element of the specified wire type.\n * @param {number} wireType Wire type received\n * @returns {Reader} `this`\n */\nReader.prototype.skipType = function(wireType) {\n    switch (wireType) {\n        case 0:\n            this.skip();\n            break;\n        case 1:\n            this.skip(8);\n            break;\n        case 2:\n            this.skip(this.uint32());\n            break;\n        case 3:\n            while ((wireType = this.uint32() & 7) !== 4) {\n                this.skipType(wireType);\n            }\n            break;\n        case 5:\n            this.skip(4);\n            break;\n\n        /* istanbul ignore next */\n        default:\n            throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\n    }\n    return this;\n};\n\nReader._configure = function(BufferReader_) {\n    BufferReader = BufferReader_;\n    Reader.create = create();\n    BufferReader._configure();\n\n    var fn = util.Long ? \"toLong\" : /* istanbul ignore next */ \"toNumber\";\n    util.merge(Reader.prototype, {\n\n        int64: function read_int64() {\n            return readLongVarint.call(this)[fn](false);\n        },\n\n        uint64: function read_uint64() {\n            return readLongVarint.call(this)[fn](true);\n        },\n\n        sint64: function read_sint64() {\n            return readLongVarint.call(this).zzDecode()[fn](false);\n        },\n\n        fixed64: function read_fixed64() {\n            return readFixed64.call(this)[fn](true);\n        },\n\n        sfixed64: function read_sfixed64() {\n            return readFixed64.call(this)[fn](false);\n        }\n\n    });\n};\n", "\"use strict\";\nmodule.exports = BufferReader;\n\n// extends Reader\nvar Reader = require(\"./reader\");\n(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer reader instance.\n * @classdesc Wire format reader using node buffers.\n * @extends Reader\n * @constructor\n * @param {Buffer} buffer Buffer to read from\n */\nfunction BufferReader(buffer) {\n    Reader.call(this, buffer);\n\n    /**\n     * Read buffer.\n     * @name BufferReader#buf\n     * @type {Buffer}\n     */\n}\n\nBufferReader._configure = function () {\n    /* istanbul ignore else */\n    if (util.Buffer)\n        BufferReader.prototype._slice = util.Buffer.prototype.slice;\n};\n\n\n/**\n * @override\n */\nBufferReader.prototype.string = function read_string_buffer() {\n    var len = this.uint32(); // modifies pos\n    return this.buf.utf8Slice\n        ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len))\n        : this.buf.toString(\"utf-8\", this.pos, this.pos = Math.min(this.pos + len, this.len));\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @name BufferReader#bytes\n * @function\n * @returns {Buffer} Value read\n */\n\nBufferReader._configure();\n", "\"use strict\";\nmodule.exports = Service;\n\nvar util = require(\"../util/minimal\");\n\n// Extends EventEmitter\n(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;\n\n/**\n * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.\n *\n * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.\n * @typedef rpc.ServiceMethodCallback\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {Error|null} error Error, if any\n * @param {TRes} [response] Response message\n * @returns {undefined}\n */\n\n/**\n * A service method part of a {@link rpc.Service} as created by {@link Service.create}.\n * @typedef rpc.ServiceMethod\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message\n * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`\n */\n\n/**\n * Constructs a new RPC service instance.\n * @classdesc An RPC service as returned by {@link Service#create}.\n * @exports rpc.Service\n * @extends util.EventEmitter\n * @constructor\n * @param {RPCImpl} rpcImpl RPC implementation\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\n */\nfunction Service(rpcImpl, requestDelimited, responseDelimited) {\n\n    if (typeof rpcImpl !== \"function\")\n        throw TypeError(\"rpcImpl must be a function\");\n\n    util.EventEmitter.call(this);\n\n    /**\n     * RPC implementation. Becomes `null` once the service is ended.\n     * @type {RPCImpl|null}\n     */\n    this.rpcImpl = rpcImpl;\n\n    /**\n     * Whether requests are length-delimited.\n     * @type {boolean}\n     */\n    this.requestDelimited = Boolean(requestDelimited);\n\n    /**\n     * Whether responses are length-delimited.\n     * @type {boolean}\n     */\n    this.responseDelimited = Boolean(responseDelimited);\n}\n\n/**\n * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.\n * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method\n * @param {Constructor<TReq>} requestCtor Request constructor\n * @param {Constructor<TRes>} responseCtor Response constructor\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback\n * @returns {undefined}\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n */\nService.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {\n\n    if (!request)\n        throw TypeError(\"request must be specified\");\n\n    var self = this;\n    if (!callback)\n        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);\n\n    if (!self.rpcImpl) {\n        setTimeout(function() { callback(Error(\"already ended\")); }, 0);\n        return undefined;\n    }\n\n    try {\n        return self.rpcImpl(\n            method,\n            requestCtor[self.requestDelimited ? \"encodeDelimited\" : \"encode\"](request).finish(),\n            function rpcCallback(err, response) {\n\n                if (err) {\n                    self.emit(\"error\", err, method);\n                    return callback(err);\n                }\n\n                if (response === null) {\n                    self.end(/* endedByRPC */ true);\n                    return undefined;\n                }\n\n                if (!(response instanceof responseCtor)) {\n                    try {\n                        response = responseCtor[self.responseDelimited ? \"decodeDelimited\" : \"decode\"](response);\n                    } catch (err) {\n                        self.emit(\"error\", err, method);\n                        return callback(err);\n                    }\n                }\n\n                self.emit(\"data\", response, method);\n                return callback(null, response);\n            }\n        );\n    } catch (err) {\n        self.emit(\"error\", err, method);\n        setTimeout(function() { callback(err); }, 0);\n        return undefined;\n    }\n};\n\n/**\n * Ends this service and emits the `end` event.\n * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.\n * @returns {rpc.Service} `this`\n */\nService.prototype.end = function end(endedByRPC) {\n    if (this.rpcImpl) {\n        if (!endedByRPC) // signal end to rpcImpl\n            this.rpcImpl(null, null, null);\n        this.rpcImpl = null;\n        this.emit(\"end\").off();\n    }\n    return this;\n};\n", "\"use strict\";\n\n/**\n * Streaming RPC helpers.\n * @namespace\n */\nvar rpc = exports;\n\n/**\n * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.\n * @typedef RPCImpl\n * @type {function}\n * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called\n * @param {Uint8Array} requestData Request data\n * @param {RPCImplCallback} callback Callback function\n * @returns {undefined}\n * @example\n * function rpcImpl(method, requestData, callback) {\n *     if (protobuf.util.lcFirst(method.name) !== \"myMethod\") // compatible with static code\n *         throw Error(\"no such method\");\n *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {\n *         callback(err, responseData);\n *     });\n * }\n */\n\n/**\n * Node-style callback as used by {@link RPCImpl}.\n * @typedef RPCImplCallback\n * @type {function}\n * @param {Error|null} error Error, if any, otherwise `null`\n * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error\n * @returns {undefined}\n */\n\nrpc.Service = require(\"./rpc/service\");\n", "\"use strict\";\nmodule.exports = {};\n\n/**\n * Named roots.\n * This is where pbjs stores generated structures (the option `-r, --root` specifies a name).\n * Can also be used manually to make roots available across modules.\n * @name roots\n * @type {Object.<string,Root>}\n * @example\n * // pbjs -r myroot -o compiled.js ...\n *\n * // in another module:\n * require(\"./compiled.js\");\n *\n * // in any subsequent module:\n * var root = protobuf.roots[\"myroot\"];\n */\n", "\"use strict\";\nvar protobuf = exports;\n\n/**\n * Build type, one of `\"full\"`, `\"light\"` or `\"minimal\"`.\n * @name build\n * @type {string}\n * @const\n */\nprotobuf.build = \"minimal\";\n\n// Serialization\nprotobuf.Writer       = require(\"./writer\");\nprotobuf.BufferWriter = require(\"./writer_buffer\");\nprotobuf.Reader       = require(\"./reader\");\nprotobuf.BufferReader = require(\"./reader_buffer\");\n\n// Utility\nprotobuf.util         = require(\"./util/minimal\");\nprotobuf.rpc          = require(\"./rpc\");\nprotobuf.roots        = require(\"./roots\");\nprotobuf.configure    = configure;\n\n/* istanbul ignore next */\n/**\n * Reconfigures the library according to the environment.\n * @returns {undefined}\n */\nfunction configure() {\n    protobuf.util._configure();\n    protobuf.Writer._configure(protobuf.BufferWriter);\n    protobuf.Reader._configure(protobuf.BufferReader);\n}\n\n// Set up buffer utility according to the environment\nconfigure();\n", "// minimal library entry point.\n\n\"use strict\";\nmodule.exports = require(\"./src/index-minimal\");\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * FNV-1a hash generation init value.\n * It's exposed, because this allows user to override it.\n * More info: https://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function#FNV_hash_parameters\n *\n * @type {number}\n */\nhash.BASE = 0x811c9dc5;\n/**\n * Generates 32 bit FNV-1a hash from the given string.\n * As explained here: http://isthe.com/chongo/tech/comp/fnv/\n *\n * @param s {string} String to generate hash from.\n * @param [h] {number} FNV-1a hash generation init value.\n * @returns {number} The result integer hash.\n */\nfunction hash(s, h = hash.BASE) {\n    const l = s.length;\n    for (let i = 0; i < l; i++) {\n        h ^= s.charCodeAt(i);\n        h += (h << 1) + (h << 4) + (h << 7) + (h << 8) + (h << 24);\n    }\n    return h >>> 0;\n}\nexports.default = hash;\nmodule.exports = hash;\n", "import { allocUnsafe } from './alloc.js';\nexport function concat(arrays, length) {\n  if (!length) {\n    length = arrays.reduce((acc, curr) => acc + curr.length, 0);\n  }\n  const output = allocUnsafe(length);\n  let offset = 0;\n  for (const arr of arrays) {\n    output.set(arr, offset);\n    offset += arr.length;\n  }\n  return output;\n}", "'use strict';\n\nconst word = '[a-fA-F\\\\d:]';\nconst b = options => options && options.includeBoundaries ?\n\t`(?:(?<=\\\\s|^)(?=${word})|(?<=${word})(?=\\\\s|$))` :\n\t'';\n\nconst v4 = '(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}';\n\nconst v6seg = '[a-fA-F\\\\d]{1,4}';\nconst v6 = `\n(?:\n(?:${v6seg}:){7}(?:${v6seg}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${v6seg}:){6}(?:${v4}|:${v6seg}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${v6seg}:){5}(?::${v4}|(?::${v6seg}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${v6seg}:){4}(?:(?::${v6seg}){0,1}:${v4}|(?::${v6seg}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${v6seg}:){3}(?:(?::${v6seg}){0,2}:${v4}|(?::${v6seg}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${v6seg}:){2}(?:(?::${v6seg}){0,3}:${v4}|(?::${v6seg}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${v6seg}:){1}(?:(?::${v6seg}){0,4}:${v4}|(?::${v6seg}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${v6seg}){0,5}:${v4}|(?::${v6seg}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\\s*\\/\\/.*$/gm, '').replace(/\\n/g, '').trim();\n\n// Pre-compile only the exact regexes because adding a global flag make regexes stateful\nconst v46Exact = new RegExp(`(?:^${v4}$)|(?:^${v6}$)`);\nconst v4exact = new RegExp(`^${v4}$`);\nconst v6exact = new RegExp(`^${v6}$`);\n\nconst ip = options => options && options.exact ?\n\tv46Exact :\n\tnew RegExp(`(?:${b(options)}${v4}${b(options)})|(?:${b(options)}${v6}${b(options)})`, 'g');\n\nip.v4 = options => options && options.exact ? v4exact : new RegExp(`${b(options)}${v4}${b(options)}`, 'g');\nip.v6 = options => options && options.exact ? v6exact : new RegExp(`${b(options)}${v6}${b(options)}`, 'g');\n\nmodule.exports = ip;\n", "'use strict';\nconst ipRegex = require('ip-regex');\n\nconst isIp = string => ipRegex({exact: true}).test(string);\nisIp.v4 = string => ipRegex.v4({exact: true}).test(string);\nisIp.v6 = string => ipRegex.v6({exact: true}).test(string);\nisIp.version = string => isIp(string) ? (isIp.v4(string) ? 4 : 6) : undefined;\n\nmodule.exports = isIp;\n", "'use strict'\n\nconst isIp = require('is-ip')\nconst { toString: uint8ArrayToString } = require('uint8arrays/to-string')\n\nconst isIP = isIp\nconst isV4 = isIp.v4\nconst isV6 = isIp.v6\n\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7\n// @ts-ignore - this is copied from the link above better to keep it the same\nconst toBytes = function (ip, buff, offset) {\n  offset = ~~offset\n\n  let result\n\n  if (isV4(ip)) {\n    result = buff || new Uint8Array(offset + 4)\n    // @ts-ignore\n    // eslint-disable-next-line array-callback-return\n    ip.split(/\\./g).map(function (byte) {\n      result[offset++] = parseInt(byte, 10) & 0xff\n    })\n  } else if (isV6(ip)) {\n    const sections = ip.split(':', 8)\n\n    let i\n    for (i = 0; i < sections.length; i++) {\n      const isv4 = isV4(sections[i])\n      let v4Buffer\n\n      if (isv4) {\n        v4Buffer = toBytes(sections[i])\n        sections[i] = uint8ArrayToString(v4Buffer.slice(0, 2), 'base16')\n      }\n\n      if (v4Buffer && ++i < 8) {\n        sections.splice(i, 0, uint8ArrayToString(v4Buffer.slice(2, 4), 'base16'))\n      }\n    }\n\n    if (sections[0] === '') {\n      while (sections.length < 8) sections.unshift('0')\n    } else if (sections[sections.length - 1] === '') {\n      while (sections.length < 8) sections.push('0')\n    } else if (sections.length < 8) {\n      for (i = 0; i < sections.length && sections[i] !== ''; i++);\n      const argv = [i, '1']\n      for (i = 9 - sections.length; i > 0; i--) {\n        argv.push('0')\n      }\n      sections.splice.apply(sections, argv)\n    }\n\n    result = buff || new Uint8Array(offset + 16)\n    for (i = 0; i < sections.length; i++) {\n      const word = parseInt(sections[i], 16)\n      result[offset++] = (word >> 8) & 0xff\n      result[offset++] = word & 0xff\n    }\n  }\n\n  if (!result) {\n    throw Error('Invalid ip address: ' + ip)\n  }\n\n  return result\n}\n\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L63\n// @ts-ignore - this is copied from the link above better to keep it the same\nconst toString = function (buff, offset, length) {\n  offset = ~~offset\n  length = length || (buff.length - offset)\n\n  const result = []\n  let string\n  const view = new DataView(buff.buffer)\n  if (length === 4) {\n    // IPv4\n    for (let i = 0; i < length; i++) {\n      result.push(buff[offset + i])\n    }\n    string = result.join('.')\n  } else if (length === 16) {\n    // IPv6\n    for (let i = 0; i < length; i += 2) {\n      result.push(view.getUint16(offset + i).toString(16))\n    }\n    string = result.join(':')\n    string = string.replace(/(^|:)0(:0)*:0(:|$)/, '$1::$3')\n    string = string.replace(/:{3,4}/, '::')\n  }\n\n  return string\n}\n\nmodule.exports = {\n  isIP,\n  isV4,\n  isV6,\n  toBytes,\n  toString\n}\n", "'use strict'\n/** @typedef {import(\"./types\").Protocol} Protocol */\n\n/**\n * Protocols\n *\n * @param {number | string} proto\n * @returns {Protocol}\n */\nfunction Protocols (proto) {\n  if (typeof (proto) === 'number') {\n    if (Protocols.codes[proto]) {\n      return Protocols.codes[proto]\n    }\n\n    throw new Error('no protocol with code: ' + proto)\n  } else if (typeof (proto) === 'string') {\n    if (Protocols.names[proto]) {\n      return Protocols.names[proto]\n    }\n\n    throw new Error('no protocol with name: ' + proto)\n  }\n\n  throw new Error('invalid protocol id type: ' + proto)\n}\n\nconst V = -1\nProtocols.lengthPrefixedVarSize = V\nProtocols.V = V\n\n/** @type {Array<[number, number, string, (string|boolean)?, string?]>} */\nProtocols.table = [\n  [4, 32, 'ip4'],\n  [6, 16, 'tcp'],\n  [33, 16, 'dccp'],\n  [41, 128, 'ip6'],\n  [42, V, 'ip6zone'],\n  [53, V, 'dns', 'resolvable'],\n  [54, V, 'dns4', 'resolvable'],\n  [55, V, 'dns6', 'resolvable'],\n  [56, V, 'dnsaddr', 'resolvable'],\n  [132, 16, 'sctp'],\n  [273, 16, 'udp'],\n  [275, 0, 'p2p-webrtc-star'],\n  [276, 0, 'p2p-webrtc-direct'],\n  [277, 0, 'p2p-stardust'],\n  [290, 0, 'p2p-circuit'],\n  [301, 0, 'udt'],\n  [302, 0, 'utp'],\n  [400, V, 'unix', false, 'path'],\n  // `ipfs` is added before `p2p` for legacy support.\n  // All text representations will default to `p2p`, but `ipfs` will\n  // still be supported\n  [421, V, 'ipfs'],\n  // `p2p` is the preferred name for 421, and is now the default\n  [421, V, 'p2p'],\n  [443, 0, 'https'],\n  [444, 96, 'onion'],\n  [445, 296, 'onion3'],\n  [446, V, 'garlic64'],\n  [460, 0, 'quic'],\n  [477, 0, 'ws'],\n  [478, 0, 'wss'],\n  [479, 0, 'p2p-websocket-star'],\n  [480, 0, 'http'],\n  [777, V, 'memory']\n]\n/** @type {Record<string,Protocol>} */\nProtocols.names = {}\n/** @type {Record<number,Protocol>} */\nProtocols.codes = {}\n\n// populate tables\nProtocols.table.map(row => {\n  const proto = p.apply(null, row)\n  Protocols.codes[proto.code] = proto\n  Protocols.names[proto.name] = proto\n  return null\n})\n\nProtocols.object = p\n\n/**\n *\n * Create a protocol\n *\n * @param {number} code\n * @param {number} size\n * @param {string} name\n * @param {any} [resolvable]\n * @param {any} [path]\n * @returns {Protocol}\n */\nfunction p (code, size, name, resolvable, path) {\n  return {\n    code,\n    size,\n    name,\n    resolvable: Boolean(resolvable),\n    path: Boolean(path)\n  }\n}\n\nmodule.exports = Protocols\n", "'use strict'\n\nconst ip = require('./ip')\nconst protocols = require('./protocols-table')\nconst { CID } = require('multiformats/cid')\nconst { base32 } = require('multiformats/bases/base32')\nconst { base58btc } = require('multiformats/bases/base58')\nconst Digest = require('multiformats/hashes/digest')\nconst varint = require('varint')\nconst { toString: uint8ArrayToString } = require('uint8arrays/to-string')\nconst { fromString: uint8ArrayFromString } = require('uint8arrays/from-string')\nconst { concat: uint8ArrayConcat } = require('uint8arrays/concat')\n\nmodule.exports = Convert\n\n// converts (serializes) addresses\n/**\n * @param {string} proto\n * @param {string | Uint8Array} a\n */\nfunction Convert (proto, a) {\n  if (a instanceof Uint8Array) {\n    return Convert.toString(proto, a)\n  } else {\n    return Convert.toBytes(proto, a)\n  }\n}\n\n/**\n * Convert [code,Uint8Array] to string\n *\n * @param {number|string} proto\n * @param {Uint8Array} buf\n * @returns {string}\n */\nConvert.toString = function convertToString (proto, buf) {\n  const protocol = protocols(proto)\n  switch (protocol.code) {\n    case 4: // ipv4\n    case 41: // ipv6\n      return bytes2ip(buf)\n\n    case 6: // tcp\n    case 273: // udp\n    case 33: // dccp\n    case 132: // sctp\n      return bytes2port(buf).toString()\n\n    case 53: // dns\n    case 54: // dns4\n    case 55: // dns6\n    case 56: // dnsaddr\n    case 400: // unix\n    case 777: // memory\n      return bytes2str(buf)\n\n    case 421: // ipfs\n      return bytes2mh(buf)\n    case 444: // onion\n      return bytes2onion(buf)\n    case 445: // onion3\n      return bytes2onion(buf)\n    default:\n      return uint8ArrayToString(buf, 'base16') // no clue. convert to hex\n  }\n}\n\nConvert.toBytes = function convertToBytes (/** @type {string | number } */ proto, /** @type {string} */ str) {\n  const protocol = protocols(proto)\n  switch (protocol.code) {\n    case 4: // ipv4\n      return ip2bytes(str)\n    case 41: // ipv6\n      return ip2bytes(str)\n\n    case 6: // tcp\n    case 273: // udp\n    case 33: // dccp\n    case 132: // sctp\n      return port2bytes(parseInt(str, 10))\n\n    case 53: // dns\n    case 54: // dns4\n    case 55: // dns6\n    case 56: // dnsaddr\n    case 400: // unix\n    case 777: // memory\n      return str2bytes(str)\n\n    case 421: // ipfs\n      return mh2bytes(str)\n    case 444: // onion\n      return onion2bytes(str)\n    case 445: // onion3\n      return onion32bytes(str)\n    default:\n      return uint8ArrayFromString(str, 'base16') // no clue. convert from hex\n  }\n}\n\n/**\n * @param {string} ipString\n */\nfunction ip2bytes (ipString) {\n  if (!ip.isIP(ipString)) {\n    throw new Error('invalid ip address')\n  }\n  return ip.toBytes(ipString)\n}\n\n/**\n * @param {Uint8Array} ipBuff\n */\nfunction bytes2ip (ipBuff) {\n  const ipString = ip.toString(ipBuff)\n  if (!ipString || !ip.isIP(ipString)) {\n    throw new Error('invalid ip address')\n  }\n  return ipString\n}\n\n/**\n * @param {number} port\n */\nfunction port2bytes (port) {\n  const buf = new ArrayBuffer(2)\n  const view = new DataView(buf)\n  view.setUint16(0, port)\n\n  return new Uint8Array(buf)\n}\n\n/**\n * @param {Uint8Array} buf\n */\nfunction bytes2port (buf) {\n  const view = new DataView(buf.buffer)\n  return view.getUint16(buf.byteOffset)\n}\n\n/**\n * @param {string} str\n */\nfunction str2bytes (str) {\n  const buf = uint8ArrayFromString(str)\n  const size = Uint8Array.from(varint.encode(buf.length))\n  return uint8ArrayConcat([size, buf], size.length + buf.length)\n}\n\n/**\n * @param {Uint8Array} buf\n */\nfunction bytes2str (buf) {\n  const size = varint.decode(buf)\n  buf = buf.slice(varint.decode.bytes)\n\n  if (buf.length !== size) {\n    throw new Error('inconsistent lengths')\n  }\n\n  return uint8ArrayToString(buf)\n}\n\n/**\n * @param {string} hash - base58btc string\n */\nfunction mh2bytes (hash) {\n  let mh\n\n  if (hash[0] === 'Q' || hash[0] === '1') {\n    mh = Digest.decode(base58btc.decode(`z${hash}`)).bytes\n  } else {\n    mh = CID.parse(hash).multihash.bytes\n  }\n\n  // the address is a varint prefixed multihash string representation\n  const size = Uint8Array.from(varint.encode(mh.length))\n  return uint8ArrayConcat([size, mh], size.length + mh.length)\n}\n\n/**\n * Converts bytes to bas58btc string\n *\n * @param {Uint8Array} buf\n * @returns {string} base58btc string\n */\nfunction bytes2mh (buf) {\n  const size = varint.decode(buf)\n  const address = buf.slice(varint.decode.bytes)\n\n  if (address.length !== size) {\n    throw new Error('inconsistent lengths')\n  }\n\n  return uint8ArrayToString(address, 'base58btc')\n}\n\n/**\n * @param {string} str\n */\nfunction onion2bytes (str) {\n  const addr = str.split(':')\n  if (addr.length !== 2) {\n    throw new Error('failed to parse onion addr: ' + addr + ' does not contain a port number')\n  }\n  if (addr[0].length !== 16) {\n    throw new Error('failed to parse onion addr: ' + addr[0] + ' not a Tor onion address.')\n  }\n\n  // onion addresses do not include the multibase prefix, add it before decoding\n  const buf = base32.decode('b' + addr[0])\n\n  // onion port number\n  const port = parseInt(addr[1], 10)\n  if (port < 1 || port > 65536) {\n    throw new Error('Port number is not in range(1, 65536)')\n  }\n  const portBuf = port2bytes(port)\n  return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length)\n}\n\n/**\n * @param {string} str\n */\nfunction onion32bytes (str) {\n  const addr = str.split(':')\n  if (addr.length !== 2) {\n    throw new Error('failed to parse onion addr: ' + addr + ' does not contain a port number')\n  }\n  if (addr[0].length !== 56) {\n    throw new Error('failed to parse onion addr: ' + addr[0] + ' not a Tor onion3 address.')\n  }\n  // onion addresses do not include the multibase prefix, add it before decoding\n  const buf = base32.decode('b' + addr[0])\n\n  // onion port number\n  const port = parseInt(addr[1], 10)\n  if (port < 1 || port > 65536) {\n    throw new Error('Port number is not in range(1, 65536)')\n  }\n  const portBuf = port2bytes(port)\n  return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length)\n}\n\n/**\n * @param {Uint8Array} buf\n */\nfunction bytes2onion (buf) {\n  const addrBytes = buf.slice(0, buf.length - 2)\n  const portBytes = buf.slice(buf.length - 2)\n  const addr = uint8ArrayToString(addrBytes, 'base32')\n  const port = bytes2port(portBytes)\n  return addr + ':' + port\n}\n", "'use strict'\n\nconst convert = require('./convert')\nconst protocols = require('./protocols-table')\nconst varint = require('varint')\nconst { concat: uint8ArrayConcat } = require('uint8arrays/concat')\nconst { toString: uint8ArrayToString } = require('uint8arrays/to-string')\n\n// export codec\nmodule.exports = {\n  stringToStringTuples,\n  stringTuplesToString,\n\n  tuplesToStringTuples,\n  stringTuplesToTuples,\n\n  bytesToTuples,\n  tuplesToBytes,\n\n  bytesToString,\n  stringToBytes,\n\n  fromString,\n  fromBytes,\n  validateBytes,\n  isValidBytes,\n  cleanPath,\n\n  ParseError,\n  protoFromTuple,\n\n  sizeForAddr\n}\n\n// string -> [[str name, str addr]... ]\n/**\n * @param {string} str\n */\nfunction stringToStringTuples (str) {\n  const tuples = []\n  const parts = str.split('/').slice(1) // skip first empty elem\n  if (parts.length === 1 && parts[0] === '') {\n    return []\n  }\n\n  for (let p = 0; p < parts.length; p++) {\n    const part = parts[p]\n    const proto = protocols(part)\n\n    if (proto.size === 0) {\n      tuples.push([part])\n      continue\n    }\n\n    p++ // advance addr part\n    if (p >= parts.length) {\n      throw ParseError('invalid address: ' + str)\n    }\n\n    // if it's a path proto, take the rest\n    if (proto.path) {\n      tuples.push([\n        part,\n        // TODO: should we need to check each path part to see if it's a proto?\n        // This would allow for other protocols to be added after a unix path,\n        // however it would have issues if the path had a protocol name in the path\n        cleanPath(parts.slice(p).join('/'))\n      ])\n      break\n    }\n\n    tuples.push([part, parts[p]])\n  }\n\n  return tuples\n}\n\n// [[str name, str addr]... ] -> string\n/**\n * @param {[number, string?][]} tuples\n */\nfunction stringTuplesToString (tuples) {\n  /** @type {Array<string | undefined>} */\n  const parts = []\n  tuples.map((tup) => {\n    const proto = protoFromTuple(tup)\n    parts.push(proto.name)\n    if (tup.length > 1) {\n      parts.push(tup[1])\n    }\n    return null\n  })\n\n  return cleanPath(parts.join('/'))\n}\n\n// [[str name, str addr]... ] -> [[int code, Uint8Array]... ]\n/**\n * @param {Array<string[] | string >} tuples\n * @returns {[number , Uint8Array?][]}\n */\nfunction stringTuplesToTuples (tuples) {\n  return tuples.map((tup) => {\n    if (!Array.isArray(tup)) {\n      tup = [tup]\n    }\n    const proto = protoFromTuple(tup)\n    if (tup.length > 1) {\n      return [proto.code, convert.toBytes(proto.code, tup[1])]\n    }\n    return [proto.code]\n  })\n}\n\n/**\n * Convert tuples to string tuples\n *\n * [[int code, Uint8Array]... ] -> [[int code, str addr]... ]\n *\n * @param {Array<[number, Uint8Array?]>} tuples\n * @returns {Array<[number, string?]>}\n */\n\nfunction tuplesToStringTuples (tuples) {\n  return tuples.map(tup => {\n    const proto = protoFromTuple(tup)\n    if (tup[1]) {\n      return [proto.code, convert.toString(proto.code, tup[1])]\n    }\n    return [proto.code]\n  })\n}\n\n// [[int code, Uint8Array ]... ] -> Uint8Array\n/**\n * @param {[number, Uint8Array?][]} tuples\n */\nfunction tuplesToBytes (tuples) {\n  return fromBytes(uint8ArrayConcat(tuples.map((/** @type {any[]} */ tup) => {\n    const proto = protoFromTuple(tup)\n    let buf = Uint8Array.from(varint.encode(proto.code))\n\n    if (tup.length > 1) {\n      buf = uint8ArrayConcat([buf, tup[1]]) // add address buffer\n    }\n\n    return buf\n  })))\n}\n\n/**\n * @param {import(\"./types\").Protocol} p\n * @param {Uint8Array | number[]} addr\n */\nfunction sizeForAddr (p, addr) {\n  if (p.size > 0) {\n    return p.size / 8\n  } else if (p.size === 0) {\n    return 0\n  } else {\n    const size = varint.decode(addr)\n    return size + varint.decode.bytes\n  }\n}\n\n/**\n *\n * @param {Uint8Array} buf\n * @returns {Array<[number, Uint8Array?]>}\n */\nfunction bytesToTuples (buf) {\n  /** @type {Array<[number, Uint8Array?]>} */\n  const tuples = []\n  let i = 0\n  while (i < buf.length) {\n    const code = varint.decode(buf, i)\n    const n = varint.decode.bytes\n\n    const p = protocols(code)\n\n    const size = sizeForAddr(p, buf.slice(i + n))\n\n    if (size === 0) {\n      tuples.push([code])\n      i += n\n      continue\n    }\n\n    const addr = buf.slice(i + n, i + n + size)\n\n    i += (size + n)\n\n    if (i > buf.length) { // did not end _exactly_ at buffer.length\n      throw ParseError('Invalid address Uint8Array: ' + uint8ArrayToString(buf, 'base16'))\n    }\n\n    // ok, tuple seems good.\n    tuples.push([code, addr])\n  }\n\n  return tuples\n}\n\n// Uint8Array -> String\n/**\n * @param {Uint8Array} buf\n */\nfunction bytesToString (buf) {\n  const a = bytesToTuples(buf)\n  const b = tuplesToStringTuples(a)\n  return stringTuplesToString(b)\n}\n\n// String -> Uint8Array\n/**\n * @param {string} str\n */\nfunction stringToBytes (str) {\n  str = cleanPath(str)\n  const a = stringToStringTuples(str)\n  const b = stringTuplesToTuples(a)\n\n  return tuplesToBytes(b)\n}\n\n// String -> Uint8Array\n/**\n * @param {string} str\n */\nfunction fromString (str) {\n  return stringToBytes(str)\n}\n\n// Uint8Array -> Uint8Array\n/**\n * @param {Uint8Array} buf\n */\nfunction fromBytes (buf) {\n  const err = validateBytes(buf)\n  if (err) throw err\n  return Uint8Array.from(buf) // copy\n}\n\n/**\n * @param {Uint8Array} buf\n */\nfunction validateBytes (buf) {\n  try {\n    bytesToTuples(buf) // try to parse. will throw if breaks\n  } catch (err) {\n    return err\n  }\n}\n\n/**\n * @param {Uint8Array} buf\n */\nfunction isValidBytes (buf) {\n  return validateBytes(buf) === undefined\n}\n\n/**\n * @param {string} str\n */\nfunction cleanPath (str) {\n  return '/' + str.trim().split('/').filter((/** @type {any} */ a) => a).join('/')\n}\n\n/**\n * @param {string} str\n */\nfunction ParseError (str) {\n  return new Error('Error parsing address: ' + str)\n}\n\n/**\n * @param {any[]} tup\n */\nfunction protoFromTuple (tup) {\n  const proto = protocols(tup[0])\n  return proto\n}\n", "export function equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (a.byteLength !== b.byteLength) {\n    return false;\n  }\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] !== b[i]) {\n      return false;\n    }\n  }\n  return true;\n}", "'use strict'\n\nconst codec = require('./codec')\nconst protocols = require('./protocols-table')\nconst varint = require('varint')\nconst { CID } = require('multiformats/cid')\nconst { base58btc } = require('multiformats/bases/base58')\nconst errCode = require('err-code')\nconst inspect = Symbol.for('nodejs.util.inspect.custom')\nconst { toString: uint8ArrayToString } = require('uint8arrays/to-string')\nconst { equals: uint8ArrayEquals } = require('uint8arrays/equals')\n\n/**\n * @typedef {(addr: Multiaddr) => Promise<string[]>} Resolver\n * @typedef {string | Multiaddr | Uint8Array | null} MultiaddrInput\n * @typedef {import('./types').MultiaddrObject} MultiaddrObject\n * @typedef {import('./types').Protocol} Protocol\n */\n\n/** @type {Map<string, Resolver>} */\nconst resolvers = new Map()\nconst symbol = Symbol.for('@multiformats/js-multiaddr/multiaddr')\n\n/**\n * Creates a [multiaddr](https://github.com/multiformats/multiaddr) from\n * a Uint8Array, String or another Multiaddr instance\n * public key.\n *\n */\nclass Multiaddr {\n  /**\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   * ```\n   *\n   * @param {MultiaddrInput} [addr] - If String or Uint8Array, needs to adhere to the address format of a [multiaddr](https://github.com/multiformats/multiaddr#string-format)\n   */\n  constructor (addr) {\n    // default\n    if (addr == null) {\n      addr = ''\n    }\n\n    // Define symbol\n    Object.defineProperty(this, symbol, { value: true })\n\n    if (addr instanceof Uint8Array) {\n      /** @type {Uint8Array} - The raw bytes representing this multiaddress */\n      this.bytes = codec.fromBytes(addr)\n    } else if (typeof addr === 'string') {\n      if (addr.length > 0 && addr.charAt(0) !== '/') {\n        throw new Error(`multiaddr \"${addr}\" must start with a \"/\"`)\n      }\n      this.bytes = codec.fromString(addr)\n    } else if (Multiaddr.isMultiaddr(addr)) { // Multiaddr\n      this.bytes = codec.fromBytes(addr.bytes) // validate + copy buffer\n    } else {\n      throw new Error('addr must be a string, Buffer, or another Multiaddr')\n    }\n  }\n\n  /**\n   * Returns Multiaddr as a String\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').toString()\n   * // '/ip4/127.0.0.1/tcp/4001'\n   * ```\n   */\n  toString () {\n    return codec.bytesToString(this.bytes)\n  }\n\n  /**\n   * Returns Multiaddr as a JSON encoded object\n   *\n   * @example\n   * ```js\n   * JSON.stringify(new Multiaddr('/ip4/127.0.0.1/tcp/4001'))\n   * // '/ip4/127.0.0.1/tcp/4001'\n   * ```\n   */\n  toJSON () {\n    return this.toString()\n  }\n\n  /**\n   * Returns Multiaddr as a convinient options object to be used with net.createConnection\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').toOptions()\n   * // { family: 4, host: '127.0.0.1', transport: 'tcp', port: 4001 }\n   * ```\n   */\n  toOptions () {\n    /** @type {MultiaddrObject} */\n    const opts = {}\n    const parsed = this.toString().split('/')\n    opts.family = parsed[1] === 'ip4' ? 4 : 6\n    opts.host = parsed[2]\n    opts.transport = parsed[3]\n    opts.port = parseInt(parsed[4])\n    return opts\n  }\n\n  /**\n   * Returns the protocols the Multiaddr is defined with, as an array of objects, in\n   * left-to-right order. Each object contains the protocol code, protocol name,\n   * and the size of its address space in bits.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').protos()\n   * // [ { code: 4, size: 32, name: 'ip4' },\n   * //   { code: 6, size: 16, name: 'tcp' } ]\n   * ```\n   *\n   * @returns {Protocol[]} protocols - All the protocols the address is composed of\n   */\n  protos () {\n    return this.protoCodes().map(code => Object.assign({}, protocols(code)))\n  }\n\n  /**\n   * Returns the codes of the protocols in left-to-right order.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * Multiaddr('/ip4/127.0.0.1/tcp/4001').protoCodes()\n   * // [ 4, 6 ]\n   * ```\n   *\n   * @returns {number[]} protocol codes\n   */\n  protoCodes () {\n    const codes = []\n    const buf = this.bytes\n    let i = 0\n    while (i < buf.length) {\n      const code = varint.decode(buf, i)\n      const n = varint.decode.bytes\n\n      const p = protocols(code)\n      const size = codec.sizeForAddr(p, buf.slice(i + n))\n\n      i += (size + n)\n      codes.push(code)\n    }\n\n    return codes\n  }\n\n  /**\n   * Returns the names of the protocols in left-to-right order.\n   * [See list of protocols](https://github.com/multiformats/multiaddr/blob/master/protocols.csv)\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').protoNames()\n   * // [ 'ip4', 'tcp' ]\n   * ```\n   *\n   * @returns {string[]} protocol names\n   */\n  protoNames () {\n    return this.protos().map(proto => proto.name)\n  }\n\n  /**\n   * Returns a tuple of parts\n   *\n   * @example\n   * ```js\n   * new Multiaddr(\"/ip4/127.0.0.1/tcp/4001\").tuples()\n   * // [ [ 4, <Buffer 7f 00 00 01> ], [ 6, <Buffer 0f a1> ] ]\n   * ```\n   */\n  tuples () {\n    return codec.bytesToTuples(this.bytes)\n  }\n\n  /**\n   * Returns a tuple of string/number parts\n   * - tuples[][0] = code of protocol\n   * - tuples[][1] = contents of address\n   *\n   * @example\n   * ```js\n   * new Multiaddr(\"/ip4/127.0.0.1/tcp/4001\").stringTuples()\n   * // [ [ 4, '127.0.0.1' ], [ 6, '4001' ] ]\n   * ```\n   */\n  stringTuples () {\n    const t = codec.bytesToTuples(this.bytes)\n    return codec.tuplesToStringTuples(t)\n  }\n\n  /**\n   * Encapsulates a Multiaddr in another Multiaddr\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // <Multiaddr 0408080808060438 - /ip4/8.8.8.8/tcp/1080>\n   *\n   * const mh2 = new Multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   *\n   * const mh3 = mh1.encapsulate(mh2)\n   * // <Multiaddr 0408080808060438047f000001060fa1 - /ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001>\n   *\n   * mh3.toString()\n   * // '/ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001'\n   * ```\n   *\n   * @param {MultiaddrInput} addr - Multiaddr to add into this Multiaddr\n   */\n  encapsulate (addr) {\n    addr = new Multiaddr(addr)\n    return new Multiaddr(this.toString() + addr.toString())\n  }\n\n  /**\n   * Decapsulates a Multiaddr from another Multiaddr\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // <Multiaddr 0408080808060438 - /ip4/8.8.8.8/tcp/1080>\n   *\n   * const mh2 = new Multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   *\n   * const mh3 = mh1.encapsulate(mh2)\n   * // <Multiaddr 0408080808060438047f000001060fa1 - /ip4/8.8.8.8/tcp/1080/ip4/127.0.0.1/tcp/4001>\n   *\n   * mh3.decapsulate(mh2).toString()\n   * // '/ip4/8.8.8.8/tcp/1080'\n   * ```\n   *\n   * @param {Multiaddr | string} addr - Multiaddr to remove from this Multiaddr\n   * @returns {Multiaddr}\n   */\n  decapsulate (addr) {\n    const addrString = addr.toString()\n    const s = this.toString()\n    const i = s.lastIndexOf(addrString)\n    if (i < 0) {\n      throw new Error('Address ' + this + ' does not contain subaddress: ' + addr)\n    }\n    return new Multiaddr(s.slice(0, i))\n  }\n\n  /**\n   * A more reliable version of `decapsulate` if you are targeting a\n   * specific code, such as 421 (the `p2p` protocol code). The last index of the code\n   * will be removed from the `Multiaddr`, and a new instance will be returned.\n   * If the code is not present, the original `Multiaddr` is returned.\n   *\n   * @example\n   * ```js\n   * const addr = new Multiaddr('/ip4/0.0.0.0/tcp/8080/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC')\n   * // <Multiaddr 0400... - /ip4/0.0.0.0/tcp/8080/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSupNKC>\n   *\n   * addr.decapsulateCode(421).toString()\n   * // '/ip4/0.0.0.0/tcp/8080'\n   *\n   * new Multiaddr('/ip4/127.0.0.1/tcp/8080').decapsulateCode(421).toString()\n   * // '/ip4/127.0.0.1/tcp/8080'\n   * ```\n   *\n   * @param {number} code - The code of the protocol to decapsulate from this Multiaddr\n   * @returns {Multiaddr}\n   */\n  decapsulateCode (code) {\n    const tuples = this.tuples()\n    for (let i = tuples.length - 1; i >= 0; i--) {\n      if (tuples[i][0] === code) {\n        return new Multiaddr(codec.tuplesToBytes(tuples.slice(0, i)))\n      }\n    }\n    return this\n  }\n\n  /**\n   * Extract the peerId if the multiaddr contains one\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/8.8.8.8/tcp/1080/ipfs/QmValidBase58string')\n   * // <Multiaddr 0408080808060438 - /ip4/8.8.8.8/tcp/1080/ipfs/QmValidBase58string>\n   *\n   * // should return QmValidBase58string or null if the id is missing or invalid\n   * const peerId = mh1.getPeerId()\n   * ```\n   *\n   * @returns {string | null} peerId - The id of the peer or null if invalid or missing from the ma\n   */\n  getPeerId () {\n    try {\n      const tuples = this.stringTuples().filter((tuple) => {\n        if (tuple[0] === protocols.names.ipfs.code) {\n          return true\n        }\n        return false\n      })\n\n      // Get the last ipfs tuple ['ipfs', 'peerid string']\n      const tuple = tuples.pop()\n      if (tuple && tuple[1]) {\n        const peerIdStr = tuple[1]\n\n        // peer id is base58btc encoded string but not multibase encoded so add the `z`\n        // prefix so we can validate that it is correctly encoded\n        if (peerIdStr[0] === 'Q' || peerIdStr[0] === '1') {\n          return uint8ArrayToString(base58btc.decode(`z${peerIdStr}`), 'base58btc')\n        }\n\n        // try to parse peer id as CID\n        return uint8ArrayToString(CID.parse(peerIdStr).multihash.bytes, 'base58btc')\n      }\n\n      return null\n    } catch (e) {\n      return null\n    }\n  }\n\n  /**\n   * Extract the path if the multiaddr contains one\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/8.8.8.8/tcp/1080/unix/tmp/p2p.sock')\n   * // <Multiaddr 0408080808060438 - /ip4/8.8.8.8/tcp/1080/unix/tmp/p2p.sock>\n   *\n   * // should return utf8 string or null if the id is missing or invalid\n   * const path = mh1.getPath()\n   * ```js\n   *\n   * @returns {string | null} path - The path of the multiaddr, or null if no path protocol is present\n   */\n  getPath () {\n    let path = null\n    try {\n      path = this.stringTuples().filter((tuple) => {\n        const proto = protocols(tuple[0])\n        if (proto.path) {\n          return true\n        }\n        return false\n      })[0][1]\n\n      if (!path) {\n        path = null\n      }\n    } catch (e) {\n      path = null\n    }\n    return path\n  }\n\n  /**\n   * Checks if two Multiaddrs are the same\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/8.8.8.8/tcp/1080')\n   * // <Multiaddr 0408080808060438 - /ip4/8.8.8.8/tcp/1080>\n   *\n   * const mh2 = new Multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   *\n   * mh1.equals(mh1)\n   * // true\n   *\n   * mh1.equals(mh2)\n   * // false\n   * ```\n   *\n   * @param {Multiaddr} addr\n   * @returns {boolean}\n   */\n  equals (addr) {\n    return uint8ArrayEquals(this.bytes, addr.bytes)\n  }\n\n  /**\n   * Resolve multiaddr if containing resolvable hostname.\n   *\n   * @example\n   * ```js\n   * Multiaddr.resolvers.set('dnsaddr', resolverFunction)\n   * const mh1 = new Multiaddr('/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb')\n   * const resolvedMultiaddrs = await mh1.resolve()\n   * // [\n   * //   <Multiaddr 04934b5353060fa1a503221220c10f9319dac35c270a6b74cd644cb3acfc1f6efc8c821f8eb282599fd1814f64 - /ip4/147.75.83.83/tcp/4001/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb>,\n   * //   <Multiaddr 04934b53530601bbde03a503221220c10f9319dac35c270a6b74cd644cb3acfc1f6efc8c821f8eb282599fd1814f64 - /ip4/147.75.83.83/tcp/443/wss/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb>,\n   * //   <Multiaddr 04934b535391020fa1cc03a503221220c10f9319dac35c270a6b74cd644cb3acfc1f6efc8c821f8eb282599fd1814f64 - /ip4/147.75.83.83/udp/4001/quic/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb>\n   * // ]\n   * ```\n   *\n   * @returns {Promise<Array<Multiaddr>>}\n   */\n  async resolve () {\n    const resolvableProto = this.protos().find((p) => p.resolvable)\n\n    // Multiaddr is not resolvable?\n    if (!resolvableProto) {\n      return [this]\n    }\n\n    const resolver = resolvers.get(resolvableProto.name)\n    if (!resolver) {\n      throw errCode(new Error(`no available resolver for ${resolvableProto.name}`), 'ERR_NO_AVAILABLE_RESOLVER')\n    }\n\n    const addresses = await resolver(this)\n    return addresses.map((a) => new Multiaddr(a))\n  }\n\n  /**\n   * Gets a Multiaddrs node-friendly address object. Note that protocol information\n   * is left out: in Node (and most network systems) the protocol is unknowable\n   * given only the address.\n   *\n   * Has to be a ThinWaist Address, otherwise throws error\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').nodeAddress()\n   * // {family: 4, address: '127.0.0.1', port: 4001}\n   * ```\n   *\n   * @returns {{family: 4 | 6, address: string, port: number}}\n   * @throws {Error} Throws error if Multiaddr is not a Thin Waist address\n   */\n  nodeAddress () {\n    const codes = this.protoCodes()\n    const names = this.protoNames()\n    const parts = this.toString().split('/').slice(1)\n\n    if (parts.length < 4) {\n      throw new Error('multiaddr must have a valid format: \"/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}\".')\n    } else if (codes[0] !== 4 && codes[0] !== 41 && codes[0] !== 54 && codes[0] !== 55) {\n      throw new Error(`no protocol with name: \"'${names[0]}'\". Must have a valid family name: \"{ip4, ip6, dns4, dns6}\".`)\n    } else if (parts[2] !== 'tcp' && parts[2] !== 'udp') {\n      throw new Error(`no protocol with name: \"'${names[1]}'\". Must have a valid transport protocol: \"{tcp, udp}\".`)\n    }\n\n    return {\n      family: (codes[0] === 41 || codes[0] === 55) ? 6 : 4,\n      address: parts[1],\n      port: parseInt(parts[3]) // tcp or udp port\n    }\n  }\n\n  /**\n   * Returns if a Multiaddr is a Thin Waist address or not.\n   *\n   * Thin Waist is if a Multiaddr adheres to the standard combination of:\n   *\n   * `{IPv4, IPv6}/{TCP, UDP}`\n   *\n   * @example\n   * ```js\n   * const mh1 = new Multiaddr('/ip4/127.0.0.1/tcp/4001')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   * const mh2 = new Multiaddr('/ip4/192.168.2.1/tcp/5001')\n   * // <Multiaddr 04c0a80201061389 - /ip4/192.168.2.1/tcp/5001>\n   * const mh3 = mh1.encapsulate(mh2)\n   * // <Multiaddr 047f000001060fa104c0a80201061389 - /ip4/127.0.0.1/tcp/4001/ip4/192.168.2.1/tcp/5001>\n   * const mh4 = new Multiaddr('/ip4/127.0.0.1/tcp/2000/wss/p2p-webrtc-star/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSooo2a')\n   * // <Multiaddr 047f0000010607d0de039302a503221220d52ebb89d85b02a284948203a62ff28389c57c9f42beec4ec20db76a64835843 - /ip4/127.0.0.1/tcp/2000/wss/p2p-webrtc-star/p2p/QmcgpsyWgH8Y8ajJz1Cu72KnS5uo2Aa2LpzU7kinSooo2a>\n   * mh1.isThinWaistAddress()\n   * // true\n   * mh2.isThinWaistAddress()\n   * // true\n   * mh3.isThinWaistAddress()\n   * // false\n   * mh4.isThinWaistAddress()\n   * // false\n   * ```\n   *\n   * @param {Multiaddr} [addr] - Defaults to using `this` instance\n   */\n  isThinWaistAddress (addr) {\n    const protos = (addr || this).protos()\n\n    if (protos.length !== 2) {\n      return false\n    }\n\n    if (protos[0].code !== 4 && protos[0].code !== 41) {\n      return false\n    }\n    if (protos[1].code !== 6 && protos[1].code !== 273) {\n      return false\n    }\n    return true\n  }\n\n  /**\n   * Creates a Multiaddr from a node-friendly address object\n   *\n   * @example\n   * ```js\n   * Multiaddr.fromNodeAddress({address: '127.0.0.1', port: '4001'}, 'tcp')\n   * // <Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>\n   * ```\n   *\n   * @param {{family: 4 | 6, address: string, port: number}} addr\n   * @param {string} transport\n   */\n  static fromNodeAddress (addr, transport) {\n    if (!addr) { throw new Error('requires node address object') }\n    if (!transport) { throw new Error('requires transport protocol') }\n    let ip\n    switch (addr.family) {\n      case 4:\n        ip = 'ip4'\n        break\n      case 6:\n        ip = 'ip6'\n        break\n      default:\n        throw Error(`Invalid addr family. Got '${addr.family}' instead of 4 or 6`)\n    }\n    return new Multiaddr('/' + [ip, addr.address, transport, addr.port].join('/'))\n  }\n\n  /**\n   * Returns if something is a Multiaddr that is a name\n   *\n   * @param {Multiaddr} addr\n   * @returns {boolean} isName\n   */\n  static isName (addr) {\n    if (!Multiaddr.isMultiaddr(addr)) {\n      return false\n    }\n\n    // if a part of the multiaddr is resolvable, then return true\n    return addr.protos().some((proto) => proto.resolvable)\n  }\n\n  /**\n   * Check if object is a CID instance\n   *\n   * @param {any} value\n   * @returns {value is Multiaddr}\n   */\n  static isMultiaddr (value) {\n    return value instanceof Multiaddr || Boolean(value && value[symbol])\n  }\n\n  /**\n   * Returns Multiaddr as a human-readable string.\n   * For post Node.js v10.0.0.\n   * https://nodejs.org/api/deprecations.html#deprecations_dep0079_custom_inspection_function_on_objects_via_inspect\n   *\n   * @example\n   * ```js\n   * console.log(new Multiaddr('/ip4/127.0.0.1/tcp/4001'))\n   * // '<Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>'\n   * ```\n   *\n   * @returns {string}\n   */\n  [inspect] () {\n    return '<Multiaddr ' +\n    uint8ArrayToString(this.bytes, 'base16') + ' - ' +\n    codec.bytesToString(this.bytes) + '>'\n  }\n\n  /**\n   * Returns Multiaddr as a human-readable string.\n   * Fallback for pre Node.js v10.0.0.\n   * https://nodejs.org/api/deprecations.html#deprecations_dep0079_custom_inspection_function_on_objects_via_inspect\n   *\n   * @example\n   * ```js\n   * new Multiaddr('/ip4/127.0.0.1/tcp/4001').inspect()\n   * // '<Multiaddr 047f000001060fa1 - /ip4/127.0.0.1/tcp/4001>'\n   * ```\n   *\n   * @returns {string}\n   */\n  inspect () {\n    return '<Multiaddr ' +\n      uint8ArrayToString(this.bytes, 'base16') + ' - ' +\n      codec.bytesToString(this.bytes) + '>'\n  }\n}\n\n/**\n * Object containing table, names and codes of all supported protocols.\n * To get the protocol values from a Multiaddr, you can use\n * [`.protos()`](#multiaddrprotos),\n * [`.protoCodes()`](#multiaddrprotocodes) or\n * [`.protoNames()`](#multiaddrprotonames)\n *\n * @returns {{table: Array, names: Object, codes: Object}}\n */\nMultiaddr.protocols = protocols\n\nMultiaddr.resolvers = resolvers\n\n/**\n * Static factory\n *\n * @param {MultiaddrInput} addr\n */\nfunction multiaddr (addr) {\n  return new Multiaddr(addr)\n}\n\nmodule.exports = { Multiaddr, multiaddr, protocols, resolvers }\n", "/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.pb) {\n      unit = 'PB';\n    } else if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.split('.').map(function (s, i) {\n      return i === 0\n        ? s.replace(formatThousandsRegExp, thousandsSeparator)\n        : s\n    }).join('.');\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  if (isNaN(floatValue)) {\n    return null;\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n", "'use strict';\n\nmodule.exports = value => {\n\tif (Object.prototype.toString.call(value) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn prototype === null || prototype === Object.prototype;\n};\n", "'use strict';\nconst isOptionObject = require('is-plain-obj');\n\nconst {hasOwnProperty} = Object.prototype;\nconst {propertyIsEnumerable} = Object;\nconst defineProperty = (object, name, value) => Object.defineProperty(object, name, {\n\tvalue,\n\twritable: true,\n\tenumerable: true,\n\tconfigurable: true\n});\n\nconst globalThis = this;\nconst defaultMergeOptions = {\n\tconcatArrays: false,\n\tignoreUndefined: false\n};\n\nconst getEnumerableOwnPropertyKeys = value => {\n\tconst keys = [];\n\n\tfor (const key in value) {\n\t\tif (hasOwnProperty.call(value, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\n\t/* istanbul ignore else  */\n\tif (Object.getOwnPropertySymbols) {\n\t\tconst symbols = Object.getOwnPropertySymbols(value);\n\n\t\tfor (const symbol of symbols) {\n\t\t\tif (propertyIsEnumerable.call(value, symbol)) {\n\t\t\t\tkeys.push(symbol);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn keys;\n};\n\nfunction clone(value) {\n\tif (Array.isArray(value)) {\n\t\treturn cloneArray(value);\n\t}\n\n\tif (isOptionObject(value)) {\n\t\treturn cloneOptionObject(value);\n\t}\n\n\treturn value;\n}\n\nfunction cloneArray(array) {\n\tconst result = array.slice(0, 0);\n\n\tgetEnumerableOwnPropertyKeys(array).forEach(key => {\n\t\tdefineProperty(result, key, clone(array[key]));\n\t});\n\n\treturn result;\n}\n\nfunction cloneOptionObject(object) {\n\tconst result = Object.getPrototypeOf(object) === null ? Object.create(null) : {};\n\n\tgetEnumerableOwnPropertyKeys(object).forEach(key => {\n\t\tdefineProperty(result, key, clone(object[key]));\n\t});\n\n\treturn result;\n}\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {string[]} keys keys to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n */\nconst mergeKeys = (merged, source, keys, config) => {\n\tkeys.forEach(key => {\n\t\tif (typeof source[key] === 'undefined' && config.ignoreUndefined) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Do not recurse into prototype chain of merged\n\t\tif (key in merged && merged[key] !== Object.getPrototypeOf(merged)) {\n\t\t\tdefineProperty(merged, key, merge(merged[key], source[key], config));\n\t\t} else {\n\t\t\tdefineProperty(merged, key, clone(source[key]));\n\t\t}\n\t});\n\n\treturn merged;\n};\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n *\n * see [Array.prototype.concat ( ...arguments )](http://www.ecma-international.org/ecma-262/6.0/#sec-array.prototype.concat)\n */\nconst concatArrays = (merged, source, config) => {\n\tlet result = merged.slice(0, 0);\n\tlet resultIndex = 0;\n\n\t[merged, source].forEach(array => {\n\t\tconst indices = [];\n\n\t\t// `result.concat(array)` with cloning\n\t\tfor (let k = 0; k < array.length; k++) {\n\t\t\tif (!hasOwnProperty.call(array, k)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tindices.push(String(k));\n\n\t\t\tif (array === merged) {\n\t\t\t\t// Already cloned\n\t\t\t\tdefineProperty(result, resultIndex++, array[k]);\n\t\t\t} else {\n\t\t\t\tdefineProperty(result, resultIndex++, clone(array[k]));\n\t\t\t}\n\t\t}\n\n\t\t// Merge non-index keys\n\t\tresult = mergeKeys(result, array, getEnumerableOwnPropertyKeys(array).filter(key => !indices.includes(key)), config);\n\t});\n\n\treturn result;\n};\n\n/**\n * @param {*} merged already cloned\n * @param {*} source something to merge\n * @param {Object} config Config Object\n * @returns {*} cloned Object\n */\nfunction merge(merged, source, config) {\n\tif (config.concatArrays && Array.isArray(merged) && Array.isArray(source)) {\n\t\treturn concatArrays(merged, source, config);\n\t}\n\n\tif (!isOptionObject(source) || !isOptionObject(merged)) {\n\t\treturn clone(source);\n\t}\n\n\treturn mergeKeys(merged, source, getEnumerableOwnPropertyKeys(source), config);\n}\n\nmodule.exports = function (...options) {\n\tconst config = merge(clone(defaultMergeOptions), (this !== globalThis && this) || {}, defaultMergeOptions);\n\tlet merged = {_: {}};\n\n\tfor (const option of options) {\n\t\tif (option === undefined) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (!isOptionObject(option)) {\n\t\t\tthrow new TypeError('`' + option + '` is not an Option Object');\n\t\t}\n\n\t\tmerged = merge(merged, {_: option}, config);\n\t}\n\n\treturn merged._;\n};\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "'use strict'\n\n/**\n * Filters the passed (async) iterable by using the filter function\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n * @param {function(T):boolean|Promise<boolean>} fn\n */\nconst filter = async function * (source, fn) {\n  for await (const entry of source) {\n    if (await fn(entry)) {\n      yield entry\n    }\n  }\n}\n\nmodule.exports = filter\n", "'use strict'\n\n/**\n * Drains an (async) iterable discarding its' content and does not return\n * anything.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n * @returns {Promise<void>}\n */\nconst drain = async (source) => {\n  for await (const _ of source) { } // eslint-disable-line no-unused-vars,no-empty\n}\n\nmodule.exports = drain\n", "'use strict'\n\n/**\n * Returns the first result from an (async) iterable, unless empty, in which\n * case returns `undefined`.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n */\nconst first = async (source) => {\n  for await (const entry of source) { // eslint-disable-line no-unreachable-loop\n    return entry\n  }\n\n  return undefined\n}\n\nmodule.exports = first\n", "'use strict'\n\n/**\n * Takes an (async) iterable and returns one with each item mapped by the passed\n * function.\n *\n * @template I,O\n * @param {AsyncIterable<I>|Iterable<I>} source\n * @param {function(I):O|Promise<O>} func\n * @returns {AsyncIterable<O>}\n */\nconst map = async function * (source, func) {\n  for await (const val of source) {\n    yield func(val)\n  }\n}\n\nmodule.exports = map\n", "'use strict'\n\n/**\n * Takes an (async) iterable that emits things and returns an async iterable that\n * emits those things in fixed-sized batches.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n * @param {number} [size=1]\n * @returns {AsyncIterable<T[]>}\n */\nasync function * batch (source, size = 1) {\n  /** @type {T[]} */\n  let things = []\n\n  if (size < 1) {\n    size = 1\n  }\n\n  for await (const thing of source) {\n    things.push(thing)\n\n    while (things.length >= size) {\n      yield things.slice(0, size)\n\n      things = things.slice(size)\n    }\n  }\n\n  while (things.length) {\n    yield things.slice(0, size)\n\n    things = things.slice(size)\n  }\n}\n\nmodule.exports = batch\n", "'use strict'\n\nconst batch = require('it-batch')\n\n/**\n * @template T\n * @typedef {{ok:true, value:T}} Success\n */\n\n/**\n * @typedef {{ok:false, err:Error}} Failure\n */\n\n/**\n * Takes an (async) iterator that emits promise-returning functions,\n * invokes them in parallel and emits the results as they become available but\n * in the same order as the input\n *\n * @template T\n * @param {AsyncIterable<() => Promise<T>>} source\n * @param {number} [size=1]\n * @returns {AsyncIterable<T>}\n */\nasync function * parallelBatch (source, size = 1) {\n  for await (const tasks of batch(source, size)) {\n    /** @type {Promise<Success<T>|Failure>[]} */\n    const things = tasks.map(\n      /**\n       * @param {() => Promise<T>} p\n       */\n      p => {\n        return p().then(value => ({ ok: true, value }), err => ({ ok: false, err }))\n      })\n\n    for (let i = 0; i < things.length; i++) {\n      const result = await things[i]\n\n      if (result.ok) {\n        yield result.value\n      } else {\n        throw result.err\n      }\n    }\n  }\n}\n\nmodule.exports = parallelBatch\n", "module.exports = class FixedFIFO {\n  constructor (hwm) {\n    if (!(hwm > 0) || ((hwm - 1) & hwm) !== 0) throw new Error('Max size for a FixedFIFO should be a power of two')\n    this.buffer = new Array(hwm)\n    this.mask = hwm - 1\n    this.top = 0\n    this.btm = 0\n    this.next = null\n  }\n\n  push (data) {\n    if (this.buffer[this.top] !== undefined) return false\n    this.buffer[this.top] = data\n    this.top = (this.top + 1) & this.mask\n    return true\n  }\n\n  shift () {\n    const last = this.buffer[this.btm]\n    if (last === undefined) return undefined\n    this.buffer[this.btm] = undefined\n    this.btm = (this.btm + 1) & this.mask\n    return last\n  }\n\n  peek () {\n    return this.buffer[this.btm]\n  }\n\n  isEmpty () {\n    return this.buffer[this.btm] === undefined\n  }\n}\n", "const FixedFIFO = require('./fixed-size')\n\nmodule.exports = class FastFIFO {\n  constructor (hwm) {\n    this.hwm = hwm || 16\n    this.head = new FixedFIFO(this.hwm)\n    this.tail = this.head\n  }\n\n  push (val) {\n    if (!this.head.push(val)) {\n      const prev = this.head\n      this.head = prev.next = new FixedFIFO(2 * this.head.buffer.length)\n      this.head.push(val)\n    }\n  }\n\n  shift () {\n    const val = this.tail.shift()\n    if (val === undefined && this.tail.next) {\n      const next = this.tail.next\n      this.tail.next = null\n      this.tail = next\n      return this.tail.shift()\n    }\n    return val\n  }\n\n  peek () {\n    return this.tail.peek()\n  }\n\n  isEmpty () {\n    return this.head.isEmpty()\n  }\n}\n", "const FIFO = require('fast-fifo')\n\nmodule.exports = (options) => {\n  options = options || {}\n  let onEnd\n\n  if (typeof options === 'function') {\n    onEnd = options\n    options = {}\n  } else {\n    onEnd = options.onEnd\n  }\n\n  let buffer = new FIFO()\n  let pushable, onNext, ended\n\n  const waitNext = () => {\n    if (!buffer.isEmpty()) {\n      if (options.writev) {\n        let next\n        const values = []\n        while (!buffer.isEmpty()) {\n          next = buffer.shift()\n          if (next.error) throw next.error\n          values.push(next.value)\n        }\n        return { done: next.done, value: values }\n      }\n\n      const next = buffer.shift()\n      if (next.error) throw next.error\n      return next\n    }\n\n    if (ended) return { done: true }\n\n    return new Promise((resolve, reject) => {\n      onNext = next => {\n        onNext = null\n        if (next.error) {\n          reject(next.error)\n        } else {\n          if (options.writev && !next.done) {\n            resolve({ done: next.done, value: [next.value] })\n          } else {\n            resolve(next)\n          }\n        }\n        return pushable\n      }\n    })\n  }\n\n  const bufferNext = next => {\n    if (onNext) return onNext(next)\n    buffer.push(next)\n    return pushable\n  }\n\n  const bufferError = err => {\n    buffer = new FIFO()\n    if (onNext) return onNext({ error: err })\n    buffer.push({ error: err })\n    return pushable\n  }\n\n  const push = value => {\n    if (ended) return pushable\n    return bufferNext({ done: false, value })\n  }\n  const end = err => {\n    if (ended) return pushable\n    ended = true\n    return err ? bufferError(err) : bufferNext({ done: true })\n  }\n  const _return = () => {\n    buffer = new FIFO()\n    end()\n    return { done: true }\n  }\n  const _throw = err => {\n    end(err)\n    return { done: true }\n  }\n\n  pushable = {\n    [Symbol.asyncIterator] () { return this },\n    next: waitNext,\n    return: _return,\n    throw: _throw,\n    push,\n    end\n  }\n\n  if (!onEnd) return pushable\n\n  const _pushable = pushable\n\n  pushable = {\n    [Symbol.asyncIterator] () { return this },\n    next () {\n      return _pushable.next()\n    },\n    throw (err) {\n      _pushable.throw(err)\n      if (onEnd) {\n        onEnd(err)\n        onEnd = null\n      }\n      return { done: true }\n    },\n    return () {\n      _pushable.return()\n      if (onEnd) {\n        onEnd()\n        onEnd = null\n      }\n      return { done: true }\n    },\n    push,\n    end (err) {\n      _pushable.end(err)\n      if (onEnd) {\n        onEnd(err)\n        onEnd = null\n      }\n      return pushable\n    }\n  }\n\n  return pushable\n}\n", "'use strict'\n\nconst pushable = require('it-pushable')\n\n/**\n * Treat one or more iterables as a single iterable.\n *\n * Nb. sources are iterated over in parallel so the\n * order of emitted items is not guaranteed.\n *\n * @template T\n * @param {...AsyncIterable<T>|Iterable<T>} sources\n * @returns {AsyncIterable<T>}\n */\nconst merge = async function * (...sources) {\n  const output = pushable()\n\n  setTimeout(async () => {\n    try {\n      await Promise.all(\n        sources.map(async (source) => {\n          for await (const item of source) {\n            output.push(item)\n          }\n        })\n      )\n\n      output.end()\n    } catch (/** @type {any} */ err) {\n      output.end(err)\n    }\n  }, 0)\n\n  yield * output\n}\n\nmodule.exports = merge\n", "'use strict'\n\n/**\n * Collects all values from an (async) iterable into an array and returns it.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n */\nconst all = async (source) => {\n  const arr = []\n\n  for await (const entry of source) {\n    arr.push(entry)\n  }\n\n  return arr\n}\n\nmodule.exports = all\n", "'use strict'\n\n/**\n * Stop iteration after n items have been received.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n * @param {number} limit\n * @returns {AsyncIterable<T>}\n */\nconst take = async function * (source, limit) {\n  let items = 0\n\n  if (limit < 1) {\n    return\n  }\n\n  for await (const entry of source) {\n    yield entry\n\n    items++\n\n    if (items === limit) {\n      return\n    }\n  }\n}\n\nmodule.exports = take\n", "'use strict'\n\nconst all = require('it-all')\n\n/**\n * Collects all values from an async iterator, sorts them\n * using the passed function and yields them\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} source\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n */\nconst sort = async function * (source, sorter) {\n  const arr = await all(source)\n\n  yield * arr.sort(sorter)\n}\n\nmodule.exports = sort\n", "'use strict'\n\nexports.supports = function supports (...manifests) {\n  const manifest = manifests.reduce((acc, m) => Object.assign(acc, m), {})\n\n  return Object.assign(manifest, {\n    snapshots: manifest.snapshots || false,\n    permanence: manifest.permanence || false,\n    seek: manifest.seek || false,\n    clear: manifest.clear || false,\n    getMany: manifest.getMany || false,\n    keyIterator: manifest.keyIterator || false,\n    valueIterator: manifest.valueIterator || false,\n    iteratorNextv: manifest.iteratorNextv || false,\n    iteratorAll: manifest.iteratorAll || false,\n    status: manifest.status || false,\n    createIfMissing: manifest.createIfMissing || false,\n    errorIfExists: manifest.errorIfExists || false,\n    deferredOpen: manifest.deferredOpen || false,\n    promises: manifest.promises || false,\n    streams: manifest.streams || false,\n    encodings: Object.assign({}, manifest.encodings),\n    events: Object.assign({}, manifest.events),\n    additionalMethods: Object.assign({}, manifest.additionalMethods)\n  })\n}\n", "'use strict'\n\nmodule.exports = class ModuleError extends Error {\n  /**\n   * @param {string} message Error message\n   * @param {{ code?: string, cause?: Error, expected?: boolean, transient?: boolean }} [options]\n   */\n  constructor (message, options) {\n    super(message || '')\n\n    if (typeof options === 'object' && options !== null) {\n      if (options.code) this.code = String(options.code)\n      if (options.expected) this.expected = true\n      if (options.transient) this.transient = true\n      if (options.cause) this.cause = options.cause\n    }\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, this.constructor)\n    }\n  }\n}\n", "'use strict'\n\n/** @type {{ textEncoder: TextEncoder, textDecoder: TextDecoder }|null} */\nlet lazy = null\n\n/**\n * Get semi-global instances of TextEncoder and TextDecoder.\n * @returns {{ textEncoder: TextEncoder, textDecoder: TextDecoder }}\n */\nmodule.exports = function () {\n  if (lazy === null) {\n    lazy = {\n      textEncoder: new TextEncoder(),\n      textDecoder: new TextDecoder()\n    }\n  }\n\n  return lazy\n}\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst formats = new Set(['buffer', 'view', 'utf8'])\n\n/**\n * @template TIn, TFormat, TOut\n * @abstract\n */\nclass Encoding {\n  /**\n   * @param {IEncoding<TIn,TFormat,TOut>} options\n   */\n  constructor (options) {\n    /** @type {(data: TIn) => TFormat} */\n    this.encode = options.encode || this.encode\n\n    /** @type {(data: TFormat) => TOut} */\n    this.decode = options.decode || this.decode\n\n    /** @type {string} */\n    this.name = options.name || this.name\n\n    /** @type {string} */\n    this.format = options.format || this.format\n\n    if (typeof this.encode !== 'function') {\n      throw new TypeError(\"The 'encode' property must be a function\")\n    }\n\n    if (typeof this.decode !== 'function') {\n      throw new TypeError(\"The 'decode' property must be a function\")\n    }\n\n    this.encode = this.encode.bind(this)\n    this.decode = this.decode.bind(this)\n\n    if (typeof this.name !== 'string' || this.name === '') {\n      throw new TypeError(\"The 'name' property must be a string\")\n    }\n\n    if (typeof this.format !== 'string' || !formats.has(this.format)) {\n      throw new TypeError(\"The 'format' property must be one of 'buffer', 'view', 'utf8'\")\n    }\n\n    if (options.createViewTranscoder) {\n      this.createViewTranscoder = options.createViewTranscoder\n    }\n\n    if (options.createBufferTranscoder) {\n      this.createBufferTranscoder = options.createBufferTranscoder\n    }\n\n    if (options.createUTF8Transcoder) {\n      this.createUTF8Transcoder = options.createUTF8Transcoder\n    }\n  }\n\n  get commonName () {\n    return /** @type {string} */ (this.name.split('+')[0])\n  }\n\n  /** @return {BufferFormat<TIn,TOut>} */\n  createBufferTranscoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'buffer'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n\n  /** @return {ViewFormat<TIn,TOut>} */\n  createViewTranscoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'view'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n\n  /** @return {UTF8Format<TIn,TOut>} */\n  createUTF8Transcoder () {\n    throw new ModuleError(`Encoding '${this.name}' cannot be transcoded to 'utf8'`, {\n      code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n    })\n  }\n}\n\nexports.Encoding = Encoding\n\n/**\n * @typedef {import('./encoding').IEncoding<TIn,TFormat,TOut>} IEncoding\n * @template TIn, TFormat, TOut\n */\n\n/**\n * @typedef {import('./formats').BufferFormat<TIn,TOut>} BufferFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').ViewFormat<TIn,TOut>} ViewFormat\n * @template TIn, TOut\n */\n\n/**\n * @typedef {import('./formats').UTF8Format<TIn,TOut>} UTF8Format\n * @template TIn, TOut\n */\n", "'use strict'\n\nconst { Buffer } = require('buffer') || {}\nconst { Encoding } = require('./encoding')\nconst textEndec = require('./text-endec')\n\n/**\n * @template TIn, TOut\n * @extends {Encoding<TIn,Buffer,TOut>}\n */\nclass BufferFormat extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, Buffer, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'buffer' })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: this.encode, // Buffer is a view (UInt8Array)\n      decode: (data) => this.decode(\n        Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n      ),\n      name: `${this.name}+view`\n    })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return this\n  }\n}\n\n/**\n * @extends {Encoding<TIn,Uint8Array,TOut>}\n * @template TIn, TOut\n */\nclass ViewFormat extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, Uint8Array, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'view' })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: (data) => {\n        const view = this.encode(data)\n        return Buffer.from(view.buffer, view.byteOffset, view.byteLength)\n      },\n      decode: this.decode, // Buffer is a view (UInt8Array)\n      name: `${this.name}+buffer`\n    })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    return this\n  }\n}\n\n/**\n * @extends {Encoding<TIn,string,TOut>}\n * @template TIn, TOut\n */\nclass UTF8Format extends Encoding {\n  /**\n   * @param {Omit<IEncoding<TIn, string, TOut>, 'format'>} options\n   */\n  constructor (options) {\n    super({ ...options, format: 'utf8' })\n  }\n\n  /** @override */\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: (data) => Buffer.from(this.encode(data), 'utf8'),\n      decode: (data) => this.decode(data.toString('utf8')),\n      name: `${this.name}+buffer`\n    })\n  }\n\n  /** @override */\n  createViewTranscoder () {\n    const { textEncoder, textDecoder } = textEndec()\n\n    return new ViewFormat({\n      encode: (data) => textEncoder.encode(this.encode(data)),\n      decode: (data) => this.decode(textDecoder.decode(data)),\n      name: `${this.name}+view`\n    })\n  }\n\n  /** @override */\n  createUTF8Transcoder () {\n    return this\n  }\n}\n\nexports.BufferFormat = BufferFormat\nexports.ViewFormat = ViewFormat\nexports.UTF8Format = UTF8Format\n\n/**\n * @typedef {import('./encoding').IEncoding<TIn,TFormat,TOut>} IEncoding\n * @template TIn, TFormat, TOut\n */\n", "'use strict'\n\nconst { Buffer } = require('buffer') || { Buffer: { isBuffer: () => false } }\nconst { textEncoder, textDecoder } = require('./text-endec')()\nconst { BufferFormat, ViewFormat, UTF8Format } = require('./formats')\n\n/** @type {<T>(v: T) => v} */\nconst identity = (v) => v\n\n/**\n * @type {typeof import('./encodings').utf8}\n */\nexports.utf8 = new UTF8Format({\n  encode: function (data) {\n    // On node 16.9.1 buffer.toString() is 5x faster than TextDecoder\n    return Buffer.isBuffer(data)\n      ? data.toString('utf8')\n      : ArrayBuffer.isView(data)\n        ? textDecoder.decode(data)\n        : String(data)\n  },\n  decode: identity,\n  name: 'utf8',\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : textEncoder.encode(data)\n      },\n      decode: function (data) {\n        return textDecoder.decode(data)\n      },\n      name: `${this.name}+view`\n    })\n  },\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data)\n          ? data\n          : ArrayBuffer.isView(data)\n            ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n            : Buffer.from(String(data), 'utf8')\n      },\n      decode: function (data) {\n        return data.toString('utf8')\n      },\n      name: `${this.name}+buffer`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').json}\n */\nexports.json = new UTF8Format({\n  encode: JSON.stringify,\n  decode: JSON.parse,\n  name: 'json'\n})\n\n/**\n * @type {typeof import('./encodings').buffer}\n */\nexports.buffer = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data)\n      ? data\n      : ArrayBuffer.isView(data)\n        ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n        : Buffer.from(String(data), 'utf8')\n  },\n  decode: identity,\n  name: 'buffer',\n  createViewTranscoder () {\n    return new ViewFormat({\n      encode: function (data) {\n        return ArrayBuffer.isView(data) ? data : Buffer.from(String(data), 'utf8')\n      },\n      decode: function (data) {\n        return Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n      },\n      name: `${this.name}+view`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').view}\n */\nexports.view = new ViewFormat({\n  encode: function (data) {\n    return ArrayBuffer.isView(data) ? data : textEncoder.encode(data)\n  },\n  decode: identity,\n  name: 'view',\n  createBufferTranscoder () {\n    return new BufferFormat({\n      encode: function (data) {\n        return Buffer.isBuffer(data)\n          ? data\n          : ArrayBuffer.isView(data)\n            ? Buffer.from(data.buffer, data.byteOffset, data.byteLength)\n            : Buffer.from(String(data), 'utf8')\n      },\n      decode: identity,\n      name: `${this.name}+buffer`\n    })\n  }\n})\n\n/**\n * @type {typeof import('./encodings').hex}\n */\nexports.hex = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'hex')\n  },\n  decode: function (buffer) {\n    return buffer.toString('hex')\n  },\n  name: 'hex'\n})\n\n/**\n * @type {typeof import('./encodings').base64}\n */\nexports.base64 = new BufferFormat({\n  encode: function (data) {\n    return Buffer.isBuffer(data) ? data : Buffer.from(String(data), 'base64')\n  },\n  decode: function (buffer) {\n    return buffer.toString('base64')\n  },\n  name: 'base64'\n})\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst encodings = require('./lib/encodings')\nconst { Encoding } = require('./lib/encoding')\nconst { BufferFormat, ViewFormat, UTF8Format } = require('./lib/formats')\n\nconst kFormats = Symbol('formats')\nconst kEncodings = Symbol('encodings')\nconst validFormats = new Set(['buffer', 'view', 'utf8'])\n\n/** @template T */\nclass Transcoder {\n  /**\n   * @param {Array<'buffer'|'view'|'utf8'>} formats\n   */\n  constructor (formats) {\n    if (!Array.isArray(formats)) {\n      throw new TypeError(\"The first argument 'formats' must be an array\")\n    } else if (!formats.every(f => validFormats.has(f))) {\n      // Note: we only only support aliases in key- and valueEncoding options (where we already did)\n      throw new TypeError(\"Format must be one of 'buffer', 'view', 'utf8'\")\n    }\n\n    /** @type {Map<string|MixedEncoding<any, any, any>, Encoding<any, any, any>>} */\n    this[kEncodings] = new Map()\n    this[kFormats] = new Set(formats)\n\n    // Register encodings (done early in order to populate encodings())\n    for (const k in encodings) {\n      try {\n        this.encoding(k)\n      } catch (err) {\n        /* istanbul ignore if: assertion */\n        if (err.code !== 'LEVEL_ENCODING_NOT_SUPPORTED') throw err\n      }\n    }\n  }\n\n  /**\n   * @returns {Array<Encoding<any,T,any>>}\n   */\n  encodings () {\n    return Array.from(new Set(this[kEncodings].values()))\n  }\n\n  /**\n   * @param {string|MixedEncoding<any, any, any>} encoding\n   * @returns {Encoding<any, T, any>}\n   */\n  encoding (encoding) {\n    let resolved = this[kEncodings].get(encoding)\n\n    if (resolved === undefined) {\n      if (typeof encoding === 'string' && encoding !== '') {\n        resolved = lookup[encoding]\n\n        if (!resolved) {\n          throw new ModuleError(`Encoding '${encoding}' is not found`, {\n            code: 'LEVEL_ENCODING_NOT_FOUND'\n          })\n        }\n      } else if (typeof encoding !== 'object' || encoding === null) {\n        throw new TypeError(\"First argument 'encoding' must be a string or object\")\n      } else {\n        resolved = from(encoding)\n      }\n\n      const { name, format } = resolved\n\n      if (!this[kFormats].has(format)) {\n        if (this[kFormats].has('view')) {\n          resolved = resolved.createViewTranscoder()\n        } else if (this[kFormats].has('buffer')) {\n          resolved = resolved.createBufferTranscoder()\n        } else if (this[kFormats].has('utf8')) {\n          resolved = resolved.createUTF8Transcoder()\n        } else {\n          throw new ModuleError(`Encoding '${name}' cannot be transcoded`, {\n            code: 'LEVEL_ENCODING_NOT_SUPPORTED'\n          })\n        }\n      }\n\n      for (const k of [encoding, name, resolved.name, resolved.commonName]) {\n        this[kEncodings].set(k, resolved)\n      }\n    }\n\n    return resolved\n  }\n}\n\nexports.Transcoder = Transcoder\n\n/**\n * @param {MixedEncoding<any, any, any>} options\n * @returns {Encoding<any, any, any>}\n */\nfunction from (options) {\n  if (options instanceof Encoding) {\n    return options\n  }\n\n  // Loosely typed for ecosystem compatibility\n  const maybeType = 'type' in options && typeof options.type === 'string' ? options.type : undefined\n  const name = options.name || maybeType || `anonymous-${anonymousCount++}`\n\n  switch (detectFormat(options)) {\n    case 'view': return new ViewFormat({ ...options, name })\n    case 'utf8': return new UTF8Format({ ...options, name })\n    case 'buffer': return new BufferFormat({ ...options, name })\n    default: {\n      throw new TypeError(\"Format must be one of 'buffer', 'view', 'utf8'\")\n    }\n  }\n}\n\n/**\n * If format is not provided, fallback to detecting `level-codec`\n * or `multiformats` encodings, else assume a format of buffer.\n * @param {MixedEncoding<any, any, any>} options\n * @returns {string}\n */\nfunction detectFormat (options) {\n  if ('format' in options && options.format !== undefined) {\n    return options.format\n  } else if ('buffer' in options && typeof options.buffer === 'boolean') {\n    return options.buffer ? 'buffer' : 'utf8' // level-codec\n  } else if ('code' in options && Number.isInteger(options.code)) {\n    return 'view' // multiformats\n  } else {\n    return 'buffer'\n  }\n}\n\n/**\n * @typedef {import('./lib/encoding').MixedEncoding<TIn,TFormat,TOut>} MixedEncoding\n * @template TIn, TFormat, TOut\n */\n\n/**\n * @type {Object.<string, Encoding<any, any, any>>}\n */\nconst aliases = {\n  binary: encodings.buffer,\n  'utf-8': encodings.utf8\n}\n\n/**\n * @type {Object.<string, Encoding<any, any, any>>}\n */\nconst lookup = {\n  ...encodings,\n  ...aliases\n}\n\nlet anonymousCount = 0\n", "// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n", "module.exports = typeof queueMicrotask === 'function' ? queueMicrotask : (fn) => Promise.resolve().then(fn)\n", "'use strict'\n\nvar nextTick = require('./next-tick')\n\nexports.fromCallback = function (callback, symbol) {\n  if (callback === undefined) {\n    var promise = new Promise(function (resolve, reject) {\n      callback = function (err, res) {\n        if (err) reject(err)\n        else resolve(res)\n      }\n    })\n\n    callback[symbol !== undefined ? symbol : 'promise'] = promise\n  } else if (typeof callback !== 'function') {\n    throw new TypeError('Callback must be a function')\n  }\n\n  return callback\n}\n\nexports.fromPromise = function (promise, callback) {\n  if (callback === undefined) return promise\n\n  promise\n    .then(function (res) { nextTick(() => callback(null, res)) })\n    .catch(function (err) { nextTick(() => callback(err)) })\n}\n", "'use strict'\n\nexports.getCallback = function (options, callback) {\n  return typeof options === 'function' ? options : callback\n}\n\nexports.getOptions = function (options, def) {\n  if (typeof options === 'object' && options !== null) {\n    return options\n  }\n\n  if (def !== undefined) {\n    return def\n  }\n\n  return {}\n}\n", "'use strict'\n\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { getOptions, getCallback } = require('./lib/common')\n\nconst kPromise = Symbol('promise')\nconst kCallback = Symbol('callback')\nconst kWorking = Symbol('working')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\nconst kAutoClose = Symbol('autoClose')\nconst kFinishWork = Symbol('finishWork')\nconst kReturnMany = Symbol('returnMany')\nconst kClosing = Symbol('closing')\nconst kHandleClose = Symbol('handleClose')\nconst kClosed = Symbol('closed')\nconst kCloseCallbacks = Symbol('closeCallbacks')\nconst kKeyEncoding = Symbol('keyEncoding')\nconst kValueEncoding = Symbol('valueEncoding')\nconst kAbortOnClose = Symbol('abortOnClose')\nconst kLegacy = Symbol('legacy')\nconst kKeys = Symbol('keys')\nconst kValues = Symbol('values')\nconst kLimit = Symbol('limit')\nconst kCount = Symbol('count')\n\nconst emptyOptions = Object.freeze({})\nconst noop = () => {}\nlet warnedEnd = false\n\n// This class is an internal utility for common functionality between AbstractIterator,\n// AbstractKeyIterator and AbstractValueIterator. It's not exported.\nclass CommonIterator {\n  constructor (db, options, legacy) {\n    if (typeof db !== 'object' || db === null) {\n      const hint = db === null ? 'null' : typeof db\n      throw new TypeError(`The first argument must be an abstract-level database, received ${hint}`)\n    }\n\n    if (typeof options !== 'object' || options === null) {\n      throw new TypeError('The second argument must be an options object')\n    }\n\n    this[kClosed] = false\n    this[kCloseCallbacks] = []\n    this[kWorking] = false\n    this[kClosing] = false\n    this[kAutoClose] = false\n    this[kCallback] = null\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kHandleClose] = this[kHandleClose].bind(this)\n    this[kKeyEncoding] = options[kKeyEncoding]\n    this[kValueEncoding] = options[kValueEncoding]\n    this[kLegacy] = legacy\n    this[kLimit] = Number.isInteger(options.limit) && options.limit >= 0 ? options.limit : Infinity\n    this[kCount] = 0\n\n    // Undocumented option to abort pending work on close(). Used by the\n    // many-level module as a temporary solution to a blocked close().\n    // TODO (next major): consider making this the default behavior. Native\n    // implementations should have their own logic to safely close iterators.\n    this[kAbortOnClose] = !!options.abortOnClose\n\n    this.db = db\n    this.db.attachResource(this)\n    this.nextTick = db.nextTick\n  }\n\n  get count () {\n    return this[kCount]\n  }\n\n  get limit () {\n    return this[kLimit]\n  }\n\n  next (callback) {\n    let promise\n\n    if (callback === undefined) {\n      promise = new Promise((resolve, reject) => {\n        callback = (err, key, value) => {\n          if (err) reject(err)\n          else if (!this[kLegacy]) resolve(key)\n          else if (key === undefined && value === undefined) resolve()\n          else resolve([key, value])\n        }\n      })\n    } else if (typeof callback !== 'function') {\n      throw new TypeError('Callback must be a function')\n    }\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call next() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call next() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      this[kWorking] = true\n      this[kCallback] = callback\n\n      if (this[kCount] >= this[kLimit]) this.nextTick(this[kHandleOne], null)\n      else this._next(this[kHandleOne])\n    }\n\n    return promise\n  }\n\n  _next (callback) {\n    this.nextTick(callback)\n  }\n\n  nextv (size, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, emptyOptions)\n\n    if (!Number.isInteger(size)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'size' must be an integer\"))\n      return callback[kPromise]\n    }\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call nextv() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call nextv() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      if (size < 1) size = 1\n      if (this[kLimit] < Infinity) size = Math.min(size, this[kLimit] - this[kCount])\n\n      this[kWorking] = true\n      this[kCallback] = callback\n\n      if (size <= 0) this.nextTick(this[kHandleMany], null, [])\n      else this._nextv(size, options, this[kHandleMany])\n    }\n\n    return callback[kPromise]\n  }\n\n  _nextv (size, options, callback) {\n    const acc = []\n    const onnext = (err, key, value) => {\n      if (err) {\n        return callback(err)\n      } else if (this[kLegacy] ? key === undefined && value === undefined : key === undefined) {\n        return callback(null, acc)\n      }\n\n      acc.push(this[kLegacy] ? [key, value] : key)\n\n      if (acc.length === size) {\n        callback(null, acc)\n      } else {\n        this._next(onnext)\n      }\n    }\n\n    this._next(onnext)\n  }\n\n  all (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, emptyOptions)\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call all() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call all() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      this[kWorking] = true\n      this[kCallback] = callback\n      this[kAutoClose] = true\n\n      if (this[kCount] >= this[kLimit]) this.nextTick(this[kHandleMany], null, [])\n      else this._all(options, this[kHandleMany])\n    }\n\n    return callback[kPromise]\n  }\n\n  _all (options, callback) {\n    // Must count here because we're directly calling _nextv()\n    let count = this[kCount]\n    const acc = []\n\n    const nextv = () => {\n      // Not configurable, because implementations should optimize _all().\n      const size = this[kLimit] < Infinity ? Math.min(1e3, this[kLimit] - count) : 1e3\n\n      if (size <= 0) {\n        this.nextTick(callback, null, acc)\n      } else {\n        this._nextv(size, emptyOptions, onnextv)\n      }\n    }\n\n    const onnextv = (err, items) => {\n      if (err) {\n        callback(err)\n      } else if (items.length === 0) {\n        callback(null, acc)\n      } else {\n        acc.push.apply(acc, items)\n        count += items.length\n        nextv()\n      }\n    }\n\n    nextv()\n  }\n\n  [kFinishWork] () {\n    const cb = this[kCallback]\n\n    // Callback will be null if work was aborted on close\n    if (this[kAbortOnClose] && cb === null) return noop\n\n    this[kWorking] = false\n    this[kCallback] = null\n\n    if (this[kClosing]) this._close(this[kHandleClose])\n\n    return cb\n  }\n\n  [kReturnMany] (cb, err, items) {\n    if (this[kAutoClose]) {\n      this.close(cb.bind(null, err, items))\n    } else {\n      cb(err, items)\n    }\n  }\n\n  seek (target, options) {\n    options = getOptions(options, emptyOptions)\n\n    if (this[kClosing]) {\n      // Don't throw here, to be kind to implementations that wrap\n      // another db and don't necessarily control when the db is closed\n    } else if (this[kWorking]) {\n      throw new ModuleError('Iterator is busy: cannot call seek() until next() has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      })\n    } else {\n      const keyEncoding = this.db.keyEncoding(options.keyEncoding || this[kKeyEncoding])\n      const keyFormat = keyEncoding.format\n\n      if (options.keyEncoding !== keyFormat) {\n        options = { ...options, keyEncoding: keyFormat }\n      }\n\n      const mapped = this.db.prefixKey(keyEncoding.encode(target), keyFormat)\n      this._seek(mapped, options)\n    }\n  }\n\n  _seek (target, options) {\n    throw new ModuleError('Iterator does not support seek()', {\n      code: 'LEVEL_NOT_SUPPORTED'\n    })\n  }\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    if (this[kClosed]) {\n      this.nextTick(callback)\n    } else if (this[kClosing]) {\n      this[kCloseCallbacks].push(callback)\n    } else {\n      this[kClosing] = true\n      this[kCloseCallbacks].push(callback)\n\n      if (!this[kWorking]) {\n        this._close(this[kHandleClose])\n      } else if (this[kAbortOnClose]) {\n        // Don't wait for work to finish. Subsequently ignore the result.\n        const cb = this[kFinishWork]()\n\n        cb(new ModuleError('Aborted on iterator close()', {\n          code: 'LEVEL_ITERATOR_NOT_OPEN'\n        }))\n      }\n    }\n\n    return callback[kPromise]\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  [kHandleClose] () {\n    this[kClosed] = true\n    this.db.detachResource(this)\n\n    const callbacks = this[kCloseCallbacks]\n    this[kCloseCallbacks] = []\n\n    for (const cb of callbacks) {\n      cb()\n    }\n  }\n\n  async * [Symbol.asyncIterator] () {\n    try {\n      let item\n\n      while ((item = (await this.next())) !== undefined) {\n        yield item\n      }\n    } finally {\n      if (!this[kClosed]) await this.close()\n    }\n  }\n}\n\n// For backwards compatibility this class is not (yet) called AbstractEntryIterator.\nclass AbstractIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, true)\n    this[kKeys] = options.keys !== false\n    this[kValues] = options.values !== false\n  }\n\n  [kHandleOne] (err, key, value) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      key = this[kKeys] && key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n      value = this[kValues] && value !== undefined ? this[kValueEncoding].decode(value) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('entry', err))\n    }\n\n    if (!(key === undefined && value === undefined)) {\n      this[kCount]++\n    }\n\n    cb(null, key, value)\n  }\n\n  [kHandleMany] (err, entries) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (const entry of entries) {\n        const key = entry[0]\n        const value = entry[1]\n\n        entry[0] = this[kKeys] && key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n        entry[1] = this[kValues] && value !== undefined ? this[kValueEncoding].decode(value) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('entries', err))\n    }\n\n    this[kCount] += entries.length\n    this[kReturnMany](cb, null, entries)\n  }\n\n  end (callback) {\n    if (!warnedEnd && typeof console !== 'undefined') {\n      warnedEnd = true\n      console.warn(new ModuleError(\n        'The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version',\n        { code: 'LEVEL_LEGACY' }\n      ))\n    }\n\n    return this.close(callback)\n  }\n}\n\nclass AbstractKeyIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, false)\n  }\n\n  [kHandleOne] (err, key) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      key = key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('key', err))\n    }\n\n    if (key !== undefined) this[kCount]++\n    cb(null, key)\n  }\n\n  [kHandleMany] (err, keys) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        keys[i] = key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('keys', err))\n    }\n\n    this[kCount] += keys.length\n    this[kReturnMany](cb, null, keys)\n  }\n}\n\nclass AbstractValueIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, false)\n  }\n\n  [kHandleOne] (err, value) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      value = value !== undefined ? this[kValueEncoding].decode(value) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('value', err))\n    }\n\n    if (value !== undefined) this[kCount]++\n    cb(null, value)\n  }\n\n  [kHandleMany] (err, values) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (let i = 0; i < values.length; i++) {\n        const value = values[i]\n        values[i] = value !== undefined ? this[kValueEncoding].decode(value) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('values', err))\n    }\n\n    this[kCount] += values.length\n    this[kReturnMany](cb, null, values)\n  }\n}\n\n// Internal utility, not typed or exported\nclass IteratorDecodeError extends ModuleError {\n  constructor (subject, cause) {\n    super(`Iterator could not decode ${subject}`, {\n      code: 'LEVEL_DECODE_ERROR',\n      cause\n    })\n  }\n}\n\n// To help migrating to abstract-level\nfor (const k of ['_ended property', '_nexting property', '_end method']) {\n  Object.defineProperty(AbstractIterator.prototype, k.split(' ')[0], {\n    get () { throw new ModuleError(`The ${k} has been removed`, { code: 'LEVEL_LEGACY' }) },\n    set () { throw new ModuleError(`The ${k} has been removed`, { code: 'LEVEL_LEGACY' }) }\n  })\n}\n\n// Exposed so that AbstractLevel can set these options\nAbstractIterator.keyEncoding = kKeyEncoding\nAbstractIterator.valueEncoding = kValueEncoding\n\nexports.AbstractIterator = AbstractIterator\nexports.AbstractKeyIterator = AbstractKeyIterator\nexports.AbstractValueIterator = AbstractValueIterator\n", "'use strict'\n\nconst { AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\nconst kIterator = Symbol('iterator')\nconst kCallback = Symbol('callback')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\n\nclass DefaultKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: true, values: false })\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n  }\n}\n\nclass DefaultValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: false, values: true })\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n  }\n}\n\nfor (const Iterator of [DefaultKeyIterator, DefaultValueIterator]) {\n  const keys = Iterator === DefaultKeyIterator\n  const mapEntry = keys ? (entry) => entry[0] : (entry) => entry[1]\n\n  Iterator.prototype._next = function (callback) {\n    this[kCallback] = callback\n    this[kIterator].next(this[kHandleOne])\n  }\n\n  Iterator.prototype[kHandleOne] = function (err, key, value) {\n    const callback = this[kCallback]\n    if (err) callback(err)\n    else callback(null, keys ? key : value)\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kCallback] = callback\n    this[kIterator].nextv(size, options, this[kHandleMany])\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kCallback] = callback\n    this[kIterator].all(options, this[kHandleMany])\n  }\n\n  Iterator.prototype[kHandleMany] = function (err, entries) {\n    const callback = this[kCallback]\n    if (err) callback(err)\n    else callback(null, entries.map(mapEntry))\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options)\n  }\n\n  Iterator.prototype._close = function (callback) {\n    this[kIterator].close(callback)\n  }\n}\n\n// Internal utilities, should be typed as AbstractKeyIterator and AbstractValueIterator\nexports.DefaultKeyIterator = DefaultKeyIterator\nexports.DefaultValueIterator = DefaultValueIterator\n", "'use strict'\n\nconst { AbstractIterator, AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\nconst ModuleError = require('module-error')\n\nconst kNut = Symbol('nut')\nconst kUndefer = Symbol('undefer')\nconst kFactory = Symbol('factory')\n\nclass DeferredIterator extends AbstractIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.iterator(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nclass DeferredKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.keys(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nclass DeferredValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.values(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nfor (const Iterator of [DeferredIterator, DeferredKeyIterator, DeferredValueIterator]) {\n  Iterator.prototype[kUndefer] = function () {\n    if (this.db.status === 'open') {\n      this[kNut] = this[kFactory]()\n    }\n  }\n\n  Iterator.prototype._next = function (callback) {\n    if (this[kNut] !== null) {\n      this[kNut].next(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._next(callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call next() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    if (this[kNut] !== null) {\n      this[kNut].nextv(size, options, callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._nextv(size, options, callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call nextv() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    if (this[kNut] !== null) {\n      this[kNut].all(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._all(options, callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call all() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    if (this[kNut] !== null) {\n      // TODO: explain why we need _seek() rather than seek() here\n      this[kNut]._seek(target, options)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._seek(target, options))\n    }\n  }\n\n  Iterator.prototype._close = function (callback) {\n    if (this[kNut] !== null) {\n      this[kNut].close(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._close(callback))\n    } else {\n      this.nextTick(callback)\n    }\n  }\n}\n\nexports.DeferredIterator = DeferredIterator\nexports.DeferredKeyIterator = DeferredKeyIterator\nexports.DeferredValueIterator = DeferredValueIterator\n", "'use strict'\n\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { getCallback, getOptions } = require('./lib/common')\n\nconst kPromise = Symbol('promise')\nconst kStatus = Symbol('status')\nconst kOperations = Symbol('operations')\nconst kFinishClose = Symbol('finishClose')\nconst kCloseCallbacks = Symbol('closeCallbacks')\n\nclass AbstractChainedBatch {\n  constructor (db) {\n    if (typeof db !== 'object' || db === null) {\n      const hint = db === null ? 'null' : typeof db\n      throw new TypeError(`The first argument must be an abstract-level database, received ${hint}`)\n    }\n\n    this[kOperations] = []\n    this[kCloseCallbacks] = []\n    this[kStatus] = 'open'\n    this[kFinishClose] = this[kFinishClose].bind(this)\n\n    this.db = db\n    this.db.attachResource(this)\n    this.nextTick = db.nextTick\n  }\n\n  get length () {\n    return this[kOperations].length\n  }\n\n  put (key, value, options) {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call put() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    const err = this.db._checkKey(key) || this.db._checkValue(value)\n    if (err) throw err\n\n    const db = options && options.sublevel != null ? options.sublevel : this.db\n    const original = options\n    const keyEncoding = db.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = db.valueEncoding(options && options.valueEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    options = { ...options, keyEncoding: keyFormat, valueEncoding: valueEncoding.format }\n\n    // Prevent double prefixing\n    if (db !== this.db) {\n      options.sublevel = null\n    }\n\n    const mappedKey = db.prefixKey(keyEncoding.encode(key), keyFormat)\n    const mappedValue = valueEncoding.encode(value)\n\n    this._put(mappedKey, mappedValue, options)\n    this[kOperations].push({ ...original, type: 'put', key, value })\n\n    return this\n  }\n\n  _put (key, value, options) {}\n\n  del (key, options) {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call del() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    const err = this.db._checkKey(key)\n    if (err) throw err\n\n    const db = options && options.sublevel != null ? options.sublevel : this.db\n    const original = options\n    const keyEncoding = db.keyEncoding(options && options.keyEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    options = { ...options, keyEncoding: keyFormat }\n\n    // Prevent double prefixing\n    if (db !== this.db) {\n      options.sublevel = null\n    }\n\n    this._del(db.prefixKey(keyEncoding.encode(key), keyFormat), options)\n    this[kOperations].push({ ...original, type: 'del', key })\n\n    return this\n  }\n\n  _del (key, options) {}\n\n  clear () {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call clear() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    this._clear()\n    this[kOperations] = []\n\n    return this\n  }\n\n  _clear () {}\n\n  write (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options)\n\n    if (this[kStatus] !== 'open') {\n      this.nextTick(callback, new ModuleError('Batch is not open: cannot call write() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      }))\n    } else if (this.length === 0) {\n      this.close(callback)\n    } else {\n      this[kStatus] = 'writing'\n      this._write(options, (err) => {\n        this[kStatus] = 'closing'\n        this[kCloseCallbacks].push(() => callback(err))\n\n        // Emit after setting 'closing' status, because event may trigger a\n        // db close which in turn triggers (idempotently) closing this batch.\n        if (!err) this.db.emit('batch', this[kOperations])\n\n        this._close(this[kFinishClose])\n      })\n    }\n\n    return callback[kPromise]\n  }\n\n  _write (options, callback) {}\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    if (this[kStatus] === 'closing') {\n      this[kCloseCallbacks].push(callback)\n    } else if (this[kStatus] === 'closed') {\n      this.nextTick(callback)\n    } else {\n      this[kCloseCallbacks].push(callback)\n\n      if (this[kStatus] !== 'writing') {\n        this[kStatus] = 'closing'\n        this._close(this[kFinishClose])\n      }\n    }\n\n    return callback[kPromise]\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  [kFinishClose] () {\n    this[kStatus] = 'closed'\n    this.db.detachResource(this)\n\n    const callbacks = this[kCloseCallbacks]\n    this[kCloseCallbacks] = []\n\n    for (const cb of callbacks) {\n      cb()\n    }\n  }\n}\n\nexports.AbstractChainedBatch = AbstractChainedBatch\n", "'use strict'\n\nconst { AbstractChainedBatch } = require('../abstract-chained-batch')\nconst ModuleError = require('module-error')\nconst kEncoded = Symbol('encoded')\n\n// Functional default for chained batch, with support of deferred open\nclass DefaultChainedBatch extends AbstractChainedBatch {\n  constructor (db) {\n    super(db)\n    this[kEncoded] = []\n  }\n\n  _put (key, value, options) {\n    this[kEncoded].push({ ...options, type: 'put', key, value })\n  }\n\n  _del (key, options) {\n    this[kEncoded].push({ ...options, type: 'del', key })\n  }\n\n  _clear () {\n    this[kEncoded] = []\n  }\n\n  // Assumes this[kEncoded] cannot change after write()\n  _write (options, callback) {\n    if (this.db.status === 'opening') {\n      this.db.defer(() => this._write(options, callback))\n    } else if (this.db.status === 'open') {\n      if (this[kEncoded].length === 0) this.nextTick(callback)\n      else this.db._batch(this[kEncoded], options, callback)\n    } else {\n      this.nextTick(callback, new ModuleError('Batch is not open: cannot call write() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      }))\n    }\n  }\n}\n\nexports.DefaultChainedBatch = DefaultChainedBatch\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nconst rangeOptions = new Set(['lt', 'lte', 'gt', 'gte'])\n\nmodule.exports = function (options, keyEncoding) {\n  const result = {}\n\n  for (const k in options) {\n    if (!hasOwnProperty.call(options, k)) continue\n    if (k === 'keyEncoding' || k === 'valueEncoding') continue\n\n    if (k === 'start' || k === 'end') {\n      throw new ModuleError(`The legacy range option '${k}' has been removed`, {\n        code: 'LEVEL_LEGACY'\n      })\n    } else if (k === 'encoding') {\n      // To help migrating to abstract-level\n      throw new ModuleError(\"The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead\", {\n        code: 'LEVEL_LEGACY'\n      })\n    }\n\n    if (rangeOptions.has(k)) {\n      // Note that we don't reject nullish and empty options here. While\n      // those types are invalid as keys, they are valid as range options.\n      result[k] = keyEncoding.encode(options[k])\n    } else {\n      result[k] = options[k]\n    }\n  }\n\n  result.reverse = !!result.reverse\n  result.limit = Number.isInteger(result.limit) && result.limit >= 0 ? result.limit : -1\n\n  return result\n}\n", "/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nlet promise\n\nmodule.exports = typeof queueMicrotask === 'function'\n  ? queueMicrotask.bind(typeof window !== 'undefined' ? window : global)\n  // reuse resolved promise, and allocate it lazily\n  : cb => (promise || (promise = Promise.resolve()))\n    .then(cb)\n    .catch(err => setTimeout(() => { throw err }, 0))\n", "'use strict'\n\nconst queueMicrotask = require('queue-microtask')\n\nmodule.exports = function (fn, ...args) {\n  if (args.length === 0) {\n    queueMicrotask(fn)\n  } else {\n    queueMicrotask(() => fn(...args))\n  }\n}\n", "'use strict'\n\nconst { AbstractIterator, AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\nconst kUnfix = Symbol('unfix')\nconst kIterator = Symbol('iterator')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\nconst kCallback = Symbol('callback')\n\n// TODO: unfix natively if db supports it\nclass AbstractSublevelIterator extends AbstractIterator {\n  constructor (db, options, iterator, unfix) {\n    super(db, options)\n\n    this[kIterator] = iterator\n    this[kUnfix] = unfix\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kCallback] = null\n  }\n\n  [kHandleOne] (err, key, value) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n    if (key !== undefined) key = this[kUnfix](key)\n    callback(err, key, value)\n  }\n\n  [kHandleMany] (err, entries) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n\n    for (const entry of entries) {\n      const key = entry[0]\n      if (key !== undefined) entry[0] = this[kUnfix](key)\n    }\n\n    callback(err, entries)\n  }\n}\n\nclass AbstractSublevelKeyIterator extends AbstractKeyIterator {\n  constructor (db, options, iterator, unfix) {\n    super(db, options)\n\n    this[kIterator] = iterator\n    this[kUnfix] = unfix\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kCallback] = null\n  }\n\n  [kHandleOne] (err, key) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n    if (key !== undefined) key = this[kUnfix](key)\n    callback(err, key)\n  }\n\n  [kHandleMany] (err, keys) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      if (key !== undefined) keys[i] = this[kUnfix](key)\n    }\n\n    callback(err, keys)\n  }\n}\n\nclass AbstractSublevelValueIterator extends AbstractValueIterator {\n  constructor (db, options, iterator) {\n    super(db, options)\n    this[kIterator] = iterator\n  }\n}\n\nfor (const Iterator of [AbstractSublevelIterator, AbstractSublevelKeyIterator]) {\n  Iterator.prototype._next = function (callback) {\n    this[kCallback] = callback\n    this[kIterator].next(this[kHandleOne])\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kCallback] = callback\n    this[kIterator].nextv(size, options, this[kHandleMany])\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kCallback] = callback\n    this[kIterator].all(options, this[kHandleMany])\n  }\n}\n\nfor (const Iterator of [AbstractSublevelValueIterator]) {\n  Iterator.prototype._next = function (callback) {\n    this[kIterator].next(callback)\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kIterator].nextv(size, options, callback)\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kIterator].all(options, callback)\n  }\n}\n\nfor (const Iterator of [AbstractSublevelIterator, AbstractSublevelKeyIterator, AbstractSublevelValueIterator]) {\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options)\n  }\n\n  Iterator.prototype._close = function (callback) {\n    this[kIterator].close(callback)\n  }\n}\n\nexports.AbstractSublevelIterator = AbstractSublevelIterator\nexports.AbstractSublevelKeyIterator = AbstractSublevelKeyIterator\nexports.AbstractSublevelValueIterator = AbstractSublevelValueIterator\n", "'use strict'\n\nconst ModuleError = require('module-error')\nconst { Buffer } = require('buffer') || {}\nconst {\n  AbstractSublevelIterator,\n  AbstractSublevelKeyIterator,\n  AbstractSublevelValueIterator\n} = require('./abstract-sublevel-iterator')\n\nconst kPrefix = Symbol('prefix')\nconst kUpperBound = Symbol('upperBound')\nconst kPrefixRange = Symbol('prefixRange')\nconst kParent = Symbol('parent')\nconst kUnfix = Symbol('unfix')\n\nconst textEncoder = new TextEncoder()\nconst defaults = { separator: '!' }\n\n// Wrapped to avoid circular dependency\nmodule.exports = function ({ AbstractLevel }) {\n  class AbstractSublevel extends AbstractLevel {\n    static defaults (options) {\n      // To help migrating from subleveldown to abstract-level\n      if (typeof options === 'string') {\n        throw new ModuleError('The subleveldown string shorthand for { separator } has been removed', {\n          code: 'LEVEL_LEGACY'\n        })\n      } else if (options && options.open) {\n        throw new ModuleError('The subleveldown open option has been removed', {\n          code: 'LEVEL_LEGACY'\n        })\n      }\n\n      if (options == null) {\n        return defaults\n      } else if (!options.separator) {\n        return { ...options, separator: '!' }\n      } else {\n        return options\n      }\n    }\n\n    // TODO: add autoClose option, which if true, does parent.attachResource(this)\n    constructor (db, name, options) {\n      // Don't forward AbstractSublevel options to AbstractLevel\n      const { separator, manifest, ...forward } = AbstractSublevel.defaults(options)\n      name = trim(name, separator)\n\n      // Reserve one character between separator and name to give us an upper bound\n      const reserved = separator.charCodeAt(0) + 1\n      const parent = db[kParent] || db\n\n      // Keys should sort like ['!a!', '!a!!a!', '!a\"', '!aa!', '!b!'].\n      // Use ASCII for consistent length between string, Buffer and Uint8Array\n      if (!textEncoder.encode(name).every(x => x > reserved && x < 127)) {\n        throw new ModuleError(`Prefix must use bytes > ${reserved} < ${127}`, {\n          code: 'LEVEL_INVALID_PREFIX'\n        })\n      }\n\n      super(mergeManifests(parent, manifest), forward)\n\n      const prefix = (db.prefix || '') + separator + name + separator\n      const upperBound = prefix.slice(0, -1) + String.fromCharCode(reserved)\n\n      this[kParent] = parent\n      this[kPrefix] = new MultiFormat(prefix)\n      this[kUpperBound] = new MultiFormat(upperBound)\n      this[kUnfix] = new Unfixer()\n\n      this.nextTick = parent.nextTick\n    }\n\n    prefixKey (key, keyFormat) {\n      if (keyFormat === 'utf8') {\n        return this[kPrefix].utf8 + key\n      } else if (key.byteLength === 0) {\n        // Fast path for empty key (no copy)\n        return this[kPrefix][keyFormat]\n      } else if (keyFormat === 'view') {\n        const view = this[kPrefix].view\n        const result = new Uint8Array(view.byteLength + key.byteLength)\n\n        result.set(view, 0)\n        result.set(key, view.byteLength)\n\n        return result\n      } else {\n        const buffer = this[kPrefix].buffer\n        return Buffer.concat([buffer, key], buffer.byteLength + key.byteLength)\n      }\n    }\n\n    // Not exposed for now.\n    [kPrefixRange] (range, keyFormat) {\n      if (range.gte !== undefined) {\n        range.gte = this.prefixKey(range.gte, keyFormat)\n      } else if (range.gt !== undefined) {\n        range.gt = this.prefixKey(range.gt, keyFormat)\n      } else {\n        range.gte = this[kPrefix][keyFormat]\n      }\n\n      if (range.lte !== undefined) {\n        range.lte = this.prefixKey(range.lte, keyFormat)\n      } else if (range.lt !== undefined) {\n        range.lt = this.prefixKey(range.lt, keyFormat)\n      } else {\n        range.lte = this[kUpperBound][keyFormat]\n      }\n    }\n\n    get prefix () {\n      return this[kPrefix].utf8\n    }\n\n    get db () {\n      return this[kParent]\n    }\n\n    _open (options, callback) {\n      // The parent db must open itself or be (re)opened by the user because\n      // a sublevel should not initiate state changes on the rest of the db.\n      this[kParent].open({ passive: true }, callback)\n    }\n\n    _put (key, value, options, callback) {\n      this[kParent].put(key, value, options, callback)\n    }\n\n    _get (key, options, callback) {\n      this[kParent].get(key, options, callback)\n    }\n\n    _getMany (keys, options, callback) {\n      this[kParent].getMany(keys, options, callback)\n    }\n\n    _del (key, options, callback) {\n      this[kParent].del(key, options, callback)\n    }\n\n    _batch (operations, options, callback) {\n      this[kParent].batch(operations, options, callback)\n    }\n\n    _clear (options, callback) {\n      // TODO (refactor): move to AbstractLevel\n      this[kPrefixRange](options, options.keyEncoding)\n      this[kParent].clear(options, callback)\n    }\n\n    _iterator (options) {\n      // TODO (refactor): move to AbstractLevel\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].iterator(options)\n      const unfix = this[kUnfix].get(this[kPrefix].utf8.length, options.keyEncoding)\n      return new AbstractSublevelIterator(this, options, iterator, unfix)\n    }\n\n    _keys (options) {\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].keys(options)\n      const unfix = this[kUnfix].get(this[kPrefix].utf8.length, options.keyEncoding)\n      return new AbstractSublevelKeyIterator(this, options, iterator, unfix)\n    }\n\n    _values (options) {\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].values(options)\n      return new AbstractSublevelValueIterator(this, options, iterator)\n    }\n  }\n\n  return { AbstractSublevel }\n}\n\nconst mergeManifests = function (parent, manifest) {\n  return {\n    // Inherit manifest of parent db\n    ...parent.supports,\n\n    // Disable unsupported features\n    createIfMissing: false,\n    errorIfExists: false,\n\n    // Unset additional events because we're not forwarding them\n    events: {},\n\n    // Unset additional methods (like approximateSize) which we can't support here unless\n    // the AbstractSublevel class is overridden by an implementation of `abstract-level`.\n    additionalMethods: {},\n\n    // Inherit manifest of custom AbstractSublevel subclass. Such a class is not\n    // allowed to override encodings.\n    ...manifest,\n\n    encodings: {\n      utf8: supportsEncoding(parent, 'utf8'),\n      buffer: supportsEncoding(parent, 'buffer'),\n      view: supportsEncoding(parent, 'view')\n    }\n  }\n}\n\nconst supportsEncoding = function (parent, encoding) {\n  // Prefer a non-transcoded encoding for optimal performance\n  return parent.supports.encodings[encoding]\n    ? parent.keyEncoding(encoding).name === encoding\n    : false\n}\n\nclass MultiFormat {\n  constructor (key) {\n    this.utf8 = key\n    this.view = textEncoder.encode(key)\n    this.buffer = Buffer ? Buffer.from(this.view.buffer, 0, this.view.byteLength) : {}\n  }\n}\n\nclass Unfixer {\n  constructor () {\n    this.cache = new Map()\n  }\n\n  get (prefixLength, keyFormat) {\n    let unfix = this.cache.get(keyFormat)\n\n    if (unfix === undefined) {\n      if (keyFormat === 'view') {\n        unfix = function (prefixLength, key) {\n          // Avoid Uint8Array#slice() because it copies\n          return key.subarray(prefixLength)\n        }.bind(null, prefixLength)\n      } else {\n        unfix = function (prefixLength, key) {\n          // Avoid Buffer#subarray() because it's slow\n          return key.slice(prefixLength)\n        }.bind(null, prefixLength)\n      }\n\n      this.cache.set(keyFormat, unfix)\n    }\n\n    return unfix\n  }\n}\n\nconst trim = function (str, char) {\n  let start = 0\n  let end = str.length\n\n  while (start < end && str[start] === char) start++\n  while (end > start && str[end - 1] === char) end--\n\n  return str.slice(start, end)\n}\n", "'use strict'\n\nconst { supports } = require('level-supports')\nconst { Transcoder } = require('level-transcoder')\nconst { EventEmitter } = require('events')\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { AbstractIterator } = require('./abstract-iterator')\nconst { DefaultKeyIterator, DefaultValueIterator } = require('./lib/default-kv-iterator')\nconst { DeferredIterator, DeferredKeyIterator, DeferredValueIterator } = require('./lib/deferred-iterator')\nconst { DefaultChainedBatch } = require('./lib/default-chained-batch')\nconst { getCallback, getOptions } = require('./lib/common')\nconst rangeOptions = require('./lib/range-options')\n\nconst kPromise = Symbol('promise')\nconst kLanded = Symbol('landed')\nconst kResources = Symbol('resources')\nconst kCloseResources = Symbol('closeResources')\nconst kOperations = Symbol('operations')\nconst kUndefer = Symbol('undefer')\nconst kDeferOpen = Symbol('deferOpen')\nconst kOptions = Symbol('options')\nconst kStatus = Symbol('status')\nconst kDefaultOptions = Symbol('defaultOptions')\nconst kTranscoder = Symbol('transcoder')\nconst kKeyEncoding = Symbol('keyEncoding')\nconst kValueEncoding = Symbol('valueEncoding')\nconst noop = () => {}\n\nclass AbstractLevel extends EventEmitter {\n  constructor (manifest, options) {\n    super()\n\n    if (typeof manifest !== 'object' || manifest === null) {\n      throw new TypeError(\"The first argument 'manifest' must be an object\")\n    }\n\n    options = getOptions(options)\n    const { keyEncoding, valueEncoding, passive, ...forward } = options\n\n    this[kResources] = new Set()\n    this[kOperations] = []\n    this[kDeferOpen] = true\n    this[kOptions] = forward\n    this[kStatus] = 'opening'\n\n    this.supports = supports(manifest, {\n      status: true,\n      promises: true,\n      clear: true,\n      getMany: true,\n      deferredOpen: true,\n\n      // TODO (next major): add seek\n      snapshots: manifest.snapshots !== false,\n      permanence: manifest.permanence !== false,\n\n      // TODO: remove from level-supports because it's always supported\n      keyIterator: true,\n      valueIterator: true,\n      iteratorNextv: true,\n      iteratorAll: true,\n\n      encodings: manifest.encodings || {},\n      events: Object.assign({}, manifest.events, {\n        opening: true,\n        open: true,\n        closing: true,\n        closed: true,\n        put: true,\n        del: true,\n        batch: true,\n        clear: true\n      })\n    })\n\n    this[kTranscoder] = new Transcoder(formats(this))\n    this[kKeyEncoding] = this[kTranscoder].encoding(keyEncoding || 'utf8')\n    this[kValueEncoding] = this[kTranscoder].encoding(valueEncoding || 'utf8')\n\n    // Add custom and transcoder encodings to manifest\n    for (const encoding of this[kTranscoder].encodings()) {\n      if (!this.supports.encodings[encoding.commonName]) {\n        this.supports.encodings[encoding.commonName] = true\n      }\n    }\n\n    this[kDefaultOptions] = {\n      empty: Object.freeze({}),\n      entry: Object.freeze({\n        keyEncoding: this[kKeyEncoding].commonName,\n        valueEncoding: this[kValueEncoding].commonName\n      }),\n      key: Object.freeze({\n        keyEncoding: this[kKeyEncoding].commonName\n      })\n    }\n\n    // Let subclass finish its constructor\n    this.nextTick(() => {\n      if (this[kDeferOpen]) {\n        this.open({ passive: false }, noop)\n      }\n    })\n  }\n\n  get status () {\n    return this[kStatus]\n  }\n\n  keyEncoding (encoding) {\n    return this[kTranscoder].encoding(encoding != null ? encoding : this[kKeyEncoding])\n  }\n\n  valueEncoding (encoding) {\n    return this[kTranscoder].encoding(encoding != null ? encoding : this[kValueEncoding])\n  }\n\n  open (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n\n    options = { ...this[kOptions], ...getOptions(options) }\n\n    options.createIfMissing = options.createIfMissing !== false\n    options.errorIfExists = !!options.errorIfExists\n\n    const maybeOpened = (err) => {\n      if (this[kStatus] === 'closing' || this[kStatus] === 'opening') {\n        // Wait until pending state changes are done\n        this.once(kLanded, err ? () => maybeOpened(err) : maybeOpened)\n      } else if (this[kStatus] !== 'open') {\n        callback(new ModuleError('Database is not open', {\n          code: 'LEVEL_DATABASE_NOT_OPEN',\n          cause: err\n        }))\n      } else {\n        callback()\n      }\n    }\n\n    if (options.passive) {\n      if (this[kStatus] === 'opening') {\n        this.once(kLanded, maybeOpened)\n      } else {\n        this.nextTick(maybeOpened)\n      }\n    } else if (this[kStatus] === 'closed' || this[kDeferOpen]) {\n      this[kDeferOpen] = false\n      this[kStatus] = 'opening'\n      this.emit('opening')\n\n      this._open(options, (err) => {\n        if (err) {\n          this[kStatus] = 'closed'\n\n          // Resources must be safe to close in any db state\n          this[kCloseResources](() => {\n            this.emit(kLanded)\n            maybeOpened(err)\n          })\n\n          this[kUndefer]()\n          return\n        }\n\n        this[kStatus] = 'open'\n        this[kUndefer]()\n        this.emit(kLanded)\n\n        // Only emit public event if pending state changes are done\n        if (this[kStatus] === 'open') this.emit('open')\n\n        // TODO (next major): remove this alias\n        if (this[kStatus] === 'open') this.emit('ready')\n\n        maybeOpened()\n      })\n    } else if (this[kStatus] === 'open') {\n      this.nextTick(maybeOpened)\n    } else {\n      this.once(kLanded, () => this.open(options, callback))\n    }\n\n    return callback[kPromise]\n  }\n\n  _open (options, callback) {\n    this.nextTick(callback)\n  }\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    const maybeClosed = (err) => {\n      if (this[kStatus] === 'opening' || this[kStatus] === 'closing') {\n        // Wait until pending state changes are done\n        this.once(kLanded, err ? maybeClosed(err) : maybeClosed)\n      } else if (this[kStatus] !== 'closed') {\n        callback(new ModuleError('Database is not closed', {\n          code: 'LEVEL_DATABASE_NOT_CLOSED',\n          cause: err\n        }))\n      } else {\n        callback()\n      }\n    }\n\n    if (this[kStatus] === 'open') {\n      this[kStatus] = 'closing'\n      this.emit('closing')\n\n      const cancel = (err) => {\n        this[kStatus] = 'open'\n        this[kUndefer]()\n        this.emit(kLanded)\n        maybeClosed(err)\n      }\n\n      this[kCloseResources](() => {\n        this._close((err) => {\n          if (err) return cancel(err)\n\n          this[kStatus] = 'closed'\n          this[kUndefer]()\n          this.emit(kLanded)\n\n          // Only emit public event if pending state changes are done\n          if (this[kStatus] === 'closed') this.emit('closed')\n\n          maybeClosed()\n        })\n      })\n    } else if (this[kStatus] === 'closed') {\n      this.nextTick(maybeClosed)\n    } else {\n      this.once(kLanded, () => this.close(callback))\n    }\n\n    return callback[kPromise]\n  }\n\n  [kCloseResources] (callback) {\n    if (this[kResources].size === 0) {\n      return this.nextTick(callback)\n    }\n\n    let pending = this[kResources].size\n    let sync = true\n\n    const next = () => {\n      if (--pending === 0) {\n        // We don't have tests for generic resources, so dezalgo\n        if (sync) this.nextTick(callback)\n        else callback()\n      }\n    }\n\n    // In parallel so that all resources know they are closed\n    for (const resource of this[kResources]) {\n      resource.close(next)\n    }\n\n    sync = false\n    this[kResources].clear()\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  get (key, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.get(key, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options to the underlying store\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      // Avoid spread operator because of https://bugs.chromium.org/p/chromium/issues/detail?id=1204540\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    this._get(this.prefixKey(keyEncoding.encode(key), keyFormat), options, (err, value) => {\n      if (err) {\n        // Normalize not found error for backwards compatibility with abstract-leveldown and level(up)\n        if (err.code === 'LEVEL_NOT_FOUND' || err.notFound || /NotFound/i.test(err)) {\n          if (!err.code) err.code = 'LEVEL_NOT_FOUND' // Preferred way going forward\n          if (!err.notFound) err.notFound = true // Same as level-errors\n          if (!err.status) err.status = 404 // Same as level-errors\n        }\n\n        return callback(err)\n      }\n\n      try {\n        value = valueEncoding.decode(value)\n      } catch (err) {\n        return callback(new ModuleError('Could not decode value', {\n          code: 'LEVEL_DECODE_ERROR',\n          cause: err\n        }))\n      }\n\n      callback(null, value)\n    })\n\n    return callback[kPromise]\n  }\n\n  _get (key, options, callback) {\n    this.nextTick(callback, new Error('NotFound'))\n  }\n\n  getMany (keys, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.getMany(keys, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    if (!Array.isArray(keys)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'keys' must be an array\"))\n      return callback[kPromise]\n    }\n\n    if (keys.length === 0) {\n      this.nextTick(callback, null, [])\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    const mappedKeys = new Array(keys.length)\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      const err = this._checkKey(key)\n\n      if (err) {\n        this.nextTick(callback, err)\n        return callback[kPromise]\n      }\n\n      mappedKeys[i] = this.prefixKey(keyEncoding.encode(key), keyFormat)\n    }\n\n    this._getMany(mappedKeys, options, (err, values) => {\n      if (err) return callback(err)\n\n      try {\n        for (let i = 0; i < values.length; i++) {\n          if (values[i] !== undefined) {\n            values[i] = valueEncoding.decode(values[i])\n          }\n        }\n      } catch (err) {\n        return callback(new ModuleError(`Could not decode one or more of ${values.length} value(s)`, {\n          code: 'LEVEL_DECODE_ERROR',\n          cause: err\n        }))\n      }\n\n      callback(null, values)\n    })\n\n    return callback[kPromise]\n  }\n\n  _getMany (keys, options, callback) {\n    this.nextTick(callback, null, new Array(keys.length).fill(undefined))\n  }\n\n  put (key, value, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.put(key, value, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key) || this._checkValue(value)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    const mappedKey = this.prefixKey(keyEncoding.encode(key), keyFormat)\n    const mappedValue = valueEncoding.encode(value)\n\n    this._put(mappedKey, mappedValue, options, (err) => {\n      if (err) return callback(err)\n      this.emit('put', key, value)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _put (key, value, options, callback) {\n    this.nextTick(callback)\n  }\n\n  del (key, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].key)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.del(key, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat })\n    }\n\n    this._del(this.prefixKey(keyEncoding.encode(key), keyFormat), options, (err) => {\n      if (err) return callback(err)\n      this.emit('del', key)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _del (key, options, callback) {\n    this.nextTick(callback)\n  }\n\n  batch (operations, options, callback) {\n    if (!arguments.length) {\n      if (this[kStatus] === 'opening') return new DefaultChainedBatch(this)\n      if (this[kStatus] !== 'open') {\n        throw new ModuleError('Database is not open', {\n          code: 'LEVEL_DATABASE_NOT_OPEN'\n        })\n      }\n      return this._chainedBatch()\n    }\n\n    if (typeof operations === 'function') callback = operations\n    else callback = getCallback(options, callback)\n\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].empty)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.batch(operations, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    if (!Array.isArray(operations)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'operations' must be an array\"))\n      return callback[kPromise]\n    }\n\n    if (operations.length === 0) {\n      this.nextTick(callback)\n      return callback[kPromise]\n    }\n\n    const mapped = new Array(operations.length)\n    const { keyEncoding: ke, valueEncoding: ve, ...forward } = options\n\n    for (let i = 0; i < operations.length; i++) {\n      if (typeof operations[i] !== 'object' || operations[i] === null) {\n        this.nextTick(callback, new TypeError('A batch operation must be an object'))\n        return callback[kPromise]\n      }\n\n      const op = Object.assign({}, operations[i])\n\n      if (op.type !== 'put' && op.type !== 'del') {\n        this.nextTick(callback, new TypeError(\"A batch operation must have a type property that is 'put' or 'del'\"))\n        return callback[kPromise]\n      }\n\n      const err = this._checkKey(op.key)\n\n      if (err) {\n        this.nextTick(callback, err)\n        return callback[kPromise]\n      }\n\n      const db = op.sublevel != null ? op.sublevel : this\n      const keyEncoding = db.keyEncoding(op.keyEncoding || ke)\n      const keyFormat = keyEncoding.format\n\n      op.key = db.prefixKey(keyEncoding.encode(op.key), keyFormat)\n      op.keyEncoding = keyFormat\n\n      if (op.type === 'put') {\n        const valueErr = this._checkValue(op.value)\n\n        if (valueErr) {\n          this.nextTick(callback, valueErr)\n          return callback[kPromise]\n        }\n\n        const valueEncoding = db.valueEncoding(op.valueEncoding || ve)\n\n        op.value = valueEncoding.encode(op.value)\n        op.valueEncoding = valueEncoding.format\n      }\n\n      // Prevent double prefixing\n      if (db !== this) {\n        op.sublevel = null\n      }\n\n      mapped[i] = op\n    }\n\n    this._batch(mapped, forward, (err) => {\n      if (err) return callback(err)\n      this.emit('batch', operations)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _batch (operations, options, callback) {\n    this.nextTick(callback)\n  }\n\n  sublevel (name, options) {\n    return this._sublevel(name, AbstractSublevel.defaults(options))\n  }\n\n  _sublevel (name, options) {\n    return new AbstractSublevel(this, name, options)\n  }\n\n  prefixKey (key, keyFormat) {\n    return key\n  }\n\n  clear (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].empty)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.clear(options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const original = options\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n    options.keyEncoding = keyEncoding.format\n\n    if (options.limit === 0) {\n      this.nextTick(callback)\n    } else {\n      this._clear(options, (err) => {\n        if (err) return callback(err)\n        this.emit('clear', original)\n        callback()\n      })\n    }\n\n    return callback[kPromise]\n  }\n\n  _clear (options, callback) {\n    this.nextTick(callback)\n  }\n\n  iterator (options) {\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n    options.keys = options.keys !== false\n    options.values = options.values !== false\n\n    // We need the original encoding options in AbstractIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._iterator(options)\n  }\n\n  _iterator (options) {\n    return new AbstractIterator(this, options)\n  }\n\n  keys (options) {\n    // Also include valueEncoding (though unused) because we may fallback to _iterator()\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n\n    // We need the original encoding options in AbstractKeyIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredKeyIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._keys(options)\n  }\n\n  _keys (options) {\n    return new DefaultKeyIterator(this, options)\n  }\n\n  values (options) {\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n\n    // We need the original encoding options in AbstractValueIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredValueIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._values(options)\n  }\n\n  _values (options) {\n    return new DefaultValueIterator(this, options)\n  }\n\n  defer (fn) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('The first argument must be a function')\n    }\n\n    this[kOperations].push(fn)\n  }\n\n  [kUndefer] () {\n    if (this[kOperations].length === 0) {\n      return\n    }\n\n    const operations = this[kOperations]\n    this[kOperations] = []\n\n    for (const op of operations) {\n      op()\n    }\n  }\n\n  // TODO: docs and types\n  attachResource (resource) {\n    if (typeof resource !== 'object' || resource === null ||\n      typeof resource.close !== 'function') {\n      throw new TypeError('The first argument must be a resource object')\n    }\n\n    this[kResources].add(resource)\n  }\n\n  // TODO: docs and types\n  detachResource (resource) {\n    this[kResources].delete(resource)\n  }\n\n  _chainedBatch () {\n    return new DefaultChainedBatch(this)\n  }\n\n  _checkKey (key) {\n    if (key === null || key === undefined) {\n      return new ModuleError('Key cannot be null or undefined', {\n        code: 'LEVEL_INVALID_KEY'\n      })\n    }\n  }\n\n  _checkValue (value) {\n    if (value === null || value === undefined) {\n      return new ModuleError('Value cannot be null or undefined', {\n        code: 'LEVEL_INVALID_VALUE'\n      })\n    }\n  }\n}\n\n// Expose browser-compatible nextTick for dependents\n// TODO: after we drop node 10, also use queueMicrotask in node\nAbstractLevel.prototype.nextTick = require('./lib/next-tick')\n\nconst { AbstractSublevel } = require('./lib/abstract-sublevel')({ AbstractLevel })\n\nexports.AbstractLevel = AbstractLevel\nexports.AbstractSublevel = AbstractSublevel\n\nconst maybeError = function (db, callback) {\n  if (db[kStatus] !== 'open') {\n    db.nextTick(callback, new ModuleError('Database is not open', {\n      code: 'LEVEL_DATABASE_NOT_OPEN'\n    }))\n    return true\n  }\n\n  return false\n}\n\nconst formats = function (db) {\n  return Object.keys(db.supports.encodings)\n    .filter(k => !!db.supports.encodings[k])\n}\n", "'use strict'\n\nexports.AbstractLevel = require('./abstract-level').AbstractLevel\nexports.AbstractSublevel = require('./abstract-level').AbstractSublevel\nexports.AbstractIterator = require('./abstract-iterator').AbstractIterator\nexports.AbstractKeyIterator = require('./abstract-iterator').AbstractKeyIterator\nexports.AbstractValueIterator = require('./abstract-iterator').AbstractValueIterator\nexports.AbstractChainedBatch = require('./abstract-chained-batch').AbstractChainedBatch\n", "/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = runParallelLimit\n\nconst queueMicrotask = require('queue-microtask')\n\nfunction runParallelLimit (tasks, limit, cb) {\n  if (typeof limit !== 'number') throw new Error('second argument must be a Number')\n  let results, len, pending, keys, isErrored\n  let isSync = true\n  let next\n\n  if (Array.isArray(tasks)) {\n    results = []\n    pending = len = tasks.length\n  } else {\n    keys = Object.keys(tasks)\n    results = {}\n    pending = len = keys.length\n  }\n\n  function done (err) {\n    function end () {\n      if (cb) cb(err, results)\n      cb = null\n    }\n    if (isSync) queueMicrotask(end)\n    else end()\n  }\n\n  function each (i, err, result) {\n    results[i] = result\n    if (err) isErrored = true\n    if (--pending === 0 || err) {\n      done(err)\n    } else if (!isErrored && next < len) {\n      let key\n      if (keys) {\n        key = keys[next]\n        next += 1\n        tasks[key](function (err, result) { each(key, err, result) })\n      } else {\n        key = next\n        next += 1\n        tasks[key](function (err, result) { each(key, err, result) })\n      }\n    }\n  }\n\n  next = limit\n  if (!pending) {\n    // empty\n    done(null)\n  } else if (keys) {\n    // object\n    keys.some(function (key, i) {\n      tasks[key](function (err, result) { each(key, err, result) })\n      if (i === limit - 1) return true // early return\n      return false\n    })\n  } else {\n    // array\n    tasks.some(function (task, i) {\n      task(function (err, result) { each(i, err, result) })\n      if (i === limit - 1) return true // early return\n      return false\n    })\n  }\n\n  isSync = false\n}\n", "/* global IDBKeyRange */\n\n'use strict'\n\nmodule.exports = function createKeyRange (options) {\n  const lower = options.gte !== undefined ? options.gte : options.gt !== undefined ? options.gt : undefined\n  const upper = options.lte !== undefined ? options.lte : options.lt !== undefined ? options.lt : undefined\n  const lowerExclusive = options.gte === undefined\n  const upperExclusive = options.lte === undefined\n\n  if (lower !== undefined && upper !== undefined) {\n    return IDBKeyRange.bound(lower, upper, lowerExclusive, upperExclusive)\n  } else if (lower !== undefined) {\n    return IDBKeyRange.lowerBound(lower, lowerExclusive)\n  } else if (upper !== undefined) {\n    return IDBKeyRange.upperBound(upper, upperExclusive)\n  } else {\n    return null\n  }\n}\n", "'use strict'\n\nconst textEncoder = new TextEncoder()\n\nmodule.exports = function (data) {\n  if (data instanceof Uint8Array) {\n    return data\n  } else if (data instanceof ArrayBuffer) {\n    return new Uint8Array(data)\n  } else {\n    // Non-binary data stored with an old version (level-js < 5.0.0)\n    return textEncoder.encode(data)\n  }\n}\n", "'use strict'\n\nconst { AbstractIterator } = require('abstract-level')\nconst createKeyRange = require('./util/key-range')\nconst deserialize = require('./util/deserialize')\n\nconst kCache = Symbol('cache')\nconst kFinished = Symbol('finished')\nconst kOptions = Symbol('options')\nconst kCurrentOptions = Symbol('currentOptions')\nconst kPosition = Symbol('position')\nconst kLocation = Symbol('location')\nconst kFirst = Symbol('first')\nconst emptyOptions = {}\n\nclass Iterator extends AbstractIterator {\n  constructor (db, location, options) {\n    super(db, options)\n\n    this[kCache] = []\n    this[kFinished] = this.limit === 0\n    this[kOptions] = options\n    this[kCurrentOptions] = { ...options }\n    this[kPosition] = undefined\n    this[kLocation] = location\n    this[kFirst] = true\n  }\n\n  // Note: if called by _all() then size can be Infinity. This is an internal\n  // detail; by design AbstractIterator.nextv() does not support Infinity.\n  _nextv (size, options, callback) {\n    this[kFirst] = false\n\n    if (this[kFinished]) {\n      return this.nextTick(callback, null, [])\n    } else if (this[kCache].length > 0) {\n      // TODO: mixing next and nextv is not covered by test suite\n      size = Math.min(size, this[kCache].length)\n      return this.nextTick(callback, null, this[kCache].splice(0, size))\n    }\n\n    // Adjust range by what we already visited\n    if (this[kPosition] !== undefined) {\n      if (this[kOptions].reverse) {\n        this[kCurrentOptions].lt = this[kPosition]\n        this[kCurrentOptions].lte = undefined\n      } else {\n        this[kCurrentOptions].gt = this[kPosition]\n        this[kCurrentOptions].gte = undefined\n      }\n    }\n\n    let keyRange\n\n    try {\n      keyRange = createKeyRange(this[kCurrentOptions])\n    } catch (_) {\n      // The lower key is greater than the upper key.\n      // IndexedDB throws an error, but we'll just return 0 results.\n      this[kFinished] = true\n      return this.nextTick(callback, null, [])\n    }\n\n    const transaction = this.db.db.transaction([this[kLocation]], 'readonly')\n    const store = transaction.objectStore(this[kLocation])\n    const entries = []\n\n    if (!this[kOptions].reverse) {\n      let keys\n      let values\n\n      const complete = () => {\n        // Wait for both requests to complete\n        if (keys === undefined || values === undefined) return\n\n        const length = Math.max(keys.length, values.length)\n\n        if (length === 0 || size === Infinity) {\n          this[kFinished] = true\n        } else {\n          this[kPosition] = keys[length - 1]\n        }\n\n        // Resize\n        entries.length = length\n\n        // Merge keys and values\n        for (let i = 0; i < length; i++) {\n          const key = keys[i]\n          const value = values[i]\n\n          entries[i] = [\n            this[kOptions].keys && key !== undefined ? deserialize(key) : undefined,\n            this[kOptions].values && value !== undefined ? deserialize(value) : undefined\n          ]\n        }\n\n        maybeCommit(transaction)\n      }\n\n      // If keys were not requested and size is Infinity, we don't have to keep\n      // track of position and can thus skip getting keys.\n      if (this[kOptions].keys || size < Infinity) {\n        store.getAllKeys(keyRange, size < Infinity ? size : undefined).onsuccess = (ev) => {\n          keys = ev.target.result\n          complete()\n        }\n      } else {\n        keys = []\n        this.nextTick(complete)\n      }\n\n      if (this[kOptions].values) {\n        store.getAll(keyRange, size < Infinity ? size : undefined).onsuccess = (ev) => {\n          values = ev.target.result\n          complete()\n        }\n      } else {\n        values = []\n        this.nextTick(complete)\n      }\n    } else {\n      // Can't use getAll() in reverse, so use a slower cursor that yields one item at a time\n      // TODO: test if all target browsers support openKeyCursor\n      const method = !this[kOptions].values && store.openKeyCursor ? 'openKeyCursor' : 'openCursor'\n\n      store[method](keyRange, 'prev').onsuccess = (ev) => {\n        const cursor = ev.target.result\n\n        if (cursor) {\n          const { key, value } = cursor\n          this[kPosition] = key\n\n          entries.push([\n            this[kOptions].keys && key !== undefined ? deserialize(key) : undefined,\n            this[kOptions].values && value !== undefined ? deserialize(value) : undefined\n          ])\n\n          if (entries.length < size) {\n            cursor.continue()\n          } else {\n            maybeCommit(transaction)\n          }\n        } else {\n          this[kFinished] = true\n        }\n      }\n    }\n\n    // If an error occurs (on the request), the transaction will abort.\n    transaction.onabort = () => {\n      callback(transaction.error || new Error('aborted by user'))\n      callback = null\n    }\n\n    transaction.oncomplete = () => {\n      callback(null, entries)\n      callback = null\n    }\n  }\n\n  _next (callback) {\n    if (this[kCache].length > 0) {\n      const [key, value] = this[kCache].shift()\n      this.nextTick(callback, null, key, value)\n    } else if (this[kFinished]) {\n      this.nextTick(callback)\n    } else {\n      let size = Math.min(100, this.limit - this.count)\n\n      if (this[kFirst]) {\n        // It's common to only want one entry initially or after a seek()\n        this[kFirst] = false\n        size = 1\n      }\n\n      this._nextv(size, emptyOptions, (err, entries) => {\n        if (err) return callback(err)\n        this[kCache] = entries\n        this._next(callback)\n      })\n    }\n  }\n\n  _all (options, callback) {\n    this[kFirst] = false\n\n    // TODO: mixing next and all is not covered by test suite\n    const cache = this[kCache].splice(0, this[kCache].length)\n    const size = this.limit - this.count - cache.length\n\n    if (size <= 0) {\n      return this.nextTick(callback, null, cache)\n    }\n\n    this._nextv(size, emptyOptions, (err, entries) => {\n      if (err) return callback(err)\n      if (cache.length > 0) entries = cache.concat(entries)\n      callback(null, entries)\n    })\n  }\n\n  _seek (target, options) {\n    this[kFirst] = true\n    this[kCache] = []\n    this[kFinished] = false\n    this[kPosition] = undefined\n\n    // TODO: not covered by test suite\n    this[kCurrentOptions] = { ...this[kOptions] }\n\n    let keyRange\n\n    try {\n      keyRange = createKeyRange(this[kOptions])\n    } catch (_) {\n      this[kFinished] = true\n      return\n    }\n\n    if (keyRange !== null && !keyRange.includes(target)) {\n      this[kFinished] = true\n    } else if (this[kOptions].reverse) {\n      this[kCurrentOptions].lte = target\n    } else {\n      this[kCurrentOptions].gte = target\n    }\n  }\n}\n\nexports.Iterator = Iterator\n\nfunction maybeCommit (transaction) {\n  // Commit (meaning close) now instead of waiting for auto-commit\n  if (typeof transaction.commit === 'function') {\n    transaction.commit()\n  }\n}\n", "'use strict'\n\nmodule.exports = function clear (db, location, keyRange, options, callback) {\n  if (options.limit === 0) return db.nextTick(callback)\n\n  const transaction = db.db.transaction([location], 'readwrite')\n  const store = transaction.objectStore(location)\n  let count = 0\n\n  transaction.oncomplete = function () {\n    callback()\n  }\n\n  transaction.onabort = function () {\n    callback(transaction.error || new Error('aborted by user'))\n  }\n\n  // A key cursor is faster (skips reading values) but not supported by IE\n  // TODO: we no longer support IE. Test others\n  const method = store.openKeyCursor ? 'openKeyCursor' : 'openCursor'\n  const direction = options.reverse ? 'prev' : 'next'\n\n  store[method](keyRange, direction).onsuccess = function (ev) {\n    const cursor = ev.target.result\n\n    if (cursor) {\n      // Wait for a request to complete before continuing, saving CPU.\n      store.delete(cursor.key).onsuccess = function () {\n        if (options.limit <= 0 || ++count < options.limit) {\n          cursor.continue()\n        }\n      }\n    }\n  }\n}\n", "/* global indexedDB */\n\n'use strict'\n\nconst { AbstractLevel } = require('abstract-level')\nconst ModuleError = require('module-error')\nconst parallel = require('run-parallel-limit')\nconst { fromCallback } = require('catering')\nconst { Iterator } = require('./iterator')\nconst deserialize = require('./util/deserialize')\nconst clear = require('./util/clear')\nconst createKeyRange = require('./util/key-range')\n\n// Keep as-is for compatibility with existing level-js databases\nconst DEFAULT_PREFIX = 'level-js-'\n\nconst kIDB = Symbol('idb')\nconst kNamePrefix = Symbol('namePrefix')\nconst kLocation = Symbol('location')\nconst kVersion = Symbol('version')\nconst kStore = Symbol('store')\nconst kOnComplete = Symbol('onComplete')\nconst kPromise = Symbol('promise')\n\nclass BrowserLevel extends AbstractLevel {\n  constructor (location, options, _) {\n    // To help migrating to abstract-level\n    if (typeof options === 'function' || typeof _ === 'function') {\n      throw new ModuleError('The levelup-style callback argument has been removed', {\n        code: 'LEVEL_LEGACY'\n      })\n    }\n\n    const { prefix, version, ...forward } = options || {}\n\n    super({\n      encodings: { view: true },\n      snapshots: false,\n      createIfMissing: false,\n      errorIfExists: false,\n      seek: true\n    }, forward)\n\n    if (typeof location !== 'string') {\n      throw new Error('constructor requires a location string argument')\n    }\n\n    // TODO (next major): remove default prefix\n    this[kLocation] = location\n    this[kNamePrefix] = prefix == null ? DEFAULT_PREFIX : prefix\n    this[kVersion] = parseInt(version || 1, 10)\n    this[kIDB] = null\n  }\n\n  get location () {\n    return this[kLocation]\n  }\n\n  get namePrefix () {\n    return this[kNamePrefix]\n  }\n\n  get version () {\n    return this[kVersion]\n  }\n\n  // Exposed for backwards compat and unit tests\n  get db () {\n    return this[kIDB]\n  }\n\n  get type () {\n    return 'browser-level'\n  }\n\n  _open (options, callback) {\n    const req = indexedDB.open(this[kNamePrefix] + this[kLocation], this[kVersion])\n\n    req.onerror = function () {\n      callback(req.error || new Error('unknown error'))\n    }\n\n    req.onsuccess = () => {\n      this[kIDB] = req.result\n      callback()\n    }\n\n    req.onupgradeneeded = (ev) => {\n      const db = ev.target.result\n\n      if (!db.objectStoreNames.contains(this[kLocation])) {\n        db.createObjectStore(this[kLocation])\n      }\n    }\n  }\n\n  [kStore] (mode) {\n    const transaction = this[kIDB].transaction([this[kLocation]], mode)\n    return transaction.objectStore(this[kLocation])\n  }\n\n  [kOnComplete] (request, callback) {\n    const transaction = request.transaction\n\n    // Take advantage of the fact that a non-canceled request error aborts\n    // the transaction. I.e. no need to listen for \"request.onerror\".\n    transaction.onabort = function () {\n      callback(transaction.error || new Error('aborted by user'))\n    }\n\n    transaction.oncomplete = function () {\n      callback(null, request.result)\n    }\n  }\n\n  _get (key, options, callback) {\n    const store = this[kStore]('readonly')\n    let req\n\n    try {\n      req = store.get(key)\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, function (err, value) {\n      if (err) return callback(err)\n\n      if (value === undefined) {\n        return callback(new ModuleError('Entry not found', {\n          code: 'LEVEL_NOT_FOUND'\n        }))\n      }\n\n      callback(null, deserialize(value))\n    })\n  }\n\n  _getMany (keys, options, callback) {\n    const store = this[kStore]('readonly')\n    const tasks = keys.map((key) => (next) => {\n      let request\n\n      try {\n        request = store.get(key)\n      } catch (err) {\n        return next(err)\n      }\n\n      request.onsuccess = () => {\n        const value = request.result\n        next(null, value === undefined ? value : deserialize(value))\n      }\n\n      request.onerror = (ev) => {\n        ev.stopPropagation()\n        next(request.error)\n      }\n    })\n\n    parallel(tasks, 16, callback)\n  }\n\n  _del (key, options, callback) {\n    const store = this[kStore]('readwrite')\n    let req\n\n    try {\n      req = store.delete(key)\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, callback)\n  }\n\n  _put (key, value, options, callback) {\n    const store = this[kStore]('readwrite')\n    let req\n\n    try {\n      // Will throw a DataError or DataCloneError if the environment\n      // does not support serializing the key or value respectively.\n      req = store.put(value, key)\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, callback)\n  }\n\n  // TODO: implement key and value iterators\n  _iterator (options) {\n    return new Iterator(this, this[kLocation], options)\n  }\n\n  _batch (operations, options, callback) {\n    const store = this[kStore]('readwrite')\n    const transaction = store.transaction\n    let index = 0\n    let error\n\n    transaction.onabort = function () {\n      callback(error || transaction.error || new Error('aborted by user'))\n    }\n\n    transaction.oncomplete = function () {\n      callback()\n    }\n\n    // Wait for a request to complete before making the next, saving CPU.\n    function loop () {\n      const op = operations[index++]\n      const key = op.key\n\n      let req\n\n      try {\n        req = op.type === 'del' ? store.delete(key) : store.put(op.value, key)\n      } catch (err) {\n        error = err\n        transaction.abort()\n        return\n      }\n\n      if (index < operations.length) {\n        req.onsuccess = loop\n      } else if (typeof transaction.commit === 'function') {\n        // Commit now instead of waiting for auto-commit\n        transaction.commit()\n      }\n    }\n\n    loop()\n  }\n\n  _clear (options, callback) {\n    let keyRange\n    let req\n\n    try {\n      keyRange = createKeyRange(options)\n    } catch (e) {\n      // The lower key is greater than the upper key.\n      // IndexedDB throws an error, but we'll just do nothing.\n      return this.nextTick(callback)\n    }\n\n    if (options.limit >= 0) {\n      // IDBObjectStore#delete(range) doesn't have such an option.\n      // Fall back to cursor-based implementation.\n      return clear(this, this[kLocation], keyRange, options, callback)\n    }\n\n    try {\n      const store = this[kStore]('readwrite')\n      req = keyRange ? store.delete(keyRange) : store.clear()\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, callback)\n  }\n\n  _close (callback) {\n    this[kIDB].close()\n    this.nextTick(callback)\n  }\n}\n\nBrowserLevel.destroy = function (location, prefix, callback) {\n  if (typeof prefix === 'function') {\n    callback = prefix\n    prefix = DEFAULT_PREFIX\n  }\n\n  callback = fromCallback(callback, kPromise)\n  const request = indexedDB.deleteDatabase(prefix + location)\n\n  request.onsuccess = function () {\n    callback()\n  }\n\n  request.onerror = function (err) {\n    callback(err)\n  }\n\n  return callback[kPromise]\n}\n\nexports.BrowserLevel = BrowserLevel\n", "exports.Level = require('browser-level').BrowserLevel\n", "'use strict'\n\nmodule.exports = function getTime () {\n  return Date.now()\n}\n", "'use strict'\n\nconst getTime = require('./time')\n\nclass Retimer {\n  constructor (callback, timeout, args) {\n    const that = this\n\n    this._started = getTime()\n    this._rescheduled = 0\n    this._scheduled = timeout\n    this._args = args\n    this._triggered = false\n\n    this._timerWrapper = () => {\n      if (that._rescheduled > 0) {\n        that._scheduled = that._rescheduled - (getTime() - that._started)\n        that._schedule(that._scheduled)\n      } else {\n        that._triggered = true\n        callback.apply(null, that._args)\n      }\n    }\n\n    this._timer = setTimeout(this._timerWrapper, timeout)\n  }\n\n  reschedule (timeout) {\n    if (!timeout) {\n      timeout = this._scheduled\n    }\n    const now = getTime()\n    if ((now + timeout) - (this._started + this._scheduled) < 0) {\n      clearTimeout(this._timer)\n      this._schedule(timeout)\n    } else if (!this._triggered) {\n      this._started = now\n      this._rescheduled = timeout\n    } else {\n      this._schedule(timeout)\n    }\n  }\n\n  _schedule (timeout) {\n    this._triggered = false\n    this._started = getTime()\n    this._rescheduled = 0\n    this._scheduled = timeout\n    this._timer = setTimeout(this._timerWrapper, timeout)\n  }\n\n  clear () {\n    clearTimeout(this._timer)\n  }\n}\n\nfunction retimer () {\n  if (typeof arguments[0] !== 'function') {\n    throw new Error('callback needed')\n  }\n\n  if (typeof arguments[1] !== 'number') {\n    throw new Error('timeout needed')\n  }\n\n  let args\n\n  if (arguments.length > 0) {\n    args = new Array(arguments.length - 2)\n\n    /* eslint-disable no-var */\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i + 2]\n    }\n  }\n\n  return new Retimer(arguments[0], arguments[1], args)\n}\n\nmodule.exports = retimer\n", "'use strict'\n\nconst { AbortController } = globalThis\n\n// @ts-expect-error no types\nconst retimer = require('retimer')\n\nclass TimeoutController extends AbortController {\n  /**\n   * @constructor\n   * @param {number} ms milliseconds\n   */\n  constructor (ms) {\n    super()\n    this._ms = ms\n    this._timer = retimer(() => this.abort(), ms)\n    // Patch for safari not supported extending built in classes\n    Object.setPrototypeOf(this, TimeoutController.prototype)\n  }\n\n  /**\n   * Aborts the controller and clears the timer\n   */\n  abort () {\n    this._timer.clear()\n    return super.abort()\n  }\n\n  /**\n   * Clears the timer\n   */\n  clear () {\n    this._timer.clear()\n  }\n\n  /**\n   * Resets the timer\n   */\n  reset () {\n    this._timer.clear()\n    this._timer = retimer(() => this.abort(), this._ms)\n  }\n}\n\nmodule.exports = {\n  TimeoutController\n}\n", "/**\n * Takes an array of AbortSignals and returns a single signal.\n * If any signals are aborted, the returned signal will be aborted.\n * @param {Array<AbortSignal>} signals\n * @returns {AbortSignal}\n */\nfunction anySignal (signals) {\n  const controller = new globalThis.AbortController()\n\n  function onAbort () {\n    controller.abort()\n\n    for (const signal of signals) {\n      if (!signal || !signal.removeEventListener) continue\n      signal.removeEventListener('abort', onAbort)\n    }\n  }\n\n  for (const signal of signals) {\n    if (!signal || !signal.addEventListener) continue\n    if (signal.aborted) {\n      onAbort()\n      break\n    }\n    signal.addEventListener('abort', onAbort)\n  }\n\n  return controller.signal\n}\n\nmodule.exports = anySignal\nmodule.exports.anySignal = anySignal\n", "'use strict'\n\n/**\n * Returns the last item of an (async) iterable, unless empty, in which case\n * return `undefined`.\n *\n * @template T\n * @param {AsyncIterable<T>|Iterable<T>} source\n */\nconst last = async (source) => {\n  let res\n\n  for await (const entry of source) {\n    res = entry\n  }\n\n  return res\n}\n\nmodule.exports = last\n", "'use strict'\n\nconst isReactNative =\n    typeof navigator !== 'undefined' &&\n    navigator.product === 'ReactNative'\n\nfunction getDefaultBase () {\n  if (isReactNative) {\n    return 'http://localhost'\n  }\n  // in some environments i.e. cloudflare workers location is not available\n  if (!self.location) {\n    return ''\n  }\n\n  return self.location.protocol + '//' + self.location.host\n}\n\nconst URL = self.URL\nconst defaultBase = getDefaultBase()\n\nclass URLWithLegacySupport {\n  constructor (url = '', base = defaultBase) {\n    this.super = new URL(url, base)\n    this.path = this.pathname + this.search\n    this.auth =\n            this.username && this.password\n              ? this.username + ':' + this.password\n              : null\n\n    this.query =\n            this.search && this.search.startsWith('?')\n              ? this.search.slice(1)\n              : null\n  }\n\n  get hash () {\n    return this.super.hash\n  }\n\n  get host () {\n    return this.super.host\n  }\n\n  get hostname () {\n    return this.super.hostname\n  }\n\n  get href () {\n    return this.super.href\n  }\n\n  get origin () {\n    return this.super.origin\n  }\n\n  get password () {\n    return this.super.password\n  }\n\n  get pathname () {\n    return this.super.pathname\n  }\n\n  get port () {\n    return this.super.port\n  }\n\n  get protocol () {\n    return this.super.protocol\n  }\n\n  get search () {\n    return this.super.search\n  }\n\n  get searchParams () {\n    return this.super.searchParams\n  }\n\n  get username () {\n    return this.super.username\n  }\n\n  set hash (hash) {\n    this.super.hash = hash\n  }\n\n  set host (host) {\n    this.super.host = host\n  }\n\n  set hostname (hostname) {\n    this.super.hostname = hostname\n  }\n\n  set href (href) {\n    this.super.href = href\n  }\n\n  set password (password) {\n    this.super.password = password\n  }\n\n  set pathname (pathname) {\n    this.super.pathname = pathname\n  }\n\n  set port (port) {\n    this.super.port = port\n  }\n\n  set protocol (protocol) {\n    this.super.protocol = protocol\n  }\n\n  set search (search) {\n    this.super.search = search\n  }\n\n  set username (username) {\n    this.super.username = username\n  }\n\n  /**\n   * @param {any} o\n   */\n  static createObjectURL (o) {\n    return URL.createObjectURL(o)\n  }\n\n  /**\n   * @param {string} o\n   */\n  static revokeObjectURL (o) {\n    URL.revokeObjectURL(o)\n  }\n\n  toJSON () {\n    return this.super.toJSON()\n  }\n\n  toString () {\n    return this.super.toString()\n  }\n\n  format () {\n    return this.toString()\n  }\n}\n\n/**\n * @param {string | import('url').UrlObject} obj\n */\nfunction format (obj) {\n  if (typeof obj === 'string') {\n    const url = new URL(obj)\n\n    return url.toString()\n  }\n\n  if (!(obj instanceof URL)) {\n    const userPass =\n            // @ts-ignore its not supported in node but we normalise\n            obj.username && obj.password\n              // @ts-ignore its not supported in node but we normalise\n              ? `${obj.username}:${obj.password}@`\n              : ''\n    const auth = obj.auth ? obj.auth + '@' : ''\n    const port = obj.port ? ':' + obj.port : ''\n    const protocol = obj.protocol ? obj.protocol + '//' : ''\n    const host = obj.host || ''\n    const hostname = obj.hostname || ''\n    const search = obj.search || (obj.query ? '?' + obj.query : '')\n    const hash = obj.hash || ''\n    const pathname = obj.pathname || ''\n    // @ts-ignore - path is not supported in node but we normalise\n    const path = obj.path || pathname + search\n\n    return `${protocol}${userPass || auth}${\n            host || hostname + port\n        }${path}${hash}`\n  }\n}\n\nmodule.exports = {\n  URLWithLegacySupport,\n  URLSearchParams: self.URLSearchParams,\n  defaultBase,\n  format\n}\n", "'use strict'\n\nconst { URLWithLegacySupport, format } = require('./url')\n\n/**\n * @param {string | undefined} url\n * @param {any} [location]\n * @param {any} [protocolMap]\n * @param {any} [defaultProtocol]\n */\nmodule.exports = (url, location = {}, protocolMap = {}, defaultProtocol) => {\n  let protocol = location.protocol\n    ? location.protocol.replace(':', '')\n    : 'http'\n\n  // Check protocol map\n  protocol = (protocolMap[protocol] || defaultProtocol || protocol) + ':'\n  let urlParsed\n\n  try {\n    urlParsed = new URLWithLegacySupport(url)\n  } catch (err) {\n    urlParsed = {}\n  }\n\n  const base = Object.assign({}, location, {\n    protocol: protocol || urlParsed.protocol,\n    host: location.host || urlParsed.host\n  })\n\n  return new URLWithLegacySupport(url, format(base)).toString()\n}\n", "'use strict'\n\nconst {\n  URLWithLegacySupport,\n  format,\n  URLSearchParams,\n  defaultBase\n} = require('./src/url')\nconst relative = require('./src/relative')\n\nmodule.exports = {\n  URL: URLWithLegacySupport,\n  URLSearchParams,\n  format,\n  relative,\n  defaultBase\n}\n", "'use strict'\n\n/**\n * @template T\n * @typedef {Object} Peek\n * @property {() => IteratorResult<T, void>} peek\n */\n\n/**\n * @template T\n * @typedef {Object} AsyncPeek\n * @property {() => Promise<IteratorResult<T, void>>} peek\n */\n\n/**\n * @template T\n * @typedef {Object} Push\n * @property {(value:T) => void} push\n */\n\n/**\n * @template T\n * @typedef {Iterable<T> & Peek<T> & Push<T> & Iterator<T>} Peekable<T>\n */\n\n/**\n * @template T\n * @typedef {AsyncIterable<T> & AsyncPeek<T> & Push<T> & AsyncIterator<T>} AsyncPeekable<T>\n */\n\n/**\n * @template {Iterable<any> | AsyncIterable<any>} I\n * @param {I} iterable\n * @returns {I extends Iterable<infer T>\n *  ? Peekable<T>\n *  : I extends AsyncIterable<infer T>\n *  ? AsyncPeekable<T>\n *  : never\n * }\n */\nfunction peekableIterator (iterable) {\n  // @ts-ignore\n  const [iterator, symbol] = iterable[Symbol.asyncIterator]\n    // @ts-ignore\n    ? [iterable[Symbol.asyncIterator](), Symbol.asyncIterator]\n    // @ts-ignore\n    : [iterable[Symbol.iterator](), Symbol.iterator]\n\n  /** @type {any[]} */\n  const queue = []\n\n  // @ts-ignore\n  return {\n    peek: () => {\n      return iterator.next()\n    },\n    push: (value) => {\n      queue.push(value)\n    },\n    next: () => {\n      if (queue.length) {\n        return {\n          done: false,\n          value: queue.shift()\n        }\n      }\n\n      return iterator.next()\n    },\n    [symbol] () {\n      return this\n    }\n  }\n}\n\nmodule.exports = peekableIterator\n", "// Re-export your entry components here\nexport { Transaction, encode } from './transaction';\nexport { createDagRepo, DagRepo, importBuffer } from './dagRepo';\n", "// https://github.com/mikeal/car-transaction/blob/main/index.js\r\n\r\nimport * as CBW from '../../node_modules/@ipld/car/esm/lib/buffer-writer.js';\r\n// import * as CBW from '@ipld/car/esm/lib/buffer-writer.js'; // not exported\r\n// import * as CBW from './modules/buffer-writer.js'; // esbuild\r\n\r\nimport { CarReader } from '@ipld/car';\r\nimport { bytes as byteslib } from 'multiformats';\r\nimport { decode as digest } from 'multiformats/hashes/digest';\r\nimport * as dagcbor from '@ipld/dag-cbor';\r\nimport * as raw from 'multiformats/codecs/raw';\r\nimport { sha256 } from 'multiformats/hashes/sha2';\r\nimport * as Block from 'multiformats/block';\r\nimport mitt from 'mitt'; // a small emitter\r\n\r\nconst { isBinary } = byteslib;\r\n\r\nexport const encode = (value) => {\r\n\tif (isBinary(value)) {\r\n\t\treturn Block.encode({ value, hasher: sha256, codec: raw });\r\n\t}\r\n\treturn Block.encode({ value, hasher: sha256, codec: dagcbor });\r\n};\r\n\r\nconst decode = ({ bytes, cid }) => {\r\n\tlet hasher, codec;\r\n\tconst { code } = cid;\r\n\tconst hashcode = cid.multihash.code || digest(cid.multihash).code;\r\n\r\n\tif (hashcode === 0x12) {\r\n\t\thasher = sha256;\r\n\t} else {\r\n\t\tthrow new Error('Unsupported hash function: ' + hashcode);\r\n\t}\r\n\r\n\tif (code === 0x71) {\r\n\t\tcodec = dagcbor;\r\n\t} else if (code === 0x55) {\r\n\t\tcodec = raw;\r\n\t} else {\r\n\t\tthrow new Error('Unsupported codec: ' + code);\r\n\t}\r\n\r\n\treturn Block.create({ bytes, cid, codec, hasher });\r\n};\r\n\r\nexport class Transaction {\r\n\tconstructor() {\r\n\t\tObject.assign(this, mitt());\r\n\t\tthis.blocks = [];\r\n\t}\r\n\r\n\tstatic create(): Transaction {\r\n\t\treturn new this();\r\n\t}\r\n\r\n\tstatic async load(buffer) {\r\n\t\tconst reader = await CarReader.fromBytes(buffer);\r\n\t\tconst [root] = await reader.getRoots();\r\n\t\tconst get = (cid) =>\r\n\t\t\treader\r\n\t\t\t\t.get(cid)\r\n\t\t\t\t.then((block) => decode(block))\r\n\t\t\t\t.then(({ value }) => value);\r\n\t\treturn { root, get };\r\n\t}\r\n\r\n\tasync add(obj) {\r\n\t\tconst block = await encode(obj);\r\n\t\tthis.last = block;\r\n\t\tthis.blocks.push(block);\r\n\t\tthis.emit('size', this.size);\r\n\t\treturn block.cid;\r\n\t}\r\n\r\n\tasync get(block) {\r\n\t\tconst { cid, bytes, value } = await decode(block);\r\n\t\treturn { cid, bytes, value };\r\n\t}\r\n\r\n\tundo() {\r\n\t\treturn this.blocks.pop();\r\n\t}\r\n\r\n\tasync commit() {\r\n\t\tconst cid = this.last.cid;\r\n\t\tlet size = 0;\r\n\t\tlet headerSize = CBW.headerLength({ roots: [cid] });\r\n\t\tsize += headerSize;\r\n\t\tfor (const block of this.blocks) {\r\n\t\t\tsize += CBW.blockLength(block);\r\n\t\t}\r\n\t\tconst buffer = new Uint8Array(size);\r\n\t\tconst writer = await CBW.createWriter(buffer, { headerSize });\r\n\t\twriter.addRoot(cid);\r\n\t\tfor (const block of this.blocks) {\r\n\t\t\twriter.write(block);\r\n\t\t}\r\n\t\tawait writer.close();\r\n\t\treturn writer.bytes;\r\n\t}\r\n\r\n\tget size() {\r\n\t\tif (!this?.last) return 0;\r\n\t\tconst cid = this.last.cid;\r\n\t\tlet size = 0;\r\n\t\tlet headerSize = CBW.headerLength({ roots: [cid] });\r\n\t\tsize += headerSize;\r\n\t\tfor (const block of this.blocks) {\r\n\t\t\tsize += CBW.blockLength(block);\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\n}\r\n", "import varint from 'varint';\nimport {\n  Token,\n  Type\n} from 'cborg';\nimport { tokensToLength } from 'cborg/length';\nimport * as CBOR from '@ipld/dag-cbor';\nclass CarBufferWriter {\n  constructor(bytes, headerSize) {\n    this.bytes = bytes;\n    this.byteOffset = headerSize;\n    this.roots = [];\n    this.headerSize = headerSize;\n  }\n  addRoot(root, options) {\n    addRoot(this, root, options);\n    return this;\n  }\n  write(block) {\n    addBlock(this, block);\n    return this;\n  }\n  close(options) {\n    return close(this, options);\n  }\n}\nexport const addRoot = (writer, root, options = {}) => {\n  const {\n    resize = false\n  } = options;\n  const {bytes, headerSize, byteOffset, roots} = writer;\n  writer.roots.push(root);\n  const size = headerLength(writer);\n  if (size > headerSize) {\n    if (size - headerSize + byteOffset < bytes.byteLength) {\n      if (resize) {\n        resizeHeader(writer, size);\n      } else {\n        roots.pop();\n        throw new RangeError(`Header of size ${ headerSize } has no capacity for new root ${ root }.\n  However there is a space in the buffer and you could call addRoot(root, { resize: root }) to resize header to make a space for this root.`);\n      }\n    } else {\n      roots.pop();\n      throw new RangeError(`Buffer has no capacity for a new root ${ root }`);\n    }\n  }\n};\nexport const blockLength = ({cid, bytes}) => {\n  const size = cid.bytes.byteLength + bytes.byteLength;\n  return varint.encodingLength(size) + size;\n};\nexport const addBlock = (writer, {cid, bytes}) => {\n  const byteLength = cid.bytes.byteLength + bytes.byteLength;\n  const size = varint.encode(byteLength);\n  if (writer.byteOffset + size.length + byteLength > writer.bytes.byteLength) {\n    throw new RangeError('Buffer has no capacity for this block');\n  } else {\n    writeBytes(writer, size);\n    writeBytes(writer, cid.bytes);\n    writeBytes(writer, bytes);\n  }\n};\nexport const close = (writer, options = {}) => {\n  const {\n    resize = false\n  } = options;\n  const {roots, bytes, byteOffset, headerSize} = writer;\n  const headerBytes = CBOR.encode({\n    version: 1,\n    roots\n  });\n  const varintBytes = varint.encode(headerBytes.length);\n  const size = varintBytes.length + headerBytes.byteLength;\n  const offset = headerSize - size;\n  if (offset === 0) {\n    writeHeader(writer, varintBytes, headerBytes);\n    return bytes.subarray(0, byteOffset);\n  } else if (resize) {\n    resizeHeader(writer, size);\n    writeHeader(writer, varintBytes, headerBytes);\n    return bytes.subarray(0, writer.byteOffset);\n  } else {\n    throw new RangeError(`Header size was overestimated.\nYou can use close({ resize: true }) to resize header`);\n  }\n};\nexport const resizeHeader = (writer, byteLength) => {\n  const {bytes, headerSize} = writer;\n  bytes.set(bytes.subarray(headerSize, writer.byteOffset), byteLength);\n  writer.byteOffset += byteLength - headerSize;\n  writer.headerSize = byteLength;\n};\nconst writeBytes = (writer, bytes) => {\n  writer.bytes.set(bytes, writer.byteOffset);\n  writer.byteOffset += bytes.length;\n};\nconst writeHeader = ({bytes}, varint, header) => {\n  bytes.set(varint);\n  bytes.set(header, varint.length);\n};\nconst headerPreludeTokens = [\n  new Token(Type.map, 2),\n  new Token(Type.string, 'version'),\n  new Token(Type.uint, 1),\n  new Token(Type.string, 'roots')\n];\nconst CID_TAG = new Token(Type.tag, 42);\nexport const calculateHeaderLength = rootLengths => {\n  const tokens = [...headerPreludeTokens];\n  tokens.push(new Token(Type.array, rootLengths.length));\n  for (const rootLength of rootLengths) {\n    tokens.push(CID_TAG);\n    tokens.push(new Token(Type.bytes, { length: rootLength + 1 }));\n  }\n  const length = tokensToLength(tokens);\n  return varint.encodingLength(length) + length;\n};\nexport const headerLength = ({roots}) => calculateHeaderLength(roots.map(cid => cid.bytes.byteLength));\nexport const estimateHeaderLength = (rootCount, rootByteLength = 36) => calculateHeaderLength(new Array(rootCount).fill(rootByteLength));\nexport const createWriter = (buffer, options = {}) => {\n  const {roots = [], byteOffset = 0, byteLength = buffer.byteLength, headerSize = headerLength({ roots })} = options;\n  const bytes = new Uint8Array(buffer, byteOffset, byteLength);\n  const writer = new CarBufferWriter(bytes, headerSize);\n  for (const root of roots) {\n    writer.addRoot(root);\n  }\n  return writer;\n};", "import { encode } from './lib/encode.js';\nimport { decode } from './lib/decode.js';\nimport {\n  Token,\n  Type\n} from './lib/token.js';\nexport {\n  decode,\n  encode,\n  Token,\n  Type\n};", "import { is } from './is.js';\nimport {\n  Token,\n  Type\n} from './token.js';\nimport { Bl } from './bl.js';\nimport { encodeErrPrefix } from './common.js';\nimport { quickEncodeToken } from './jump.js';\nimport { asU8A } from './byte-utils.js';\nimport { encodeUint } from './0uint.js';\nimport { encodeNegint } from './1negint.js';\nimport { encodeBytes } from './2bytes.js';\nimport { encodeString } from './3string.js';\nimport { encodeArray } from './4array.js';\nimport { encodeMap } from './5map.js';\nimport { encodeTag } from './6tag.js';\nimport { encodeFloat } from './7float.js';\nconst defaultEncodeOptions = {\n  float64: false,\n  mapSorter,\n  quickEncodeToken\n};\nexport function makeCborEncoders() {\n  const encoders = [];\n  encoders[Type.uint.major] = encodeUint;\n  encoders[Type.negint.major] = encodeNegint;\n  encoders[Type.bytes.major] = encodeBytes;\n  encoders[Type.string.major] = encodeString;\n  encoders[Type.array.major] = encodeArray;\n  encoders[Type.map.major] = encodeMap;\n  encoders[Type.tag.major] = encodeTag;\n  encoders[Type.float.major] = encodeFloat;\n  return encoders;\n}\nconst cborEncoders = makeCborEncoders();\nconst buf = new Bl();\nclass Ref {\n  constructor(obj, parent) {\n    this.obj = obj;\n    this.parent = parent;\n  }\n  includes(obj) {\n    let p = this;\n    do {\n      if (p.obj === obj) {\n        return true;\n      }\n    } while (p = p.parent);\n    return false;\n  }\n  static createCheck(stack, obj) {\n    if (stack && stack.includes(obj)) {\n      throw new Error(`${ encodeErrPrefix } object contains circular references`);\n    }\n    return new Ref(obj, stack);\n  }\n}\nconst simpleTokens = {\n  null: new Token(Type.null, null),\n  undefined: new Token(Type.undefined, undefined),\n  true: new Token(Type.true, true),\n  false: new Token(Type.false, false),\n  emptyArray: new Token(Type.array, 0),\n  emptyMap: new Token(Type.map, 0)\n};\nconst typeEncoders = {\n  number(obj, _typ, _options, _refStack) {\n    if (!Number.isInteger(obj) || !Number.isSafeInteger(obj)) {\n      return new Token(Type.float, obj);\n    } else if (obj >= 0) {\n      return new Token(Type.uint, obj);\n    } else {\n      return new Token(Type.negint, obj);\n    }\n  },\n  bigint(obj, _typ, _options, _refStack) {\n    if (obj >= BigInt(0)) {\n      return new Token(Type.uint, obj);\n    } else {\n      return new Token(Type.negint, obj);\n    }\n  },\n  Uint8Array(obj, _typ, _options, _refStack) {\n    return new Token(Type.bytes, obj);\n  },\n  string(obj, _typ, _options, _refStack) {\n    return new Token(Type.string, obj);\n  },\n  boolean(obj, _typ, _options, _refStack) {\n    return obj ? simpleTokens.true : simpleTokens.false;\n  },\n  null(_obj, _typ, _options, _refStack) {\n    return simpleTokens.null;\n  },\n  undefined(_obj, _typ, _options, _refStack) {\n    return simpleTokens.undefined;\n  },\n  ArrayBuffer(obj, _typ, _options, _refStack) {\n    return new Token(Type.bytes, new Uint8Array(obj));\n  },\n  DataView(obj, _typ, _options, _refStack) {\n    return new Token(Type.bytes, new Uint8Array(obj.buffer, obj.byteOffset, obj.byteLength));\n  },\n  Array(obj, _typ, options, refStack) {\n    if (!obj.length) {\n      if (options.addBreakTokens === true) {\n        return [\n          simpleTokens.emptyArray,\n          new Token(Type.break)\n        ];\n      }\n      return simpleTokens.emptyArray;\n    }\n    refStack = Ref.createCheck(refStack, obj);\n    const entries = [];\n    let i = 0;\n    for (const e of obj) {\n      entries[i++] = objectToTokens(e, options, refStack);\n    }\n    if (options.addBreakTokens) {\n      return [\n        new Token(Type.array, obj.length),\n        entries,\n        new Token(Type.break)\n      ];\n    }\n    return [\n      new Token(Type.array, obj.length),\n      entries\n    ];\n  },\n  Object(obj, typ, options, refStack) {\n    const isMap = typ !== 'Object';\n    const keys = isMap ? obj.keys() : Object.keys(obj);\n    const length = isMap ? obj.size : keys.length;\n    if (!length) {\n      if (options.addBreakTokens === true) {\n        return [\n          simpleTokens.emptyMap,\n          new Token(Type.break)\n        ];\n      }\n      return simpleTokens.emptyMap;\n    }\n    refStack = Ref.createCheck(refStack, obj);\n    const entries = [];\n    let i = 0;\n    for (const key of keys) {\n      entries[i++] = [\n        objectToTokens(key, options, refStack),\n        objectToTokens(isMap ? obj.get(key) : obj[key], options, refStack)\n      ];\n    }\n    sortMapEntries(entries, options);\n    if (options.addBreakTokens) {\n      return [\n        new Token(Type.map, length),\n        entries,\n        new Token(Type.break)\n      ];\n    }\n    return [\n      new Token(Type.map, length),\n      entries\n    ];\n  }\n};\ntypeEncoders.Map = typeEncoders.Object;\ntypeEncoders.Buffer = typeEncoders.Uint8Array;\nfor (const typ of 'Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64'.split(' ')) {\n  typeEncoders[`${ typ }Array`] = typeEncoders.DataView;\n}\nfunction objectToTokens(obj, options = {}, refStack) {\n  const typ = is(obj);\n  const customTypeEncoder = options && options.typeEncoders && options.typeEncoders[typ] || typeEncoders[typ];\n  if (typeof customTypeEncoder === 'function') {\n    const tokens = customTypeEncoder(obj, typ, options, refStack);\n    if (tokens != null) {\n      return tokens;\n    }\n  }\n  const typeEncoder = typeEncoders[typ];\n  if (!typeEncoder) {\n    throw new Error(`${ encodeErrPrefix } unsupported type: ${ typ }`);\n  }\n  return typeEncoder(obj, typ, options, refStack);\n}\nfunction sortMapEntries(entries, options) {\n  if (options.mapSorter) {\n    entries.sort(options.mapSorter);\n  }\n}\nfunction mapSorter(e1, e2) {\n  const keyToken1 = Array.isArray(e1[0]) ? e1[0][0] : e1[0];\n  const keyToken2 = Array.isArray(e2[0]) ? e2[0][0] : e2[0];\n  if (keyToken1.type !== keyToken2.type) {\n    return keyToken1.type.compare(keyToken2.type);\n  }\n  const major = keyToken1.type.major;\n  const tcmp = cborEncoders[major].compareTokens(keyToken1, keyToken2);\n  if (tcmp === 0) {\n    console.warn('WARNING: complex key types used, CBOR key sorting guarantees are gone');\n  }\n  return tcmp;\n}\nfunction tokensToEncoded(buf, tokens, encoders, options) {\n  if (Array.isArray(tokens)) {\n    for (const token of tokens) {\n      tokensToEncoded(buf, token, encoders, options);\n    }\n  } else {\n    encoders[tokens.type.major](buf, tokens, options);\n  }\n}\nfunction encodeCustom(data, encoders, options) {\n  const tokens = objectToTokens(data, options);\n  if (!Array.isArray(tokens) && options.quickEncodeToken) {\n    const quickBytes = options.quickEncodeToken(tokens);\n    if (quickBytes) {\n      return quickBytes;\n    }\n    const encoder = encoders[tokens.type.major];\n    if (encoder.encodedSize) {\n      const size = encoder.encodedSize(tokens, options);\n      const buf = new Bl(size);\n      encoder(buf, tokens, options);\n      if (buf.chunks.length !== 1) {\n        throw new Error(`Unexpected error: pre-calculated length for ${ tokens } was wrong`);\n      }\n      return asU8A(buf.chunks[0]);\n    }\n  }\n  buf.reset();\n  tokensToEncoded(buf, tokens, encoders, options);\n  return buf.toBytes(true);\n}\nfunction encode(data, options) {\n  options = Object.assign({}, defaultEncodeOptions, options);\n  return encodeCustom(data, cborEncoders, options);\n}\nexport {\n  objectToTokens,\n  encode,\n  encodeCustom,\n  Ref\n};", "const typeofs = [\n  'string',\n  'number',\n  'bigint',\n  'symbol'\n];\nconst objectTypeNames = [\n  'Function',\n  'Generator',\n  'AsyncGenerator',\n  'GeneratorFunction',\n  'AsyncGeneratorFunction',\n  'AsyncFunction',\n  'Observable',\n  'Array',\n  'Buffer',\n  'Object',\n  'RegExp',\n  'Date',\n  'Error',\n  'Map',\n  'Set',\n  'WeakMap',\n  'WeakSet',\n  'ArrayBuffer',\n  'SharedArrayBuffer',\n  'DataView',\n  'Promise',\n  'URL',\n  'HTMLElement',\n  'Int8Array',\n  'Uint8Array',\n  'Uint8ClampedArray',\n  'Int16Array',\n  'Uint16Array',\n  'Int32Array',\n  'Uint32Array',\n  'Float32Array',\n  'Float64Array',\n  'BigInt64Array',\n  'BigUint64Array'\n];\nexport function is(value) {\n  if (value === null) {\n    return 'null';\n  }\n  if (value === undefined) {\n    return 'undefined';\n  }\n  if (value === true || value === false) {\n    return 'boolean';\n  }\n  const typeOf = typeof value;\n  if (typeofs.includes(typeOf)) {\n    return typeOf;\n  }\n  if (typeOf === 'function') {\n    return 'Function';\n  }\n  if (Array.isArray(value)) {\n    return 'Array';\n  }\n  if (isBuffer(value)) {\n    return 'Buffer';\n  }\n  const objectType = getObjectType(value);\n  if (objectType) {\n    return objectType;\n  }\n  return 'Object';\n}\nfunction isBuffer(value) {\n  return value && value.constructor && value.constructor.isBuffer && value.constructor.isBuffer.call(null, value);\n}\nfunction getObjectType(value) {\n  const objectTypeName = Object.prototype.toString.call(value).slice(8, -1);\n  if (objectTypeNames.includes(objectTypeName)) {\n    return objectTypeName;\n  }\n  return undefined;\n}", "class Type {\n  constructor(major, name, terminal) {\n    this.major = major;\n    this.majorEncoded = major << 5;\n    this.name = name;\n    this.terminal = terminal;\n  }\n  toString() {\n    return `Type[${ this.major }].${ this.name }`;\n  }\n  compare(typ) {\n    return this.major < typ.major ? -1 : this.major > typ.major ? 1 : 0;\n  }\n}\nType.uint = new Type(0, 'uint', true);\nType.negint = new Type(1, 'negint', true);\nType.bytes = new Type(2, 'bytes', true);\nType.string = new Type(3, 'string', true);\nType.array = new Type(4, 'array', false);\nType.map = new Type(5, 'map', false);\nType.tag = new Type(6, 'tag', false);\nType.float = new Type(7, 'float', true);\nType.false = new Type(7, 'false', true);\nType.true = new Type(7, 'true', true);\nType.null = new Type(7, 'null', true);\nType.undefined = new Type(7, 'undefined', true);\nType.break = new Type(7, 'break', true);\nclass Token {\n  constructor(type, value, encodedLength) {\n    this.type = type;\n    this.value = value;\n    this.encodedLength = encodedLength;\n    this.encodedBytes = undefined;\n    this.byteValue = undefined;\n  }\n  toString() {\n    return `Token[${ this.type }].${ this.value }`;\n  }\n}\nexport {\n  Type,\n  Token\n};", "import {\n  alloc,\n  concat,\n  slice\n} from './byte-utils.js';\nconst defaultChunkSize = 256;\nexport class Bl {\n  constructor(chunkSize = defaultChunkSize) {\n    this.chunkSize = chunkSize;\n    this.cursor = 0;\n    this.maxCursor = -1;\n    this.chunks = [];\n    this._initReuseChunk = null;\n  }\n  reset() {\n    this.cursor = 0;\n    this.maxCursor = -1;\n    if (this.chunks.length) {\n      this.chunks = [];\n    }\n    if (this._initReuseChunk !== null) {\n      this.chunks.push(this._initReuseChunk);\n      this.maxCursor = this._initReuseChunk.length - 1;\n    }\n  }\n  push(bytes) {\n    let topChunk = this.chunks[this.chunks.length - 1];\n    const newMax = this.cursor + bytes.length;\n    if (newMax <= this.maxCursor + 1) {\n      const chunkPos = topChunk.length - (this.maxCursor - this.cursor) - 1;\n      topChunk.set(bytes, chunkPos);\n    } else {\n      if (topChunk) {\n        const chunkPos = topChunk.length - (this.maxCursor - this.cursor) - 1;\n        if (chunkPos < topChunk.length) {\n          this.chunks[this.chunks.length - 1] = topChunk.subarray(0, chunkPos);\n          this.maxCursor = this.cursor - 1;\n        }\n      }\n      if (bytes.length < 64 && bytes.length < this.chunkSize) {\n        topChunk = alloc(this.chunkSize);\n        this.chunks.push(topChunk);\n        this.maxCursor += topChunk.length;\n        if (this._initReuseChunk === null) {\n          this._initReuseChunk = topChunk;\n        }\n        topChunk.set(bytes, 0);\n      } else {\n        this.chunks.push(bytes);\n        this.maxCursor += bytes.length;\n      }\n    }\n    this.cursor += bytes.length;\n  }\n  toBytes(reset = false) {\n    let byts;\n    if (this.chunks.length === 1) {\n      const chunk = this.chunks[0];\n      if (reset && this.cursor > chunk.length / 2) {\n        byts = this.cursor === chunk.length ? chunk : chunk.subarray(0, this.cursor);\n        this._initReuseChunk = null;\n        this.chunks = [];\n      } else {\n        byts = slice(chunk, 0, this.cursor);\n      }\n    } else {\n      byts = concat(this.chunks, this.cursor);\n    }\n    if (reset) {\n      this.reset();\n    }\n    return byts;\n  }\n}", "export const useBuffer = globalThis.process && !globalThis.process.browser && globalThis.Buffer && typeof globalThis.Buffer.isBuffer === 'function';\nconst textDecoder = new TextDecoder();\nconst textEncoder = new TextEncoder();\nfunction isBuffer(buf) {\n  return useBuffer && globalThis.Buffer.isBuffer(buf);\n}\nexport function asU8A(buf) {\n  if (!(buf instanceof Uint8Array)) {\n    return Uint8Array.from(buf);\n  }\n  return isBuffer(buf) ? new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength) : buf;\n}\nexport const toString = useBuffer ? (bytes, start, end) => {\n  return end - start > 64 ? globalThis.Buffer.from(bytes.subarray(start, end)).toString('utf8') : utf8Slice(bytes, start, end);\n} : (bytes, start, end) => {\n  return end - start > 64 ? textDecoder.decode(bytes.subarray(start, end)) : utf8Slice(bytes, start, end);\n};\nexport const fromString = useBuffer ? string => {\n  return string.length > 64 ? globalThis.Buffer.from(string) : utf8ToBytes(string);\n} : string => {\n  return string.length > 64 ? textEncoder.encode(string) : utf8ToBytes(string);\n};\nexport const fromArray = arr => {\n  return Uint8Array.from(arr);\n};\nexport const slice = useBuffer ? (bytes, start, end) => {\n  if (isBuffer(bytes)) {\n    return new Uint8Array(bytes.subarray(start, end));\n  }\n  return bytes.slice(start, end);\n} : (bytes, start, end) => {\n  return bytes.slice(start, end);\n};\nexport const concat = useBuffer ? (chunks, length) => {\n  chunks = chunks.map(c => c instanceof Uint8Array ? c : globalThis.Buffer.from(c));\n  return asU8A(globalThis.Buffer.concat(chunks, length));\n} : (chunks, length) => {\n  const out = new Uint8Array(length);\n  let off = 0;\n  for (let b of chunks) {\n    if (off + b.length > out.length) {\n      b = b.subarray(0, out.length - off);\n    }\n    out.set(b, off);\n    off += b.length;\n  }\n  return out;\n};\nexport const alloc = useBuffer ? size => {\n  return globalThis.Buffer.allocUnsafe(size);\n} : size => {\n  return new Uint8Array(size);\n};\nexport const toHex = useBuffer ? d => {\n  if (typeof d === 'string') {\n    return d;\n  }\n  return globalThis.Buffer.from(toBytes(d)).toString('hex');\n} : d => {\n  if (typeof d === 'string') {\n    return d;\n  }\n  return Array.prototype.reduce.call(toBytes(d), (p, c) => `${ p }${ c.toString(16).padStart(2, '0') }`, '');\n};\nexport const fromHex = useBuffer ? hex => {\n  if (hex instanceof Uint8Array) {\n    return hex;\n  }\n  return globalThis.Buffer.from(hex, 'hex');\n} : hex => {\n  if (hex instanceof Uint8Array) {\n    return hex;\n  }\n  if (!hex.length) {\n    return new Uint8Array(0);\n  }\n  return new Uint8Array(hex.split('').map((c, i, d) => i % 2 === 0 ? `0x${ c }${ d[i + 1] }` : '').filter(Boolean).map(e => parseInt(e, 16)));\n};\nfunction toBytes(obj) {\n  if (obj instanceof Uint8Array && obj.constructor.name === 'Uint8Array') {\n    return obj;\n  }\n  if (obj instanceof ArrayBuffer) {\n    return new Uint8Array(obj);\n  }\n  if (ArrayBuffer.isView(obj)) {\n    return new Uint8Array(obj.buffer, obj.byteOffset, obj.byteLength);\n  }\n  throw new Error('Unknown type, must be binary type');\n}\nexport function compare(b1, b2) {\n  if (isBuffer(b1) && isBuffer(b2)) {\n    return b1.compare(b2);\n  }\n  for (let i = 0; i < b1.length; i++) {\n    if (b1[i] === b2[i]) {\n      continue;\n    }\n    return b1[i] < b2[i] ? -1 : 1;\n  }\n  return 0;\n}\nfunction utf8ToBytes(string, units = Infinity) {\n  let codePoint;\n  const length = string.length;\n  let leadSurrogate = null;\n  const bytes = [];\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i);\n    if (codePoint > 55295 && codePoint < 57344) {\n      if (!leadSurrogate) {\n        if (codePoint > 56319) {\n          if ((units -= 3) > -1)\n            bytes.push(239, 191, 189);\n          continue;\n        } else if (i + 1 === length) {\n          if ((units -= 3) > -1)\n            bytes.push(239, 191, 189);\n          continue;\n        }\n        leadSurrogate = codePoint;\n        continue;\n      }\n      if (codePoint < 56320) {\n        if ((units -= 3) > -1)\n          bytes.push(239, 191, 189);\n        leadSurrogate = codePoint;\n        continue;\n      }\n      codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;\n    } else if (leadSurrogate) {\n      if ((units -= 3) > -1)\n        bytes.push(239, 191, 189);\n    }\n    leadSurrogate = null;\n    if (codePoint < 128) {\n      if ((units -= 1) < 0)\n        break;\n      bytes.push(codePoint);\n    } else if (codePoint < 2048) {\n      if ((units -= 2) < 0)\n        break;\n      bytes.push(codePoint >> 6 | 192, codePoint & 63 | 128);\n    } else if (codePoint < 65536) {\n      if ((units -= 3) < 0)\n        break;\n      bytes.push(codePoint >> 12 | 224, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);\n    } else if (codePoint < 1114112) {\n      if ((units -= 4) < 0)\n        break;\n      bytes.push(codePoint >> 18 | 240, codePoint >> 12 & 63 | 128, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n  return bytes;\n}\nfunction utf8Slice(buf, offset, end) {\n  const res = [];\n  while (offset < end) {\n    const firstByte = buf[offset];\n    let codePoint = null;\n    let bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;\n    if (offset + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint;\n      switch (bytesPerSequence) {\n      case 1:\n        if (firstByte < 128) {\n          codePoint = firstByte;\n        }\n        break;\n      case 2:\n        secondByte = buf[offset + 1];\n        if ((secondByte & 192) === 128) {\n          tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;\n          if (tempCodePoint > 127) {\n            codePoint = tempCodePoint;\n          }\n        }\n        break;\n      case 3:\n        secondByte = buf[offset + 1];\n        thirdByte = buf[offset + 2];\n        if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {\n          tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;\n          if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {\n            codePoint = tempCodePoint;\n          }\n        }\n        break;\n      case 4:\n        secondByte = buf[offset + 1];\n        thirdByte = buf[offset + 2];\n        fourthByte = buf[offset + 3];\n        if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {\n          tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;\n          if (tempCodePoint > 65535 && tempCodePoint < 1114112) {\n            codePoint = tempCodePoint;\n          }\n        }\n      }\n    }\n    if (codePoint === null) {\n      codePoint = 65533;\n      bytesPerSequence = 1;\n    } else if (codePoint > 65535) {\n      codePoint -= 65536;\n      res.push(codePoint >>> 10 & 1023 | 55296);\n      codePoint = 56320 | codePoint & 1023;\n    }\n    res.push(codePoint);\n    offset += bytesPerSequence;\n  }\n  return decodeCodePointsArray(res);\n}\nconst MAX_ARGUMENTS_LENGTH = 4096;\nexport function decodeCodePointsArray(codePoints) {\n  const len = codePoints.length;\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints);\n  }\n  let res = '';\n  let i = 0;\n  while (i < len) {\n    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n  }\n  return res;\n}", "const decodeErrPrefix = 'CBOR decode error:';\nconst encodeErrPrefix = 'CBOR encode error:';\nconst uintMinorPrefixBytes = [];\nuintMinorPrefixBytes[23] = 1;\nuintMinorPrefixBytes[24] = 2;\nuintMinorPrefixBytes[25] = 3;\nuintMinorPrefixBytes[26] = 5;\nuintMinorPrefixBytes[27] = 9;\nfunction assertEnoughData(data, pos, need) {\n  if (data.length - pos < need) {\n    throw new Error(`${ decodeErrPrefix } not enough data for type`);\n  }\n}\nexport {\n  decodeErrPrefix,\n  encodeErrPrefix,\n  uintMinorPrefixBytes,\n  assertEnoughData\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport * as negint from './1negint.js';\nimport * as bytes from './2bytes.js';\nimport * as string from './3string.js';\nimport * as array from './4array.js';\nimport * as map from './5map.js';\nimport * as tag from './6tag.js';\nimport * as float from './7float.js';\nimport { decodeErrPrefix } from './common.js';\nimport { fromArray } from './byte-utils.js';\nfunction invalidMinor(data, pos, minor) {\n  throw new Error(`${ decodeErrPrefix } encountered invalid minor (${ minor }) for major ${ data[pos] >>> 5 }`);\n}\nfunction errorer(msg) {\n  return () => {\n    throw new Error(`${ decodeErrPrefix } ${ msg }`);\n  };\n}\nexport const jump = [];\nfor (let i = 0; i <= 23; i++) {\n  jump[i] = invalidMinor;\n}\njump[24] = uint.decodeUint8;\njump[25] = uint.decodeUint16;\njump[26] = uint.decodeUint32;\njump[27] = uint.decodeUint64;\njump[28] = invalidMinor;\njump[29] = invalidMinor;\njump[30] = invalidMinor;\njump[31] = invalidMinor;\nfor (let i = 32; i <= 55; i++) {\n  jump[i] = invalidMinor;\n}\njump[56] = negint.decodeNegint8;\njump[57] = negint.decodeNegint16;\njump[58] = negint.decodeNegint32;\njump[59] = negint.decodeNegint64;\njump[60] = invalidMinor;\njump[61] = invalidMinor;\njump[62] = invalidMinor;\njump[63] = invalidMinor;\nfor (let i = 64; i <= 87; i++) {\n  jump[i] = bytes.decodeBytesCompact;\n}\njump[88] = bytes.decodeBytes8;\njump[89] = bytes.decodeBytes16;\njump[90] = bytes.decodeBytes32;\njump[91] = bytes.decodeBytes64;\njump[92] = invalidMinor;\njump[93] = invalidMinor;\njump[94] = invalidMinor;\njump[95] = errorer('indefinite length bytes/strings are not supported');\nfor (let i = 96; i <= 119; i++) {\n  jump[i] = string.decodeStringCompact;\n}\njump[120] = string.decodeString8;\njump[121] = string.decodeString16;\njump[122] = string.decodeString32;\njump[123] = string.decodeString64;\njump[124] = invalidMinor;\njump[125] = invalidMinor;\njump[126] = invalidMinor;\njump[127] = errorer('indefinite length bytes/strings are not supported');\nfor (let i = 128; i <= 151; i++) {\n  jump[i] = array.decodeArrayCompact;\n}\njump[152] = array.decodeArray8;\njump[153] = array.decodeArray16;\njump[154] = array.decodeArray32;\njump[155] = array.decodeArray64;\njump[156] = invalidMinor;\njump[157] = invalidMinor;\njump[158] = invalidMinor;\njump[159] = array.decodeArrayIndefinite;\nfor (let i = 160; i <= 183; i++) {\n  jump[i] = map.decodeMapCompact;\n}\njump[184] = map.decodeMap8;\njump[185] = map.decodeMap16;\njump[186] = map.decodeMap32;\njump[187] = map.decodeMap64;\njump[188] = invalidMinor;\njump[189] = invalidMinor;\njump[190] = invalidMinor;\njump[191] = map.decodeMapIndefinite;\nfor (let i = 192; i <= 215; i++) {\n  jump[i] = tag.decodeTagCompact;\n}\njump[216] = tag.decodeTag8;\njump[217] = tag.decodeTag16;\njump[218] = tag.decodeTag32;\njump[219] = tag.decodeTag64;\njump[220] = invalidMinor;\njump[221] = invalidMinor;\njump[222] = invalidMinor;\njump[223] = invalidMinor;\nfor (let i = 224; i <= 243; i++) {\n  jump[i] = errorer('simple values are not supported');\n}\njump[244] = invalidMinor;\njump[245] = invalidMinor;\njump[246] = invalidMinor;\njump[247] = float.decodeUndefined;\njump[248] = errorer('simple values are not supported');\njump[249] = float.decodeFloat16;\njump[250] = float.decodeFloat32;\njump[251] = float.decodeFloat64;\njump[252] = invalidMinor;\njump[253] = invalidMinor;\njump[254] = invalidMinor;\njump[255] = float.decodeBreak;\nexport const quick = [];\nfor (let i = 0; i < 24; i++) {\n  quick[i] = new Token(Type.uint, i, 1);\n}\nfor (let i = -1; i >= -24; i--) {\n  quick[31 - i] = new Token(Type.negint, i, 1);\n}\nquick[64] = new Token(Type.bytes, new Uint8Array(0), 1);\nquick[96] = new Token(Type.string, '', 1);\nquick[128] = new Token(Type.array, 0, 1);\nquick[160] = new Token(Type.map, 0, 1);\nquick[244] = new Token(Type.false, false, 1);\nquick[245] = new Token(Type.true, true, 1);\nquick[246] = new Token(Type.null, null, 1);\nexport function quickEncodeToken(token) {\n  switch (token.type) {\n  case Type.false:\n    return fromArray([244]);\n  case Type.true:\n    return fromArray([245]);\n  case Type.null:\n    return fromArray([246]);\n  case Type.bytes:\n    if (!token.value.length) {\n      return fromArray([64]);\n    }\n    return;\n  case Type.string:\n    if (token.value === '') {\n      return fromArray([96]);\n    }\n    return;\n  case Type.array:\n    if (token.value === 0) {\n      return fromArray([128]);\n    }\n    return;\n  case Type.map:\n    if (token.value === 0) {\n      return fromArray([160]);\n    }\n    return;\n  case Type.uint:\n    if (token.value < 24) {\n      return fromArray([Number(token.value)]);\n    }\n    return;\n  case Type.negint:\n    if (token.value >= -24) {\n      return fromArray([31 - Number(token.value)]);\n    }\n  }\n}", "import {\n  Token,\n  Type\n} from './token.js';\nimport {\n  decodeErrPrefix,\n  assertEnoughData\n} from './common.js';\nexport const uintBoundaries = [\n  24,\n  256,\n  65536,\n  4294967296,\n  BigInt('18446744073709551616')\n];\nexport function readUint8(data, offset, options) {\n  assertEnoughData(data, offset, 1);\n  const value = data[offset];\n  if (options.strict === true && value < uintBoundaries[0]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  return value;\n}\nexport function readUint16(data, offset, options) {\n  assertEnoughData(data, offset, 2);\n  const value = data[offset] << 8 | data[offset + 1];\n  if (options.strict === true && value < uintBoundaries[1]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  return value;\n}\nexport function readUint32(data, offset, options) {\n  assertEnoughData(data, offset, 4);\n  const value = data[offset] * 16777216 + (data[offset + 1] << 16) + (data[offset + 2] << 8) + data[offset + 3];\n  if (options.strict === true && value < uintBoundaries[2]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  return value;\n}\nexport function readUint64(data, offset, options) {\n  assertEnoughData(data, offset, 8);\n  const hi = data[offset] * 16777216 + (data[offset + 1] << 16) + (data[offset + 2] << 8) + data[offset + 3];\n  const lo = data[offset + 4] * 16777216 + (data[offset + 5] << 16) + (data[offset + 6] << 8) + data[offset + 7];\n  const value = (BigInt(hi) << BigInt(32)) + BigInt(lo);\n  if (options.strict === true && value < uintBoundaries[3]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  if (value <= Number.MAX_SAFE_INTEGER) {\n    return Number(value);\n  }\n  if (options.allowBigInt === true) {\n    return value;\n  }\n  throw new Error(`${ decodeErrPrefix } integers outside of the safe integer range are not supported`);\n}\nexport function decodeUint8(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint8(data, pos + 1, options), 2);\n}\nexport function decodeUint16(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint16(data, pos + 1, options), 3);\n}\nexport function decodeUint32(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint32(data, pos + 1, options), 5);\n}\nexport function decodeUint64(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint64(data, pos + 1, options), 9);\n}\nexport function encodeUint(buf, token) {\n  return encodeUintValue(buf, 0, token.value);\n}\nexport function encodeUintValue(buf, major, uint) {\n  if (uint < uintBoundaries[0]) {\n    const nuint = Number(uint);\n    buf.push([major | nuint]);\n  } else if (uint < uintBoundaries[1]) {\n    const nuint = Number(uint);\n    buf.push([\n      major | 24,\n      nuint\n    ]);\n  } else if (uint < uintBoundaries[2]) {\n    const nuint = Number(uint);\n    buf.push([\n      major | 25,\n      nuint >>> 8,\n      nuint & 255\n    ]);\n  } else if (uint < uintBoundaries[3]) {\n    const nuint = Number(uint);\n    buf.push([\n      major | 26,\n      nuint >>> 24 & 255,\n      nuint >>> 16 & 255,\n      nuint >>> 8 & 255,\n      nuint & 255\n    ]);\n  } else {\n    const buint = BigInt(uint);\n    if (buint < uintBoundaries[4]) {\n      const set = [\n        major | 27,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0\n      ];\n      let lo = Number(buint & BigInt(4294967295));\n      let hi = Number(buint >> BigInt(32) & BigInt(4294967295));\n      set[8] = lo & 255;\n      lo = lo >> 8;\n      set[7] = lo & 255;\n      lo = lo >> 8;\n      set[6] = lo & 255;\n      lo = lo >> 8;\n      set[5] = lo & 255;\n      set[4] = hi & 255;\n      hi = hi >> 8;\n      set[3] = hi & 255;\n      hi = hi >> 8;\n      set[2] = hi & 255;\n      hi = hi >> 8;\n      set[1] = hi & 255;\n      buf.push(set);\n    } else {\n      throw new Error(`${ decodeErrPrefix } encountered BigInt larger than allowable range`);\n    }\n  }\n}\nencodeUint.encodedSize = function encodedSize(token) {\n  return encodeUintValue.encodedSize(token.value);\n};\nencodeUintValue.encodedSize = function encodedSize(uint) {\n  if (uint < uintBoundaries[0]) {\n    return 1;\n  }\n  if (uint < uintBoundaries[1]) {\n    return 2;\n  }\n  if (uint < uintBoundaries[2]) {\n    return 3;\n  }\n  if (uint < uintBoundaries[3]) {\n    return 5;\n  }\n  return 9;\n};\nencodeUint.compareTokens = function compareTokens(tok1, tok2) {\n  return tok1.value < tok2.value ? -1 : tok1.value > tok2.value ? 1 : 0;\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport { decodeErrPrefix } from './common.js';\nexport function decodeNegint8(data, pos, _minor, options) {\n  return new Token(Type.negint, -1 - uint.readUint8(data, pos + 1, options), 2);\n}\nexport function decodeNegint16(data, pos, _minor, options) {\n  return new Token(Type.negint, -1 - uint.readUint16(data, pos + 1, options), 3);\n}\nexport function decodeNegint32(data, pos, _minor, options) {\n  return new Token(Type.negint, -1 - uint.readUint32(data, pos + 1, options), 5);\n}\nconst neg1b = BigInt(-1);\nconst pos1b = BigInt(1);\nexport function decodeNegint64(data, pos, _minor, options) {\n  const int = uint.readUint64(data, pos + 1, options);\n  if (typeof int !== 'bigint') {\n    const value = -1 - int;\n    if (value >= Number.MIN_SAFE_INTEGER) {\n      return new Token(Type.negint, value, 9);\n    }\n  }\n  if (options.allowBigInt !== true) {\n    throw new Error(`${ decodeErrPrefix } integers outside of the safe integer range are not supported`);\n  }\n  return new Token(Type.negint, neg1b - BigInt(int), 9);\n}\nexport function encodeNegint(buf, token) {\n  const negint = token.value;\n  const unsigned = typeof negint === 'bigint' ? negint * neg1b - pos1b : negint * -1 - 1;\n  uint.encodeUintValue(buf, token.type.majorEncoded, unsigned);\n}\nencodeNegint.encodedSize = function encodedSize(token) {\n  const negint = token.value;\n  const unsigned = typeof negint === 'bigint' ? negint * neg1b - pos1b : negint * -1 - 1;\n  if (unsigned < uint.uintBoundaries[0]) {\n    return 1;\n  }\n  if (unsigned < uint.uintBoundaries[1]) {\n    return 2;\n  }\n  if (unsigned < uint.uintBoundaries[2]) {\n    return 3;\n  }\n  if (unsigned < uint.uintBoundaries[3]) {\n    return 5;\n  }\n  return 9;\n};\nencodeNegint.compareTokens = function compareTokens(tok1, tok2) {\n  return tok1.value < tok2.value ? 1 : tok1.value > tok2.value ? -1 : 0;\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport {\n  assertEnoughData,\n  decodeErrPrefix\n} from './common.js';\nimport * as uint from './0uint.js';\nimport {\n  compare,\n  fromString,\n  slice\n} from './byte-utils.js';\nfunction toToken(data, pos, prefix, length) {\n  assertEnoughData(data, pos, prefix + length);\n  const buf = slice(data, pos + prefix, pos + prefix + length);\n  return new Token(Type.bytes, buf, prefix + length);\n}\nexport function decodeBytesCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\nexport function decodeBytes8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options));\n}\nexport function decodeBytes16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options));\n}\nexport function decodeBytes32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options));\n}\nexport function decodeBytes64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer bytes lengths not supported`);\n  }\n  return toToken(data, pos, 9, l);\n}\nfunction tokenBytes(token) {\n  if (token.encodedBytes === undefined) {\n    token.encodedBytes = token.type === Type.string ? fromString(token.value) : token.value;\n  }\n  return token.encodedBytes;\n}\nexport function encodeBytes(buf, token) {\n  const bytes = tokenBytes(token);\n  uint.encodeUintValue(buf, token.type.majorEncoded, bytes.length);\n  buf.push(bytes);\n}\nencodeBytes.encodedSize = function encodedSize(token) {\n  const bytes = tokenBytes(token);\n  return uint.encodeUintValue.encodedSize(bytes.length) + bytes.length;\n};\nencodeBytes.compareTokens = function compareTokens(tok1, tok2) {\n  return compareBytes(tokenBytes(tok1), tokenBytes(tok2));\n};\nexport function compareBytes(b1, b2) {\n  return b1.length < b2.length ? -1 : b1.length > b2.length ? 1 : compare(b1, b2);\n}", "import {\n  Token,\n  Type\n} from './token.js';\nimport {\n  assertEnoughData,\n  decodeErrPrefix\n} from './common.js';\nimport * as uint from './0uint.js';\nimport { encodeBytes } from './2bytes.js';\nimport {\n  toString,\n  slice\n} from './byte-utils.js';\nfunction toToken(data, pos, prefix, length, options) {\n  const totLength = prefix + length;\n  assertEnoughData(data, pos, totLength);\n  const tok = new Token(Type.string, toString(data, pos + prefix, pos + totLength), totLength);\n  if (options.retainStringBytes === true) {\n    tok.byteValue = slice(data, pos + prefix, pos + totLength);\n  }\n  return tok;\n}\nexport function decodeStringCompact(data, pos, minor, options) {\n  return toToken(data, pos, 1, minor, options);\n}\nexport function decodeString8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options), options);\n}\nexport function decodeString16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options), options);\n}\nexport function decodeString32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options), options);\n}\nexport function decodeString64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer string lengths not supported`);\n  }\n  return toToken(data, pos, 9, l, options);\n}\nexport const encodeString = encodeBytes;", "import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport { decodeErrPrefix } from './common.js';\nfunction toToken(_data, _pos, prefix, length) {\n  return new Token(Type.array, length, prefix);\n}\nexport function decodeArrayCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\nexport function decodeArray8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options));\n}\nexport function decodeArray16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options));\n}\nexport function decodeArray32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options));\n}\nexport function decodeArray64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer array lengths not supported`);\n  }\n  return toToken(data, pos, 9, l);\n}\nexport function decodeArrayIndefinite(data, pos, _minor, options) {\n  if (options.allowIndefinite === false) {\n    throw new Error(`${ decodeErrPrefix } indefinite length items not allowed`);\n  }\n  return toToken(data, pos, 1, Infinity);\n}\nexport function encodeArray(buf, token) {\n  uint.encodeUintValue(buf, Type.array.majorEncoded, token.value);\n}\nencodeArray.compareTokens = uint.encodeUint.compareTokens;\nencodeArray.encodedSize = function encodedSize(token) {\n  return uint.encodeUintValue.encodedSize(token.value);\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport { decodeErrPrefix } from './common.js';\nfunction toToken(_data, _pos, prefix, length) {\n  return new Token(Type.map, length, prefix);\n}\nexport function decodeMapCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\nexport function decodeMap8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options));\n}\nexport function decodeMap16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options));\n}\nexport function decodeMap32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options));\n}\nexport function decodeMap64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer map lengths not supported`);\n  }\n  return toToken(data, pos, 9, l);\n}\nexport function decodeMapIndefinite(data, pos, _minor, options) {\n  if (options.allowIndefinite === false) {\n    throw new Error(`${ decodeErrPrefix } indefinite length items not allowed`);\n  }\n  return toToken(data, pos, 1, Infinity);\n}\nexport function encodeMap(buf, token) {\n  uint.encodeUintValue(buf, Type.map.majorEncoded, token.value);\n}\nencodeMap.compareTokens = uint.encodeUint.compareTokens;\nencodeMap.encodedSize = function encodedSize(token) {\n  return uint.encodeUintValue.encodedSize(token.value);\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nexport function decodeTagCompact(_data, _pos, minor, _options) {\n  return new Token(Type.tag, minor, 1);\n}\nexport function decodeTag8(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint8(data, pos + 1, options), 2);\n}\nexport function decodeTag16(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint16(data, pos + 1, options), 3);\n}\nexport function decodeTag32(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint32(data, pos + 1, options), 5);\n}\nexport function decodeTag64(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint64(data, pos + 1, options), 9);\n}\nexport function encodeTag(buf, token) {\n  uint.encodeUintValue(buf, Type.tag.majorEncoded, token.value);\n}\nencodeTag.compareTokens = uint.encodeUint.compareTokens;\nencodeTag.encodedSize = function encodedSize(token) {\n  return uint.encodeUintValue.encodedSize(token.value);\n};", "import {\n  Token,\n  Type\n} from './token.js';\nimport { decodeErrPrefix } from './common.js';\nimport { encodeUint } from './0uint.js';\nconst MINOR_FALSE = 20;\nconst MINOR_TRUE = 21;\nconst MINOR_NULL = 22;\nconst MINOR_UNDEFINED = 23;\nexport function decodeUndefined(_data, _pos, _minor, options) {\n  if (options.allowUndefined === false) {\n    throw new Error(`${ decodeErrPrefix } undefined values are not supported`);\n  } else if (options.coerceUndefinedToNull === true) {\n    return new Token(Type.null, null, 1);\n  }\n  return new Token(Type.undefined, undefined, 1);\n}\nexport function decodeBreak(_data, _pos, _minor, options) {\n  if (options.allowIndefinite === false) {\n    throw new Error(`${ decodeErrPrefix } indefinite length items not allowed`);\n  }\n  return new Token(Type.break, undefined, 1);\n}\nfunction createToken(value, bytes, options) {\n  if (options) {\n    if (options.allowNaN === false && Number.isNaN(value)) {\n      throw new Error(`${ decodeErrPrefix } NaN values are not supported`);\n    }\n    if (options.allowInfinity === false && (value === Infinity || value === -Infinity)) {\n      throw new Error(`${ decodeErrPrefix } Infinity values are not supported`);\n    }\n  }\n  return new Token(Type.float, value, bytes);\n}\nexport function decodeFloat16(data, pos, _minor, options) {\n  return createToken(readFloat16(data, pos + 1), 3, options);\n}\nexport function decodeFloat32(data, pos, _minor, options) {\n  return createToken(readFloat32(data, pos + 1), 5, options);\n}\nexport function decodeFloat64(data, pos, _minor, options) {\n  return createToken(readFloat64(data, pos + 1), 9, options);\n}\nexport function encodeFloat(buf, token, options) {\n  const float = token.value;\n  if (float === false) {\n    buf.push([Type.float.majorEncoded | MINOR_FALSE]);\n  } else if (float === true) {\n    buf.push([Type.float.majorEncoded | MINOR_TRUE]);\n  } else if (float === null) {\n    buf.push([Type.float.majorEncoded | MINOR_NULL]);\n  } else if (float === undefined) {\n    buf.push([Type.float.majorEncoded | MINOR_UNDEFINED]);\n  } else {\n    let decoded;\n    let success = false;\n    if (!options || options.float64 !== true) {\n      encodeFloat16(float);\n      decoded = readFloat16(ui8a, 1);\n      if (float === decoded || Number.isNaN(float)) {\n        ui8a[0] = 249;\n        buf.push(ui8a.slice(0, 3));\n        success = true;\n      } else {\n        encodeFloat32(float);\n        decoded = readFloat32(ui8a, 1);\n        if (float === decoded) {\n          ui8a[0] = 250;\n          buf.push(ui8a.slice(0, 5));\n          success = true;\n        }\n      }\n    }\n    if (!success) {\n      encodeFloat64(float);\n      decoded = readFloat64(ui8a, 1);\n      ui8a[0] = 251;\n      buf.push(ui8a.slice(0, 9));\n    }\n  }\n}\nencodeFloat.encodedSize = function encodedSize(token, options) {\n  const float = token.value;\n  if (float === false || float === true || float === null || float === undefined) {\n    return 1;\n  }\n  if (!options || options.float64 !== true) {\n    encodeFloat16(float);\n    let decoded = readFloat16(ui8a, 1);\n    if (float === decoded || Number.isNaN(float)) {\n      return 3;\n    }\n    encodeFloat32(float);\n    decoded = readFloat32(ui8a, 1);\n    if (float === decoded) {\n      return 5;\n    }\n  }\n  return 9;\n};\nconst buffer = new ArrayBuffer(9);\nconst dataView = new DataView(buffer, 1);\nconst ui8a = new Uint8Array(buffer, 0);\nfunction encodeFloat16(inp) {\n  if (inp === Infinity) {\n    dataView.setUint16(0, 31744, false);\n  } else if (inp === -Infinity) {\n    dataView.setUint16(0, 64512, false);\n  } else if (Number.isNaN(inp)) {\n    dataView.setUint16(0, 32256, false);\n  } else {\n    dataView.setFloat32(0, inp);\n    const valu32 = dataView.getUint32(0);\n    const exponent = (valu32 & 2139095040) >> 23;\n    const mantissa = valu32 & 8388607;\n    if (exponent === 255) {\n      dataView.setUint16(0, 31744, false);\n    } else if (exponent === 0) {\n      dataView.setUint16(0, (inp & 2147483648) >> 16 | mantissa >> 13, false);\n    } else {\n      const logicalExponent = exponent - 127;\n      if (logicalExponent < -24) {\n        dataView.setUint16(0, 0);\n      } else if (logicalExponent < -14) {\n        dataView.setUint16(0, (valu32 & 2147483648) >> 16 | 1 << 24 + logicalExponent, false);\n      } else {\n        dataView.setUint16(0, (valu32 & 2147483648) >> 16 | logicalExponent + 15 << 10 | mantissa >> 13, false);\n      }\n    }\n  }\n}\nfunction readFloat16(ui8a, pos) {\n  if (ui8a.length - pos < 2) {\n    throw new Error(`${ decodeErrPrefix } not enough data for float16`);\n  }\n  const half = (ui8a[pos] << 8) + ui8a[pos + 1];\n  if (half === 31744) {\n    return Infinity;\n  }\n  if (half === 64512) {\n    return -Infinity;\n  }\n  if (half === 32256) {\n    return NaN;\n  }\n  const exp = half >> 10 & 31;\n  const mant = half & 1023;\n  let val;\n  if (exp === 0) {\n    val = mant * 2 ** -24;\n  } else if (exp !== 31) {\n    val = (mant + 1024) * 2 ** (exp - 25);\n  } else {\n    val = mant === 0 ? Infinity : NaN;\n  }\n  return half & 32768 ? -val : val;\n}\nfunction encodeFloat32(inp) {\n  dataView.setFloat32(0, inp, false);\n}\nfunction readFloat32(ui8a, pos) {\n  if (ui8a.length - pos < 4) {\n    throw new Error(`${ decodeErrPrefix } not enough data for float32`);\n  }\n  const offset = (ui8a.byteOffset || 0) + pos;\n  return new DataView(ui8a.buffer, offset, 4).getFloat32(0, false);\n}\nfunction encodeFloat64(inp) {\n  dataView.setFloat64(0, inp, false);\n}\nfunction readFloat64(ui8a, pos) {\n  if (ui8a.length - pos < 8) {\n    throw new Error(`${ decodeErrPrefix } not enough data for float64`);\n  }\n  const offset = (ui8a.byteOffset || 0) + pos;\n  return new DataView(ui8a.buffer, offset, 8).getFloat64(0, false);\n}\nencodeFloat.compareTokens = encodeUint.compareTokens;", "import { decodeErrPrefix } from './common.js';\nimport { Type } from './token.js';\nimport {\n  jump,\n  quick\n} from './jump.js';\nconst defaultDecodeOptions = {\n  strict: false,\n  allowIndefinite: true,\n  allowUndefined: true,\n  allowBigInt: true\n};\nclass Tokeniser {\n  constructor(data, options = {}) {\n    this.pos = 0;\n    this.data = data;\n    this.options = options;\n  }\n  done() {\n    return this.pos >= this.data.length;\n  }\n  next() {\n    const byt = this.data[this.pos];\n    let token = quick[byt];\n    if (token === undefined) {\n      const decoder = jump[byt];\n      if (!decoder) {\n        throw new Error(`${ decodeErrPrefix } no decoder for major type ${ byt >>> 5 } (byte 0x${ byt.toString(16).padStart(2, '0') })`);\n      }\n      const minor = byt & 31;\n      token = decoder(this.data, this.pos, minor, this.options);\n    }\n    this.pos += token.encodedLength;\n    return token;\n  }\n}\nconst DONE = Symbol.for('DONE');\nconst BREAK = Symbol.for('BREAK');\nfunction tokenToArray(token, tokeniser, options) {\n  const arr = [];\n  for (let i = 0; i < token.value; i++) {\n    const value = tokensToObject(tokeniser, options);\n    if (value === BREAK) {\n      if (token.value === Infinity) {\n        break;\n      }\n      throw new Error(`${ decodeErrPrefix } got unexpected break to lengthed array`);\n    }\n    if (value === DONE) {\n      throw new Error(`${ decodeErrPrefix } found array but not enough entries (got ${ i }, expected ${ token.value })`);\n    }\n    arr[i] = value;\n  }\n  return arr;\n}\nfunction tokenToMap(token, tokeniser, options) {\n  const useMaps = options.useMaps === true;\n  const obj = useMaps ? undefined : {};\n  const m = useMaps ? new Map() : undefined;\n  for (let i = 0; i < token.value; i++) {\n    const key = tokensToObject(tokeniser, options);\n    if (key === BREAK) {\n      if (token.value === Infinity) {\n        break;\n      }\n      throw new Error(`${ decodeErrPrefix } got unexpected break to lengthed map`);\n    }\n    if (key === DONE) {\n      throw new Error(`${ decodeErrPrefix } found map but not enough entries (got ${ i } [no key], expected ${ token.value })`);\n    }\n    if (useMaps !== true && typeof key !== 'string') {\n      throw new Error(`${ decodeErrPrefix } non-string keys not supported (got ${ typeof key })`);\n    }\n    const value = tokensToObject(tokeniser, options);\n    if (value === DONE) {\n      throw new Error(`${ decodeErrPrefix } found map but not enough entries (got ${ i } [no value], expected ${ token.value })`);\n    }\n    if (useMaps) {\n      m.set(key, value);\n    } else {\n      obj[key] = value;\n    }\n  }\n  return useMaps ? m : obj;\n}\nfunction tokensToObject(tokeniser, options) {\n  if (tokeniser.done()) {\n    return DONE;\n  }\n  const token = tokeniser.next();\n  if (token.type === Type.break) {\n    return BREAK;\n  }\n  if (token.type.terminal) {\n    return token.value;\n  }\n  if (token.type === Type.array) {\n    return tokenToArray(token, tokeniser, options);\n  }\n  if (token.type === Type.map) {\n    return tokenToMap(token, tokeniser, options);\n  }\n  if (token.type === Type.tag) {\n    if (options.tags && typeof options.tags[token.value] === 'function') {\n      const tagged = tokensToObject(tokeniser, options);\n      return options.tags[token.value](tagged);\n    }\n    throw new Error(`${ decodeErrPrefix } tag not supported (${ token.value })`);\n  }\n  throw new Error('unsupported');\n}\nfunction decode(data, options) {\n  if (!(data instanceof Uint8Array)) {\n    throw new Error(`${ decodeErrPrefix } data to decode must be a Uint8Array`);\n  }\n  options = Object.assign({}, defaultDecodeOptions, options);\n  const tokeniser = options.tokenizer || new Tokeniser(data, options);\n  const decoded = tokensToObject(tokeniser, options);\n  if (decoded === DONE) {\n    throw new Error(`${ decodeErrPrefix } did not find any content to decode`);\n  }\n  if (decoded === BREAK) {\n    throw new Error(`${ decodeErrPrefix } got unexpected break`);\n  }\n  if (!tokeniser.done()) {\n    throw new Error(`${ decodeErrPrefix } too many terminals, data makes no sense`);\n  }\n  return decoded;\n}\nexport {\n  Tokeniser,\n  tokensToObject,\n  decode\n};", "import {\n  makeCborEncoders,\n  objectToTokens\n} from './encode.js';\nimport { quickEncodeToken } from './jump.js';\nconst cborEncoders = makeCborEncoders();\nconst defaultEncodeOptions = {\n  float64: false,\n  quickEncodeToken\n};\nexport function encodedLength(data, options) {\n  options = Object.assign({}, defaultEncodeOptions, options);\n  options.mapSorter = undefined;\n  const tokens = objectToTokens(data, options);\n  return tokensToLength(tokens, cborEncoders, options);\n}\nexport function tokensToLength(tokens, encoders = cborEncoders, options = defaultEncodeOptions) {\n  if (Array.isArray(tokens)) {\n    let len = 0;\n    for (const token of tokens) {\n      len += tokensToLength(token, encoders, options);\n    }\n    return len;\n  } else {\n    const encoder = encoders[tokens.type.major];\n    if (encoder.encodedSize === undefined || typeof encoder.encodedSize !== 'function') {\n      throw new Error(`Encoder for ${ tokens.type.name } does not have an encodedSize()`);\n    }\n    return encoder.encodedSize(tokens, options);\n  }\n}", "import * as cborg from 'cborg';\nimport { CID } from 'multiformats/cid';\nconst CID_CBOR_TAG = 42;\nfunction cidEncoder(obj) {\n  if (obj.asCID !== obj) {\n    return null;\n  }\n  const cid = CID.asCID(obj);\n  if (!cid) {\n    return null;\n  }\n  const bytes = new Uint8Array(cid.bytes.byteLength + 1);\n  bytes.set(cid.bytes, 1);\n  return [\n    new cborg.Token(cborg.Type.tag, CID_CBOR_TAG),\n    new cborg.Token(cborg.Type.bytes, bytes)\n  ];\n}\nfunction undefinedEncoder() {\n  throw new Error('`undefined` is not supported by the IPLD Data Model and cannot be encoded');\n}\nfunction numberEncoder(num) {\n  if (Number.isNaN(num)) {\n    throw new Error('`NaN` is not supported by the IPLD Data Model and cannot be encoded');\n  }\n  if (num === Infinity || num === -Infinity) {\n    throw new Error('`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded');\n  }\n  return null;\n}\nconst encodeOptions = {\n  float64: true,\n  typeEncoders: {\n    Object: cidEncoder,\n    undefined: undefinedEncoder,\n    number: numberEncoder\n  }\n};\nfunction cidDecoder(bytes) {\n  if (bytes[0] !== 0) {\n    throw new Error('Invalid CID for CBOR tag 42; expected leading 0x00');\n  }\n  return CID.decode(bytes.subarray(1));\n}\nconst decodeOptions = {\n  allowIndefinite: false,\n  coerceUndefinedToNull: true,\n  allowNaN: false,\n  allowInfinity: false,\n  allowBigInt: true,\n  strict: true,\n  useMaps: false,\n  tags: []\n};\ndecodeOptions.tags[CID_CBOR_TAG] = cidDecoder;\nexport const name = 'dag-cbor';\nexport const code = 113;\nexport const encode = node => cborg.encode(node, encodeOptions);\nexport const decode = data => cborg.decode(data, decodeOptions);", "import { CarReader } from './lib/reader-browser.js';\nimport { CarIndexer } from './lib/indexer.js';\nimport {\n  CarBlockIterator,\n  CarCIDIterator\n} from './lib/iterator.js';\nimport { CarWriter } from './lib/writer-browser.js';\nimport { CarIndexedReader } from './lib/indexed-reader-browser.js';\nexport {\n  CarReader,\n  CarIndexer,\n  CarBlockIterator,\n  CarCIDIterator,\n  CarWriter,\n  CarIndexedReader\n};", "import {\n  asyncIterableReader,\n  bytesReader,\n  createDecoder\n} from './decoder.js';\nexport class CarReader {\n  constructor(header, blocks) {\n    this._header = header;\n    this._blocks = blocks;\n    this._keys = blocks.map(b => b.cid.toString());\n  }\n  get version() {\n    return this._header.version;\n  }\n  async getRoots() {\n    return this._header.roots;\n  }\n  async has(key) {\n    return this._keys.indexOf(key.toString()) > -1;\n  }\n  async get(key) {\n    const index = this._keys.indexOf(key.toString());\n    return index > -1 ? this._blocks[index] : undefined;\n  }\n  async *blocks() {\n    for (const block of this._blocks) {\n      yield block;\n    }\n  }\n  async *cids() {\n    for (const block of this._blocks) {\n      yield block.cid;\n    }\n  }\n  static async fromBytes(bytes) {\n    if (!(bytes instanceof Uint8Array)) {\n      throw new TypeError('fromBytes() requires a Uint8Array');\n    }\n    return decodeReaderComplete(bytesReader(bytes));\n  }\n  static async fromIterable(asyncIterable) {\n    if (!asyncIterable || !(typeof asyncIterable[Symbol.asyncIterator] === 'function')) {\n      throw new TypeError('fromIterable() requires an async iterable');\n    }\n    return decodeReaderComplete(asyncIterableReader(asyncIterable));\n  }\n}\nexport async function decodeReaderComplete(reader) {\n  const decoder = createDecoder(reader);\n  const header = await decoder.header();\n  const blocks = [];\n  for await (const block of decoder.blocks()) {\n    blocks.push(block);\n  }\n  return new CarReader(header, blocks);\n}\nexport const __browser = true;", "import varint from 'varint';\nimport { CID } from 'multiformats/cid';\nimport * as Digest from 'multiformats/hashes/digest';\nimport { decode as decodeDagCbor } from '@ipld/dag-cbor';\nimport { CarHeader as headerValidator } from './header-validator.js';\nconst CIDV0_BYTES = {\n  SHA2_256: 18,\n  LENGTH: 32,\n  DAG_PB: 112\n};\nconst V2_HEADER_LENGTH = 16 + 8 + 8 + 8;\nasync function readVarint(reader) {\n  const bytes = await reader.upTo(8);\n  if (!bytes.length) {\n    throw new Error('Unexpected end of data');\n  }\n  const i = varint.decode(bytes);\n  reader.seek(varint.decode.bytes);\n  return i;\n}\nasync function readV2Header(reader) {\n  const bytes = await reader.exactly(V2_HEADER_LENGTH);\n  const dv = new DataView(bytes.buffer, bytes.byteOffset, bytes.byteLength);\n  let offset = 0;\n  const header = {\n    version: 2,\n    characteristics: [\n      dv.getBigUint64(offset, true),\n      dv.getBigUint64(offset += 8, true)\n    ],\n    dataOffset: Number(dv.getBigUint64(offset += 8, true)),\n    dataSize: Number(dv.getBigUint64(offset += 8, true)),\n    indexOffset: Number(dv.getBigUint64(offset += 8, true))\n  };\n  reader.seek(V2_HEADER_LENGTH);\n  return header;\n}\nexport async function readHeader(reader, strictVersion) {\n  const length = await readVarint(reader);\n  if (length === 0) {\n    throw new Error('Invalid CAR header (zero length)');\n  }\n  const header = await reader.exactly(length);\n  reader.seek(length);\n  const block = decodeDagCbor(header);\n  if (!headerValidator(block)) {\n    throw new Error('Invalid CAR header format');\n  }\n  if (block.version !== 1 && block.version !== 2 || strictVersion !== undefined && block.version !== strictVersion) {\n    throw new Error(`Invalid CAR version: ${ block.version }${ strictVersion !== undefined ? ` (expected ${ strictVersion })` : '' }`);\n  }\n  const hasRoots = Array.isArray(block.roots);\n  if (block.version === 1 && !hasRoots || block.version === 2 && hasRoots) {\n    throw new Error('Invalid CAR header format');\n  }\n  if (block.version === 1) {\n    return block;\n  }\n  const v2Header = await readV2Header(reader);\n  reader.seek(v2Header.dataOffset - reader.pos);\n  const v1Header = await readHeader(reader, 1);\n  return Object.assign(v1Header, v2Header);\n}\nasync function readMultihash(reader) {\n  const bytes = await reader.upTo(8);\n  varint.decode(bytes);\n  const codeLength = varint.decode.bytes;\n  const length = varint.decode(bytes.subarray(varint.decode.bytes));\n  const lengthLength = varint.decode.bytes;\n  const mhLength = codeLength + lengthLength + length;\n  const multihash = await reader.exactly(mhLength);\n  reader.seek(mhLength);\n  return multihash;\n}\nasync function readCid(reader) {\n  const first = await reader.exactly(2);\n  if (first[0] === CIDV0_BYTES.SHA2_256 && first[1] === CIDV0_BYTES.LENGTH) {\n    const bytes = await reader.exactly(34);\n    reader.seek(34);\n    const multihash = Digest.decode(bytes);\n    return CID.create(0, CIDV0_BYTES.DAG_PB, multihash);\n  }\n  const version = await readVarint(reader);\n  if (version !== 1) {\n    throw new Error(`Unexpected CID version (${ version })`);\n  }\n  const codec = await readVarint(reader);\n  const bytes = await readMultihash(reader);\n  const multihash = Digest.decode(bytes);\n  return CID.create(version, codec, multihash);\n}\nexport async function readBlockHead(reader) {\n  const start = reader.pos;\n  let length = await readVarint(reader);\n  if (length === 0) {\n    throw new Error('Invalid CAR section (zero length)');\n  }\n  length += reader.pos - start;\n  const cid = await readCid(reader);\n  const blockLength = length - Number(reader.pos - start);\n  return {\n    cid,\n    length,\n    blockLength\n  };\n}\nasync function readBlock(reader) {\n  const {cid, blockLength} = await readBlockHead(reader);\n  const bytes = await reader.exactly(blockLength);\n  reader.seek(blockLength);\n  return {\n    bytes,\n    cid\n  };\n}\nasync function readBlockIndex(reader) {\n  const offset = reader.pos;\n  const {cid, length, blockLength} = await readBlockHead(reader);\n  const index = {\n    cid,\n    length,\n    blockLength,\n    offset,\n    blockOffset: reader.pos\n  };\n  reader.seek(index.blockLength);\n  return index;\n}\nexport function createDecoder(reader) {\n  const headerPromise = (async () => {\n    const header = await readHeader(reader);\n    if (header.version === 2) {\n      const v1length = reader.pos - header.dataOffset;\n      reader = limitReader(reader, header.dataSize - v1length);\n    }\n    return header;\n  })();\n  return {\n    header: () => headerPromise,\n    async *blocks() {\n      await headerPromise;\n      while ((await reader.upTo(8)).length > 0) {\n        yield await readBlock(reader);\n      }\n    },\n    async *blocksIndex() {\n      await headerPromise;\n      while ((await reader.upTo(8)).length > 0) {\n        yield await readBlockIndex(reader);\n      }\n    }\n  };\n}\nexport function bytesReader(bytes) {\n  let pos = 0;\n  return {\n    async upTo(length) {\n      return bytes.subarray(pos, pos + Math.min(length, bytes.length - pos));\n    },\n    async exactly(length) {\n      if (length > bytes.length - pos) {\n        throw new Error('Unexpected end of data');\n      }\n      return bytes.subarray(pos, pos + length);\n    },\n    seek(length) {\n      pos += length;\n    },\n    get pos() {\n      return pos;\n    }\n  };\n}\nexport function chunkReader(readChunk) {\n  let pos = 0;\n  let have = 0;\n  let offset = 0;\n  let currentChunk = new Uint8Array(0);\n  const read = async length => {\n    have = currentChunk.length - offset;\n    const bufa = [currentChunk.subarray(offset)];\n    while (have < length) {\n      const chunk = await readChunk();\n      if (chunk == null) {\n        break;\n      }\n      if (have < 0) {\n        if (chunk.length > have) {\n          bufa.push(chunk.subarray(-have));\n        }\n      } else {\n        bufa.push(chunk);\n      }\n      have += chunk.length;\n    }\n    currentChunk = new Uint8Array(bufa.reduce((p, c) => p + c.length, 0));\n    let off = 0;\n    for (const b of bufa) {\n      currentChunk.set(b, off);\n      off += b.length;\n    }\n    offset = 0;\n  };\n  return {\n    async upTo(length) {\n      if (currentChunk.length - offset < length) {\n        await read(length);\n      }\n      return currentChunk.subarray(offset, offset + Math.min(currentChunk.length - offset, length));\n    },\n    async exactly(length) {\n      if (currentChunk.length - offset < length) {\n        await read(length);\n      }\n      if (currentChunk.length - offset < length) {\n        throw new Error('Unexpected end of data');\n      }\n      return currentChunk.subarray(offset, offset + length);\n    },\n    seek(length) {\n      pos += length;\n      offset += length;\n    },\n    get pos() {\n      return pos;\n    }\n  };\n}\nexport function asyncIterableReader(asyncIterable) {\n  const iterator = asyncIterable[Symbol.asyncIterator]();\n  async function readChunk() {\n    const next = await iterator.next();\n    if (next.done) {\n      return null;\n    }\n    return next.value;\n  }\n  return chunkReader(readChunk);\n}\nexport function limitReader(reader, byteLimit) {\n  let bytesRead = 0;\n  return {\n    async upTo(length) {\n      let bytes = await reader.upTo(length);\n      if (bytes.length + bytesRead > byteLimit) {\n        bytes = bytes.subarray(0, byteLimit - bytesRead);\n      }\n      return bytes;\n    },\n    async exactly(length) {\n      const bytes = await reader.exactly(length);\n      if (bytes.length + bytesRead > byteLimit) {\n        throw new Error('Unexpected end of data');\n      }\n      return bytes;\n    },\n    seek(length) {\n      bytesRead += length;\n      reader.seek(length);\n    },\n    get pos() {\n      return reader.pos;\n    }\n  };\n}", "const Kinds = {\n  Null: obj => obj === null,\n  Int: obj => Number.isInteger(obj),\n  Float: obj => typeof obj === 'number' && Number.isFinite(obj),\n  String: obj => typeof obj === 'string',\n  Bool: obj => typeof obj === 'boolean',\n  Bytes: obj => obj instanceof Uint8Array,\n  Link: obj => !Kinds.Null(obj) && typeof obj === 'object' && obj.asCID === obj,\n  List: obj => Array.isArray(obj),\n  Map: obj => !Kinds.Null(obj) && typeof obj === 'object' && obj.asCID !== obj && !Kinds.List(obj) && !Kinds.Bytes(obj)\n};\nconst Types = {\n  Int: Kinds.Int,\n  'CarHeader > version': obj => Types.Int(obj),\n  'CarHeader > roots (anon) > valueType (anon)': Kinds.Link,\n  'CarHeader > roots (anon)': obj => Kinds.List(obj) && Array.prototype.every.call(obj, Types['CarHeader > roots (anon) > valueType (anon)']),\n  'CarHeader > roots': obj => Types['CarHeader > roots (anon)'](obj),\n  CarHeader: obj => {\n    const keys = obj && Object.keys(obj);\n    return Kinds.Map(obj) && ['version'].every(k => keys.includes(k)) && Object.entries(obj).every(([name, value]) => Types['CarHeader > ' + name] && Types['CarHeader > ' + name](value));\n  }\n};\nexport const CarHeader = Types.CarHeader;", "import {\n  asyncIterableReader,\n  bytesReader,\n  createDecoder\n} from './decoder.js';\nexport class CarIndexer {\n  constructor(version, roots, iterator) {\n    this._version = version;\n    this._roots = roots;\n    this._iterator = iterator;\n  }\n  get version() {\n    return this._version;\n  }\n  async getRoots() {\n    return this._roots;\n  }\n  [Symbol.asyncIterator]() {\n    return this._iterator;\n  }\n  static async fromBytes(bytes) {\n    if (!(bytes instanceof Uint8Array)) {\n      throw new TypeError('fromBytes() requires a Uint8Array');\n    }\n    return decodeIndexerComplete(bytesReader(bytes));\n  }\n  static async fromIterable(asyncIterable) {\n    if (!asyncIterable || !(typeof asyncIterable[Symbol.asyncIterator] === 'function')) {\n      throw new TypeError('fromIterable() requires an async iterable');\n    }\n    return decodeIndexerComplete(asyncIterableReader(asyncIterable));\n  }\n}\nasync function decodeIndexerComplete(reader) {\n  const decoder = createDecoder(reader);\n  const {version, roots} = await decoder.header();\n  return new CarIndexer(version, roots, decoder.blocksIndex());\n}", "import {\n  asyncIterableReader,\n  bytesReader,\n  createDecoder\n} from './decoder.js';\nexport class CarIteratorBase {\n  constructor(version, roots, iterable) {\n    this._version = version;\n    this._roots = roots;\n    this._iterable = iterable;\n    this._decoded = false;\n  }\n  get version() {\n    return this._version;\n  }\n  async getRoots() {\n    return this._roots;\n  }\n}\nexport class CarBlockIterator extends CarIteratorBase {\n  [Symbol.asyncIterator]() {\n    if (this._decoded) {\n      throw new Error('Cannot decode more than once');\n    }\n    if (!this._iterable) {\n      throw new Error('Block iterable not found');\n    }\n    this._decoded = true;\n    return this._iterable[Symbol.asyncIterator]();\n  }\n  static async fromBytes(bytes) {\n    const {version, roots, iterator} = await fromBytes(bytes);\n    return new CarBlockIterator(version, roots, iterator);\n  }\n  static async fromIterable(asyncIterable) {\n    const {version, roots, iterator} = await fromIterable(asyncIterable);\n    return new CarBlockIterator(version, roots, iterator);\n  }\n}\nexport class CarCIDIterator extends CarIteratorBase {\n  [Symbol.asyncIterator]() {\n    if (this._decoded) {\n      throw new Error('Cannot decode more than once');\n    }\n    if (!this._iterable) {\n      throw new Error('Block iterable not found');\n    }\n    this._decoded = true;\n    const iterable = this._iterable[Symbol.asyncIterator]();\n    return {\n      async next() {\n        const next = await iterable.next();\n        if (next.done) {\n          return next;\n        }\n        return {\n          done: false,\n          value: next.value.cid\n        };\n      }\n    };\n  }\n  static async fromBytes(bytes) {\n    const {version, roots, iterator} = await fromBytes(bytes);\n    return new CarCIDIterator(version, roots, iterator);\n  }\n  static async fromIterable(asyncIterable) {\n    const {version, roots, iterator} = await fromIterable(asyncIterable);\n    return new CarCIDIterator(version, roots, iterator);\n  }\n}\nasync function fromBytes(bytes) {\n  if (!(bytes instanceof Uint8Array)) {\n    throw new TypeError('fromBytes() requires a Uint8Array');\n  }\n  return decodeIterator(bytesReader(bytes));\n}\nasync function fromIterable(asyncIterable) {\n  if (!asyncIterable || !(typeof asyncIterable[Symbol.asyncIterator] === 'function')) {\n    throw new TypeError('fromIterable() requires an async iterable');\n  }\n  return decodeIterator(asyncIterableReader(asyncIterable));\n}\nasync function decodeIterator(reader) {\n  const decoder = createDecoder(reader);\n  const {version, roots} = await decoder.header();\n  return {\n    version,\n    roots,\n    iterator: decoder.blocks()\n  };\n}", "import { CID } from 'multiformats/cid';\nimport {\n  createEncoder,\n  createHeader\n} from './encoder.js';\nimport { create as iteratorChannel } from './iterator-channel.js';\nimport {\n  bytesReader,\n  readHeader\n} from './decoder.js';\nexport class CarWriter {\n  constructor(roots, encoder) {\n    this._encoder = encoder;\n    this._mutex = encoder.setRoots(roots);\n    this._ended = false;\n  }\n  async put(block) {\n    if (!(block.bytes instanceof Uint8Array) || !block.cid) {\n      throw new TypeError('Can only write {cid, bytes} objects');\n    }\n    if (this._ended) {\n      throw new Error('Already closed');\n    }\n    const cid = CID.asCID(block.cid);\n    if (!cid) {\n      throw new TypeError('Can only write {cid, bytes} objects');\n    }\n    this._mutex = this._mutex.then(() => this._encoder.writeBlock({\n      cid,\n      bytes: block.bytes\n    }));\n    return this._mutex;\n  }\n  async close() {\n    if (this._ended) {\n      throw new Error('Already closed');\n    }\n    await this._mutex;\n    this._ended = true;\n    return this._encoder.close();\n  }\n  static create(roots) {\n    roots = toRoots(roots);\n    const {encoder, iterator} = encodeWriter();\n    const writer = new CarWriter(roots, encoder);\n    const out = new CarWriterOut(iterator);\n    return {\n      writer,\n      out\n    };\n  }\n  static createAppender() {\n    const {encoder, iterator} = encodeWriter();\n    encoder.setRoots = () => Promise.resolve();\n    const writer = new CarWriter([], encoder);\n    const out = new CarWriterOut(iterator);\n    return {\n      writer,\n      out\n    };\n  }\n  static async updateRootsInBytes(bytes, roots) {\n    const reader = bytesReader(bytes);\n    await readHeader(reader);\n    const newHeader = createHeader(roots);\n    if (Number(reader.pos) !== newHeader.length) {\n      throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${ reader.pos } bytes, new header is ${ newHeader.length } bytes)`);\n    }\n    bytes.set(newHeader, 0);\n    return bytes;\n  }\n}\nexport class CarWriterOut {\n  constructor(iterator) {\n    this._iterator = iterator;\n  }\n  [Symbol.asyncIterator]() {\n    if (this._iterating) {\n      throw new Error('Multiple iterator not supported');\n    }\n    this._iterating = true;\n    return this._iterator;\n  }\n}\nfunction encodeWriter() {\n  const iw = iteratorChannel();\n  const {writer, iterator} = iw;\n  const encoder = createEncoder(writer);\n  return {\n    encoder,\n    iterator\n  };\n}\nfunction toRoots(roots) {\n  if (roots === undefined) {\n    return [];\n  }\n  if (!Array.isArray(roots)) {\n    const cid = CID.asCID(roots);\n    if (!cid) {\n      throw new TypeError('roots must be a single CID or an array of CIDs');\n    }\n    return [cid];\n  }\n  const _roots = [];\n  for (const root of roots) {\n    const _root = CID.asCID(root);\n    if (!_root) {\n      throw new TypeError('roots must be a single CID or an array of CIDs');\n    }\n    _roots.push(_root);\n  }\n  return _roots;\n}\nexport const __browser = true;", "import varint from 'varint';\nimport { encode as dagCborEncode } from '@ipld/dag-cbor';\nexport function createHeader(roots) {\n  const headerBytes = dagCborEncode({\n    version: 1,\n    roots\n  });\n  const varintBytes = varint.encode(headerBytes.length);\n  const header = new Uint8Array(varintBytes.length + headerBytes.length);\n  header.set(varintBytes, 0);\n  header.set(headerBytes, varintBytes.length);\n  return header;\n}\nfunction createEncoder(writer) {\n  return {\n    async setRoots(roots) {\n      const bytes = createHeader(roots);\n      await writer.write(bytes);\n    },\n    async writeBlock(block) {\n      const {cid, bytes} = block;\n      await writer.write(new Uint8Array(varint.encode(cid.bytes.length + bytes.length)));\n      await writer.write(cid.bytes);\n      if (bytes.length) {\n        await writer.write(bytes);\n      }\n    },\n    async close() {\n      await writer.end();\n    }\n  };\n}\nexport {\n  createEncoder\n};", "function noop() {\n}\nexport function create() {\n  const chunkQueue = [];\n  let drainer = null;\n  let drainerResolver = noop;\n  let ended = false;\n  let outWait = null;\n  let outWaitResolver = noop;\n  const makeDrainer = () => {\n    if (!drainer) {\n      drainer = new Promise(resolve => {\n        drainerResolver = () => {\n          drainer = null;\n          drainerResolver = noop;\n          resolve();\n        };\n      });\n    }\n    return drainer;\n  };\n  const writer = {\n    write(chunk) {\n      chunkQueue.push(chunk);\n      const drainer = makeDrainer();\n      outWaitResolver();\n      return drainer;\n    },\n    async end() {\n      ended = true;\n      const drainer = makeDrainer();\n      outWaitResolver();\n      await drainer;\n    }\n  };\n  const iterator = {\n    async next() {\n      const chunk = chunkQueue.shift();\n      if (chunk) {\n        if (chunkQueue.length === 0) {\n          drainerResolver();\n        }\n        return {\n          done: false,\n          value: chunk\n        };\n      }\n      if (ended) {\n        drainerResolver();\n        return {\n          done: true,\n          value: undefined\n        };\n      }\n      if (!outWait) {\n        outWait = new Promise(resolve => {\n          outWaitResolver = () => {\n            outWait = null;\n            outWaitResolver = noop;\n            return resolve(iterator.next());\n          };\n        });\n      }\n      return outWait;\n    }\n  };\n  return {\n    writer,\n    iterator\n  };\n}", "export class CarIndexedReader {\n  static async fromFile() {\n    throw new Error('Unsupported in this environment');\n  }\n}\nexport const __browser = true;", "import {\n  bytes as binary,\n  CID\n} from './index.js';\nconst readonly = ({enumerable = true, configurable = false} = {}) => ({\n  enumerable,\n  configurable,\n  writable: false\n});\nconst links = function* (source, base) {\n  if (source == null)\n    return;\n  if (source instanceof Uint8Array)\n    return;\n  for (const [key, value] of Object.entries(source)) {\n    const path = [\n      ...base,\n      key\n    ];\n    if (value != null && typeof value === 'object') {\n      if (Array.isArray(value)) {\n        for (const [index, element] of value.entries()) {\n          const elementPath = [\n            ...path,\n            index\n          ];\n          const cid = CID.asCID(element);\n          if (cid) {\n            yield [\n              elementPath.join('/'),\n              cid\n            ];\n          } else if (typeof element === 'object') {\n            yield* links(element, elementPath);\n          }\n        }\n      } else {\n        const cid = CID.asCID(value);\n        if (cid) {\n          yield [\n            path.join('/'),\n            cid\n          ];\n        } else {\n          yield* links(value, path);\n        }\n      }\n    }\n  }\n};\nconst tree = function* (source, base) {\n  if (source == null)\n    return;\n  for (const [key, value] of Object.entries(source)) {\n    const path = [\n      ...base,\n      key\n    ];\n    yield path.join('/');\n    if (value != null && !(value instanceof Uint8Array) && typeof value === 'object' && !CID.asCID(value)) {\n      if (Array.isArray(value)) {\n        for (const [index, element] of value.entries()) {\n          const elementPath = [\n            ...path,\n            index\n          ];\n          yield elementPath.join('/');\n          if (typeof element === 'object' && !CID.asCID(element)) {\n            yield* tree(element, elementPath);\n          }\n        }\n      } else {\n        yield* tree(value, path);\n      }\n    }\n  }\n};\nconst get = (source, path) => {\n  let node = source;\n  for (const [index, key] of path.entries()) {\n    node = node[key];\n    if (node == null) {\n      throw new Error(`Object has no property at ${ path.slice(0, index + 1).map(part => `[${ JSON.stringify(part) }]`).join('') }`);\n    }\n    const cid = CID.asCID(node);\n    if (cid) {\n      return {\n        value: cid,\n        remaining: path.slice(index + 1).join('/')\n      };\n    }\n  }\n  return { value: node };\n};\nclass Block {\n  constructor({cid, bytes, value}) {\n    if (!cid || !bytes || typeof value === 'undefined')\n      throw new Error('Missing required argument');\n    this.cid = cid;\n    this.bytes = bytes;\n    this.value = value;\n    this.asBlock = this;\n    Object.defineProperties(this, {\n      cid: readonly(),\n      bytes: readonly(),\n      value: readonly(),\n      asBlock: readonly()\n    });\n  }\n  links() {\n    return links(this.value, []);\n  }\n  tree() {\n    return tree(this.value, []);\n  }\n  get(path = '/') {\n    return get(this.value, path.split('/').filter(Boolean));\n  }\n}\nconst encode = async ({value, codec, hasher}) => {\n  if (typeof value === 'undefined')\n    throw new Error('Missing required argument \"value\"');\n  if (!codec || !hasher)\n    throw new Error('Missing required argument: codec or hasher');\n  const bytes = codec.encode(value);\n  const hash = await hasher.digest(bytes);\n  const cid = CID.create(1, codec.code, hash);\n  return new Block({\n    value,\n    bytes,\n    cid\n  });\n};\nconst decode = async ({bytes, codec, hasher}) => {\n  if (!bytes)\n    throw new Error('Missing required argument \"bytes\"');\n  if (!codec || !hasher)\n    throw new Error('Missing required argument: codec or hasher');\n  const value = codec.decode(bytes);\n  const hash = await hasher.digest(bytes);\n  const cid = CID.create(1, codec.code, hash);\n  return new Block({\n    value,\n    bytes,\n    cid\n  });\n};\nconst createUnsafe = ({\n  bytes,\n  cid,\n  value: maybeValue,\n  codec\n}) => {\n  const value = maybeValue !== undefined ? maybeValue : codec && codec.decode(bytes);\n  if (value === undefined)\n    throw new Error('Missing required argument, must either provide \"value\" or \"codec\"');\n  return new Block({\n    cid,\n    bytes,\n    value\n  });\n};\nconst create = async ({bytes, cid, hasher, codec}) => {\n  if (!bytes)\n    throw new Error('Missing required argument \"bytes\"');\n  if (!hasher)\n    throw new Error('Missing required argument \"hasher\"');\n  const value = codec.decode(bytes);\n  const hash = await hasher.digest(bytes);\n  if (!binary.equals(cid.multihash.bytes, hash.bytes)) {\n    throw new Error('CID hash does not match bytes');\n  }\n  return createUnsafe({\n    bytes,\n    cid,\n    value,\n    codec\n  });\n};\nexport {\n  encode,\n  decode,\n  create,\n  createUnsafe,\n  Block\n};", "export type EventType = string | symbol;\n\n// An event handler can take an optional event argument\n// and should not return a value\nexport type Handler<T = unknown> = (event: T) => void;\nexport type WildcardHandler<T = Record<string, unknown>> = (\n\ttype: keyof T,\n\tevent: T[keyof T]\n) => void;\n\n// An array of all currently registered event handlers for a type\nexport type EventHandlerList<T = unknown> = Array<Handler<T>>;\nexport type WildCardEventHandlerList<T = Record<string, unknown>> = Array<WildcardHandler<T>>;\n\n// A map of event types and their corresponding event handlers.\nexport type EventHandlerMap<Events extends Record<EventType, unknown>> = Map<\n\tkeyof Events | '*',\n\tEventHandlerList<Events[keyof Events]> | WildCardEventHandlerList<Events>\n>;\n\nexport interface Emitter<Events extends Record<EventType, unknown>> {\n\tall: EventHandlerMap<Events>;\n\n\ton<Key extends keyof Events>(type: Key, handler: Handler<Events[Key]>): void;\n\ton(type: '*', handler: WildcardHandler<Events>): void;\n\n\toff<Key extends keyof Events>(type: Key, handler?: Handler<Events[Key]>): void;\n\toff(type: '*', handler: WildcardHandler<Events>): void;\n\n\temit<Key extends keyof Events>(type: Key, event: Events[Key]): void;\n\temit<Key extends keyof Events>(type: undefined extends Events[Key] ? Key : never): void;\n}\n\n/**\n * Mitt: Tiny (~200b) functional event emitter / pubsub.\n * @name mitt\n * @returns {Mitt}\n */\nexport default function mitt<Events extends Record<EventType, unknown>>(\n\tall?: EventHandlerMap<Events>\n): Emitter<Events> {\n\ttype GenericEventHandler =\n\t\t| Handler<Events[keyof Events]>\n\t\t| WildcardHandler<Events>;\n\tall = all || new Map();\n\n\treturn {\n\n\t\t/**\n\t\t * A Map of event names to registered handler functions.\n\t\t */\n\t\tall,\n\n\t\t/**\n\t\t * Register an event handler for the given type.\n\t\t * @param {string|symbol} type Type of event to listen for, or `'*'` for all events\n\t\t * @param {Function} handler Function to call in response to given event\n\t\t * @memberOf mitt\n\t\t */\n\t\ton<Key extends keyof Events>(type: Key, handler: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\thandlers.push(handler);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tall!.set(type, [handler] as EventHandlerList<Events[keyof Events]>);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Remove an event handler for the given type.\n\t\t * If `handler` is omitted, all handlers of the given type are removed.\n\t\t * @param {string|symbol} type Type of event to unregister `handler` from, or `'*'`\n\t\t * @param {Function} [handler] Handler function to remove\n\t\t * @memberOf mitt\n\t\t */\n\t\toff<Key extends keyof Events>(type: Key, handler?: GenericEventHandler) {\n\t\t\tconst handlers: Array<GenericEventHandler> | undefined = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\tif (handler) {\n\t\t\t\t\thandlers.splice(handlers.indexOf(handler) >>> 0, 1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tall!.set(type, []);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Invoke all handlers for the given type.\n\t\t * If present, `'*'` handlers are invoked after type-matched handlers.\n\t\t *\n\t\t * Note: Manually firing '*' handlers is not supported.\n\t\t *\n\t\t * @param {string|symbol} type The event type to invoke\n\t\t * @param {Any} [evt] Any value (object is recommended and powerful), passed to each handler\n\t\t * @memberOf mitt\n\t\t */\n\t\temit<Key extends keyof Events>(type: Key, evt?: Events[Key]) {\n\t\t\tlet handlers = all!.get(type);\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as EventHandlerList<Events[keyof Events]>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(evt!);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\thandlers = all!.get('*');\n\t\t\tif (handlers) {\n\t\t\t\t(handlers as WildCardEventHandlerList<Events>)\n\t\t\t\t\t.slice()\n\t\t\t\t\t.map((handler) => {\n\t\t\t\t\t\thandler(type, evt!);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n}\n", "// import { createRepo } from 'ipfs-core-config/src/repo.browser.js'; // breaks on build, mortice issue\r\nimport { createRepo as createBrowserIDB } from '../../node_modules/ipfs-core-config/src/repo.browser.js';\r\n// import { createRepo } from './modules/repo.browser.js'; // esbuilt in package.json\r\n\r\nimport { createRepo } from 'ipfs-repo';\r\n\r\n// import { DagAPI } from './modules/DagAPI/index.js'; // esbuilt, because self not defined in base64-js\r\nimport { DagAPI } from '../../node_modules/ipfs-core/src/components/dag/index'; // esbuilt, because self not defined in base64-js\r\n\r\n// import { PinAPI } from 'ipfs-core/src/components/pin/index';\r\n// import { BlockAPI } from 'ipfs-core/src/components/block/index';\r\nimport * as dagcbor from '@ipld/dag-cbor';\r\nimport * as raw from 'multiformats/codecs/raw';\r\nimport { sha256 } from 'multiformats/hashes/sha2';\r\nimport { identity } from 'multiformats/hashes/identity';\r\nimport { hashes, codecs } from 'multiformats/basics';\r\n// import * as dagPB from '@ipld/dag-pb'; // dont think I really need this\r\nimport * as dagCBOR from '@ipld/dag-cbor';\r\nimport * as dagJSON from '@ipld/dag-json';\r\nimport * as dagJOSE from 'dag-jose';\r\nimport { Multicodecs } from 'ipfs-core-utils/multicodecs';\r\nimport { Multihashes } from 'ipfs-core-utils/multihashes';\r\nimport { makeIterable } from './utils';\r\nimport all from 'it-all';\r\nimport mitt from 'mitt'; // a small emitter\r\nimport { CID } from 'multiformats';\r\n\r\nimport { Transaction } from './transaction';\r\n\r\nimport { MemoryDatastore } from 'datastore-core/memory';\r\nimport { MemoryBlockstore } from 'blockstore-core/memory';\r\n\r\n// import { createPreloader } from 'ipfs-core/src/preload';\r\n// import { Storage } from 'ipfs-core/src/components/storage';\r\n\r\nimport type { IPFSRepo } from 'ipfs-repo'; // https://github.com/ipfs/js-ipfs-repo/blob/master/packages/ipfs-repo/src/types.ts\r\n\r\nexport async function repoInit(options = {}): Promise<IPFSRepo> {\r\n\tconst repoPath = options.path || 'ipfs';\r\n\tconst loadCodec = (codeOrName) => {\r\n\t\tconst lookup = {\r\n\t\t\t[raw.code]: raw,\r\n\t\t\t[raw.name]: raw,\r\n\t\t\t[dagCbor.code]: dagCbor,\r\n\t\t\t[dagCbor.name]: dagCbor\r\n\t\t};\r\n\r\n\t\treturn Promise.resolve(lookup[codeOrName]);\r\n\t};\r\n\tconst repo = createRepo(repoPath, loadCodec);\r\n\tawait repo.init();\r\n\treturn repo;\r\n}\r\n\r\n/**\r\n * Add ipfs.dag functionality to ipfs-repo\r\n */\r\nexport type DagRepo = DagAPI & {\r\n\trepo: IPFSRepo;\r\n\t// block: BlockAPI;\r\n\t// pin: PinAPI;\r\n\ttx: {\r\n\t\tpending: Transaction;\r\n\t\tadd: Function;\r\n\t\tcommit: Function;\r\n\t};\r\n};\r\n\r\nexport class DagRepo extends DagAPI {\r\n\tconstructor({ repo, codecs, options }) {\r\n\t\t/** @type {MultihashHasher[]} */\r\n\t\tconst multihashHashers = Object.values(hashes);\r\n\r\n\t\t(options.ipld && options.ipld.hashers ? options.ipld.hashers : []).forEach((hasher) =>\r\n\t\t\tmultihashHashers.push(hasher)\r\n\t\t);\r\n\r\n\t\tconst hashers = new Multihashes({\r\n\t\t\thashers: multihashHashers,\r\n\t\t\tloadHasher: options.ipld && options.ipld.loadHasher\r\n\t\t});\r\n\r\n\t\tsuper({\r\n\t\t\trepo,\r\n\t\t\tcodecs,\r\n\t\t\thashers,\r\n\t\t\tpreload: (cid) => {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}); // DagAPI\r\n\r\n\t\tObject.assign(this, mitt()); // make this an emitter\r\n\r\n\t\t// this.pin = new PinAPI({ repo, codecs });\r\n\t\t// this.block = new BlockAPI({\r\n\t\t// \trepo,\r\n\t\t// \tcodecs,\r\n\t\t// \thashers,\r\n\t\t// \tpreload: (cid) => {\r\n\t\t// \t\treturn;\r\n\t\t// \t}\r\n\t\t// });\r\n\r\n\t\tthis.repo = repo;\r\n\r\n\t\tthis.rootCID;\r\n\r\n\t\tthis.tx = {\r\n\t\t\t// TODO: Check for existing open transactions that havent been commited?\r\n\t\t\tpending: Transaction.create(),\r\n\t\t\t/**\r\n\t\t\t * When a Transaction is added, the dag should check the dag to see if the tag already exists,\r\n\t\t\t * and link the prev value to build an iterable chain of versions.\r\n\t\t\t */\r\n\t\t\tcheckSize: async (data: object): Promise<number> => {\r\n\t\t\t\tconst t = Transaction.create();\r\n\t\t\t\tawait t.add(data);\r\n\t\t\t\treturn t.size;\r\n\t\t\t},\r\n\t\t\tgetExistingTx: async () => {\r\n\t\t\t\tlet existingTx = {};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet last = this.tx.pending.last;\r\n\t\t\t\t\tif (!last) return;\r\n\t\t\t\t\tlet lastBlock = await this.tx.pending.get(last);\r\n\t\t\t\t\texistingTx = lastBlock.value;\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\t// console.log(`No existingTx`);\r\n\t\t\t\t\treturn existingTx;\r\n\t\t\t\t}\r\n\t\t\t\treturn existingTx;\r\n\t\t\t},\r\n\t\t\taddData: async (data: object): Promise<CID> => {\r\n\t\t\t\treturn await this.tx.pending.add(data);\r\n\t\t\t},\r\n\t\t\taddTag: async (tag: string, tagNode: object): Promise<CID> => {\r\n\t\t\t\treturn await this.tx.add(tag, tagNode);\r\n\t\t\t},\r\n\t\t\tadd: async (tag: string, tagNode: object): Promise<CID> => {\r\n\t\t\t\tif (!tagNode) return;\r\n\t\t\t\t// cleanse input object of undefined values, IPLD doesnt like undefined properies\r\n\t\t\t\ttagNode = Object.fromEntries(\r\n\t\t\t\t\tObject.entries(tagNode).map(([k, v]) => (v === undefined ? [k, null] : [k, v]))\r\n\t\t\t\t);\r\n\r\n\t\t\t\t// check to see if the tag already exists\r\n\t\t\t\tlet prev: CID | false = false;\r\n\r\n\t\t\t\t/**\r\n\t\t\t\t * First, check to see if there is a previous value in the existing Tx\r\n\t\t\t\t */\r\n\t\t\t\tlet existingTx = (await this.tx.getExistingTx()) || null;\r\n\t\t\t\tif (existingTx && existingTx[tag]) {\r\n\t\t\t\t\t// if so, track current tx cid as previous\r\n\t\t\t\t\tprev = !!existingTx[tag] ? existingTx[tag] : false;\r\n\t\t\t\t} else if (this.rootCID) {\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Otherwise, list previous transaction from the DAG, if exists\r\n\t\t\t\t\t */\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlet rootObj = (await this.get(this.rootCID)).value;\r\n\t\t\t\t\t\tprev = !!rootObj[tag] ? rootObj[tag] : false;\r\n\t\t\t\t\t} catch (msg) {\r\n\t\t\t\t\t\t// console.log(`no prev dag ${tag}`, msg);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t/**\r\n\t\t\t\t * [tag] overwrites existingTx[tag], but that's ok since we stored any previous data in prev\r\n\t\t\t\t */\r\n\t\t\t\tlet tagNodeCid = await this.tx.pending.add(tagNode);\r\n\r\n\t\t\t\tlet filtered =\r\n\t\t\t\t\texistingTx && Object.keys(existingTx).length !== 0\r\n\t\t\t\t\t\t? Object.fromEntries(\r\n\t\t\t\t\t\t\t\tObject.entries(existingTx).filter(\r\n\t\t\t\t\t\t\t\t\t([k, v]) => v.hasOwnProperty('obj') && v.hasOwnProperty('prev')\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t  )\r\n\t\t\t\t\t\t: null;\r\n\r\n\t\t\t\tlet newBlock =\r\n\t\t\t\t\tfiltered && Object.keys(filtered).length !== 0\r\n\t\t\t\t\t\t? Object.assign({}, filtered, { [tag]: { obj: tagNodeCid, prev } })\r\n\t\t\t\t\t\t: { [tag]: { obj: tagNodeCid, prev } };\r\n\r\n\t\t\t\tlet txCid = await this.tx.pending.add(newBlock);\r\n\t\t\t\tthis.emit('added', txCid);\r\n\t\t\t\treturn txCid;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * Once the Tx is committed, it's dag imported which merges the blocks into the existing DAG\r\n\t\t\t * Tx CID and prev Root CID is updated to new Root CID\r\n\t\t\t * and a new Transaction needs to be created\r\n\t\t\t */\r\n\t\t\tcommit: async () => {\r\n\t\t\t\t// get existing Tx to be commited\r\n\t\t\t\tlet existingTx = await this.tx.getExistingTx();\r\n\r\n\t\t\t\t// get current dag\r\n\t\t\t\tlet currentDag = {};\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (this.rootCID) currentDag = (await this.get(this.rootCID)).value;\r\n\r\n\t\t\t\t\t// merge existing and current Tag Nodes to make new root CID\r\n\t\t\t\t\t// Only Tag Nodes, so filter existingTx by if it has own properties obj and prev\r\n\t\t\t\t\tlet merged = Object.assign(\r\n\t\t\t\t\t\t{},\r\n\t\t\t\t\t\tcurrentDag,\r\n\t\t\t\t\t\tObject.fromEntries(\r\n\t\t\t\t\t\t\tObject.entries(existingTx).filter(\r\n\t\t\t\t\t\t\t\t([k, v]) => v.hasOwnProperty('obj') && v.hasOwnProperty('prev')\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.rootCID = await this.tx.pending.add(merged);\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\t// brand new dag, leave current empty\r\n\t\t\t\t\tif (this.rootCID) console.log('thats odd', { error });\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst buffer = await this.tx.pending.commit();\r\n\r\n\t\t\t\t// load commited blocks in the local dag\r\n\t\t\t\tawait this.importBuffer(buffer);\r\n\r\n\t\t\t\tthis.tx.pending = Transaction.create(); // once merged, refresh Tx\r\n\t\t\t\treturn buffer; // now save this delta to update your database, cloud, Arweave, peers, wherever\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t/**\r\n\t * Convenience function to get latest Tag object value\r\n\t */\r\n\tasync latest(tag: string) {\r\n\t\tconst res = await this.get(this.rootCID, { path: `/${tag}/obj` });\r\n\t\treturn res.value;\r\n\t}\r\n\r\n\tasync importBuffers(buffers: Uint8Array[]) {\r\n\t\tlet root;\r\n\t\tfor (const buffer of buffers) {\r\n\t\t\t// TODO: assumes the last buffer imported holds the root CID, this may be a wrong assumption...\r\n\t\t\troot = await this.importBuffer(buffer);\r\n\t\t}\r\n\t\treturn root;\r\n\t}\r\n\r\n\tasync importBuffer(buffer: Uint8Array) {\r\n\t\treturn importBuffer(this, buffer);\r\n\t}\r\n}\r\n\r\nexport async function importBuffer(dag: DagAPI, buffer: Uint8Array) {\r\n\tconst it = await makeIterable([buffer]); // dag.import needs asyncIterable\r\n\tconst [{ root }] = await all(dag.import(it));\r\n\treturn root.cid;\r\n}\r\n\r\nexport async function createDagRepo(options = {}): Promise<DagRepo> {\r\n\t/**\r\n\t * @type {BlockCodec}\r\n\t */\r\n\tconst id = {\r\n\t\tname: identity.name,\r\n\t\tcode: identity.code,\r\n\t\tencode: (id) => id,\r\n\t\tdecode: (id) => id\r\n\t};\r\n\t/** @type {BlockCodec[]} */\r\n\tconst blockCodecs = Object.values(codecs);\r\n\t[dagCBOR, dagJSON, dagJOSE, id]\r\n\t\t.concat((options.ipld && options.ipld.codecs) || [])\r\n\t\t.forEach((codec) => blockCodecs.push(codec));\r\n\r\n\tconst multicodecs = new Multicodecs({\r\n\t\tcodecs: blockCodecs,\r\n\t\tloadCodec: options.ipld && options.ipld.loadCodec\r\n\t});\r\n\r\n\tconst repoPath = options.path || 'ipfs';\r\n\r\n\tlet repo;\r\n\r\n\tif (options?.persist) {\r\n\t\trepo = createBrowserIDB(console.log, multicodecs, {\r\n\t\t\tpath: repoPath,\r\n\t\t\tautoMigrate: true\r\n\t\t});\r\n\t} else {\r\n\t\t// in memory\r\n\t\t/**\r\n\t\t * @param {string} path - Where this repo is stored\r\n\t\t * @param {import('./types').loadCodec} loadCodec - a function that will load multiformat block codecs\r\n\t\t * @param {import('./types').Backends} backends - backends used by this repo\r\n\t\t * @param {Partial<Options>} [options] - Configuration\r\n\t\t * @returns {import('./types').IPFSRepo}\r\n\t\t */\r\n\t\trepo = createRepo(\r\n\t\t\trepoPath,\r\n\t\t\t(codeOrName) => multicodecs.getCodec(codeOrName),\r\n\t\t\t{\r\n\t\t\t\tblocks: new MemoryBlockstore(),\r\n\t\t\t\tdatastore: new MemoryDatastore(),\r\n\t\t\t\troot: new MemoryDatastore(),\r\n\t\t\t\tkeys: new MemoryDatastore(),\r\n\t\t\t\tpins: new MemoryDatastore()\r\n\t\t\t},\r\n\t\t\toptions\r\n\t\t);\r\n\t}\r\n\r\n\tconst initConfig = {}; // Datastore:{}\r\n\r\n\ttry {\r\n\t\tawait repo.init(initConfig);\r\n\t\tawait repo.open();\r\n\t} catch (/** @type {any} */ err) {\r\n\t\tthrow err;\r\n\t}\r\n\r\n\tconst repoConfig = await repo.config.getAll();\r\n\r\n\treturn new DagRepo({\r\n\t\trepo,\r\n\t\tcodecs: multicodecs,\r\n\t\toptions: { ...options, repoConfig }\r\n\t});\r\n}\r\n", "import { createRepo as create } from 'ipfs-repo'\nimport { LevelDatastore } from 'datastore-level'\nimport { BlockstoreDatastoreAdapter } from 'blockstore-datastore-adapter'\nimport { MemoryLock } from 'ipfs-repo/locks/memory'\n\n/**\n * @typedef {import('ipfs-repo-migrations').ProgressCallback} MigrationProgressCallback\n */\n\n/**\n * @param {(...args: any[]) => void} print\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} codecs\n * @param {object} options\n * @param {string} [options.path]\n * @param {boolean} [options.autoMigrate]\n * @param {MigrationProgressCallback} [options.onMigrationProgress]\n * @param {number} [options.peerStoreCacheSize]\n */\nexport function createRepo (print, codecs, options) {\n  const repoPath = options.path || 'ipfs'\n\n  return create(repoPath, (codeOrName) => codecs.getCodec(codeOrName), {\n    root: new LevelDatastore(repoPath, {\n      prefix: '',\n      version: 2\n    }),\n    blocks: new BlockstoreDatastoreAdapter(\n      new LevelDatastore(`${repoPath}/blocks`, {\n        prefix: '',\n        version: 2\n      })\n    ),\n    datastore: new LevelDatastore(`${repoPath}/datastore`, {\n      prefix: '',\n      version: 2\n    }),\n    keys: new LevelDatastore(`${repoPath}/keys`, {\n      prefix: '',\n      version: 2\n    }),\n    pins: new LevelDatastore(`${repoPath}/pins`, {\n      prefix: '',\n      version: 2\n    })\n  }, {\n    autoMigrate: options.autoMigrate,\n    onMigrationProgress: options.onMigrationProgress || print,\n    repoLock: MemoryLock\n  })\n}\n", "import _get from 'just-safe-get'\nimport debug from 'debug'\nimport errCode from 'err-code'\nimport * as migrator from 'ipfs-repo-migrations'\nimport bytes from 'bytes'\nimport merge from 'merge-options'\nimport * as CONSTANTS from './constants.js'\nimport { version } from './version.js'\nimport { config } from './config.js'\nimport { spec } from './spec.js'\nimport { apiAddr } from './api-addr.js'\nimport { createIdStore } from './idstore.js'\nimport defaultOptions from './default-options.js'\nimport defaultDatastore from './default-datastore.js'\nimport * as ERRORS from './errors.js'\nimport { PinManager } from './pin-manager.js'\nimport { createPinnedBlockstore } from './pinned-blockstore.js'\n// @ts-ignore - no types\nimport mortice from 'mortice'\nimport { gc } from './gc.js'\n\nconst log = debug('ipfs:repo')\n\nconst noLimit = Number.MAX_SAFE_INTEGER\nconst AUTO_MIGRATE_CONFIG_KEY = 'repoAutoMigrate'\n\n/**\n * @typedef {import('./types').Options} Options\n * @typedef {import('./types').RepoLock} RepoLock\n * @typedef {import('./types').LockCloser} LockCloser\n * @typedef {import('./types').GCLock} GCLock\n * @typedef {import('./types').Stat} Stat\n * @typedef {import('./types').Config} Config\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('./types').Backends} Backends\n * @typedef {import('./types').IPFSRepo} IPFSRepo\n */\n\n/**\n * IPFSRepo implements all required functionality to read and write to an ipfs repo.\n */\nclass Repo {\n  /**\n   * @param {string} path - Where this repo is stored\n   * @param {import('./types').loadCodec} loadCodec - a function that will load multiformat block codecs\n   * @param {Backends} backends - backends used by this repo\n   * @param {Partial<Options>} [options] - Configuration\n   */\n  constructor (path, loadCodec, backends, options) {\n    if (typeof path !== 'string') {\n      throw new Error('missing repo path')\n    }\n\n    if (typeof loadCodec !== 'function') {\n      throw new Error('missing codec loader')\n    }\n\n    /** @type {Options} */\n    this.options = merge(defaultOptions, options)\n    this.closed = true\n    this.path = path\n    this.root = backends.root\n    this.datastore = backends.datastore\n    this.keys = backends.keys\n\n    const blockstore = backends.blocks\n    const pinstore = backends.pins\n\n    this.pins = new PinManager({ pinstore, blockstore, loadCodec })\n\n    // this blockstore will not delete blocks that have been pinned\n    const pinnedBlockstore = createPinnedBlockstore(this.pins, blockstore)\n\n    // this blockstore will extract blocks from multihashes with the identity codec\n    this.blocks = createIdStore(pinnedBlockstore)\n\n    this.version = version(this.root)\n    this.config = config(this.root)\n    this.spec = spec(this.root)\n    this.apiAddr = apiAddr(this.root)\n\n    /** @type {GCLock} */\n    this.gcLock = mortice({\n      name: path,\n      singleProcess: this.options.repoOwner !== false\n    })\n\n    this.gc = gc({ gcLock: this.gcLock, pins: this.pins, blockstore: this.blocks, root: this.root, loadCodec })\n  }\n\n  /**\n   * Initialize a new repo.\n   *\n   * @param {import('./types').Config} config - config to write into `config`.\n   * @returns {Promise<void>}\n   */\n  async init (config) {\n    log('initializing at: %s', this.path)\n    await this._openRoot()\n    await this.config.replace(buildConfig(config))\n    await this.spec.set(buildDatastoreSpec(config))\n    await this.version.set(CONSTANTS.repoVersion)\n  }\n\n  /**\n   * Check if the repo is already initialized.\n   *\n   * @returns {Promise<boolean>}\n   */\n  async isInitialized () {\n    if (!this.closed) {\n      // repo is open, must be initialized\n      return true\n    }\n\n    try {\n      // have to open the root datastore in the browser before\n      // we can check whether it's been initialized\n      await this._openRoot()\n      await this._checkInitialized()\n      await this.root.close()\n\n      return true\n    } catch (/** @type {any} */ err) {\n      // FIXME: do not use exceptions for flow control\n      return false\n    }\n  }\n\n  /**\n   * Open the repo. If the repo is already open an error will be thrown.\n   * If the repo is not initialized it will throw an error.\n   *\n   * @returns {Promise<void>}\n   */\n  async open () {\n    if (!this.closed) {\n      throw errCode(new Error('repo is already open'), ERRORS.ERR_REPO_ALREADY_OPEN)\n    }\n    log('opening at: %s', this.path)\n\n    // check if the repo is already initialized\n    try {\n      await this._openRoot()\n      await this._checkInitialized()\n\n      this._lockfile = await this._openLock()\n      log('acquired repo.lock')\n\n      const isCompatible = await this.version.check(CONSTANTS.repoVersion)\n\n      if (!isCompatible) {\n        if (await this._isAutoMigrationEnabled()) {\n          await this._migrate(CONSTANTS.repoVersion, {\n            root: this.root,\n            datastore: this.datastore,\n            pins: this.pins.pinstore,\n            blocks: this.pins.blockstore,\n            keys: this.keys\n          })\n        } else {\n          throw new ERRORS.InvalidRepoVersionError('Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.')\n        }\n      }\n\n      log('creating datastore')\n      await this.datastore.open()\n\n      log('creating blocks')\n      await this.blocks.open()\n\n      log('creating keystore')\n      await this.keys.open()\n\n      log('creating pins')\n      await this.pins.pinstore.open()\n\n      this.closed = false\n      log('all opened')\n    } catch (/** @type {any} */ err) {\n      if (this._lockfile) {\n        try {\n          await this._closeLock()\n          this._lockfile = null\n        } catch (/** @type {any} */ err2) {\n          log('error removing lock', err2)\n        }\n      }\n\n      throw err\n    }\n  }\n\n  /**\n   * Opens the root backend, catching and ignoring an 'Already open' error\n   *\n   * @private\n   */\n  async _openRoot () {\n    try {\n      await this.root.open()\n    } catch (/** @type {any} */ err) {\n      if (err.message !== 'Already open') {\n        throw err\n      }\n    }\n  }\n\n  /**\n   * Creates a lock on the repo if a locker is specified. The lockfile object will\n   * be returned in the callback if one has been created.\n   *\n   * @private\n   * @returns {Promise<LockCloser>}\n   */\n  async _openLock () {\n    const lockfile = await this.options.repoLock.lock(this.path)\n\n    if (typeof lockfile.close !== 'function') {\n      throw errCode(new Error('Locks must have a close method'), 'ERR_NO_CLOSE_FUNCTION')\n    }\n\n    return lockfile\n  }\n\n  /**\n   * Closes the lock on the repo\n   *\n   * @private\n   */\n  _closeLock () {\n    return this._lockfile && this._lockfile.close()\n  }\n\n  /**\n   * Check if the repo is already initialized.\n   *\n   * @private\n   */\n  async _checkInitialized () {\n    log('init check')\n    let config\n    try {\n      [config] = await Promise.all([\n        this.config.exists(),\n        this.spec.exists(),\n        this.version.exists()\n      ])\n    } catch (/** @type {any} */ err) {\n      if (err.code === 'ERR_NOT_FOUND') {\n        throw errCode(new Error('repo is not initialized yet'), ERRORS.ERR_REPO_NOT_INITIALIZED, {\n          path: this.path\n        })\n      }\n\n      throw err\n    }\n\n    if (!config) {\n      throw errCode(new Error('repo is not initialized yet'), ERRORS.ERR_REPO_NOT_INITIALIZED, {\n        path: this.path\n      })\n    }\n  }\n\n  /**\n   * Close the repo and cleanup.\n   *\n   * @returns {Promise<void>}\n   */\n  async close () {\n    if (this.closed) {\n      throw errCode(new Error('repo is already closed'), ERRORS.ERR_REPO_ALREADY_CLOSED)\n    }\n    log('closing at: %s', this.path)\n\n    try {\n      // Delete api, ignoring irrelevant errors\n      await this.apiAddr.delete()\n    } catch (/** @type {any} */ err) {\n      if (err.code !== ERRORS.ERR_REPO_NOT_INITIALIZED && !err.message.startsWith('ENOENT')) {\n        throw err\n      }\n    }\n\n    await Promise.all([\n      this.root,\n      this.blocks,\n      this.keys,\n      this.datastore,\n      this.pins.pinstore\n    ].map((store) => store && store.close()))\n\n    log('unlocking')\n    this.closed = true\n    await this._closeLock()\n  }\n\n  /**\n   * Check if a repo exists.\n   *\n   * @returns {Promise<boolean>}\n   */\n  exists () {\n    return this.version.exists()\n  }\n\n  /**\n   * Get repo status.\n   *\n   * @returns {Promise<Stat>}\n   */\n  async stat () {\n    if (this.datastore && this.keys) {\n      const [storageMax, blocks, version, datastore, keys] = await Promise.all([\n        this._storageMaxStat(),\n        this._blockStat(),\n        this.version.get(),\n        getSize(this.datastore),\n        getSize(this.keys)\n      ])\n      const size = blocks.size + datastore + keys\n\n      return {\n        repoPath: this.path,\n        storageMax,\n        version: version,\n        numObjects: blocks.count,\n        repoSize: size\n      }\n    }\n    throw errCode(new Error('repo is not initialized yet'), ERRORS.ERR_REPO_NOT_INITIALIZED, {\n      path: this.path\n    })\n  }\n\n  /**\n   * @private\n   */\n  async _isAutoMigrationEnabled () {\n    if (this.options.autoMigrate !== undefined) {\n      return this.options.autoMigrate\n    }\n\n    // TODO we need to figure out the priority here, between repo options and config.\n    let autoMigrateConfig\n    try {\n      autoMigrateConfig = await this.config.get(AUTO_MIGRATE_CONFIG_KEY)\n    } catch (/** @type {any} */ e) {\n      if (e.code === ERRORS.NotFoundError.code) {\n        autoMigrateConfig = true // Config's default value is True\n      } else {\n        throw e\n      }\n    }\n\n    return autoMigrateConfig\n  }\n\n  /**\n   * Internal migration\n   *\n   * @private\n   * @param {number} toVersion\n   * @param {Backends} backends\n   */\n  async _migrate (toVersion, backends) {\n    const currentRepoVersion = await this.version.get()\n\n    if (currentRepoVersion > toVersion) {\n      log(`reverting to version ${toVersion}`)\n      return migrator.revert(this.path, backends, this.options, toVersion, {\n        ignoreLock: true,\n        onProgress: this.options.onMigrationProgress\n      })\n    } else {\n      log(`migrating to version ${toVersion}`)\n      return migrator.migrate(this.path, backends, this.options, toVersion, {\n        ignoreLock: true,\n        onProgress: this.options.onMigrationProgress\n      })\n    }\n  }\n\n  /**\n   * @private\n   */\n  async _storageMaxStat () {\n    try {\n      const max = /** @type {number} */(await this.config.get('Datastore.StorageMax'))\n      return BigInt(bytes(max))\n    } catch (/** @type {any} */ err) {\n      return BigInt(noLimit)\n    }\n  }\n\n  /**\n   * @private\n   */\n  async _blockStat () {\n    let count = BigInt(0)\n    let size = BigInt(0)\n\n    if (this.blocks) {\n      for await (const { key, value } of this.blocks.query({})) {\n        count += BigInt(1)\n        size += BigInt(value.byteLength)\n        size += BigInt(key.bytes.byteLength)\n      }\n    }\n\n    return { count, size }\n  }\n}\n\n/**\n * @param {Datastore} datastore\n */\nasync function getSize (datastore) {\n  let sum = BigInt(0)\n  for await (const block of datastore.query({})) {\n    sum += BigInt(block.value.byteLength)\n    sum += BigInt(block.key.uint8Array().byteLength)\n  }\n  return sum\n}\n\n/**\n * @param {string} path - Where this repo is stored\n * @param {import('./types').loadCodec} loadCodec - a function that will load multiformat block codecs\n * @param {import('./types').Backends} backends - backends used by this repo\n * @param {Partial<Options>} [options] - Configuration\n * @returns {import('./types').IPFSRepo}\n */\nexport function createRepo (path, loadCodec, backends, options) {\n  return new Repo(path, loadCodec, backends, options)\n}\n\n/**\n * @param {import('./types').Config} _config\n */\nfunction buildConfig (_config) {\n  _config.Datastore = Object.assign({}, defaultDatastore, _get(_config, 'datastore'))\n\n  return _config\n}\n\n/**\n * @param {import('./types').Config} _config\n */\nfunction buildDatastoreSpec (_config) {\n  /** @type { {type: string, mounts: Array<{mountpoint: string, type: string, prefix: string, child: {type: string, path: 'string', sync: boolean, shardFunc: string}}>}} */\n  const spec = {\n    ...defaultDatastore.Spec,\n    ..._get(_config, 'Datastore.Spec')\n  }\n\n  return {\n    type: spec.type,\n    mounts: spec.mounts.map((mounting) => ({\n      mountpoint: mounting.mountpoint,\n      type: mounting.child.type,\n      path: mounting.child.path,\n      shardFunc: mounting.child.shardFunc\n    }))\n  }\n}\n", "var objectSafeGet = get;\n\n/*\n  const obj = {a: {aa: {aaa: 2}}, b: 4};\n\n  get(obj, 'a.aa.aaa'); // 2\n  get(obj, ['a', 'aa', 'aaa']); // 2\n\n  get(obj, 'b.bb.bbb'); // undefined\n  get(obj, ['b', 'bb', 'bbb']); // undefined\n\n  get(obj.a, 'aa.aaa'); // 2\n  get(obj.a, ['aa', 'aaa']); // 2\n\n  get(obj.b, 'bb.bbb'); // undefined\n  get(obj.b, ['bb', 'bbb']); // undefined\n\n  get(obj.b, 'bb.bbb', 42); // 42\n  get(obj.b, ['bb', 'bbb'], 42); // 42\n\n  get(null, 'a'); // undefined\n  get(undefined, ['a']); // undefined\n\n  get(null, 'a', 42); // 42\n  get(undefined, ['a'], 42); // 42\n\n  const obj = {a: {}};\n  const sym = Symbol();\n  obj.a[sym] = 4;\n  get(obj.a, sym); // 4\n*/\n\nfunction get(obj, propsArg, defaultValue) {\n  if (!obj) {\n    return defaultValue;\n  }\n  var props, prop;\n  if (Array.isArray(propsArg)) {\n    props = propsArg.slice(0);\n  }\n  if (typeof propsArg == 'string') {\n    props = propsArg.split('.');\n  }\n  if (typeof propsArg == 'symbol') {\n    props = [propsArg];\n  }\n  if (!Array.isArray(props)) {\n    throw new Error('props arg must be an array, a string or a symbol');\n  }\n  while (props.length) {\n    prop = props.shift();\n    if (!obj) {\n      return defaultValue;\n    }\n    obj = obj[prop];\n    if (obj === undefined) {\n      return defaultValue;\n    }\n  }\n  return obj;\n}\n\nexport {objectSafeGet as default};\n", "/* eslint complexity: [\"error\", 27] */\n\nimport defaultMigrations from '../migrations/index.js'\nimport * as repoVersion from './repo/version.js'\nimport * as Errors from './errors.js'\nimport { wrapBackends } from './utils.js'\nimport debug from 'debug'\n\nconst log = debug('ipfs:repo:migrator')\n\n/**\n * @typedef {import('./types').Migration} Migration\n * @typedef {import('./types').MigrationOptions} MigrationOptions\n * @typedef {import('./types').ProgressCallback} ProgressCallback\n * @typedef {import('./types').MigrationProgressCallback} MigrationProgressCallback\n */\n\n/**\n * Returns the version of latest migration.\n * If no migrations are present returns 0.\n *\n * @param {Migration[]} [migrations] - Array of migrations to consider. If undefined, the bundled migrations are used. Mainly for testing purpose.\n */\nexport function getLatestMigrationVersion (migrations) {\n  migrations = migrations || defaultMigrations\n\n  if (!Array.isArray(migrations) || migrations.length === 0) {\n    return 0\n  }\n\n  return migrations[migrations.length - 1].version\n}\n\n/**\n * Main function to execute forward migrations.\n * It acquire lock on the provided path before doing any migrations.\n *\n * Signature of the progress callback is: function(migrationObject: object, currentMigrationNumber: int, totalMigrationsCount: int)\n *\n * @param {string} path - Path to initialized (!) JS-IPFS repo\n * @param {import('./types').Backends} backends\n * @param {import('./types').RepoOptions} repoOptions - Options that are passed to migrations, that can use them to correctly construct datastore. Options are same like for IPFSRepo.\n * @param {number} toVersion - Version to which the repo should be migrated.\n * @param {MigrationOptions} [options] - Options for migration\n */\nexport async function migrate (path, backends, repoOptions, toVersion, { ignoreLock = false, onProgress, isDryRun = false, migrations }) {\n  migrations = migrations || defaultMigrations\n\n  if (!path) {\n    throw new errors.RequiredParameterError('Path argument is required!')\n  }\n\n  if (!repoOptions) {\n    throw new errors.RequiredParameterError('repoOptions argument is required!')\n  }\n\n  if (!toVersion) {\n    throw new errors.RequiredParameterError('toVersion argument is required!')\n  }\n\n  if (!Number.isInteger(toVersion) || toVersion <= 0) {\n    throw new errors.InvalidValueError('Version has to be positive integer!')\n  }\n\n  // make sure we can read pre-level@5 datastores\n  backends = wrapBackends(backends)\n\n  const currentVersion = await repoVersion.getVersion(backends)\n\n  if (currentVersion === toVersion) {\n    log('Nothing to migrate.')\n    return\n  }\n\n  if (currentVersion > toVersion) {\n    throw new errors.InvalidValueError(`Current repo's version (${currentVersion}) is higher then toVersion (${toVersion}), you probably wanted to revert it?`)\n  }\n\n  verifyAvailableMigrations(migrations, currentVersion, toVersion)\n\n  let lock\n\n  if (!isDryRun && !ignoreLock) {\n    lock = await repoOptions.repoLock.lock(path)\n  }\n\n  try {\n    for (const migration of migrations) {\n      if (toVersion !== undefined && migration.version > toVersion) {\n        break\n      }\n\n      if (migration.version <= currentVersion) {\n        continue\n      }\n\n      log(`Migrating version ${migration.version}`)\n\n      try {\n        if (!isDryRun) {\n          /** @type {MigrationProgressCallback} */\n          let progressCallback = () => {}\n\n          if (onProgress) { // eslint-disable-line max-depth\n            progressCallback = (percent, message) => onProgress(migration.version, percent.toFixed(2), message)\n          }\n\n          await migration.migrate(backends, progressCallback)\n        }\n      } catch (/** @type {any} */ e) {\n        const lastSuccessfullyMigratedVersion = migration.version - 1\n\n        log(`An exception was raised during execution of migration. Setting the repo's version to last successfully migrated version: ${lastSuccessfullyMigratedVersion}`)\n        await repoVersion.setVersion(lastSuccessfullyMigratedVersion, backends)\n\n        throw new Error(`During migration to version ${migration.version} exception was raised: ${e.stack || e.message || e}`)\n      }\n\n      log(`Migrating to version ${migration.version} finished`)\n    }\n\n    if (!isDryRun) {\n      await repoVersion.setVersion(toVersion || getLatestMigrationVersion(migrations), backends)\n    }\n\n    log('Repo successfully migrated', toVersion !== undefined ? `to version ${toVersion}!` : 'to latest version!')\n  } finally {\n    if (!isDryRun && !ignoreLock && lock) {\n      await lock.close()\n    }\n  }\n}\n\n/**\n * Main function to execute backward migration (reversion).\n * It acquire lock on the provided path before doing any migrations.\n *\n * Signature of the progress callback is: function(migrationObject: object, currentMigrationNumber: int, totalMigrationsCount: int)\n *\n * @param {string} path - Path to initialized (!) JS-IPFS repo\n * @param {import('./types').Backends} backends\n * @param {import('./types').RepoOptions} repoOptions - Options that are passed to migrations, that can use them to correctly construct datastore. Options are same like for IPFSRepo.\n * @param {number} toVersion - Version to which the repo will be reverted.\n * @param {MigrationOptions} [options] - Options for the reversion\n */\nexport async function revert (path, backends, repoOptions, toVersion, { ignoreLock = false, onProgress, isDryRun = false, migrations }) {\n  migrations = migrations || defaultMigrations\n\n  if (!path) {\n    throw new errors.RequiredParameterError('Path argument is required!')\n  }\n\n  if (!repoOptions) {\n    throw new errors.RequiredParameterError('repoOptions argument is required!')\n  }\n\n  if (!toVersion) {\n    throw new errors.RequiredParameterError('When reverting migrations, you have to specify to which version to revert!')\n  }\n\n  if (!Number.isInteger(toVersion) || toVersion <= 0) {\n    throw new errors.InvalidValueError('Version has to be positive integer!')\n  }\n\n  // make sure we can read pre-level@5 datastores\n  backends = wrapBackends(backends)\n\n  const currentVersion = await repoVersion.getVersion(backends)\n\n  if (currentVersion === toVersion) {\n    log('Nothing to revert.')\n    return\n  }\n\n  if (currentVersion < toVersion) {\n    throw new errors.InvalidValueError(`Current repo's version (${currentVersion}) is lower then toVersion (${toVersion}), you probably wanted to migrate it?`)\n  }\n\n  verifyAvailableMigrations(migrations, toVersion, currentVersion, true)\n\n  let lock\n  if (!isDryRun && !ignoreLock) {\n    lock = await repoOptions.repoLock.lock(path)\n  }\n\n  log(`Reverting from version ${currentVersion} to ${toVersion}`)\n\n  try {\n    const reversedMigrationArray = migrations.slice().reverse()\n\n    for (const migration of reversedMigrationArray) {\n      if (migration.version <= toVersion) {\n        break\n      }\n\n      if (migration.version > currentVersion) {\n        continue\n      }\n\n      log(`Reverting migration version ${migration.version}`)\n\n      try {\n        if (!isDryRun) {\n          /** @type {MigrationProgressCallback} */\n          let progressCallback = () => {}\n\n          if (onProgress) { // eslint-disable-line max-depth\n            progressCallback = (percent, message) => onProgress(migration.version, percent.toFixed(2), message)\n          }\n\n          await migration.revert(backends, progressCallback)\n        }\n      } catch (/** @type {any} */ e) {\n        const lastSuccessfullyRevertedVersion = migration.version\n        log(`An exception was raised during execution of migration. Setting the repo's version to last successfully reverted version: ${lastSuccessfullyRevertedVersion}`)\n        await repoVersion.setVersion(lastSuccessfullyRevertedVersion, backends)\n\n        e.message = `During reversion to version ${migration.version} exception was raised: ${e.message}`\n        throw e\n      }\n\n      log(`Reverting to version ${migration.version} finished`)\n    }\n\n    if (!isDryRun) {\n      await repoVersion.setVersion(toVersion, backends)\n    }\n\n    log(`All migrations successfully reverted to version ${toVersion}!`)\n  } finally {\n    if (!isDryRun && !ignoreLock && lock) {\n      await lock.close()\n    }\n  }\n}\n\n/**\n * Function checks if all migrations in given range are available.\n *\n * @param {Migration[]} migrations\n * @param {number} fromVersion\n * @param {number} toVersion\n * @param {boolean} checkReversibility - Will additionally checks if all the migrations in the range are reversible\n */\nfunction verifyAvailableMigrations (migrations, fromVersion, toVersion, checkReversibility = false) {\n  let migrationCounter = 0\n  for (const migration of migrations) {\n    if (migration.version > toVersion) {\n      break\n    }\n\n    if (migration.version > fromVersion) {\n      if (checkReversibility && !migration.revert) {\n        throw new errors.NonReversibleMigrationError(`It is not possible to revert to version ${fromVersion} because migration version ${migration.version} is not reversible. Cancelling reversion.`)\n      }\n\n      migrationCounter++\n    }\n  }\n\n  if (migrationCounter !== (toVersion - fromVersion)) {\n    throw new errors.InvalidValueError(`The ipfs-repo-migrations package does not have all migration to migrate from version ${fromVersion} to ${toVersion}`)\n  }\n}\n\nexport const getCurrentRepoVersion = repoVersion.getVersion\nexport const errors = Errors\nexport const migrations = defaultMigrations\n", "import { migration as migration8 } from './migration-8/index.js'\nimport { migration as migration9 } from './migration-9/index.js'\nimport { migration as migration10 } from './migration-10/index.js'\nimport { migration as migration11 } from './migration-11/index.js'\nimport { migration as migration12 } from './migration-12/index.js'\n\n/**\n * @type {import('../src/types').Migration}\n */\nconst emptyMigration = {\n  description: 'Empty migration.',\n  // @ts-ignore\n  migrate: () => {},\n  // @ts-ignore\n  revert: () => {},\n  empty: true\n}\n\nexport default [\n  Object.assign({ version: 1 }, emptyMigration),\n  Object.assign({ version: 2 }, emptyMigration),\n  Object.assign({ version: 3 }, emptyMigration),\n  Object.assign({ version: 4 }, emptyMigration),\n  Object.assign({ version: 5 }, emptyMigration),\n  Object.assign({ version: 6 }, emptyMigration),\n  Object.assign({ version: 7 }, emptyMigration),\n  migration8,\n  migration9,\n  migration10,\n  migration11,\n  migration12\n]\n", "\nimport { CID } from 'multiformats/cid'\nimport { Key } from 'interface-datastore/key'\nimport debug from 'debug'\nimport length from 'it-length'\nimport { base32 } from 'multiformats/bases/base32'\nimport * as raw from 'multiformats/codecs/raw'\nimport * as mhd from 'multiformats/hashes/digest'\n\nconst log = debug('ipfs:repo:migrator:migration-8')\n\n/**\n * @typedef {import('../../src/types').Migration} Migration\n * @typedef {import('interface-datastore').Datastore} Datastore\n */\n\n/**\n * @param {*} blockstore\n * @returns {Datastore}\n */\nfunction unwrap (blockstore) {\n  if (blockstore.child) {\n    return unwrap(blockstore.child)\n  }\n\n  return blockstore\n}\n\n/**\n * @param {Key} key\n */\nfunction keyToMultihash (key) {\n  try {\n    const buf = base32.decode(`b${key.toString().toLowerCase().slice(1)}`)\n\n    // Extract multihash from CID\n    const multihash = CID.decode(buf).multihash.bytes\n\n    // Encode and slice off multibase codec\n    // Should be uppercase for interop with go\n    const multihashStr = base32.encode(multihash).slice(1).toUpperCase()\n\n    return new Key(`/${multihashStr}`, false)\n  } catch (/** @type {any} */ err) {\n    return key\n  }\n}\n\n/**\n * @param {Key} key\n */\nfunction keyToCid (key) {\n  try {\n    const buf = base32.decode(`b${key.toString().toLowerCase().slice(1)}`)\n    const digest = mhd.decode(buf)\n\n    // CID to Key\n    const multihash = base32.encode(CID.createV1(raw.code, digest).bytes).slice(1)\n\n    return new Key(`/${multihash.toUpperCase()}`, false)\n  } catch {\n    return key\n  }\n}\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {(percent: number, message: string) => void} onProgress\n * @param {(key: Key) => Key} keyFunction\n */\nasync function process (backends, onProgress, keyFunction) {\n  const blockstore = backends.blocks\n  await blockstore.open()\n\n  const unwrapped = unwrap(blockstore)\n\n  const blockCount = await length(unwrapped.queryKeys({\n    filters: [(key) => {\n      const newKey = keyFunction(key)\n\n      return newKey.toString() !== key.toString()\n    }]\n  }))\n\n  try {\n    let counter = 0\n\n    for await (const block of unwrapped.query({})) {\n      const newKey = keyFunction(block.key)\n\n      // If the Key is base32 CIDv0 then there's nothing to do\n      if (newKey.toString() !== block.key.toString()) {\n        counter += 1\n        log(`Migrating Block from ${block.key} to ${newKey}`, await unwrapped.has(block.key))\n\n        await unwrapped.delete(block.key)\n        await unwrapped.put(newKey, block.value)\n\n        onProgress((counter / blockCount) * 100, `Migrated Block from ${block.key} to ${newKey}`)\n      }\n    }\n  } finally {\n    await blockstore.close()\n  }\n}\n\n/** @type {Migration} */\nexport const migration = {\n  version: 8,\n  description: 'Transforms key names into base32 encoding and converts Block store to use bare multihashes encoded as base32',\n  migrate: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, keyToMultihash)\n  },\n  revert: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, keyToCid)\n  }\n}\n", null, "import { urlAlphabet } from './url-alphabet/index.js'\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n", "let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport { urlAlphabet }\n", "\nimport { CID } from 'multiformats/cid'\nimport * as dagPb from '@ipld/dag-pb'\nimport * as cbor from 'cborg'\nimport * as pinset from './pin-set.js'\nimport { cidToKey, PIN_DS_KEY, PinTypes } from './utils.js'\nimport length from 'it-length'\nimport { sha256 } from 'multiformats/hashes/sha2'\nimport * as mhd from 'multiformats/hashes/digest'\nimport { base32 } from 'multiformats/bases/base32'\n\n/**\n * @typedef {import('../../src/types').Migration} Migration\n * @typedef {import('../../src/types').MigrationProgressCallback} MigrationProgressCallback\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('multiformats/cid').CIDVersion} CIDVersion\n */\n\n/**\n * @param {Blockstore} blockstore\n * @param {Datastore} datastore\n * @param {Datastore} pinstore\n * @param {MigrationProgressCallback} onProgress\n */\nasync function pinsToDatastore (blockstore, datastore, pinstore, onProgress) {\n  if (!await datastore.has(PIN_DS_KEY)) {\n    return\n  }\n\n  const mh = await datastore.get(PIN_DS_KEY)\n  const cid = CID.decode(mh)\n  const pinRootBuf = await blockstore.get(cid)\n  const pinRoot = dagPb.decode(pinRootBuf)\n  let counter = 0\n  const pinCount = (await length(pinset.loadSet(blockstore, pinRoot, PinTypes.recursive))) + (await length(pinset.loadSet(blockstore, pinRoot, PinTypes.direct)))\n\n  for await (const cid of pinset.loadSet(blockstore, pinRoot, PinTypes.recursive)) {\n    counter++\n\n    /** @type {{ depth: number, version?: CIDVersion, codec?: number }} */\n    const pin = {\n      depth: Infinity\n    }\n\n    if (cid.version !== 0) {\n      pin.version = cid.version\n    }\n\n    if (cid.code !== dagPb.code) {\n      pin.codec = cid.code\n    }\n\n    await pinstore.put(cidToKey(cid), cbor.encode(pin))\n\n    onProgress((counter / pinCount) * 100, `Migrated recursive pin ${cid}`)\n  }\n\n  for await (const cid of pinset.loadSet(blockstore, pinRoot, PinTypes.direct)) {\n    counter++\n\n    /** @type {{ depth: number, version?: CIDVersion, codec?: number }} */\n    const pin = {\n      depth: 0\n    }\n\n    if (cid.version !== 0) {\n      pin.version = cid.version\n    }\n\n    if (cid.code !== dagPb.code) {\n      pin.codec = cid.code\n    }\n\n    await pinstore.put(cidToKey(cid), cbor.encode(pin))\n\n    onProgress((counter / pinCount) * 100, `Migrated direct pin ${cid}`)\n  }\n\n  await blockstore.delete(cid)\n  await datastore.delete(PIN_DS_KEY)\n}\n\n/**\n * @param {Blockstore} blockstore\n * @param {Datastore} datastore\n * @param {Datastore} pinstore\n * @param {MigrationProgressCallback} onProgress\n */\nasync function pinsToDAG (blockstore, datastore, pinstore, onProgress) {\n  const recursivePins = []\n  const directPins = []\n  let counter = 0\n  const pinCount = await length(pinstore.queryKeys({}))\n\n  for await (const { key, value } of pinstore.query({})) {\n    counter++\n    const pin = cbor.decode(value)\n    const cid = CID.create(\n      pin.version || 0,\n      pin.codec || dagPb.code,\n      mhd.decode(base32.decode('b' + key.toString().toLowerCase().split('/').pop()))\n    )\n\n    if (pin.depth === 0) {\n      onProgress((counter / pinCount) * 100, `Reverted direct pin ${cid}`)\n\n      directPins.push(cid)\n    } else {\n      onProgress((counter / pinCount) * 100, `Reverted recursive pin ${cid}`)\n\n      recursivePins.push(cid)\n    }\n  }\n\n  onProgress(100, 'Updating pin root')\n  const pinRoot = {\n    Links: [\n      await pinset.storeSet(blockstore, PinTypes.direct, directPins),\n      await pinset.storeSet(blockstore, PinTypes.recursive, recursivePins)\n    ]\n  }\n  const buf = dagPb.encode(pinRoot)\n  const digest = await sha256.digest(buf)\n  const cid = CID.createV0(digest)\n\n  await blockstore.put(cid, buf)\n  await datastore.put(PIN_DS_KEY, cid.bytes)\n}\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {MigrationProgressCallback} onProgress\n * @param {*} fn\n */\nasync function process (backends, onProgress, fn) {\n  const blockstore = backends.blocks\n  const datastore = backends.datastore\n  const pinstore = backends.pins\n\n  await blockstore.open()\n  await datastore.open()\n  await pinstore.open()\n\n  try {\n    await fn(blockstore, datastore, pinstore, onProgress)\n  } finally {\n    await pinstore.close()\n    await datastore.close()\n    await blockstore.close()\n  }\n}\n\n/** @type {Migration} */\nexport const migration = {\n  version: 9,\n  description: 'Migrates pins to datastore',\n  migrate: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, pinsToDatastore)\n  },\n  revert: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, pinsToDAG)\n  }\n}\n", "import { CID } from 'multiformats/cid';\nimport { decodeNode } from './pb-decode.js';\nimport { encodeNode } from './pb-encode.js';\nimport {\n  prepare,\n  validate,\n  createNode,\n  createLink\n} from './util.js';\nexport const name = 'dag-pb';\nexport const code = 112;\nexport function encode(node) {\n  validate(node);\n  const pbn = {};\n  if (node.Links) {\n    pbn.Links = node.Links.map(l => {\n      const link = {};\n      if (l.Hash) {\n        link.Hash = l.Hash.bytes;\n      }\n      if (l.Name !== undefined) {\n        link.Name = l.Name;\n      }\n      if (l.Tsize !== undefined) {\n        link.Tsize = l.Tsize;\n      }\n      return link;\n    });\n  }\n  if (node.Data) {\n    pbn.Data = node.Data;\n  }\n  return encodeNode(pbn);\n}\nexport function decode(bytes) {\n  const pbn = decodeNode(bytes);\n  const node = {};\n  if (pbn.Data) {\n    node.Data = pbn.Data;\n  }\n  if (pbn.Links) {\n    node.Links = pbn.Links.map(l => {\n      const link = {};\n      try {\n        link.Hash = CID.decode(l.Hash);\n      } catch (e) {\n      }\n      if (!link.Hash) {\n        throw new Error('Invalid Hash field found in link, expected CID');\n      }\n      if (l.Name !== undefined) {\n        link.Name = l.Name;\n      }\n      if (l.Tsize !== undefined) {\n        link.Tsize = l.Tsize;\n      }\n      return link;\n    });\n  }\n  return node;\n}\nexport {\n  prepare,\n  validate,\n  createNode,\n  createLink\n};", "const textDecoder = new TextDecoder();\nfunction decodeVarint(bytes, offset) {\n  let v = 0;\n  for (let shift = 0;; shift += 7) {\n    if (shift >= 64) {\n      throw new Error('protobuf: varint overflow');\n    }\n    if (offset >= bytes.length) {\n      throw new Error('protobuf: unexpected end of data');\n    }\n    const b = bytes[offset++];\n    v += shift < 28 ? (b & 127) << shift : (b & 127) * 2 ** shift;\n    if (b < 128) {\n      break;\n    }\n  }\n  return [\n    v,\n    offset\n  ];\n}\nfunction decodeBytes(bytes, offset) {\n  let byteLen;\n  [byteLen, offset] = decodeVarint(bytes, offset);\n  const postOffset = offset + byteLen;\n  if (byteLen < 0 || postOffset < 0) {\n    throw new Error('protobuf: invalid length');\n  }\n  if (postOffset > bytes.length) {\n    throw new Error('protobuf: unexpected end of data');\n  }\n  return [\n    bytes.subarray(offset, postOffset),\n    postOffset\n  ];\n}\nfunction decodeKey(bytes, index) {\n  let wire;\n  [wire, index] = decodeVarint(bytes, index);\n  return [\n    wire & 7,\n    wire >> 3,\n    index\n  ];\n}\nfunction decodeLink(bytes) {\n  const link = {};\n  const l = bytes.length;\n  let index = 0;\n  while (index < l) {\n    let wireType, fieldNum;\n    [wireType, fieldNum, index] = decodeKey(bytes, index);\n    if (fieldNum === 1) {\n      if (link.Hash) {\n        throw new Error('protobuf: (PBLink) duplicate Hash section');\n      }\n      if (wireType !== 2) {\n        throw new Error(`protobuf: (PBLink) wrong wireType (${ wireType }) for Hash`);\n      }\n      if (link.Name !== undefined) {\n        throw new Error('protobuf: (PBLink) invalid order, found Name before Hash');\n      }\n      if (link.Tsize !== undefined) {\n        throw new Error('protobuf: (PBLink) invalid order, found Tsize before Hash');\n      }\n      ;\n      [link.Hash, index] = decodeBytes(bytes, index);\n    } else if (fieldNum === 2) {\n      if (link.Name !== undefined) {\n        throw new Error('protobuf: (PBLink) duplicate Name section');\n      }\n      if (wireType !== 2) {\n        throw new Error(`protobuf: (PBLink) wrong wireType (${ wireType }) for Name`);\n      }\n      if (link.Tsize !== undefined) {\n        throw new Error('protobuf: (PBLink) invalid order, found Tsize before Name');\n      }\n      let byts;\n      [byts, index] = decodeBytes(bytes, index);\n      link.Name = textDecoder.decode(byts);\n    } else if (fieldNum === 3) {\n      if (link.Tsize !== undefined) {\n        throw new Error('protobuf: (PBLink) duplicate Tsize section');\n      }\n      if (wireType !== 0) {\n        throw new Error(`protobuf: (PBLink) wrong wireType (${ wireType }) for Tsize`);\n      }\n      ;\n      [link.Tsize, index] = decodeVarint(bytes, index);\n    } else {\n      throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${ fieldNum }`);\n    }\n  }\n  if (index > l) {\n    throw new Error('protobuf: (PBLink) unexpected end of data');\n  }\n  return link;\n}\nexport function decodeNode(bytes) {\n  const l = bytes.length;\n  let index = 0;\n  let links;\n  let linksBeforeData = false;\n  let data;\n  while (index < l) {\n    let wireType, fieldNum;\n    [wireType, fieldNum, index] = decodeKey(bytes, index);\n    if (wireType !== 2) {\n      throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${ wireType }`);\n    }\n    if (fieldNum === 1) {\n      if (data) {\n        throw new Error('protobuf: (PBNode) duplicate Data section');\n      }\n      ;\n      [data, index] = decodeBytes(bytes, index);\n      if (links) {\n        linksBeforeData = true;\n      }\n    } else if (fieldNum === 2) {\n      if (linksBeforeData) {\n        throw new Error('protobuf: (PBNode) duplicate Links section');\n      } else if (!links) {\n        links = [];\n      }\n      let byts;\n      [byts, index] = decodeBytes(bytes, index);\n      links.push(decodeLink(byts));\n    } else {\n      throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${ fieldNum }`);\n    }\n  }\n  if (index > l) {\n    throw new Error('protobuf: (PBNode) unexpected end of data');\n  }\n  const node = {};\n  if (data) {\n    node.Data = data;\n  }\n  node.Links = links || [];\n  return node;\n}", "const textEncoder = new TextEncoder();\nconst maxInt32 = 2 ** 32;\nconst maxUInt32 = 2 ** 31;\nfunction encodeLink(link, bytes) {\n  let i = bytes.length;\n  if (typeof link.Tsize === 'number') {\n    if (link.Tsize < 0) {\n      throw new Error('Tsize cannot be negative');\n    }\n    if (!Number.isSafeInteger(link.Tsize)) {\n      throw new Error('Tsize too large for encoding');\n    }\n    i = encodeVarint(bytes, i, link.Tsize) - 1;\n    bytes[i] = 24;\n  }\n  if (typeof link.Name === 'string') {\n    const nameBytes = textEncoder.encode(link.Name);\n    i -= nameBytes.length;\n    bytes.set(nameBytes, i);\n    i = encodeVarint(bytes, i, nameBytes.length) - 1;\n    bytes[i] = 18;\n  }\n  if (link.Hash) {\n    i -= link.Hash.length;\n    bytes.set(link.Hash, i);\n    i = encodeVarint(bytes, i, link.Hash.length) - 1;\n    bytes[i] = 10;\n  }\n  return bytes.length - i;\n}\nexport function encodeNode(node) {\n  const size = sizeNode(node);\n  const bytes = new Uint8Array(size);\n  let i = size;\n  if (node.Data) {\n    i -= node.Data.length;\n    bytes.set(node.Data, i);\n    i = encodeVarint(bytes, i, node.Data.length) - 1;\n    bytes[i] = 10;\n  }\n  if (node.Links) {\n    for (let index = node.Links.length - 1; index >= 0; index--) {\n      const size = encodeLink(node.Links[index], bytes.subarray(0, i));\n      i -= size;\n      i = encodeVarint(bytes, i, size) - 1;\n      bytes[i] = 18;\n    }\n  }\n  return bytes;\n}\nfunction sizeLink(link) {\n  let n = 0;\n  if (link.Hash) {\n    const l = link.Hash.length;\n    n += 1 + l + sov(l);\n  }\n  if (typeof link.Name === 'string') {\n    const l = textEncoder.encode(link.Name).length;\n    n += 1 + l + sov(l);\n  }\n  if (typeof link.Tsize === 'number') {\n    n += 1 + sov(link.Tsize);\n  }\n  return n;\n}\nfunction sizeNode(node) {\n  let n = 0;\n  if (node.Data) {\n    const l = node.Data.length;\n    n += 1 + l + sov(l);\n  }\n  if (node.Links) {\n    for (const link of node.Links) {\n      const l = sizeLink(link);\n      n += 1 + l + sov(l);\n    }\n  }\n  return n;\n}\nfunction encodeVarint(bytes, offset, v) {\n  offset -= sov(v);\n  const base = offset;\n  while (v >= maxUInt32) {\n    bytes[offset++] = v & 127 | 128;\n    v /= 128;\n  }\n  while (v >= 128) {\n    bytes[offset++] = v & 127 | 128;\n    v >>>= 7;\n  }\n  bytes[offset] = v;\n  return base;\n}\nfunction sov(x) {\n  if (x % 2 === 0) {\n    x++;\n  }\n  return Math.floor((len64(x) + 6) / 7);\n}\nfunction len64(x) {\n  let n = 0;\n  if (x >= maxInt32) {\n    x = Math.floor(x / maxInt32);\n    n = 32;\n  }\n  if (x >= 1 << 16) {\n    x >>>= 16;\n    n += 16;\n  }\n  if (x >= 1 << 8) {\n    x >>>= 8;\n    n += 8;\n  }\n  return n + len8tab[x];\n}\nconst len8tab = [\n  0,\n  1,\n  2,\n  2,\n  3,\n  3,\n  3,\n  3,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  4,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  5,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  6,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  7,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8,\n  8\n];", "import { CID } from 'multiformats/cid';\nconst pbNodeProperties = [\n  'Data',\n  'Links'\n];\nconst pbLinkProperties = [\n  'Hash',\n  'Name',\n  'Tsize'\n];\nconst textEncoder = new TextEncoder();\nfunction linkComparator(a, b) {\n  if (a === b) {\n    return 0;\n  }\n  const abuf = a.Name ? textEncoder.encode(a.Name) : [];\n  const bbuf = b.Name ? textEncoder.encode(b.Name) : [];\n  let x = abuf.length;\n  let y = bbuf.length;\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (abuf[i] !== bbuf[i]) {\n      x = abuf[i];\n      y = bbuf[i];\n      break;\n    }\n  }\n  return x < y ? -1 : y < x ? 1 : 0;\n}\nfunction hasOnlyProperties(node, properties) {\n  return !Object.keys(node).some(p => !properties.includes(p));\n}\nfunction asLink(link) {\n  if (typeof link.asCID === 'object') {\n    const Hash = CID.asCID(link);\n    if (!Hash) {\n      throw new TypeError('Invalid DAG-PB form');\n    }\n    return { Hash };\n  }\n  if (typeof link !== 'object' || Array.isArray(link)) {\n    throw new TypeError('Invalid DAG-PB form');\n  }\n  const pbl = {};\n  if (link.Hash) {\n    let cid = CID.asCID(link.Hash);\n    try {\n      if (!cid) {\n        if (typeof link.Hash === 'string') {\n          cid = CID.parse(link.Hash);\n        } else if (link.Hash instanceof Uint8Array) {\n          cid = CID.decode(link.Hash);\n        }\n      }\n    } catch (e) {\n      throw new TypeError(`Invalid DAG-PB form: ${ e.message }`);\n    }\n    if (cid) {\n      pbl.Hash = cid;\n    }\n  }\n  if (!pbl.Hash) {\n    throw new TypeError('Invalid DAG-PB form');\n  }\n  if (typeof link.Name === 'string') {\n    pbl.Name = link.Name;\n  }\n  if (typeof link.Tsize === 'number') {\n    pbl.Tsize = link.Tsize;\n  }\n  return pbl;\n}\nexport function prepare(node) {\n  if (node instanceof Uint8Array || typeof node === 'string') {\n    node = { Data: node };\n  }\n  if (typeof node !== 'object' || Array.isArray(node)) {\n    throw new TypeError('Invalid DAG-PB form');\n  }\n  const pbn = {};\n  if (node.Data !== undefined) {\n    if (typeof node.Data === 'string') {\n      pbn.Data = textEncoder.encode(node.Data);\n    } else if (node.Data instanceof Uint8Array) {\n      pbn.Data = node.Data;\n    } else {\n      throw new TypeError('Invalid DAG-PB form');\n    }\n  }\n  if (node.Links !== undefined) {\n    if (Array.isArray(node.Links)) {\n      pbn.Links = node.Links.map(asLink);\n      pbn.Links.sort(linkComparator);\n    } else {\n      throw new TypeError('Invalid DAG-PB form');\n    }\n  } else {\n    pbn.Links = [];\n  }\n  return pbn;\n}\nexport function validate(node) {\n  if (!node || typeof node !== 'object' || Array.isArray(node)) {\n    throw new TypeError('Invalid DAG-PB form');\n  }\n  if (!hasOnlyProperties(node, pbNodeProperties)) {\n    throw new TypeError('Invalid DAG-PB form (extraneous properties)');\n  }\n  if (node.Data !== undefined && !(node.Data instanceof Uint8Array)) {\n    throw new TypeError('Invalid DAG-PB form (Data must be a Uint8Array)');\n  }\n  if (!Array.isArray(node.Links)) {\n    throw new TypeError('Invalid DAG-PB form (Links must be an array)');\n  }\n  for (let i = 0; i < node.Links.length; i++) {\n    const link = node.Links[i];\n    if (!link || typeof link !== 'object' || Array.isArray(link)) {\n      throw new TypeError('Invalid DAG-PB form (bad link object)');\n    }\n    if (!hasOnlyProperties(link, pbLinkProperties)) {\n      throw new TypeError('Invalid DAG-PB form (extraneous properties on link object)');\n    }\n    if (!link.Hash) {\n      throw new TypeError('Invalid DAG-PB form (link must have a Hash)');\n    }\n    if (link.Hash.asCID !== link.Hash) {\n      throw new TypeError('Invalid DAG-PB form (link Hash must be a CID)');\n    }\n    if (link.Name !== undefined && typeof link.Name !== 'string') {\n      throw new TypeError('Invalid DAG-PB form (link Name must be a string)');\n    }\n    if (link.Tsize !== undefined && (typeof link.Tsize !== 'number' || link.Tsize % 1 !== 0)) {\n      throw new TypeError('Invalid DAG-PB form (link Tsize must be an integer)');\n    }\n    if (i > 0 && linkComparator(link, node.Links[i - 1]) === -1) {\n      throw new TypeError('Invalid DAG-PB form (links must be sorted by Name bytes)');\n    }\n  }\n}\nexport function createNode(data, links = []) {\n  return prepare({\n    Data: data,\n    Links: links\n  });\n}\nexport function createLink(name, size, cid) {\n  return asLink({\n    Hash: cid,\n    Name: name,\n    Tsize: size\n  });\n}", "\nimport { CID } from 'multiformats/cid'\nimport { ipfs } from './pin.js'\n// @ts-ignore\nimport fnv1a from 'fnv1a'\nimport varint from 'varint'\nimport * as dagPb from '@ipld/dag-pb'\nimport { DEFAULT_FANOUT, MAX_ITEMS, EMPTY_KEY } from './utils.js'\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat'\nimport { compare as uint8ArrayCompare } from 'uint8arrays/compare'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { sha256 } from 'multiformats/hashes/sha2'\n\nconst PinSet = ipfs.pin.Set\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('@ipld/dag-pb').PBNode} PBNode\n *\n * @typedef {object} Pin\n * @property {CID} key\n * @property {Uint8Array} [data]\n */\n\n/**\n * @param {PBNode} rootNode\n */\nfunction readHeader (rootNode) {\n  // rootNode.data should be a buffer of the format:\n  // < varint(headerLength) | header | itemData... >\n  const rootData = rootNode.Data\n\n  if (!rootData) {\n    throw new Error('No data present')\n  }\n\n  const hdrLength = varint.decode(rootData)\n  const vBytes = varint.decode.bytes\n\n  if (vBytes <= 0) {\n    throw new Error('Invalid Set header length')\n  }\n\n  if (vBytes + hdrLength > rootData.length) {\n    throw new Error('Impossibly large set header length')\n  }\n\n  const hdrSlice = rootData.slice(vBytes, hdrLength + vBytes)\n  const header = PinSet.toObject(PinSet.decode(hdrSlice), {\n    defaults: false,\n    arrays: true,\n    longs: Number,\n    objects: false\n  })\n\n  if (header.version !== 1) {\n    throw new Error(`Unsupported Set version: ${header.version}`)\n  }\n\n  if (header.fanout > rootNode.Links.length) {\n    throw new Error('Impossibly large fanout')\n  }\n\n  return {\n    header: header,\n    data: rootData.slice(hdrLength + vBytes)\n  }\n}\n\n/**\n * @param {number} seed\n * @param {CID} key\n */\nfunction hash (seed, key) {\n  const buffer = new Uint8Array(4)\n  const dataView = new DataView(buffer.buffer)\n  dataView.setUint32(0, seed, true)\n  const encodedKey = uint8ArrayFromString(key.toString())\n  const data = uint8ArrayConcat([buffer, encodedKey], buffer.byteLength + encodedKey.byteLength)\n\n  return fnv1a(uint8ArrayToString(data))\n}\n\n/**\n * @param {Blockstore} blockstore\n * @param {PBNode} node\n * @returns {AsyncGenerator<CID, void, undefined>}\n */\nasync function * walkItems (blockstore, node) {\n  const pbh = readHeader(node)\n  let idx = 0\n\n  for (const link of node.Links) {\n    if (idx < pbh.header.fanout) {\n      // the first pbh.header.fanout links are fanout bins\n      // if a fanout bin is not 'empty', dig into and walk its DAGLinks\n      const linkHash = link.Hash\n\n      if (!EMPTY_KEY.equals(linkHash)) {\n        // walk the links of this fanout bin\n        const buf = await blockstore.get(linkHash)\n        const node = dagPb.decode(buf)\n\n        yield * walkItems(blockstore, node)\n      }\n    } else {\n      // otherwise, the link is a pin\n      yield link.Hash\n    }\n\n    idx++\n  }\n}\n\n/**\n * @param {Blockstore} blockstore\n * @param {PBNode} rootNode\n * @param {string} name\n */\nexport async function * loadSet (blockstore, rootNode, name) {\n  const link = rootNode.Links.find(l => l.Name === name)\n\n  if (!link) {\n    throw new Error('No link found with name ' + name)\n  }\n\n  const buf = await blockstore.get(link.Hash)\n  const node = dagPb.decode(buf)\n\n  yield * walkItems(blockstore, node)\n}\n\n/**\n * @param {Blockstore} blockstore\n * @param {Pin[]} items\n */\nfunction storeItems (blockstore, items) {\n  return storePins(items, 0)\n\n  /**\n   * @param {Pin[]} pins\n   * @param {number} depth\n   */\n  async function storePins (pins, depth) {\n    const pbHeader = PinSet.encode({\n      version: 1,\n      fanout: DEFAULT_FANOUT,\n      seed: depth\n    }).finish()\n\n    const header = varint.encode(pbHeader.length)\n    const headerBuf = uint8ArrayConcat([header, pbHeader])\n    const fanoutLinks = []\n\n    for (let i = 0; i < DEFAULT_FANOUT; i++) {\n      fanoutLinks.push({\n        Name: '',\n        Tsize: 1,\n        Hash: EMPTY_KEY\n      })\n    }\n\n    if (pins.length <= MAX_ITEMS) {\n      const nodes = pins\n        .map(item => {\n          return ({\n            link: {\n              Name: '',\n              Tsize: 1,\n              Hash: item.key\n            },\n            data: item.data || new Uint8Array()\n          })\n        })\n        // sorting makes any ordering of `pins` produce the same DAGNode\n        .sort((a, b) => {\n          return uint8ArrayCompare(a.link.Hash.bytes, b.link.Hash.bytes)\n        })\n\n      const rootLinks = fanoutLinks.concat(nodes.map(item => item.link))\n      const rootData = uint8ArrayConcat([headerBuf, ...nodes.map(item => item.data)])\n\n      return {\n        Data: rootData,\n        Links: rootLinks\n      }\n    } else {\n      // If the array of pins is > MAX_ITEMS, we:\n      //  - distribute the pins among `DEFAULT_FANOUT` bins\n      //    - create a DAGNode for each bin\n      //      - add each pin as a DAGLink to that bin\n      //  - create a root DAGNode\n      //    - add each bin as a DAGLink\n      //  - send that root DAGNode via callback\n      // (using go-ipfs' \"wasteful but simple\" approach for consistency)\n      // https://github.com/ipfs/go-ipfs/blob/master/pin/set.go#L57\n\n      /** @type {Pin[][]} */\n      const bins = pins.reduce((bins, pin) => {\n        const n = hash(depth, pin.key) % DEFAULT_FANOUT\n        // @ts-ignore\n        bins[n] = n in bins ? bins[n].concat([pin]) : [pin]\n        return bins\n      }, [])\n\n      let idx = 0\n      for (const bin of bins) {\n        const child = await storePins(bin, depth + 1)\n\n        await storeChild(child, idx)\n\n        idx++\n      }\n\n      return {\n        Data: headerBuf,\n        Links: fanoutLinks\n      }\n    }\n\n    /**\n     * @param {PBNode} child\n     * @param {number} binIdx\n     */\n    async function storeChild (child, binIdx) {\n      const buf = dagPb.encode(child)\n      const digest = await sha256.digest(buf)\n      const cid = CID.createV0(digest)\n\n      await blockstore.put(cid, buf)\n\n      const size = child.Links.reduce((acc, curr) => acc + (curr.Tsize || 0), 0) + buf.length\n\n      fanoutLinks[binIdx] = {\n        Name: '',\n        Tsize: size,\n        Hash: cid\n      }\n    }\n  }\n}\n\n/**\n * @param {Blockstore} blockstore\n * @param {string} type\n * @param {CID[]} cids\n */\nexport async function storeSet (blockstore, type, cids) {\n  const rootNode = await storeItems(blockstore, cids.map(cid => {\n    return {\n      key: cid\n    }\n  }))\n  const buf = dagPb.encode(rootNode)\n  const digest = await sha256.digest(buf)\n  const cid = CID.createV0(digest)\n\n  await blockstore.put(cid, buf)\n\n  const size = rootNode.Links.reduce((acc, curr) => acc + curr.Tsize, 0) + buf.length\n\n  return {\n    Name: type,\n    Tsize: size,\n    Hash: cid\n  }\n}\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const ipfs = $root.ipfs = (() => {\n\n    /**\n     * Namespace ipfs.\n     * @exports ipfs\n     * @namespace\n     */\n    const ipfs = {};\n\n    ipfs.pin = (function() {\n\n        /**\n         * Namespace pin.\n         * @memberof ipfs\n         * @namespace\n         */\n        const pin = {};\n\n        pin.Set = (function() {\n\n            /**\n             * Properties of a Set.\n             * @memberof ipfs.pin\n             * @interface ISet\n             * @property {number|null} [version] Set version\n             * @property {number|null} [fanout] Set fanout\n             * @property {number|null} [seed] Set seed\n             */\n\n            /**\n             * Constructs a new Set.\n             * @memberof ipfs.pin\n             * @classdesc Represents a Set.\n             * @implements ISet\n             * @constructor\n             * @param {ipfs.pin.ISet=} [p] Properties to set\n             */\n            function Set(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            /**\n             * Set version.\n             * @member {number} version\n             * @memberof ipfs.pin.Set\n             * @instance\n             */\n            Set.prototype.version = 0;\n\n            /**\n             * Set fanout.\n             * @member {number} fanout\n             * @memberof ipfs.pin.Set\n             * @instance\n             */\n            Set.prototype.fanout = 0;\n\n            /**\n             * Set seed.\n             * @member {number} seed\n             * @memberof ipfs.pin.Set\n             * @instance\n             */\n            Set.prototype.seed = 0;\n\n            /**\n             * Encodes the specified Set message. Does not implicitly {@link ipfs.pin.Set.verify|verify} messages.\n             * @function encode\n             * @memberof ipfs.pin.Set\n             * @static\n             * @param {ipfs.pin.ISet} m Set message or plain object to encode\n             * @param {$protobuf.Writer} [w] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            Set.encode = function encode(m, w) {\n                if (!w)\n                    w = $Writer.create();\n                if (m.version != null && Object.hasOwnProperty.call(m, \"version\"))\n                    w.uint32(8).uint32(m.version);\n                if (m.fanout != null && Object.hasOwnProperty.call(m, \"fanout\"))\n                    w.uint32(16).uint32(m.fanout);\n                if (m.seed != null && Object.hasOwnProperty.call(m, \"seed\"))\n                    w.uint32(29).fixed32(m.seed);\n                return w;\n            };\n\n            /**\n             * Decodes a Set message from the specified reader or buffer.\n             * @function decode\n             * @memberof ipfs.pin.Set\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n             * @param {number} [l] Message length if known beforehand\n             * @returns {ipfs.pin.Set} Set\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            Set.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.ipfs.pin.Set();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.version = r.uint32();\n                        break;\n                    case 2:\n                        m.fanout = r.uint32();\n                        break;\n                    case 3:\n                        m.seed = r.fixed32();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a Set message from a plain object. Also converts values to their respective internal types.\n             * @function fromObject\n             * @memberof ipfs.pin.Set\n             * @static\n             * @param {Object.<string,*>} d Plain object\n             * @returns {ipfs.pin.Set} Set\n             */\n            Set.fromObject = function fromObject(d) {\n                if (d instanceof $root.ipfs.pin.Set)\n                    return d;\n                var m = new $root.ipfs.pin.Set();\n                if (d.version != null) {\n                    m.version = d.version >>> 0;\n                }\n                if (d.fanout != null) {\n                    m.fanout = d.fanout >>> 0;\n                }\n                if (d.seed != null) {\n                    m.seed = d.seed >>> 0;\n                }\n                return m;\n            };\n\n            /**\n             * Creates a plain object from a Set message. Also converts values to other types if specified.\n             * @function toObject\n             * @memberof ipfs.pin.Set\n             * @static\n             * @param {ipfs.pin.Set} m Set\n             * @param {$protobuf.IConversionOptions} [o] Conversion options\n             * @returns {Object.<string,*>} Plain object\n             */\n            Set.toObject = function toObject(m, o) {\n                if (!o)\n                    o = {};\n                var d = {};\n                if (o.defaults) {\n                    d.version = 0;\n                    d.fanout = 0;\n                    d.seed = 0;\n                }\n                if (m.version != null && m.hasOwnProperty(\"version\")) {\n                    d.version = m.version;\n                }\n                if (m.fanout != null && m.hasOwnProperty(\"fanout\")) {\n                    d.fanout = m.fanout;\n                }\n                if (m.seed != null && m.hasOwnProperty(\"seed\")) {\n                    d.seed = m.seed;\n                }\n                return d;\n            };\n\n            /**\n             * Converts this Set to JSON.\n             * @function toJSON\n             * @memberof ipfs.pin.Set\n             * @instance\n             * @returns {Object.<string,*>} JSON object\n             */\n            Set.prototype.toJSON = function toJSON() {\n                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n            };\n\n            return Set;\n        })();\n\n        return pin;\n    })();\n\n    return ipfs;\n})();\n\nexport { $root as default };\n", "\nimport { Key } from 'interface-datastore/key'\nimport { base32 } from 'multiformats/bases/base32'\nimport { CID } from 'multiformats/cid'\n\nexport const PIN_DS_KEY = new Key('/local/pins')\nexport const DEFAULT_FANOUT = 256\nexport const MAX_ITEMS = 8192\nexport const EMPTY_KEY = CID.parse('QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n')\n\nexport const PinTypes = {\n  direct: 'direct',\n  recursive: 'recursive'\n}\n\n/**\n * @param {import('multiformats').CID} cid\n */\n export function cidToKey (cid) {\n  return new Key(`/${base32.encode(cid.multihash.bytes).toUpperCase().substring(1)}`)\n}\n", "export function compare(a, b) {\n  for (let i = 0; i < a.byteLength; i++) {\n    if (a[i] < b[i]) {\n      return -1;\n    }\n    if (a[i] > b[i]) {\n      return 1;\n    }\n  }\n  if (a.byteLength > b.byteLength) {\n    return 1;\n  }\n  if (a.byteLength < b.byteLength) {\n    return -1;\n  }\n  return 0;\n}", "\nimport { findLevelJs } from '../../src/utils.js'\nimport { fromString } from 'uint8arrays/from-string'\nimport { toString } from 'uint8arrays/to-string'\n\n/**\n * @typedef {import('../../src/types').Migration} Migration\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('../../src/types').MigrationProgressCallback} MigrationProgressCallback\n *\n * @typedef {{ type: 'del', key: string | Uint8Array } | { type: 'put', key: string | Uint8Array, value: Uint8Array }} Operation\n * @typedef {function (string, Uint8Array): Operation[]} UpgradeFunction\n * @typedef {function (Uint8Array, Uint8Array): Operation[]} DowngradeFunction\n */\n\n/**\n * @param {string} name\n * @param {Datastore} store\n * @param {(message: string) => void} onProgress\n */\nasync function keysToBinary (name, store, onProgress = () => {}) {\n  const db = findLevelJs(store)\n\n  // only interested in level-js\n  if (!db) {\n    onProgress(`${name} did not need an upgrade`)\n\n    return\n  }\n\n  onProgress(`Upgrading ${name}`)\n\n  /**\n   * @type {UpgradeFunction}\n   */\n  const upgrade = (key, value) => {\n    return [\n      { type: 'del', key: key },\n      { type: 'put', key: fromString(key), value: value }\n    ]\n  }\n\n  await withEach(db, upgrade)\n}\n\n/**\n * @param {string} name\n * @param {Datastore} store\n * @param {(message: string) => void} onProgress\n */\nasync function keysToStrings (name, store, onProgress = () => {}) {\n  const db = findLevelJs(store)\n\n  // only interested in level-js\n  if (!db) {\n    onProgress(`${name} did not need a downgrade`)\n\n    return\n  }\n\n  onProgress(`Downgrading ${name}`)\n\n  /**\n   * @type {DowngradeFunction}\n   */\n  const downgrade = (key, value) => {\n    return [\n      { type: 'del', key: key },\n      { type: 'put', key: toString(key), value: value }\n    ]\n  }\n\n  await withEach(db, downgrade)\n}\n\n/**\n * @param {any} store\n * @returns {Datastore}\n */\nfunction unwrap (store) {\n  if (store.child) {\n    return unwrap(store.child)\n  }\n\n  return store\n}\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {MigrationProgressCallback} onProgress\n * @param {*} fn\n */\nasync function process (backends, onProgress, fn) {\n  /**\n   * @type {{ name: string, store: Datastore }[]}\n   */\n  const datastores = Object.entries(backends)\n    .map(([key, backend]) => ({ key, backend: unwrap(backend) }))\n    .filter(({ key, backend }) => backend.constructor.name === 'LevelDatastore')\n    .map(({ key, backend }) => ({\n      name: key,\n      store: backend\n    }))\n\n  onProgress(0, `Migrating ${datastores.length} dbs`)\n  let migrated = 0\n\n  /**\n   * @param {string} message\n   */\n  const progress = (message) => {\n    onProgress(Math.round((migrated / datastores.length) * 100), message)\n  }\n\n  for (const { name, store } of datastores) {\n    await store.open()\n\n    try {\n      await fn(name, store, progress)\n    } finally {\n      migrated++\n      await store.close()\n    }\n  }\n\n  onProgress(100, `Migrated ${datastores.length} dbs`)\n}\n\n/** @type {Migration} */\nexport const migration = {\n  version: 10,\n  description: 'Migrates datastore-level keys to binary',\n  migrate: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, keysToBinary)\n  },\n  revert: (backends, onProgress = () => {}) => {\n    return process(backends, onProgress, keysToStrings)\n  }\n}\n\n/**\n * Uses the upgrade strategy from level-js@5.x.x - note we can't call the `.upgrade` command\n * directly because it will be removed in level-js@6.x.x and we can't guarantee users will\n * have migrated by then - e.g. they may jump from level-js@4.x.x straight to level-js@6.x.x\n * so we have to duplicate the code here.\n *\n * @param {any} db\n * @param {UpgradeFunction | DowngradeFunction} fn\n * @returns {Promise<void>}\n */\nfunction withEach (db, fn) {\n  /**\n   * @param {Operation[]} operations\n   * @param {(error?: Error) => void} next\n   */\n  function batch (operations, next) {\n    const store = db.store('readwrite')\n    const transaction = store.transaction\n    let index = 0\n    /** @type {Error | undefined} */\n    let error\n\n    transaction.onabort = () => next(error || transaction.error || new Error('aborted by user'))\n    transaction.oncomplete = () => next()\n\n    function loop () {\n      const op = operations[index++]\n      const key = op.key\n      let req\n\n      try {\n        req = op.type === 'del' ? store.delete(key) : store.put(op.value, key)\n      } catch (/** @type {any} */ err) {\n        error = err\n        transaction.abort()\n        return\n      }\n\n      if (index < operations.length) {\n        req.onsuccess = loop\n      }\n    }\n\n    loop()\n  }\n\n  return new Promise((resolve, reject) => {\n    const it = db.iterator()\n    // raw keys and values only\n    /**\n     * @template T\n     * @param {T} data\n     */\n    const id = (data) => data\n    it._deserializeKey = it._deserializeValue = id\n    next()\n\n    function next () {\n      /**\n       * @param {Error | undefined} err\n       * @param {string | undefined} key\n       * @param {Uint8Array} value\n       */\n      const handleNext = (err, key, value) => {\n        if (err || key === undefined) {\n          /**\n           * @param {Error | undefined} err2\n           */\n          const handleEnd = (err2) => {\n            if (err2) {\n              reject(err2)\n              return\n            }\n\n            resolve()\n          }\n\n          it.end(handleEnd)\n\n          return\n        }\n\n        // @ts-ignore\n        batch(fn(key, value), next)\n      }\n      it.next(handleNext)\n    }\n  })\n}\n", "\nimport { Key } from 'interface-datastore/key'\nimport { notFoundError } from 'datastore-core/errors'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n */\n\nexport const CONFIG_KEY = new Key('/config')\nexport const VERSION_KEY = new Key('/version')\n\n/**\n * Level dbs wrap level dbs that wrap level dbs. Find a level-js\n * instance in the chain if one exists.\n *\n * @param {Datastore} store\n * @returns {Datastore | undefined}\n */\nexport function findLevelJs (store) {\n  let db = store\n\n  // @ts-ignore\n  while (db.db || db.child) {\n    // @ts-ignore\n    db = db.db || db.child\n\n    // `Level` is only present in the browser, in node it is LevelDOWN\n    // @ts-ignore\n    if (db.type === 'level-js' || db.constructor.name === 'Level') {\n      return db\n    }\n  }\n}\n\n/**\n * @param {Key} key\n * @param {function (Key): Promise<boolean>} has\n * @param {Datastore} store\n * @returns {Promise<boolean>}\n */\nexport async function hasWithFallback (key, has, store) {\n  const result = await has(key)\n\n  if (result) {\n    return result\n  }\n\n  // Newer versions of level.js changed the key type from Uint8Array|string\n  // to Uint8Array  so fall back to trying Uint8Arrays if we are using level.js\n  // and the string version of the key did not work\n  const levelJs = findLevelJs(store)\n\n  if (!levelJs) {\n    return false\n  }\n\n  return new Promise((resolve, reject) => {\n    // drop down to IndexDB API, otherwise level-js will monkey around with the keys/values\n    // @ts-ignore\n    const req = levelJs.store('readonly').get(key.toString())\n    req.transaction.onabort = () => {\n      reject(req.transaction.error)\n    }\n    req.transaction.oncomplete = () => {\n      resolve(Boolean(req.result))\n    }\n  })\n}\n\n/**\n * @param {import('interface-datastore').Key} key\n * @param {function (Key): Promise<Uint8Array>} get\n * @param {function (Key): Promise<boolean>} has\n * @param {import('interface-datastore').Datastore} store\n * @returns {Promise<Uint8Array>}\n */\nasync function getWithFallback (key, get, has, store) {\n  if (await has(key)) {\n    return get(key)\n  }\n\n  // Newer versions of level.js changed the key type from Uint8Array|string\n  // to Uint8Array so fall back to trying Uint8Arrays if we are using level.js\n  // and the string version of the key did not work\n  const levelJs = findLevelJs(store)\n\n  if (!levelJs) {\n    throw notFoundError()\n  }\n\n  return new Promise((resolve, reject) => {\n    // drop down to IndexDB API, otherwise level-js will monkey around with the keys/values\n    // @ts-ignore\n    const req = levelJs.store('readonly').get(key.toString())\n    req.transaction.onabort = () => {\n      reject(req.transaction.error)\n    }\n    req.transaction.oncomplete = () => {\n      if (req.result) {\n        return resolve(req.result)\n      }\n\n      reject(notFoundError())\n    }\n  })\n}\n\n/**\n * @param {Datastore} store\n */\nfunction wrapStore (store) {\n  // necessary since level-js@5 cannot read keys from level-js@4 and earlier\n  const originalGet = store.get.bind(store)\n  const originalHas = store.has.bind(store)\n  /**\n   * @param {Key} key\n   */\n  store.get = (key) => getWithFallback(key, originalGet, originalHas, store)\n  /**\n   * @param {Key} key\n   */\n  store.has = (key) => hasWithFallback(key, originalHas, store)\n\n  return store\n}\n\n/**\n * @param {import('./types').Backends} backends\n */\nexport function wrapBackends (backends) {\n  return {\n    ...backends,\n    root: wrapStore(backends.root),\n    datastore: wrapStore(backends.datastore),\n    pins: wrapStore(backends.pins),\n    keys: wrapStore(backends.keys)\n  }\n}\n", "import errCode from 'err-code'\n\n/**\n * @param {Error} [err]\n */\nexport function dbOpenFailedError (err) {\n  err = err || new Error('Cannot open database')\n  return errCode(err, 'ERR_DB_OPEN_FAILED')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function dbDeleteFailedError (err) {\n  err = err || new Error('Delete failed')\n  return errCode(err, 'ERR_DB_DELETE_FAILED')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function dbWriteFailedError (err) {\n  err = err || new Error('Write failed')\n  return errCode(err, 'ERR_DB_WRITE_FAILED')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function notFoundError (err) {\n  err = err || new Error('Not Found')\n  return errCode(err, 'ERR_NOT_FOUND')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function abortedError (err) {\n  err = err || new Error('Aborted')\n  return errCode(err, 'ERR_ABORTED')\n}\n", "\nimport { Key } from 'interface-datastore/key'\n\nconst MFS_ROOT_KEY = new Key('/local/filesroot')\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {import('../../src/types').MigrationProgressCallback} onProgress\n */\nasync function storeMfsRootInDatastore (backends, onProgress = () => {}) {\n  onProgress(100, 'Migrating MFS root to repo datastore')\n\n  await backends.root.open()\n  await backends.datastore.open()\n\n  if (await backends.root.has(MFS_ROOT_KEY)) {\n    const root = await backends.root.get(MFS_ROOT_KEY)\n    await backends.datastore.put(MFS_ROOT_KEY, root)\n    await backends.root.delete(MFS_ROOT_KEY)\n  }\n\n  await backends.datastore.close()\n  await backends.root.close()\n\n  onProgress(100, 'Stored MFS root in repo datastore')\n}\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {import('../../src/types').MigrationProgressCallback} onProgress\n */\nasync function storeMfsRootInRoot (backends, onProgress = () => {}) {\n  onProgress(100, 'Migrating MFS root to repo root datastore')\n\n  await backends.root.open()\n  await backends.datastore.open()\n\n  if (await backends.datastore.has(MFS_ROOT_KEY)) {\n    const root = await backends.datastore.get(MFS_ROOT_KEY)\n    await backends.root.put(MFS_ROOT_KEY, root)\n    await backends.datastore.delete(MFS_ROOT_KEY)\n  }\n\n  await backends.datastore.close()\n  await backends.root.close()\n\n  onProgress(100, 'Stored MFS root in repo root datastore')\n}\n\n/** @type {import('../../src/types').Migration} */\nexport const migration = {\n  version: 11,\n  description: 'Store mfs root in the datastore',\n  migrate: storeMfsRootInDatastore,\n  revert: storeMfsRootInRoot\n}\n", "import $protobuf from \"protobufjs/minimal.js\"\n\n// @ts-expect-error Explicitly disable long.js support\n$protobuf.util.Long = undefined\n$protobuf.configure()\n\nimport { Key } from 'interface-datastore/key'\nimport { Protocols } from './pb/proto-book.js'\nimport { Addresses } from './pb/address-book.js'\nimport { Peer } from './pb/peer.js'\nimport { Envelope } from './pb/envelope.js'\nimport { PeerRecord } from './pb/peer-record.js'\nimport { Multiaddr } from 'multiaddr'\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {import('../../src/types').MigrationProgressCallback} onProgress\n */\nasync function storePeerUnderSingleDatastoreKey (backends, onProgress = () => {}) {\n  onProgress(0, 'Storing each peerstore key under a single datastore key')\n\n  await backends.datastore.open()\n\n  /** @type {Record<string, any>} */\n  const peers = {}\n  /** @type {Key[]} */\n  const keys = []\n\n  for await (const { key, value } of backends.datastore.query({\n    prefix: '/peers'\n  })) {\n    keys.push(key)\n    const keyStr = key.toString()\n    const [_, prefix, type, peerId, metadataKey] = keyStr.split('/')\n\n    if (prefix !== 'peers') {\n      continue\n    }\n\n    if (!['protos', 'addrs', 'metadata', 'keys'].includes(type)) {\n      continue\n    }\n\n    if (!peerId) {\n      continue\n    }\n\n    peers[peerId] = peers[peerId] || {\n      addresses: [],\n      protocols: [],\n      metadata: []\n    }\n\n    if (type === 'protos') {\n      const protos = Protocols.decode(value)\n\n      peers[peerId].protocols = protos.protocols.sort()\n    } else if (type === 'addrs') {\n      const addrs = Addresses.decode(value)\n\n      peers[peerId].addresses = addrs.addrs.sort((a, b) => {\n        return new Multiaddr(a.multiaddr).toString().localeCompare(new Multiaddr(b.multiaddr).toString())\n      })\n\n      if (addrs.certifiedRecord && addrs.certifiedRecord.raw) {\n        peers[peerId].peerRecordEnvelope = addrs.certifiedRecord.raw\n      }\n    } else if (type === 'metadata') {\n      peers[peerId].metadata.push({ key: metadataKey, value })\n    } else if (type === 'keys') {\n      peers[peerId].pubKey = value\n    }\n  }\n\n  onProgress(33, 'Read peer data from store')\n\n  for (const key of keys) {\n    await backends.datastore.delete(key)\n  }\n\n  onProgress(66, 'Removed existing peer data from store')\n\n  for (const peerId of Object.keys(peers)) {\n    const peer = peers[peerId]\n    peer.metadata = peer.metadata.sort((/** @type {{ key: string }} */ a, /** @type {{ key: string }} */ b) => a.key.localeCompare(b.key))\n\n    const data = Peer.encode(peer).finish()\n\n    await backends.datastore.put(new Key(`/peers/${peerId}`), data)\n  }\n\n  await backends.datastore.close()\n\n  onProgress(100, 'Stored each peerstore key under a single datastore key')\n}\n\n/**\n * @param {import('../../src/types').Backends} backends\n * @param {import('../../src/types').MigrationProgressCallback} onProgress\n */\nasync function storePeerUnderMultipleDatastoreKeys (backends, onProgress = () => {}) {\n  onProgress(0, 'Storing each peerstore key under a multiple datastore keys')\n\n  await backends.datastore.open()\n\n  /** @type {Record<string, any>} */\n  const peers = {}\n  /** @type {Key[]} */\n  const keys = []\n\n  for await (const { key, value } of backends.datastore.query({\n    prefix: '/peers'\n  })) {\n    keys.push(key)\n    const keyStr = key.toString()\n\n    const [_, _prefix, peerId] = keyStr.split('/')\n\n    peers[peerId] = Peer.decode(value)\n  }\n\n  onProgress(33, 'Read peer data from store')\n\n  for (const key of keys) {\n    await backends.datastore.delete(key)\n  }\n\n  onProgress(66, 'Removed existing peer data from store')\n\n  for (const [peerId, peer] of Object.entries(peers)) {\n    if (peer.protocols && peer.protocols.length > 0) {\n      await backends.datastore.put(new Key(`/peers/protos/${peerId}`), Protocols.encode({\n        protocols: peer.protocols\n      }).finish())\n    }\n\n    if (peer.addresses && peer.addresses.length > 0) {\n      const peerRecordEnvelope = peer.peerRecordEnvelope\n      let certifiedRecord\n\n      if (peerRecordEnvelope) {\n        const envelope = Envelope.decode(peerRecordEnvelope)\n        const record = PeerRecord.decode(envelope.payload)\n\n        certifiedRecord = {\n          raw: peerRecordEnvelope,\n          seq: record.seq\n        }\n      }\n\n      await backends.datastore.put(new Key(`/peers/addrs/${peerId}`), Addresses.encode({\n        addrs: peer.addresses,\n        certifiedRecord\n      }).finish())\n    }\n\n    if (peer.metadata && peer.metadata.length > 0) {\n      for (const { key, value } of peer.metadata) {\n        await backends.datastore.put(new Key(`/peers/metadata/${peerId}/${key}`), value)\n      }\n    }\n\n    if (peer.pubKey) {\n      await backends.datastore.put(new Key(`/peers/keys/${peerId}`), peer.pubKey)\n    }\n  }\n\n  await backends.datastore.close()\n\n  onProgress(100, 'Stored each peerstore key under multiple datastore keys')\n}\n\n/** @type {import('../../src/types').Migration} */\nexport const migration = {\n  version: 12,\n  description: 'Store each peerstore peer under a single datastore key',\n  migrate: storePeerUnderSingleDatastoreKey,\n  revert: storePeerUnderMultipleDatastoreKeys\n}\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const Protocols = $root.Protocols = (() => {\n\n    /**\n     * Properties of a Protocols.\n     * @exports IProtocols\n     * @interface IProtocols\n     * @property {Array.<string>|null} [protocols] Protocols protocols\n     */\n\n    /**\n     * Constructs a new Protocols.\n     * @exports Protocols\n     * @classdesc Represents a Protocols.\n     * @implements IProtocols\n     * @constructor\n     * @param {IProtocols=} [p] Properties to set\n     */\n    function Protocols(p) {\n        this.protocols = [];\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Protocols protocols.\n     * @member {Array.<string>} protocols\n     * @memberof Protocols\n     * @instance\n     */\n    Protocols.prototype.protocols = $util.emptyArray;\n\n    /**\n     * Encodes the specified Protocols message. Does not implicitly {@link Protocols.verify|verify} messages.\n     * @function encode\n     * @memberof Protocols\n     * @static\n     * @param {IProtocols} m Protocols message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Protocols.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.protocols != null && m.protocols.length) {\n            for (var i = 0; i < m.protocols.length; ++i)\n                w.uint32(10).string(m.protocols[i]);\n        }\n        return w;\n    };\n\n    /**\n     * Decodes a Protocols message from the specified reader or buffer.\n     * @function decode\n     * @memberof Protocols\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Protocols} Protocols\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Protocols.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Protocols();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                if (!(m.protocols && m.protocols.length))\n                    m.protocols = [];\n                m.protocols.push(r.string());\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a Protocols message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Protocols\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Protocols} Protocols\n     */\n    Protocols.fromObject = function fromObject(d) {\n        if (d instanceof $root.Protocols)\n            return d;\n        var m = new $root.Protocols();\n        if (d.protocols) {\n            if (!Array.isArray(d.protocols))\n                throw TypeError(\".Protocols.protocols: array expected\");\n            m.protocols = [];\n            for (var i = 0; i < d.protocols.length; ++i) {\n                m.protocols[i] = String(d.protocols[i]);\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from a Protocols message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Protocols\n     * @static\n     * @param {Protocols} m Protocols\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Protocols.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.arrays || o.defaults) {\n            d.protocols = [];\n        }\n        if (m.protocols && m.protocols.length) {\n            d.protocols = [];\n            for (var j = 0; j < m.protocols.length; ++j) {\n                d.protocols[j] = m.protocols[j];\n            }\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Protocols to JSON.\n     * @function toJSON\n     * @memberof Protocols\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Protocols.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Protocols;\n})();\n\nexport { $root as default };\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const Addresses = $root.Addresses = (() => {\n\n    /**\n     * Properties of an Addresses.\n     * @exports IAddresses\n     * @interface IAddresses\n     * @property {Array.<Addresses.IAddress>|null} [addrs] Addresses addrs\n     * @property {Addresses.ICertifiedRecord|null} [certifiedRecord] Addresses certifiedRecord\n     */\n\n    /**\n     * Constructs a new Addresses.\n     * @exports Addresses\n     * @classdesc Represents an Addresses.\n     * @implements IAddresses\n     * @constructor\n     * @param {IAddresses=} [p] Properties to set\n     */\n    function Addresses(p) {\n        this.addrs = [];\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Addresses addrs.\n     * @member {Array.<Addresses.IAddress>} addrs\n     * @memberof Addresses\n     * @instance\n     */\n    Addresses.prototype.addrs = $util.emptyArray;\n\n    /**\n     * Addresses certifiedRecord.\n     * @member {Addresses.ICertifiedRecord|null|undefined} certifiedRecord\n     * @memberof Addresses\n     * @instance\n     */\n    Addresses.prototype.certifiedRecord = null;\n\n    /**\n     * Encodes the specified Addresses message. Does not implicitly {@link Addresses.verify|verify} messages.\n     * @function encode\n     * @memberof Addresses\n     * @static\n     * @param {IAddresses} m Addresses message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Addresses.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.addrs != null && m.addrs.length) {\n            for (var i = 0; i < m.addrs.length; ++i)\n                $root.Addresses.Address.encode(m.addrs[i], w.uint32(10).fork()).ldelim();\n        }\n        if (m.certifiedRecord != null && Object.hasOwnProperty.call(m, \"certifiedRecord\"))\n            $root.Addresses.CertifiedRecord.encode(m.certifiedRecord, w.uint32(18).fork()).ldelim();\n        return w;\n    };\n\n    /**\n     * Decodes an Addresses message from the specified reader or buffer.\n     * @function decode\n     * @memberof Addresses\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Addresses} Addresses\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Addresses.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Addresses();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                if (!(m.addrs && m.addrs.length))\n                    m.addrs = [];\n                m.addrs.push($root.Addresses.Address.decode(r, r.uint32()));\n                break;\n            case 2:\n                m.certifiedRecord = $root.Addresses.CertifiedRecord.decode(r, r.uint32());\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates an Addresses message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Addresses\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Addresses} Addresses\n     */\n    Addresses.fromObject = function fromObject(d) {\n        if (d instanceof $root.Addresses)\n            return d;\n        var m = new $root.Addresses();\n        if (d.addrs) {\n            if (!Array.isArray(d.addrs))\n                throw TypeError(\".Addresses.addrs: array expected\");\n            m.addrs = [];\n            for (var i = 0; i < d.addrs.length; ++i) {\n                if (typeof d.addrs[i] !== \"object\")\n                    throw TypeError(\".Addresses.addrs: object expected\");\n                m.addrs[i] = $root.Addresses.Address.fromObject(d.addrs[i]);\n            }\n        }\n        if (d.certifiedRecord != null) {\n            if (typeof d.certifiedRecord !== \"object\")\n                throw TypeError(\".Addresses.certifiedRecord: object expected\");\n            m.certifiedRecord = $root.Addresses.CertifiedRecord.fromObject(d.certifiedRecord);\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from an Addresses message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Addresses\n     * @static\n     * @param {Addresses} m Addresses\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Addresses.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.arrays || o.defaults) {\n            d.addrs = [];\n        }\n        if (o.defaults) {\n            d.certifiedRecord = null;\n        }\n        if (m.addrs && m.addrs.length) {\n            d.addrs = [];\n            for (var j = 0; j < m.addrs.length; ++j) {\n                d.addrs[j] = $root.Addresses.Address.toObject(m.addrs[j], o);\n            }\n        }\n        if (m.certifiedRecord != null && m.hasOwnProperty(\"certifiedRecord\")) {\n            d.certifiedRecord = $root.Addresses.CertifiedRecord.toObject(m.certifiedRecord, o);\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Addresses to JSON.\n     * @function toJSON\n     * @memberof Addresses\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Addresses.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    Addresses.Address = (function() {\n\n        /**\n         * Properties of an Address.\n         * @memberof Addresses\n         * @interface IAddress\n         * @property {Uint8Array|null} [multiaddr] Address multiaddr\n         * @property {boolean|null} [isCertified] Address isCertified\n         */\n\n        /**\n         * Constructs a new Address.\n         * @memberof Addresses\n         * @classdesc Represents an Address.\n         * @implements IAddress\n         * @constructor\n         * @param {Addresses.IAddress=} [p] Properties to set\n         */\n        function Address(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        /**\n         * Address multiaddr.\n         * @member {Uint8Array} multiaddr\n         * @memberof Addresses.Address\n         * @instance\n         */\n        Address.prototype.multiaddr = $util.newBuffer([]);\n\n        /**\n         * Address isCertified.\n         * @member {boolean|null|undefined} isCertified\n         * @memberof Addresses.Address\n         * @instance\n         */\n        Address.prototype.isCertified = null;\n\n        // OneOf field names bound to virtual getters and setters\n        let $oneOfFields;\n\n        /**\n         * Address _isCertified.\n         * @member {\"isCertified\"|undefined} _isCertified\n         * @memberof Addresses.Address\n         * @instance\n         */\n        Object.defineProperty(Address.prototype, \"_isCertified\", {\n            get: $util.oneOfGetter($oneOfFields = [\"isCertified\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified Address message. Does not implicitly {@link Addresses.Address.verify|verify} messages.\n         * @function encode\n         * @memberof Addresses.Address\n         * @static\n         * @param {Addresses.IAddress} m Address message or plain object to encode\n         * @param {$protobuf.Writer} [w] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        Address.encode = function encode(m, w) {\n            if (!w)\n                w = $Writer.create();\n            if (m.multiaddr != null && Object.hasOwnProperty.call(m, \"multiaddr\"))\n                w.uint32(10).bytes(m.multiaddr);\n            if (m.isCertified != null && Object.hasOwnProperty.call(m, \"isCertified\"))\n                w.uint32(16).bool(m.isCertified);\n            return w;\n        };\n\n        /**\n         * Decodes an Address message from the specified reader or buffer.\n         * @function decode\n         * @memberof Addresses.Address\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n         * @param {number} [l] Message length if known beforehand\n         * @returns {Addresses.Address} Address\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        Address.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.Addresses.Address();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.multiaddr = r.bytes();\n                    break;\n                case 2:\n                    m.isCertified = r.bool();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        /**\n         * Creates an Address message from a plain object. Also converts values to their respective internal types.\n         * @function fromObject\n         * @memberof Addresses.Address\n         * @static\n         * @param {Object.<string,*>} d Plain object\n         * @returns {Addresses.Address} Address\n         */\n        Address.fromObject = function fromObject(d) {\n            if (d instanceof $root.Addresses.Address)\n                return d;\n            var m = new $root.Addresses.Address();\n            if (d.multiaddr != null) {\n                if (typeof d.multiaddr === \"string\")\n                    $util.base64.decode(d.multiaddr, m.multiaddr = $util.newBuffer($util.base64.length(d.multiaddr)), 0);\n                else if (d.multiaddr.length)\n                    m.multiaddr = d.multiaddr;\n            }\n            if (d.isCertified != null) {\n                m.isCertified = Boolean(d.isCertified);\n            }\n            return m;\n        };\n\n        /**\n         * Creates a plain object from an Address message. Also converts values to other types if specified.\n         * @function toObject\n         * @memberof Addresses.Address\n         * @static\n         * @param {Addresses.Address} m Address\n         * @param {$protobuf.IConversionOptions} [o] Conversion options\n         * @returns {Object.<string,*>} Plain object\n         */\n        Address.toObject = function toObject(m, o) {\n            if (!o)\n                o = {};\n            var d = {};\n            if (o.defaults) {\n                if (o.bytes === String)\n                    d.multiaddr = \"\";\n                else {\n                    d.multiaddr = [];\n                    if (o.bytes !== Array)\n                        d.multiaddr = $util.newBuffer(d.multiaddr);\n                }\n            }\n            if (m.multiaddr != null && m.hasOwnProperty(\"multiaddr\")) {\n                d.multiaddr = o.bytes === String ? $util.base64.encode(m.multiaddr, 0, m.multiaddr.length) : o.bytes === Array ? Array.prototype.slice.call(m.multiaddr) : m.multiaddr;\n            }\n            if (m.isCertified != null && m.hasOwnProperty(\"isCertified\")) {\n                d.isCertified = m.isCertified;\n                if (o.oneofs)\n                    d._isCertified = \"isCertified\";\n            }\n            return d;\n        };\n\n        /**\n         * Converts this Address to JSON.\n         * @function toJSON\n         * @memberof Addresses.Address\n         * @instance\n         * @returns {Object.<string,*>} JSON object\n         */\n        Address.prototype.toJSON = function toJSON() {\n            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n        };\n\n        return Address;\n    })();\n\n    Addresses.CertifiedRecord = (function() {\n\n        /**\n         * Properties of a CertifiedRecord.\n         * @memberof Addresses\n         * @interface ICertifiedRecord\n         * @property {number|null} [seq] CertifiedRecord seq\n         * @property {Uint8Array|null} [raw] CertifiedRecord raw\n         */\n\n        /**\n         * Constructs a new CertifiedRecord.\n         * @memberof Addresses\n         * @classdesc Represents a CertifiedRecord.\n         * @implements ICertifiedRecord\n         * @constructor\n         * @param {Addresses.ICertifiedRecord=} [p] Properties to set\n         */\n        function CertifiedRecord(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        /**\n         * CertifiedRecord seq.\n         * @member {number} seq\n         * @memberof Addresses.CertifiedRecord\n         * @instance\n         */\n        CertifiedRecord.prototype.seq = $util.Long ? $util.Long.fromBits(0,0,true) : 0;\n\n        /**\n         * CertifiedRecord raw.\n         * @member {Uint8Array} raw\n         * @memberof Addresses.CertifiedRecord\n         * @instance\n         */\n        CertifiedRecord.prototype.raw = $util.newBuffer([]);\n\n        /**\n         * Encodes the specified CertifiedRecord message. Does not implicitly {@link Addresses.CertifiedRecord.verify|verify} messages.\n         * @function encode\n         * @memberof Addresses.CertifiedRecord\n         * @static\n         * @param {Addresses.ICertifiedRecord} m CertifiedRecord message or plain object to encode\n         * @param {$protobuf.Writer} [w] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        CertifiedRecord.encode = function encode(m, w) {\n            if (!w)\n                w = $Writer.create();\n            if (m.seq != null && Object.hasOwnProperty.call(m, \"seq\"))\n                w.uint32(8).uint64(m.seq);\n            if (m.raw != null && Object.hasOwnProperty.call(m, \"raw\"))\n                w.uint32(18).bytes(m.raw);\n            return w;\n        };\n\n        /**\n         * Decodes a CertifiedRecord message from the specified reader or buffer.\n         * @function decode\n         * @memberof Addresses.CertifiedRecord\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n         * @param {number} [l] Message length if known beforehand\n         * @returns {Addresses.CertifiedRecord} CertifiedRecord\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        CertifiedRecord.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.Addresses.CertifiedRecord();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.seq = r.uint64();\n                    break;\n                case 2:\n                    m.raw = r.bytes();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        /**\n         * Creates a CertifiedRecord message from a plain object. Also converts values to their respective internal types.\n         * @function fromObject\n         * @memberof Addresses.CertifiedRecord\n         * @static\n         * @param {Object.<string,*>} d Plain object\n         * @returns {Addresses.CertifiedRecord} CertifiedRecord\n         */\n        CertifiedRecord.fromObject = function fromObject(d) {\n            if (d instanceof $root.Addresses.CertifiedRecord)\n                return d;\n            var m = new $root.Addresses.CertifiedRecord();\n            if (d.seq != null) {\n                if ($util.Long)\n                    (m.seq = $util.Long.fromValue(d.seq)).unsigned = true;\n                else if (typeof d.seq === \"string\")\n                    m.seq = parseInt(d.seq, 10);\n                else if (typeof d.seq === \"number\")\n                    m.seq = d.seq;\n                else if (typeof d.seq === \"object\")\n                    m.seq = new $util.LongBits(d.seq.low >>> 0, d.seq.high >>> 0).toNumber(true);\n            }\n            if (d.raw != null) {\n                if (typeof d.raw === \"string\")\n                    $util.base64.decode(d.raw, m.raw = $util.newBuffer($util.base64.length(d.raw)), 0);\n                else if (d.raw.length)\n                    m.raw = d.raw;\n            }\n            return m;\n        };\n\n        /**\n         * Creates a plain object from a CertifiedRecord message. Also converts values to other types if specified.\n         * @function toObject\n         * @memberof Addresses.CertifiedRecord\n         * @static\n         * @param {Addresses.CertifiedRecord} m CertifiedRecord\n         * @param {$protobuf.IConversionOptions} [o] Conversion options\n         * @returns {Object.<string,*>} Plain object\n         */\n        CertifiedRecord.toObject = function toObject(m, o) {\n            if (!o)\n                o = {};\n            var d = {};\n            if (o.defaults) {\n                if ($util.Long) {\n                    var n = new $util.Long(0, 0, true);\n                    d.seq = o.longs === String ? n.toString() : o.longs === Number ? n.toNumber() : n;\n                } else\n                    d.seq = o.longs === String ? \"0\" : 0;\n                if (o.bytes === String)\n                    d.raw = \"\";\n                else {\n                    d.raw = [];\n                    if (o.bytes !== Array)\n                        d.raw = $util.newBuffer(d.raw);\n                }\n            }\n            if (m.seq != null && m.hasOwnProperty(\"seq\")) {\n                if (typeof m.seq === \"number\")\n                    d.seq = o.longs === String ? String(m.seq) : m.seq;\n                else\n                    d.seq = o.longs === String ? $util.Long.prototype.toString.call(m.seq) : o.longs === Number ? new $util.LongBits(m.seq.low >>> 0, m.seq.high >>> 0).toNumber(true) : m.seq;\n            }\n            if (m.raw != null && m.hasOwnProperty(\"raw\")) {\n                d.raw = o.bytes === String ? $util.base64.encode(m.raw, 0, m.raw.length) : o.bytes === Array ? Array.prototype.slice.call(m.raw) : m.raw;\n            }\n            return d;\n        };\n\n        /**\n         * Converts this CertifiedRecord to JSON.\n         * @function toJSON\n         * @memberof Addresses.CertifiedRecord\n         * @instance\n         * @returns {Object.<string,*>} JSON object\n         */\n        CertifiedRecord.prototype.toJSON = function toJSON() {\n            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n        };\n\n        return CertifiedRecord;\n    })();\n\n    return Addresses;\n})();\n\nexport { $root as default };\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const Peer = $root.Peer = (() => {\n\n    /**\n     * Properties of a Peer.\n     * @exports IPeer\n     * @interface IPeer\n     * @property {Array.<IAddress>|null} [addresses] Peer addresses\n     * @property {Array.<string>|null} [protocols] Peer protocols\n     * @property {Array.<IMetadata>|null} [metadata] Peer metadata\n     * @property {Uint8Array|null} [pubKey] Peer pubKey\n     * @property {Uint8Array|null} [peerRecordEnvelope] Peer peerRecordEnvelope\n     */\n\n    /**\n     * Constructs a new Peer.\n     * @exports Peer\n     * @classdesc Represents a Peer.\n     * @implements IPeer\n     * @constructor\n     * @param {IPeer=} [p] Properties to set\n     */\n    function Peer(p) {\n        this.addresses = [];\n        this.protocols = [];\n        this.metadata = [];\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Peer addresses.\n     * @member {Array.<IAddress>} addresses\n     * @memberof Peer\n     * @instance\n     */\n    Peer.prototype.addresses = $util.emptyArray;\n\n    /**\n     * Peer protocols.\n     * @member {Array.<string>} protocols\n     * @memberof Peer\n     * @instance\n     */\n    Peer.prototype.protocols = $util.emptyArray;\n\n    /**\n     * Peer metadata.\n     * @member {Array.<IMetadata>} metadata\n     * @memberof Peer\n     * @instance\n     */\n    Peer.prototype.metadata = $util.emptyArray;\n\n    /**\n     * Peer pubKey.\n     * @member {Uint8Array|null|undefined} pubKey\n     * @memberof Peer\n     * @instance\n     */\n    Peer.prototype.pubKey = null;\n\n    /**\n     * Peer peerRecordEnvelope.\n     * @member {Uint8Array|null|undefined} peerRecordEnvelope\n     * @memberof Peer\n     * @instance\n     */\n    Peer.prototype.peerRecordEnvelope = null;\n\n    // OneOf field names bound to virtual getters and setters\n    let $oneOfFields;\n\n    /**\n     * Peer _pubKey.\n     * @member {\"pubKey\"|undefined} _pubKey\n     * @memberof Peer\n     * @instance\n     */\n    Object.defineProperty(Peer.prototype, \"_pubKey\", {\n        get: $util.oneOfGetter($oneOfFields = [\"pubKey\"]),\n        set: $util.oneOfSetter($oneOfFields)\n    });\n\n    /**\n     * Peer _peerRecordEnvelope.\n     * @member {\"peerRecordEnvelope\"|undefined} _peerRecordEnvelope\n     * @memberof Peer\n     * @instance\n     */\n    Object.defineProperty(Peer.prototype, \"_peerRecordEnvelope\", {\n        get: $util.oneOfGetter($oneOfFields = [\"peerRecordEnvelope\"]),\n        set: $util.oneOfSetter($oneOfFields)\n    });\n\n    /**\n     * Encodes the specified Peer message. Does not implicitly {@link Peer.verify|verify} messages.\n     * @function encode\n     * @memberof Peer\n     * @static\n     * @param {IPeer} m Peer message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Peer.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.addresses != null && m.addresses.length) {\n            for (var i = 0; i < m.addresses.length; ++i)\n                $root.Address.encode(m.addresses[i], w.uint32(10).fork()).ldelim();\n        }\n        if (m.protocols != null && m.protocols.length) {\n            for (var i = 0; i < m.protocols.length; ++i)\n                w.uint32(18).string(m.protocols[i]);\n        }\n        if (m.metadata != null && m.metadata.length) {\n            for (var i = 0; i < m.metadata.length; ++i)\n                $root.Metadata.encode(m.metadata[i], w.uint32(26).fork()).ldelim();\n        }\n        if (m.pubKey != null && Object.hasOwnProperty.call(m, \"pubKey\"))\n            w.uint32(34).bytes(m.pubKey);\n        if (m.peerRecordEnvelope != null && Object.hasOwnProperty.call(m, \"peerRecordEnvelope\"))\n            w.uint32(42).bytes(m.peerRecordEnvelope);\n        return w;\n    };\n\n    /**\n     * Decodes a Peer message from the specified reader or buffer.\n     * @function decode\n     * @memberof Peer\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Peer} Peer\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Peer.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Peer();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                if (!(m.addresses && m.addresses.length))\n                    m.addresses = [];\n                m.addresses.push($root.Address.decode(r, r.uint32()));\n                break;\n            case 2:\n                if (!(m.protocols && m.protocols.length))\n                    m.protocols = [];\n                m.protocols.push(r.string());\n                break;\n            case 3:\n                if (!(m.metadata && m.metadata.length))\n                    m.metadata = [];\n                m.metadata.push($root.Metadata.decode(r, r.uint32()));\n                break;\n            case 4:\n                m.pubKey = r.bytes();\n                break;\n            case 5:\n                m.peerRecordEnvelope = r.bytes();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a Peer message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Peer\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Peer} Peer\n     */\n    Peer.fromObject = function fromObject(d) {\n        if (d instanceof $root.Peer)\n            return d;\n        var m = new $root.Peer();\n        if (d.addresses) {\n            if (!Array.isArray(d.addresses))\n                throw TypeError(\".Peer.addresses: array expected\");\n            m.addresses = [];\n            for (var i = 0; i < d.addresses.length; ++i) {\n                if (typeof d.addresses[i] !== \"object\")\n                    throw TypeError(\".Peer.addresses: object expected\");\n                m.addresses[i] = $root.Address.fromObject(d.addresses[i]);\n            }\n        }\n        if (d.protocols) {\n            if (!Array.isArray(d.protocols))\n                throw TypeError(\".Peer.protocols: array expected\");\n            m.protocols = [];\n            for (var i = 0; i < d.protocols.length; ++i) {\n                m.protocols[i] = String(d.protocols[i]);\n            }\n        }\n        if (d.metadata) {\n            if (!Array.isArray(d.metadata))\n                throw TypeError(\".Peer.metadata: array expected\");\n            m.metadata = [];\n            for (var i = 0; i < d.metadata.length; ++i) {\n                if (typeof d.metadata[i] !== \"object\")\n                    throw TypeError(\".Peer.metadata: object expected\");\n                m.metadata[i] = $root.Metadata.fromObject(d.metadata[i]);\n            }\n        }\n        if (d.pubKey != null) {\n            if (typeof d.pubKey === \"string\")\n                $util.base64.decode(d.pubKey, m.pubKey = $util.newBuffer($util.base64.length(d.pubKey)), 0);\n            else if (d.pubKey.length)\n                m.pubKey = d.pubKey;\n        }\n        if (d.peerRecordEnvelope != null) {\n            if (typeof d.peerRecordEnvelope === \"string\")\n                $util.base64.decode(d.peerRecordEnvelope, m.peerRecordEnvelope = $util.newBuffer($util.base64.length(d.peerRecordEnvelope)), 0);\n            else if (d.peerRecordEnvelope.length)\n                m.peerRecordEnvelope = d.peerRecordEnvelope;\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from a Peer message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Peer\n     * @static\n     * @param {Peer} m Peer\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Peer.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.arrays || o.defaults) {\n            d.addresses = [];\n            d.protocols = [];\n            d.metadata = [];\n        }\n        if (m.addresses && m.addresses.length) {\n            d.addresses = [];\n            for (var j = 0; j < m.addresses.length; ++j) {\n                d.addresses[j] = $root.Address.toObject(m.addresses[j], o);\n            }\n        }\n        if (m.protocols && m.protocols.length) {\n            d.protocols = [];\n            for (var j = 0; j < m.protocols.length; ++j) {\n                d.protocols[j] = m.protocols[j];\n            }\n        }\n        if (m.metadata && m.metadata.length) {\n            d.metadata = [];\n            for (var j = 0; j < m.metadata.length; ++j) {\n                d.metadata[j] = $root.Metadata.toObject(m.metadata[j], o);\n            }\n        }\n        if (m.pubKey != null && m.hasOwnProperty(\"pubKey\")) {\n            d.pubKey = o.bytes === String ? $util.base64.encode(m.pubKey, 0, m.pubKey.length) : o.bytes === Array ? Array.prototype.slice.call(m.pubKey) : m.pubKey;\n            if (o.oneofs)\n                d._pubKey = \"pubKey\";\n        }\n        if (m.peerRecordEnvelope != null && m.hasOwnProperty(\"peerRecordEnvelope\")) {\n            d.peerRecordEnvelope = o.bytes === String ? $util.base64.encode(m.peerRecordEnvelope, 0, m.peerRecordEnvelope.length) : o.bytes === Array ? Array.prototype.slice.call(m.peerRecordEnvelope) : m.peerRecordEnvelope;\n            if (o.oneofs)\n                d._peerRecordEnvelope = \"peerRecordEnvelope\";\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Peer to JSON.\n     * @function toJSON\n     * @memberof Peer\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Peer.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Peer;\n})();\n\nexport const Address = $root.Address = (() => {\n\n    /**\n     * Properties of an Address.\n     * @exports IAddress\n     * @interface IAddress\n     * @property {Uint8Array|null} [multiaddr] Address multiaddr\n     * @property {boolean|null} [isCertified] Address isCertified\n     */\n\n    /**\n     * Constructs a new Address.\n     * @exports Address\n     * @classdesc Represents an Address.\n     * @implements IAddress\n     * @constructor\n     * @param {IAddress=} [p] Properties to set\n     */\n    function Address(p) {\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Address multiaddr.\n     * @member {Uint8Array} multiaddr\n     * @memberof Address\n     * @instance\n     */\n    Address.prototype.multiaddr = $util.newBuffer([]);\n\n    /**\n     * Address isCertified.\n     * @member {boolean|null|undefined} isCertified\n     * @memberof Address\n     * @instance\n     */\n    Address.prototype.isCertified = null;\n\n    // OneOf field names bound to virtual getters and setters\n    let $oneOfFields;\n\n    /**\n     * Address _isCertified.\n     * @member {\"isCertified\"|undefined} _isCertified\n     * @memberof Address\n     * @instance\n     */\n    Object.defineProperty(Address.prototype, \"_isCertified\", {\n        get: $util.oneOfGetter($oneOfFields = [\"isCertified\"]),\n        set: $util.oneOfSetter($oneOfFields)\n    });\n\n    /**\n     * Encodes the specified Address message. Does not implicitly {@link Address.verify|verify} messages.\n     * @function encode\n     * @memberof Address\n     * @static\n     * @param {IAddress} m Address message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Address.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.multiaddr != null && Object.hasOwnProperty.call(m, \"multiaddr\"))\n            w.uint32(10).bytes(m.multiaddr);\n        if (m.isCertified != null && Object.hasOwnProperty.call(m, \"isCertified\"))\n            w.uint32(16).bool(m.isCertified);\n        return w;\n    };\n\n    /**\n     * Decodes an Address message from the specified reader or buffer.\n     * @function decode\n     * @memberof Address\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Address} Address\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Address.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Address();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                m.multiaddr = r.bytes();\n                break;\n            case 2:\n                m.isCertified = r.bool();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates an Address message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Address\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Address} Address\n     */\n    Address.fromObject = function fromObject(d) {\n        if (d instanceof $root.Address)\n            return d;\n        var m = new $root.Address();\n        if (d.multiaddr != null) {\n            if (typeof d.multiaddr === \"string\")\n                $util.base64.decode(d.multiaddr, m.multiaddr = $util.newBuffer($util.base64.length(d.multiaddr)), 0);\n            else if (d.multiaddr.length)\n                m.multiaddr = d.multiaddr;\n        }\n        if (d.isCertified != null) {\n            m.isCertified = Boolean(d.isCertified);\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from an Address message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Address\n     * @static\n     * @param {Address} m Address\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Address.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.defaults) {\n            if (o.bytes === String)\n                d.multiaddr = \"\";\n            else {\n                d.multiaddr = [];\n                if (o.bytes !== Array)\n                    d.multiaddr = $util.newBuffer(d.multiaddr);\n            }\n        }\n        if (m.multiaddr != null && m.hasOwnProperty(\"multiaddr\")) {\n            d.multiaddr = o.bytes === String ? $util.base64.encode(m.multiaddr, 0, m.multiaddr.length) : o.bytes === Array ? Array.prototype.slice.call(m.multiaddr) : m.multiaddr;\n        }\n        if (m.isCertified != null && m.hasOwnProperty(\"isCertified\")) {\n            d.isCertified = m.isCertified;\n            if (o.oneofs)\n                d._isCertified = \"isCertified\";\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Address to JSON.\n     * @function toJSON\n     * @memberof Address\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Address.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Address;\n})();\n\nexport const Metadata = $root.Metadata = (() => {\n\n    /**\n     * Properties of a Metadata.\n     * @exports IMetadata\n     * @interface IMetadata\n     * @property {string|null} [key] Metadata key\n     * @property {Uint8Array|null} [value] Metadata value\n     */\n\n    /**\n     * Constructs a new Metadata.\n     * @exports Metadata\n     * @classdesc Represents a Metadata.\n     * @implements IMetadata\n     * @constructor\n     * @param {IMetadata=} [p] Properties to set\n     */\n    function Metadata(p) {\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Metadata key.\n     * @member {string} key\n     * @memberof Metadata\n     * @instance\n     */\n    Metadata.prototype.key = \"\";\n\n    /**\n     * Metadata value.\n     * @member {Uint8Array} value\n     * @memberof Metadata\n     * @instance\n     */\n    Metadata.prototype.value = $util.newBuffer([]);\n\n    /**\n     * Encodes the specified Metadata message. Does not implicitly {@link Metadata.verify|verify} messages.\n     * @function encode\n     * @memberof Metadata\n     * @static\n     * @param {IMetadata} m Metadata message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Metadata.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.key != null && Object.hasOwnProperty.call(m, \"key\"))\n            w.uint32(10).string(m.key);\n        if (m.value != null && Object.hasOwnProperty.call(m, \"value\"))\n            w.uint32(18).bytes(m.value);\n        return w;\n    };\n\n    /**\n     * Decodes a Metadata message from the specified reader or buffer.\n     * @function decode\n     * @memberof Metadata\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Metadata} Metadata\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Metadata.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Metadata();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                m.key = r.string();\n                break;\n            case 2:\n                m.value = r.bytes();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a Metadata message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Metadata\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Metadata} Metadata\n     */\n    Metadata.fromObject = function fromObject(d) {\n        if (d instanceof $root.Metadata)\n            return d;\n        var m = new $root.Metadata();\n        if (d.key != null) {\n            m.key = String(d.key);\n        }\n        if (d.value != null) {\n            if (typeof d.value === \"string\")\n                $util.base64.decode(d.value, m.value = $util.newBuffer($util.base64.length(d.value)), 0);\n            else if (d.value.length)\n                m.value = d.value;\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from a Metadata message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Metadata\n     * @static\n     * @param {Metadata} m Metadata\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Metadata.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.defaults) {\n            d.key = \"\";\n            if (o.bytes === String)\n                d.value = \"\";\n            else {\n                d.value = [];\n                if (o.bytes !== Array)\n                    d.value = $util.newBuffer(d.value);\n            }\n        }\n        if (m.key != null && m.hasOwnProperty(\"key\")) {\n            d.key = m.key;\n        }\n        if (m.value != null && m.hasOwnProperty(\"value\")) {\n            d.value = o.bytes === String ? $util.base64.encode(m.value, 0, m.value.length) : o.bytes === Array ? Array.prototype.slice.call(m.value) : m.value;\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Metadata to JSON.\n     * @function toJSON\n     * @memberof Metadata\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Metadata.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Metadata;\n})();\n\nexport { $root as default };\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const Envelope = $root.Envelope = (() => {\n\n    /**\n     * Properties of an Envelope.\n     * @exports IEnvelope\n     * @interface IEnvelope\n     * @property {Uint8Array|null} [publicKey] Envelope publicKey\n     * @property {Uint8Array|null} [payloadType] Envelope payloadType\n     * @property {Uint8Array|null} [payload] Envelope payload\n     * @property {Uint8Array|null} [signature] Envelope signature\n     */\n\n    /**\n     * Constructs a new Envelope.\n     * @exports Envelope\n     * @classdesc Represents an Envelope.\n     * @implements IEnvelope\n     * @constructor\n     * @param {IEnvelope=} [p] Properties to set\n     */\n    function Envelope(p) {\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * Envelope publicKey.\n     * @member {Uint8Array} publicKey\n     * @memberof Envelope\n     * @instance\n     */\n    Envelope.prototype.publicKey = $util.newBuffer([]);\n\n    /**\n     * Envelope payloadType.\n     * @member {Uint8Array} payloadType\n     * @memberof Envelope\n     * @instance\n     */\n    Envelope.prototype.payloadType = $util.newBuffer([]);\n\n    /**\n     * Envelope payload.\n     * @member {Uint8Array} payload\n     * @memberof Envelope\n     * @instance\n     */\n    Envelope.prototype.payload = $util.newBuffer([]);\n\n    /**\n     * Envelope signature.\n     * @member {Uint8Array} signature\n     * @memberof Envelope\n     * @instance\n     */\n    Envelope.prototype.signature = $util.newBuffer([]);\n\n    /**\n     * Encodes the specified Envelope message. Does not implicitly {@link Envelope.verify|verify} messages.\n     * @function encode\n     * @memberof Envelope\n     * @static\n     * @param {IEnvelope} m Envelope message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    Envelope.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.publicKey != null && Object.hasOwnProperty.call(m, \"publicKey\"))\n            w.uint32(10).bytes(m.publicKey);\n        if (m.payloadType != null && Object.hasOwnProperty.call(m, \"payloadType\"))\n            w.uint32(18).bytes(m.payloadType);\n        if (m.payload != null && Object.hasOwnProperty.call(m, \"payload\"))\n            w.uint32(26).bytes(m.payload);\n        if (m.signature != null && Object.hasOwnProperty.call(m, \"signature\"))\n            w.uint32(42).bytes(m.signature);\n        return w;\n    };\n\n    /**\n     * Decodes an Envelope message from the specified reader or buffer.\n     * @function decode\n     * @memberof Envelope\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {Envelope} Envelope\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    Envelope.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.Envelope();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                m.publicKey = r.bytes();\n                break;\n            case 2:\n                m.payloadType = r.bytes();\n                break;\n            case 3:\n                m.payload = r.bytes();\n                break;\n            case 5:\n                m.signature = r.bytes();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates an Envelope message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof Envelope\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {Envelope} Envelope\n     */\n    Envelope.fromObject = function fromObject(d) {\n        if (d instanceof $root.Envelope)\n            return d;\n        var m = new $root.Envelope();\n        if (d.publicKey != null) {\n            if (typeof d.publicKey === \"string\")\n                $util.base64.decode(d.publicKey, m.publicKey = $util.newBuffer($util.base64.length(d.publicKey)), 0);\n            else if (d.publicKey.length)\n                m.publicKey = d.publicKey;\n        }\n        if (d.payloadType != null) {\n            if (typeof d.payloadType === \"string\")\n                $util.base64.decode(d.payloadType, m.payloadType = $util.newBuffer($util.base64.length(d.payloadType)), 0);\n            else if (d.payloadType.length)\n                m.payloadType = d.payloadType;\n        }\n        if (d.payload != null) {\n            if (typeof d.payload === \"string\")\n                $util.base64.decode(d.payload, m.payload = $util.newBuffer($util.base64.length(d.payload)), 0);\n            else if (d.payload.length)\n                m.payload = d.payload;\n        }\n        if (d.signature != null) {\n            if (typeof d.signature === \"string\")\n                $util.base64.decode(d.signature, m.signature = $util.newBuffer($util.base64.length(d.signature)), 0);\n            else if (d.signature.length)\n                m.signature = d.signature;\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from an Envelope message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof Envelope\n     * @static\n     * @param {Envelope} m Envelope\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    Envelope.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.defaults) {\n            if (o.bytes === String)\n                d.publicKey = \"\";\n            else {\n                d.publicKey = [];\n                if (o.bytes !== Array)\n                    d.publicKey = $util.newBuffer(d.publicKey);\n            }\n            if (o.bytes === String)\n                d.payloadType = \"\";\n            else {\n                d.payloadType = [];\n                if (o.bytes !== Array)\n                    d.payloadType = $util.newBuffer(d.payloadType);\n            }\n            if (o.bytes === String)\n                d.payload = \"\";\n            else {\n                d.payload = [];\n                if (o.bytes !== Array)\n                    d.payload = $util.newBuffer(d.payload);\n            }\n            if (o.bytes === String)\n                d.signature = \"\";\n            else {\n                d.signature = [];\n                if (o.bytes !== Array)\n                    d.signature = $util.newBuffer(d.signature);\n            }\n        }\n        if (m.publicKey != null && m.hasOwnProperty(\"publicKey\")) {\n            d.publicKey = o.bytes === String ? $util.base64.encode(m.publicKey, 0, m.publicKey.length) : o.bytes === Array ? Array.prototype.slice.call(m.publicKey) : m.publicKey;\n        }\n        if (m.payloadType != null && m.hasOwnProperty(\"payloadType\")) {\n            d.payloadType = o.bytes === String ? $util.base64.encode(m.payloadType, 0, m.payloadType.length) : o.bytes === Array ? Array.prototype.slice.call(m.payloadType) : m.payloadType;\n        }\n        if (m.payload != null && m.hasOwnProperty(\"payload\")) {\n            d.payload = o.bytes === String ? $util.base64.encode(m.payload, 0, m.payload.length) : o.bytes === Array ? Array.prototype.slice.call(m.payload) : m.payload;\n        }\n        if (m.signature != null && m.hasOwnProperty(\"signature\")) {\n            d.signature = o.bytes === String ? $util.base64.encode(m.signature, 0, m.signature.length) : o.bytes === Array ? Array.prototype.slice.call(m.signature) : m.signature;\n        }\n        return d;\n    };\n\n    /**\n     * Converts this Envelope to JSON.\n     * @function toJSON\n     * @memberof Envelope\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    Envelope.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    return Envelope;\n})();\n\nexport { $root as default };\n", "/*eslint-disable*/\nimport $protobuf from \"protobufjs/minimal.js\";\n\n// Common aliases\nconst $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n// Exported root namespace\nconst $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\nexport const PeerRecord = $root.PeerRecord = (() => {\n\n    /**\n     * Properties of a PeerRecord.\n     * @exports IPeerRecord\n     * @interface IPeerRecord\n     * @property {Uint8Array|null} [peerId] PeerRecord peerId\n     * @property {number|null} [seq] PeerRecord seq\n     * @property {Array.<PeerRecord.IAddressInfo>|null} [addresses] PeerRecord addresses\n     */\n\n    /**\n     * Constructs a new PeerRecord.\n     * @exports PeerRecord\n     * @classdesc Represents a PeerRecord.\n     * @implements IPeerRecord\n     * @constructor\n     * @param {IPeerRecord=} [p] Properties to set\n     */\n    function PeerRecord(p) {\n        this.addresses = [];\n        if (p)\n            for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                if (p[ks[i]] != null)\n                    this[ks[i]] = p[ks[i]];\n    }\n\n    /**\n     * PeerRecord peerId.\n     * @member {Uint8Array} peerId\n     * @memberof PeerRecord\n     * @instance\n     */\n    PeerRecord.prototype.peerId = $util.newBuffer([]);\n\n    /**\n     * PeerRecord seq.\n     * @member {number} seq\n     * @memberof PeerRecord\n     * @instance\n     */\n    PeerRecord.prototype.seq = $util.Long ? $util.Long.fromBits(0,0,true) : 0;\n\n    /**\n     * PeerRecord addresses.\n     * @member {Array.<PeerRecord.IAddressInfo>} addresses\n     * @memberof PeerRecord\n     * @instance\n     */\n    PeerRecord.prototype.addresses = $util.emptyArray;\n\n    /**\n     * Encodes the specified PeerRecord message. Does not implicitly {@link PeerRecord.verify|verify} messages.\n     * @function encode\n     * @memberof PeerRecord\n     * @static\n     * @param {IPeerRecord} m PeerRecord message or plain object to encode\n     * @param {$protobuf.Writer} [w] Writer to encode to\n     * @returns {$protobuf.Writer} Writer\n     */\n    PeerRecord.encode = function encode(m, w) {\n        if (!w)\n            w = $Writer.create();\n        if (m.peerId != null && Object.hasOwnProperty.call(m, \"peerId\"))\n            w.uint32(10).bytes(m.peerId);\n        if (m.seq != null && Object.hasOwnProperty.call(m, \"seq\"))\n            w.uint32(16).uint64(m.seq);\n        if (m.addresses != null && m.addresses.length) {\n            for (var i = 0; i < m.addresses.length; ++i)\n                $root.PeerRecord.AddressInfo.encode(m.addresses[i], w.uint32(26).fork()).ldelim();\n        }\n        return w;\n    };\n\n    /**\n     * Decodes a PeerRecord message from the specified reader or buffer.\n     * @function decode\n     * @memberof PeerRecord\n     * @static\n     * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n     * @param {number} [l] Message length if known beforehand\n     * @returns {PeerRecord} PeerRecord\n     * @throws {Error} If the payload is not a reader or valid buffer\n     * @throws {$protobuf.util.ProtocolError} If required fields are missing\n     */\n    PeerRecord.decode = function decode(r, l) {\n        if (!(r instanceof $Reader))\n            r = $Reader.create(r);\n        var c = l === undefined ? r.len : r.pos + l, m = new $root.PeerRecord();\n        while (r.pos < c) {\n            var t = r.uint32();\n            switch (t >>> 3) {\n            case 1:\n                m.peerId = r.bytes();\n                break;\n            case 2:\n                m.seq = r.uint64();\n                break;\n            case 3:\n                if (!(m.addresses && m.addresses.length))\n                    m.addresses = [];\n                m.addresses.push($root.PeerRecord.AddressInfo.decode(r, r.uint32()));\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a PeerRecord message from a plain object. Also converts values to their respective internal types.\n     * @function fromObject\n     * @memberof PeerRecord\n     * @static\n     * @param {Object.<string,*>} d Plain object\n     * @returns {PeerRecord} PeerRecord\n     */\n    PeerRecord.fromObject = function fromObject(d) {\n        if (d instanceof $root.PeerRecord)\n            return d;\n        var m = new $root.PeerRecord();\n        if (d.peerId != null) {\n            if (typeof d.peerId === \"string\")\n                $util.base64.decode(d.peerId, m.peerId = $util.newBuffer($util.base64.length(d.peerId)), 0);\n            else if (d.peerId.length)\n                m.peerId = d.peerId;\n        }\n        if (d.seq != null) {\n            if ($util.Long)\n                (m.seq = $util.Long.fromValue(d.seq)).unsigned = true;\n            else if (typeof d.seq === \"string\")\n                m.seq = parseInt(d.seq, 10);\n            else if (typeof d.seq === \"number\")\n                m.seq = d.seq;\n            else if (typeof d.seq === \"object\")\n                m.seq = new $util.LongBits(d.seq.low >>> 0, d.seq.high >>> 0).toNumber(true);\n        }\n        if (d.addresses) {\n            if (!Array.isArray(d.addresses))\n                throw TypeError(\".PeerRecord.addresses: array expected\");\n            m.addresses = [];\n            for (var i = 0; i < d.addresses.length; ++i) {\n                if (typeof d.addresses[i] !== \"object\")\n                    throw TypeError(\".PeerRecord.addresses: object expected\");\n                m.addresses[i] = $root.PeerRecord.AddressInfo.fromObject(d.addresses[i]);\n            }\n        }\n        return m;\n    };\n\n    /**\n     * Creates a plain object from a PeerRecord message. Also converts values to other types if specified.\n     * @function toObject\n     * @memberof PeerRecord\n     * @static\n     * @param {PeerRecord} m PeerRecord\n     * @param {$protobuf.IConversionOptions} [o] Conversion options\n     * @returns {Object.<string,*>} Plain object\n     */\n    PeerRecord.toObject = function toObject(m, o) {\n        if (!o)\n            o = {};\n        var d = {};\n        if (o.arrays || o.defaults) {\n            d.addresses = [];\n        }\n        if (o.defaults) {\n            if (o.bytes === String)\n                d.peerId = \"\";\n            else {\n                d.peerId = [];\n                if (o.bytes !== Array)\n                    d.peerId = $util.newBuffer(d.peerId);\n            }\n            if ($util.Long) {\n                var n = new $util.Long(0, 0, true);\n                d.seq = o.longs === String ? n.toString() : o.longs === Number ? n.toNumber() : n;\n            } else\n                d.seq = o.longs === String ? \"0\" : 0;\n        }\n        if (m.peerId != null && m.hasOwnProperty(\"peerId\")) {\n            d.peerId = o.bytes === String ? $util.base64.encode(m.peerId, 0, m.peerId.length) : o.bytes === Array ? Array.prototype.slice.call(m.peerId) : m.peerId;\n        }\n        if (m.seq != null && m.hasOwnProperty(\"seq\")) {\n            if (typeof m.seq === \"number\")\n                d.seq = o.longs === String ? String(m.seq) : m.seq;\n            else\n                d.seq = o.longs === String ? $util.Long.prototype.toString.call(m.seq) : o.longs === Number ? new $util.LongBits(m.seq.low >>> 0, m.seq.high >>> 0).toNumber(true) : m.seq;\n        }\n        if (m.addresses && m.addresses.length) {\n            d.addresses = [];\n            for (var j = 0; j < m.addresses.length; ++j) {\n                d.addresses[j] = $root.PeerRecord.AddressInfo.toObject(m.addresses[j], o);\n            }\n        }\n        return d;\n    };\n\n    /**\n     * Converts this PeerRecord to JSON.\n     * @function toJSON\n     * @memberof PeerRecord\n     * @instance\n     * @returns {Object.<string,*>} JSON object\n     */\n    PeerRecord.prototype.toJSON = function toJSON() {\n        return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n    };\n\n    PeerRecord.AddressInfo = (function() {\n\n        /**\n         * Properties of an AddressInfo.\n         * @memberof PeerRecord\n         * @interface IAddressInfo\n         * @property {Uint8Array|null} [multiaddr] AddressInfo multiaddr\n         */\n\n        /**\n         * Constructs a new AddressInfo.\n         * @memberof PeerRecord\n         * @classdesc Represents an AddressInfo.\n         * @implements IAddressInfo\n         * @constructor\n         * @param {PeerRecord.IAddressInfo=} [p] Properties to set\n         */\n        function AddressInfo(p) {\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        /**\n         * AddressInfo multiaddr.\n         * @member {Uint8Array} multiaddr\n         * @memberof PeerRecord.AddressInfo\n         * @instance\n         */\n        AddressInfo.prototype.multiaddr = $util.newBuffer([]);\n\n        /**\n         * Encodes the specified AddressInfo message. Does not implicitly {@link PeerRecord.AddressInfo.verify|verify} messages.\n         * @function encode\n         * @memberof PeerRecord.AddressInfo\n         * @static\n         * @param {PeerRecord.IAddressInfo} m AddressInfo message or plain object to encode\n         * @param {$protobuf.Writer} [w] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        AddressInfo.encode = function encode(m, w) {\n            if (!w)\n                w = $Writer.create();\n            if (m.multiaddr != null && Object.hasOwnProperty.call(m, \"multiaddr\"))\n                w.uint32(10).bytes(m.multiaddr);\n            return w;\n        };\n\n        /**\n         * Decodes an AddressInfo message from the specified reader or buffer.\n         * @function decode\n         * @memberof PeerRecord.AddressInfo\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n         * @param {number} [l] Message length if known beforehand\n         * @returns {PeerRecord.AddressInfo} AddressInfo\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        AddressInfo.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.PeerRecord.AddressInfo();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    m.multiaddr = r.bytes();\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        /**\n         * Creates an AddressInfo message from a plain object. Also converts values to their respective internal types.\n         * @function fromObject\n         * @memberof PeerRecord.AddressInfo\n         * @static\n         * @param {Object.<string,*>} d Plain object\n         * @returns {PeerRecord.AddressInfo} AddressInfo\n         */\n        AddressInfo.fromObject = function fromObject(d) {\n            if (d instanceof $root.PeerRecord.AddressInfo)\n                return d;\n            var m = new $root.PeerRecord.AddressInfo();\n            if (d.multiaddr != null) {\n                if (typeof d.multiaddr === \"string\")\n                    $util.base64.decode(d.multiaddr, m.multiaddr = $util.newBuffer($util.base64.length(d.multiaddr)), 0);\n                else if (d.multiaddr.length)\n                    m.multiaddr = d.multiaddr;\n            }\n            return m;\n        };\n\n        /**\n         * Creates a plain object from an AddressInfo message. Also converts values to other types if specified.\n         * @function toObject\n         * @memberof PeerRecord.AddressInfo\n         * @static\n         * @param {PeerRecord.AddressInfo} m AddressInfo\n         * @param {$protobuf.IConversionOptions} [o] Conversion options\n         * @returns {Object.<string,*>} Plain object\n         */\n        AddressInfo.toObject = function toObject(m, o) {\n            if (!o)\n                o = {};\n            var d = {};\n            if (o.defaults) {\n                if (o.bytes === String)\n                    d.multiaddr = \"\";\n                else {\n                    d.multiaddr = [];\n                    if (o.bytes !== Array)\n                        d.multiaddr = $util.newBuffer(d.multiaddr);\n                }\n            }\n            if (m.multiaddr != null && m.hasOwnProperty(\"multiaddr\")) {\n                d.multiaddr = o.bytes === String ? $util.base64.encode(m.multiaddr, 0, m.multiaddr.length) : o.bytes === Array ? Array.prototype.slice.call(m.multiaddr) : m.multiaddr;\n            }\n            return d;\n        };\n\n        /**\n         * Converts this AddressInfo to JSON.\n         * @function toJSON\n         * @memberof PeerRecord.AddressInfo\n         * @instance\n         * @returns {Object.<string,*>} JSON object\n         */\n        AddressInfo.prototype.toJSON = function toJSON() {\n            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n        };\n\n        return AddressInfo;\n    })();\n\n    return PeerRecord;\n})();\n\nexport { $root as default };\n", "\nimport { isRepoInitialized } from './init.js'\nimport { MissingRepoOptionsError, NotInitializedRepoError } from '../errors.js'\nimport { VERSION_KEY } from '../utils.js'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\n\n/**\n * Function that has responsibility to retrieve version of repo from its root datastore's instance.\n * This function needs to be cross-repo-version functional to be able to fetch any version number,\n * even in case of change of repo's versioning.\n *\n * @param {import('../types').Backends} backends\n */\nexport async function getVersion (backends) {\n  if (!(await isRepoInitialized(backends))) {\n    throw new NotInitializedRepoError('Repo is not initialized!')\n  }\n\n  const store = backends.root\n  await store.open()\n\n  try {\n    return parseInt(uint8ArrayToString(await store.get(VERSION_KEY)))\n  } finally {\n    await store.close()\n  }\n}\n\n/**\n * Function for setting a version in cross-repo-version manner.\n *\n * @param {number} version\n * @param {import('../types').Backends} backends\n */\nexport async function setVersion (version, backends) {\n  if (!backends) {\n    throw new MissingRepoOptionsError('Please pass repo options when trying to open a repo')\n  }\n\n  const store = backends.root\n  await store.open()\n  await store.put(VERSION_KEY, uint8ArrayFromString(String(version)))\n  await store.close()\n}\n", "\nimport debug from 'debug'\nimport { CONFIG_KEY, VERSION_KEY } from '../utils.js'\nimport { MissingRepoOptionsError } from '../errors.js'\n\nconst log = debug('ipfs:repo:migrator:repo:init')\n\n/**\n * @param {import('../types').Backends} backends\n */\nexport async function isRepoInitialized (backends) {\n  if (!backends) {\n    throw new MissingRepoOptionsError('Please pass repo options when trying to open a repo')\n  }\n\n  const root = backends.root\n\n  try {\n    await root.open()\n    const versionCheck = await root.has(VERSION_KEY)\n    const configCheck = await root.has(CONFIG_KEY)\n    if (!versionCheck || !configCheck) {\n      log(`Version entry present: ${versionCheck}`)\n      log(`Config entry present: ${configCheck}`)\n      return false\n    }\n\n    return true\n  } catch (/** @type {any} */ e) {\n    log('While checking if repo is initialized error was thrown: ' + e.message)\n    return false\n  } finally {\n    if (root !== undefined) {\n      try {\n        await root.close()\n      } catch {}\n    }\n  }\n}\n", "\n/**\n * Exception raised when trying to revert migration that is not possible\n * to revert.\n */\nexport class NonReversibleMigrationError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'NonReversibleMigrationError'\n    this.code = NonReversibleMigrationError.code\n    this.message = message\n  }\n}\nNonReversibleMigrationError.code = 'ERR_NON_REVERSIBLE_MIGRATION'\n\n/**\n * Exception raised when repo is not initialized.\n */\nexport class NotInitializedRepoError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'NotInitializedRepoError'\n    this.code = NotInitializedRepoError.code\n    this.message = message\n  }\n}\nNotInitializedRepoError.code = 'ERR_NOT_INITIALIZED_REPO'\n\n/**\n * Exception raised when required parameter is not provided.\n */\nexport class RequiredParameterError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'RequiredParameterError'\n    this.code = RequiredParameterError.code\n    this.message = message\n  }\n}\nRequiredParameterError.code = 'ERR_REQUIRED_PARAMETER'\n\n/**\n * Exception raised when value is not valid.\n */\nexport class InvalidValueError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'InvalidValueError'\n    this.code = InvalidValueError.code\n    this.message = message\n  }\n}\nInvalidValueError.code = 'ERR_INVALID_VALUE'\n\n/**\n * Exception raised when config is not passed.\n */\nexport class MissingRepoOptionsError extends Error {\n  /**\n   * @param {string} message\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'MissingRepoOptionsError'\n    this.code = MissingRepoOptionsError.code\n    this.message = message\n  }\n}\nMissingRepoOptionsError.code = 'ERR_MISSING_REPO_OPTIONS'\n", "/**\n * Thin ESM wrapper for CJS named exports.\n *\n * Ref: https://redfin.engineering/node-modules-at-war-why-commonjs-and-es-modules-cant-get-along-9617135eeca1\n */\n\nimport mergeOptions from './index.js';\nexport default mergeOptions;\n", "\nexport const repoVersion = 12\n", "\nimport { Key } from 'interface-datastore/key'\nimport debug from 'debug'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { getWithFallback, hasWithFallback } from './utils/level.js'\n\nconst log = debug('ipfs:repo:version')\nconst versionKey = new Key('version')\n\n/**\n *\n * @param {import('interface-datastore').Datastore} store\n */\nexport function version (store) {\n  return {\n    /**\n     * Check if a version file exists.\n     *\n     */\n    async exists () { // eslint-disable-line require-await\n      // level-js@5.x cannot read keys from level-js@4.x dbs so fall back to\n      // using IndexedDB API with string keys - only necessary until we do\n      // the migratiion to v10 or above\n      return hasWithFallback(versionKey, store.has.bind(store), store)\n    },\n    /**\n     * Get the current version.\n     *\n     * @returns {Promise<number>}\n     */\n    async get () {\n      // level-js@5.x cannot read keys from level-js@4.x dbs so fall back to\n      // using IndexedDB API with string keys - only necessary until we do\n      // the migratiion to v10 or above\n      const buf = await getWithFallback(versionKey, store.get.bind(store), store.has.bind(store), store)\n      return parseInt(uint8ArrayToString(buf), 10)\n    },\n    /**\n     * Set the version of the repo, writing it to the underlying store.\n     *\n     * @param {number} version\n     * @returns {Promise<void>}\n     */\n    set (version) {\n      return store.put(versionKey, uint8ArrayFromString(String(version)))\n    },\n    /**\n     * Check the current version, and returns true if versions matches\n     *\n     * @param {number} expected\n     */\n    async check (expected) {\n      const version = await this.get()\n      log('comparing version: %s and %s', version, expected)\n      // Version 6 and 7 are the same\n      // TODO: Clean up the compatibility logic. Repo feature detection would be ideal, or a better version schema\n      const compatibleVersion = (version === 6 && expected === 7) || (expected === 6 && version === 7)\n\n      return version === expected || compatibleVersion\n    }\n  }\n}\n", null, "\nimport { NotFoundError } from '../errors.js'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Key} Key\n */\n\n/**\n * @param {Key} key\n * @param {function (Key): Promise<boolean>} has\n * @param {Datastore} store\n * @returns {Promise<boolean>}\n */\nexport async function hasWithFallback (key, has, store) {\n  const result = await has(key)\n\n  if (result) {\n    return result\n  }\n\n  // Newer versions of level.js changed the key type from Uint8Array|string\n  // to Uint8Array  so fall back to trying Uint8Arrays if we are using level.js\n  // and the string version of the key did not work\n  const levelJs = findLevelJs(store)\n\n  if (!levelJs) {\n    return false\n  }\n\n  return new Promise((resolve, reject) => {\n    // drop down to IndexDB API, otherwise level-js will monkey around with the keys/values\n    // @ts-ignore\n    const req = levelJs.store('readonly').get(key.toString())\n    req.transaction.onabort = () => {\n      reject(req.transaction.error)\n    }\n    req.transaction.oncomplete = () => {\n      resolve(Boolean(req.result))\n    }\n  })\n}\n\n/**\n * @param {import('interface-datastore').Key} key\n * @param {function (Key): Promise<Uint8Array>} get\n * @param {function (Key): Promise<boolean>} has\n * @param {import('interface-datastore').Datastore} store\n * @returns {Promise<Uint8Array>}\n */\nexport async function getWithFallback (key, get, has, store) {\n  if (await has(key)) {\n    return get(key)\n  }\n\n  // Newer versions of level.js changed the key type from Uint8Array|string\n  // to Uint8Array so fall back to trying Uint8Arrays if we are using level.js\n  // and the string version of the key did not work\n  const levelJs = findLevelJs(store)\n\n  if (!levelJs) {\n    throw new NotFoundError()\n  }\n\n  return new Promise((resolve, reject) => {\n    // drop down to IndexDB API, otherwise level-js will monkey around with the keys/values\n    // @ts-ignore\n    const req = levelJs.store('readonly').get(key.toString())\n    req.transaction.onabort = () => {\n      reject(req.transaction.error)\n    }\n    req.transaction.oncomplete = () => {\n      if (req.result) {\n        return resolve(req.result)\n      }\n\n      reject(new NotFoundError())\n    }\n  })\n}\n\n/**\n * Level dbs wrap level dbs that wrap level dbs. Find a level-js\n * instance in the chain if one exists.\n *\n * @param {Datastore} store\n * @returns {Datastore | undefined}\n */\nfunction findLevelJs (store) {\n  let db = store\n\n  // @ts-ignore\n  while (db.db || db.child) {\n    // @ts-ignore\n    db = db.db || db.child\n\n    // `Level` is only present in the browser, in node it is LevelDOWN\n    // @ts-ignore\n    if (db.type === 'level-js' || db.constructor.name === 'Level') {\n      return db\n    }\n  }\n}\n", "/**\n * Error raised when there is lock already in place when repo is being opened.\n */\nexport class LockExistsError extends Error {\n  /**\n   * @param {string} [message]\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'LockExistsError'\n    this.code = LockExistsError.code\n  }\n}\nLockExistsError.code = 'ERR_LOCK_EXISTS'\n\n/**\n * Error raised when requested item is not found.\n */\nexport class NotFoundError extends Error {\n  /**\n   * @param {string} [message]\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'NotFoundError'\n    this.code = NotFoundError.code\n  }\n}\nNotFoundError.code = 'ERR_NOT_FOUND'\n\n/**\n * Error raised when version of the stored repo is not compatible with version of this package.\n */\nexport class InvalidRepoVersionError extends Error {\n  /**\n   * @param {string} [message]\n   */\n  constructor (message) {\n    super(message)\n    this.name = 'InvalidRepoVersionError'\n    this.code = InvalidRepoVersionError.code\n  }\n}\nInvalidRepoVersionError.code = 'ERR_INVALID_REPO_VERSION'\n\nexport const ERR_REPO_NOT_INITIALIZED = 'ERR_REPO_NOT_INITIALIZED'\nexport const ERR_REPO_ALREADY_OPEN = 'ERR_REPO_ALREADY_OPEN'\nexport const ERR_REPO_ALREADY_CLOSED = 'ERR_REPO_ALREADY_CLOSED'\n", "\nimport { Key } from 'interface-datastore/key'\nimport PQueue from 'p-queue'\nimport _get from 'just-safe-get'\nimport _set from 'just-safe-set'\nimport errCode from 'err-code'\nimport { NotFoundError } from './errors.js'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\nimport { getWithFallback, hasWithFallback } from './utils/level.js'\n\n// @ts-ignore types are broken in p-queue@6.x.x - also, if we imported via esm\n// we can use the default, if via cjs we need to get the default via prop access\nconst Queue = PQueue.default ? PQueue.default : PQueue\n\nconst configKey = new Key('config')\n\n/**\n * @typedef {import('./types').Config} Config\n * @typedef {import('interface-datastore').Datastore} Datastore\n */\n\n/**\n * @param {Datastore} store\n */\nexport function config (store) {\n  const setQueue = new Queue({ concurrency: 1 })\n\n  const configStore = {\n    /**\n     * Get the current configuration from the repo.\n     *\n     * @param {object} [options] - options\n     * @param {AbortSignal} [options.signal] - abort this config read\n     * @returns {Promise<Config>}\n     */\n    async getAll (options = {}) { // eslint-disable-line require-await\n      // level-js@5.x cannot read keys from level-js@4.x dbs so fall back to\n      // using IndexedDB API with string keys - only necessary until we do\n      // the migratiion to v10 or above\n      const encodedValue = await getWithFallback(configKey, store.get.bind(store), store.has.bind(store), store)\n\n      return JSON.parse(uint8ArrayToString(encodedValue))\n    },\n\n    /**\n     * Get the value for the passed configuration key from the repo.\n     *\n     * @param {string} key - the config key to get\n     * @param {object} [options] - options\n     * @param {AbortSignal} [options.signal] - abort this config read\n     */\n    async get (key, options = {}) {\n      if (key == null) {\n        throw new NotFoundError(`Key ${key} does not exist in config`)\n      }\n\n      const config = await this.getAll(options)\n      const value = _get(config, key)\n\n      if (value === undefined) {\n        throw new NotFoundError(`Key ${key} does not exist in config`)\n      }\n\n      return value\n    },\n\n    /**\n     * Set the current configuration for this repo.\n     *\n     * @param {string} key - the config key to be written\n     * @param {any} [value] - the config value to be written\n     * @param {object} [options] - options\n     * @param {AbortSignal} [options.signal] - abort this config write\n     */\n    set (key, value, options = {}) {\n      // @ts-ignore ts thinks key will only be a string, but it may not be\n      if (typeof key !== 'string' && !(key instanceof String)) {\n        throw errCode(new Error('Invalid key type: ' + typeof key), 'ERR_INVALID_KEY')\n      }\n\n      if (value === undefined || (value instanceof Uint8Array)) {\n        throw errCode(new Error('Invalid value type: ' + typeof value), 'ERR_INVALID_VALUE')\n      }\n\n      return setQueue.add(() => _maybeDoSet({\n        key: key,\n        value: value\n      }, options.signal))\n    },\n\n    /**\n     * Set the current configuration for this repo.\n     *\n     * @param {Config} [value] - the config value to be written\n     * @param {object} [options] - options\n     * @param {AbortSignal} [options.signal] - abort this config write\n     */\n    replace (value, options = {}) {\n      if (!value || (value instanceof Uint8Array)) {\n        throw errCode(new Error('Invalid value type: ' + typeof value), 'ERR_INVALID_VALUE')\n      }\n\n      return setQueue.add(() => _maybeDoSet({\n        key: undefined,\n        value: value\n      }, options.signal))\n    },\n\n    /**\n     * Check if a config file exists.\n     *\n     */\n    async exists () { // eslint-disable-line require-await\n      // level-js@5.x cannot read keys from level-js@4.x dbs so fall back to\n      // using IndexedDB API with string keys - only necessary until we do\n      // the migration to v10 or above\n      return hasWithFallback(configKey, store.has.bind(store), store)\n    }\n  }\n\n  return configStore\n\n  /**\n   * @param {{ key: any; value: any; }} m\n   * @param {AbortSignal | undefined} signal\n   */\n  async function _maybeDoSet (m, signal) {\n    if (signal && signal.aborted) {\n      return\n    }\n\n    const key = m.key\n    const value = m.value\n    if (key) {\n      const config = await configStore.getAll()\n      if (typeof config === 'object' && config !== null) {\n        _set(config, key, value)\n      }\n      return _saveAll(config)\n    }\n    return _saveAll(value)\n  }\n\n  /**\n   * @param {unknown} config\n   */\n  function _saveAll (config) {\n    const buf = uint8ArrayFromString(JSON.stringify(config, null, 2))\n    return store.put(configKey, buf)\n  }\n}\n", "var __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _PQueue_instances, _PQueue_carryoverConcurrencyCount, _PQueue_isIntervalIgnored, _PQueue_intervalCount, _PQueue_intervalCap, _PQueue_interval, _PQueue_intervalEnd, _PQueue_intervalId, _PQueue_timeoutId, _PQueue_queue, _PQueue_queueClass, _PQueue_pendingCount, _PQueue_concurrency, _PQueue_isPaused, _PQueue_throwOnTimeout, _PQueue_doesIntervalAllowAnother_get, _PQueue_doesConcurrentAllowAnother_get, _PQueue_next, _PQueue_emitEvents, _PQueue_onResumeInterval, _PQueue_isIntervalPaused_get, _PQueue_tryToStartAnother, _PQueue_initializeIntervalIfNeeded, _PQueue_onInterval, _PQueue_processQueue, _PQueue_onEvent;\nimport EventEmitter from 'eventemitter3';\nimport pTimeout, { TimeoutError } from 'p-timeout';\nimport PriorityQueue from './priority-queue.js';\nconst timeoutError = new TimeoutError();\n/**\nThe error thrown by `queue.add()` when a job is aborted before it is run. See `signal`.\n*/\nexport class AbortError extends Error {\n}\n/**\nPromise queue with concurrency control.\n*/\nexport default class PQueue extends EventEmitter {\n    constructor(options) {\n        var _a, _b, _c, _d;\n        super();\n        _PQueue_instances.add(this);\n        _PQueue_carryoverConcurrencyCount.set(this, void 0);\n        _PQueue_isIntervalIgnored.set(this, void 0);\n        _PQueue_intervalCount.set(this, 0);\n        _PQueue_intervalCap.set(this, void 0);\n        _PQueue_interval.set(this, void 0);\n        _PQueue_intervalEnd.set(this, 0);\n        _PQueue_intervalId.set(this, void 0);\n        _PQueue_timeoutId.set(this, void 0);\n        _PQueue_queue.set(this, void 0);\n        _PQueue_queueClass.set(this, void 0);\n        _PQueue_pendingCount.set(this, 0);\n        // The `!` is needed because of https://github.com/microsoft/TypeScript/issues/32194\n        _PQueue_concurrency.set(this, void 0);\n        _PQueue_isPaused.set(this, void 0);\n        _PQueue_throwOnTimeout.set(this, void 0);\n        /**\n        Per-operation timeout in milliseconds. Operations fulfill once `timeout` elapses if they haven't already.\n    \n        Applies to each future operation.\n        */\n        Object.defineProperty(this, \"timeout\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: void 0\n        });\n        // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n        options = {\n            carryoverConcurrencyCount: false,\n            intervalCap: Number.POSITIVE_INFINITY,\n            interval: 0,\n            concurrency: Number.POSITIVE_INFINITY,\n            autoStart: true,\n            queueClass: PriorityQueue,\n            ...options,\n        };\n        if (!(typeof options.intervalCap === 'number' && options.intervalCap >= 1)) {\n            throw new TypeError(`Expected \\`intervalCap\\` to be a number from 1 and up, got \\`${(_b = (_a = options.intervalCap) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : ''}\\` (${typeof options.intervalCap})`);\n        }\n        if (options.interval === undefined || !(Number.isFinite(options.interval) && options.interval >= 0)) {\n            throw new TypeError(`Expected \\`interval\\` to be a finite number >= 0, got \\`${(_d = (_c = options.interval) === null || _c === void 0 ? void 0 : _c.toString()) !== null && _d !== void 0 ? _d : ''}\\` (${typeof options.interval})`);\n        }\n        __classPrivateFieldSet(this, _PQueue_carryoverConcurrencyCount, options.carryoverConcurrencyCount, \"f\");\n        __classPrivateFieldSet(this, _PQueue_isIntervalIgnored, options.intervalCap === Number.POSITIVE_INFINITY || options.interval === 0, \"f\");\n        __classPrivateFieldSet(this, _PQueue_intervalCap, options.intervalCap, \"f\");\n        __classPrivateFieldSet(this, _PQueue_interval, options.interval, \"f\");\n        __classPrivateFieldSet(this, _PQueue_queue, new options.queueClass(), \"f\");\n        __classPrivateFieldSet(this, _PQueue_queueClass, options.queueClass, \"f\");\n        this.concurrency = options.concurrency;\n        this.timeout = options.timeout;\n        __classPrivateFieldSet(this, _PQueue_throwOnTimeout, options.throwOnTimeout === true, \"f\");\n        __classPrivateFieldSet(this, _PQueue_isPaused, options.autoStart === false, \"f\");\n    }\n    get concurrency() {\n        return __classPrivateFieldGet(this, _PQueue_concurrency, \"f\");\n    }\n    set concurrency(newConcurrency) {\n        if (!(typeof newConcurrency === 'number' && newConcurrency >= 1)) {\n            throw new TypeError(`Expected \\`concurrency\\` to be a number from 1 and up, got \\`${newConcurrency}\\` (${typeof newConcurrency})`);\n        }\n        __classPrivateFieldSet(this, _PQueue_concurrency, newConcurrency, \"f\");\n        __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_processQueue).call(this);\n    }\n    /**\n    Adds a sync or async task to the queue. Always returns a promise.\n    */\n    async add(fn, options = {}) {\n        return new Promise((resolve, reject) => {\n            const run = async () => {\n                var _a;\n                var _b, _c;\n                __classPrivateFieldSet(this, _PQueue_pendingCount, (_b = __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\"), _b++, _b), \"f\");\n                __classPrivateFieldSet(this, _PQueue_intervalCount, (_c = __classPrivateFieldGet(this, _PQueue_intervalCount, \"f\"), _c++, _c), \"f\");\n                try {\n                    if ((_a = options.signal) === null || _a === void 0 ? void 0 : _a.aborted) {\n                        // TODO: Use ABORT_ERR code when targeting Node.js 16 (https://nodejs.org/docs/latest-v16.x/api/errors.html#abort_err)\n                        reject(new AbortError('The task was aborted.'));\n                        return;\n                    }\n                    const operation = (this.timeout === undefined && options.timeout === undefined) ? fn({ signal: options.signal }) : pTimeout(Promise.resolve(fn({ signal: options.signal })), (options.timeout === undefined ? this.timeout : options.timeout), () => {\n                        if (options.throwOnTimeout === undefined ? __classPrivateFieldGet(this, _PQueue_throwOnTimeout, \"f\") : options.throwOnTimeout) {\n                            reject(timeoutError);\n                        }\n                        return undefined;\n                    });\n                    const result = await operation;\n                    resolve(result);\n                    this.emit('completed', result);\n                }\n                catch (error) {\n                    reject(error);\n                    this.emit('error', error);\n                }\n                __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_next).call(this);\n            };\n            __classPrivateFieldGet(this, _PQueue_queue, \"f\").enqueue(run, options);\n            __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_tryToStartAnother).call(this);\n            this.emit('add');\n        });\n    }\n    /**\n    Same as `.add()`, but accepts an array of sync or async functions.\n\n    @returns A promise that resolves when all functions are resolved.\n    */\n    async addAll(functions, options) {\n        return Promise.all(functions.map(async (function_) => this.add(function_, options)));\n    }\n    /**\n    Start (or resume) executing enqueued tasks within concurrency limit. No need to call this if queue is not paused (via `options.autoStart = false` or by `.pause()` method.)\n    */\n    start() {\n        if (!__classPrivateFieldGet(this, _PQueue_isPaused, \"f\")) {\n            return this;\n        }\n        __classPrivateFieldSet(this, _PQueue_isPaused, false, \"f\");\n        __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_processQueue).call(this);\n        return this;\n    }\n    /**\n    Put queue execution on hold.\n    */\n    pause() {\n        __classPrivateFieldSet(this, _PQueue_isPaused, true, \"f\");\n    }\n    /**\n    Clear the queue.\n    */\n    clear() {\n        __classPrivateFieldSet(this, _PQueue_queue, new (__classPrivateFieldGet(this, _PQueue_queueClass, \"f\"))(), \"f\");\n    }\n    /**\n    Can be called multiple times. Useful if you for example add additional items at a later time.\n\n    @returns A promise that settles when the queue becomes empty.\n    */\n    async onEmpty() {\n        // Instantly resolve if the queue is empty\n        if (__classPrivateFieldGet(this, _PQueue_queue, \"f\").size === 0) {\n            return;\n        }\n        await __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onEvent).call(this, 'empty');\n    }\n    /**\n    @returns A promise that settles when the queue size is less than the given limit: `queue.size < limit`.\n\n    If you want to avoid having the queue grow beyond a certain size you can `await queue.onSizeLessThan()` before adding a new item.\n\n    Note that this only limits the number of items waiting to start. There could still be up to `concurrency` jobs already running that this call does not include in its calculation.\n    */\n    async onSizeLessThan(limit) {\n        // Instantly resolve if the queue is empty.\n        if (__classPrivateFieldGet(this, _PQueue_queue, \"f\").size < limit) {\n            return;\n        }\n        await __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onEvent).call(this, 'next', () => __classPrivateFieldGet(this, _PQueue_queue, \"f\").size < limit);\n    }\n    /**\n    The difference with `.onEmpty` is that `.onIdle` guarantees that all work from the queue has finished. `.onEmpty` merely signals that the queue is empty, but it could mean that some promises haven't completed yet.\n\n    @returns A promise that settles when the queue becomes empty, and all promises have completed; `queue.size === 0 && queue.pending === 0`.\n    */\n    async onIdle() {\n        // Instantly resolve if none pending and if nothing else is queued\n        if (__classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") === 0 && __classPrivateFieldGet(this, _PQueue_queue, \"f\").size === 0) {\n            return;\n        }\n        await __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onEvent).call(this, 'idle');\n    }\n    /**\n    Size of the queue, the number of queued items waiting to run.\n    */\n    get size() {\n        return __classPrivateFieldGet(this, _PQueue_queue, \"f\").size;\n    }\n    /**\n    Size of the queue, filtered by the given options.\n\n    For example, this can be used to find the number of items remaining in the queue with a specific priority level.\n    */\n    sizeBy(options) {\n        // eslint-disable-next-line unicorn/no-array-callback-reference\n        return __classPrivateFieldGet(this, _PQueue_queue, \"f\").filter(options).length;\n    }\n    /**\n    Number of running items (no longer in the queue).\n    */\n    get pending() {\n        return __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\");\n    }\n    /**\n    Whether the queue is currently paused.\n    */\n    get isPaused() {\n        return __classPrivateFieldGet(this, _PQueue_isPaused, \"f\");\n    }\n}\n_PQueue_carryoverConcurrencyCount = new WeakMap(), _PQueue_isIntervalIgnored = new WeakMap(), _PQueue_intervalCount = new WeakMap(), _PQueue_intervalCap = new WeakMap(), _PQueue_interval = new WeakMap(), _PQueue_intervalEnd = new WeakMap(), _PQueue_intervalId = new WeakMap(), _PQueue_timeoutId = new WeakMap(), _PQueue_queue = new WeakMap(), _PQueue_queueClass = new WeakMap(), _PQueue_pendingCount = new WeakMap(), _PQueue_concurrency = new WeakMap(), _PQueue_isPaused = new WeakMap(), _PQueue_throwOnTimeout = new WeakMap(), _PQueue_instances = new WeakSet(), _PQueue_doesIntervalAllowAnother_get = function _PQueue_doesIntervalAllowAnother_get() {\n    return __classPrivateFieldGet(this, _PQueue_isIntervalIgnored, \"f\") || __classPrivateFieldGet(this, _PQueue_intervalCount, \"f\") < __classPrivateFieldGet(this, _PQueue_intervalCap, \"f\");\n}, _PQueue_doesConcurrentAllowAnother_get = function _PQueue_doesConcurrentAllowAnother_get() {\n    return __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") < __classPrivateFieldGet(this, _PQueue_concurrency, \"f\");\n}, _PQueue_next = function _PQueue_next() {\n    var _a;\n    __classPrivateFieldSet(this, _PQueue_pendingCount, (_a = __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\"), _a--, _a), \"f\");\n    __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_tryToStartAnother).call(this);\n    this.emit('next');\n}, _PQueue_emitEvents = function _PQueue_emitEvents() {\n    this.emit('empty');\n    if (__classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") === 0) {\n        this.emit('idle');\n    }\n}, _PQueue_onResumeInterval = function _PQueue_onResumeInterval() {\n    __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onInterval).call(this);\n    __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_initializeIntervalIfNeeded).call(this);\n    __classPrivateFieldSet(this, _PQueue_timeoutId, undefined, \"f\");\n}, _PQueue_isIntervalPaused_get = function _PQueue_isIntervalPaused_get() {\n    const now = Date.now();\n    if (__classPrivateFieldGet(this, _PQueue_intervalId, \"f\") === undefined) {\n        const delay = __classPrivateFieldGet(this, _PQueue_intervalEnd, \"f\") - now;\n        if (delay < 0) {\n            // Act as the interval was done\n            // We don't need to resume it here because it will be resumed on line 160\n            __classPrivateFieldSet(this, _PQueue_intervalCount, (__classPrivateFieldGet(this, _PQueue_carryoverConcurrencyCount, \"f\")) ? __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") : 0, \"f\");\n        }\n        else {\n            // Act as the interval is pending\n            if (__classPrivateFieldGet(this, _PQueue_timeoutId, \"f\") === undefined) {\n                __classPrivateFieldSet(this, _PQueue_timeoutId, setTimeout(() => {\n                    __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onResumeInterval).call(this);\n                }, delay), \"f\");\n            }\n            return true;\n        }\n    }\n    return false;\n}, _PQueue_tryToStartAnother = function _PQueue_tryToStartAnother() {\n    if (__classPrivateFieldGet(this, _PQueue_queue, \"f\").size === 0) {\n        // We can clear the interval (\"pause\")\n        // Because we can redo it later (\"resume\")\n        if (__classPrivateFieldGet(this, _PQueue_intervalId, \"f\")) {\n            clearInterval(__classPrivateFieldGet(this, _PQueue_intervalId, \"f\"));\n        }\n        __classPrivateFieldSet(this, _PQueue_intervalId, undefined, \"f\");\n        __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_emitEvents).call(this);\n        return false;\n    }\n    if (!__classPrivateFieldGet(this, _PQueue_isPaused, \"f\")) {\n        const canInitializeInterval = !__classPrivateFieldGet(this, _PQueue_instances, \"a\", _PQueue_isIntervalPaused_get);\n        if (__classPrivateFieldGet(this, _PQueue_instances, \"a\", _PQueue_doesIntervalAllowAnother_get) && __classPrivateFieldGet(this, _PQueue_instances, \"a\", _PQueue_doesConcurrentAllowAnother_get)) {\n            const job = __classPrivateFieldGet(this, _PQueue_queue, \"f\").dequeue();\n            if (!job) {\n                return false;\n            }\n            this.emit('active');\n            job();\n            if (canInitializeInterval) {\n                __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_initializeIntervalIfNeeded).call(this);\n            }\n            return true;\n        }\n    }\n    return false;\n}, _PQueue_initializeIntervalIfNeeded = function _PQueue_initializeIntervalIfNeeded() {\n    if (__classPrivateFieldGet(this, _PQueue_isIntervalIgnored, \"f\") || __classPrivateFieldGet(this, _PQueue_intervalId, \"f\") !== undefined) {\n        return;\n    }\n    __classPrivateFieldSet(this, _PQueue_intervalId, setInterval(() => {\n        __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_onInterval).call(this);\n    }, __classPrivateFieldGet(this, _PQueue_interval, \"f\")), \"f\");\n    __classPrivateFieldSet(this, _PQueue_intervalEnd, Date.now() + __classPrivateFieldGet(this, _PQueue_interval, \"f\"), \"f\");\n}, _PQueue_onInterval = function _PQueue_onInterval() {\n    if (__classPrivateFieldGet(this, _PQueue_intervalCount, \"f\") === 0 && __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") === 0 && __classPrivateFieldGet(this, _PQueue_intervalId, \"f\")) {\n        clearInterval(__classPrivateFieldGet(this, _PQueue_intervalId, \"f\"));\n        __classPrivateFieldSet(this, _PQueue_intervalId, undefined, \"f\");\n    }\n    __classPrivateFieldSet(this, _PQueue_intervalCount, __classPrivateFieldGet(this, _PQueue_carryoverConcurrencyCount, \"f\") ? __classPrivateFieldGet(this, _PQueue_pendingCount, \"f\") : 0, \"f\");\n    __classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_processQueue).call(this);\n}, _PQueue_processQueue = function _PQueue_processQueue() {\n    // eslint-disable-next-line no-empty\n    while (__classPrivateFieldGet(this, _PQueue_instances, \"m\", _PQueue_tryToStartAnother).call(this)) { }\n}, _PQueue_onEvent = async function _PQueue_onEvent(event, filter) {\n    return new Promise(resolve => {\n        const listener = () => {\n            if (filter && !filter()) {\n                return;\n            }\n            this.off(event, listener);\n            resolve();\n        };\n        this.on(event, listener);\n    });\n};\n", "export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined ?\n\tnew AbortError(errorMessage) :\n\tnew DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined ?\n\t\tgetDOMException('This operation was aborted.') :\n\t\tsignal.reason;\n\n\treturn reason instanceof Error ? reason : getDOMException(reason);\n};\n\nexport default function pTimeout(promise, milliseconds, fallback, options) {\n\tlet timer;\n\n\tconst cancelablePromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tresolve(promise);\n\t\t\treturn;\n\t\t}\n\n\t\toptions = {\n\t\t\tcustomTimers: {setTimeout, clearTimeout},\n\t\t\t...options\n\t\t};\n\n\t\tif (options.signal) {\n\t\t\tconst {signal} = options;\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t}\n\n\t\t\tsignal.addEventListener('abort', () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t});\n\t\t}\n\n\t\ttimer = options.customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (typeof fallback === 'function') {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst message = typeof fallback === 'string' ? fallback : `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\tconst timeoutError = fallback instanceof Error ? fallback : new TimeoutError(message);\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\treject(timeoutError);\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t} finally {\n\t\t\t\toptions.customTimers.clearTimeout.call(undefined, timer);\n\t\t\t}\n\t\t})();\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\tclearTimeout(timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n", "var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _PriorityQueue_queue;\nimport lowerBound from './lower-bound.js';\nexport default class PriorityQueue {\n    constructor() {\n        _PriorityQueue_queue.set(this, []);\n    }\n    enqueue(run, options) {\n        options = {\n            priority: 0,\n            ...options,\n        };\n        const element = {\n            priority: options.priority,\n            run,\n        };\n        if (this.size && __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\")[this.size - 1].priority >= options.priority) {\n            __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\").push(element);\n            return;\n        }\n        const index = lowerBound(__classPrivateFieldGet(this, _PriorityQueue_queue, \"f\"), element, (a, b) => b.priority - a.priority);\n        __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\").splice(index, 0, element);\n    }\n    dequeue() {\n        const item = __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\").shift();\n        return item === null || item === void 0 ? void 0 : item.run;\n    }\n    filter(options) {\n        return __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\").filter((element) => element.priority === options.priority).map((element) => element.run);\n    }\n    get size() {\n        return __classPrivateFieldGet(this, _PriorityQueue_queue, \"f\").length;\n    }\n}\n_PriorityQueue_queue = new WeakMap();\n", "// Port of lower_bound from https://en.cppreference.com/w/cpp/algorithm/lower_bound\n// Used to compute insertion index to keep queue sorted after insertion\nexport default function lowerBound(array, value, comparator) {\n    let first = 0;\n    let count = array.length;\n    while (count > 0) {\n        const step = Math.trunc(count / 2);\n        let it = first + step;\n        if (comparator(array[it], value) <= 0) {\n            first = ++it;\n            count -= step + 1;\n        }\n        else {\n            count = step;\n        }\n    }\n    return first;\n}\n", "var objectSafeSet = set;\n\n/*\n  var obj1 = {};\n  set(obj1, 'a.aa.aaa', 4); // true\n  obj1; // {a: {aa: {aaa: 4}}}\n\n  var obj2 = {};\n  set(obj2, ['a', 'aa', 'aaa'], 4); // true\n  obj2; // {a: {aa: {aaa: 4}}}\n\n  var obj3 = {a: {aa: {aaa: 2}}};\n  set(obj3, 'a.aa.aaa', 3); // true\n  obj3; // {a: {aa: {aaa: 3}}}\n\n  // don't clobber existing\n  var obj4 = {a: {aa: {aaa: 2}}};\n  set(obj4, 'a.aa', {bbb: 7}); // false\n\n  const obj5 = {a: {}};\n  const sym = Symbol();\n  set(obj5.a, sym, 7); // true\n  obj5; // {a: {Symbol(): 7}}\n*/\n\nfunction set(obj, propsArg, value) {\n  var props, lastProp;\n  if (Array.isArray(propsArg)) {\n    props = propsArg.slice(0);\n  }\n  if (typeof propsArg == 'string') {\n    props = propsArg.split('.');\n  }\n  if (typeof propsArg == 'symbol') {\n    props = [propsArg];\n  }\n  if (!Array.isArray(props)) {\n    throw new Error('props arg must be an array, a string or a symbol');\n  }\n  lastProp = props.pop();\n  if (!lastProp) {\n    return false;\n  }\n  prototypeCheck(lastProp);\n  var thisProp;\n  while ((thisProp = props.shift())) {\n    prototypeCheck(thisProp);\n    if (typeof obj[thisProp] == 'undefined') {\n      obj[thisProp] = {};\n    }\n    obj = obj[thisProp];\n    if (!obj || typeof obj != 'object') {\n      return false;\n    }\n  }\n  obj[lastProp] = value;\n  return true;\n}\n\nfunction prototypeCheck(prop) {\n  // coercion is intentional to catch prop values like `['__proto__']`\n  if (prop == '__proto__' || prop == 'constructor' || prop == 'prototype') {\n    throw new Error('setting of prototype values not supported');\n  }\n}\n\nexport {objectSafeSet as default};\n", "\nimport { Key } from 'interface-datastore'\nimport sortKeys from 'sort-keys'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\n\nconst specKey = new Key('datastore_spec')\n\n/**\n *\n * @param {import('interface-datastore').Datastore} store\n */\nexport function spec (store) {\n  return {\n    /**\n     * Check if a datastore spec file exists.\n     *\n     */\n    exists () {\n      return store.has(specKey)\n    },\n    /**\n     * Get the current datastore spec.\n     *\n     * @returns {Promise<Uint8Array>}\n     */\n    async get () {\n      const buf = await store.get(specKey)\n      return JSON.parse(uint8ArrayToString(buf))\n    },\n    /**\n     * Set the datastore spec of the repo, writing it to the underlying store.\n     * TODO unclear on what the type should be or if it's required\n     *\n     * @param {any} spec\n     * @returns {Promise<void>}\n     */\n    async set (spec) {\n      return store.put(specKey, uint8ArrayFromString(JSON.stringify(sortKeys(spec, { deep: true }))))\n    }\n  }\n}\n", null, "import isPlainObject from 'is-plain-obj';\n\nexport default function sortKeys(object, options = {}) {\n\tif (!isPlainObject(object) && !Array.isArray(object)) {\n\t\tthrow new TypeError('Expected a plain object or array');\n\t}\n\n\tconst {deep, compare} = options;\n\tconst seenInput = [];\n\tconst seenOutput = [];\n\n\tconst deepSortArray = array => {\n\t\tconst seenIndex = seenInput.indexOf(array);\n\t\tif (seenIndex !== -1) {\n\t\t\treturn seenOutput[seenIndex];\n\t\t}\n\n\t\tconst result = [];\n\t\tseenInput.push(array);\n\t\tseenOutput.push(result);\n\n\t\tresult.push(...array.map(item => {\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\treturn deepSortArray(item);\n\t\t\t}\n\n\t\t\tif (isPlainObject(item)) {\n\t\t\t\treturn _sortKeys(item);\n\t\t\t}\n\n\t\t\treturn item;\n\t\t}));\n\n\t\treturn result;\n\t};\n\n\tconst _sortKeys = object => {\n\t\tconst seenIndex = seenInput.indexOf(object);\n\t\tif (seenIndex !== -1) {\n\t\t\treturn seenOutput[seenIndex];\n\t\t}\n\n\t\tconst result = {};\n\t\tconst keys = Object.keys(object).sort(compare);\n\n\t\tseenInput.push(object);\n\t\tseenOutput.push(result);\n\n\t\tfor (const key of keys) {\n\t\t\tconst value = object[key];\n\t\t\tlet newValue;\n\n\t\t\tif (deep && Array.isArray(value)) {\n\t\t\t\tnewValue = deepSortArray(value);\n\t\t\t} else {\n\t\t\t\tnewValue = deep && isPlainObject(value) ? _sortKeys(value) : value;\n\t\t\t}\n\n\t\t\tObject.defineProperty(result, key, {\n\t\t\t\t...Object.getOwnPropertyDescriptor(object, key),\n\t\t\t\tvalue: newValue\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tif (Array.isArray(object)) {\n\t\treturn deep ? deepSortArray(object) : object.slice();\n\t}\n\n\treturn _sortKeys(object);\n}\n", "export default function isPlainObject(value) {\n\tif (typeof value !== 'object' || value === null) {\n\t\treturn false;\n\t}\n\n\tconst prototype = Object.getPrototypeOf(value);\n\treturn (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in value) && !(Symbol.iterator in value);\n}\n", "\nimport { Key } from 'interface-datastore/key'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\n\nconst apiFile = new Key('api')\n\n/**\n *\n * @param {import('interface-datastore').Datastore} store\n */\nexport function apiAddr (store) {\n  return {\n    /**\n     * Get the current configuration from the repo.\n     *\n     * @returns {Promise<string>}\n     */\n    async get () {\n      const value = await store.get(apiFile)\n      return value && value.toString()\n    },\n    /**\n     * Set the current configuration for this repo.\n     * TODO: fix find the proper type or remove this API\n     *\n     * @param {string} value - the api address to be written\n     */\n    set (value) {\n      return store.put(apiFile, uint8ArrayFromString(value.toString()))\n    },\n    /**\n     * Deletes api file\n     */\n    delete () {\n      return store.delete(apiFile)\n    }\n  }\n}\n", "\nimport filter from 'it-filter'\nimport { pushable } from 'it-pushable'\nimport drain from 'it-drain'\nimport { CID } from 'multiformats/cid'\nimport errCode from 'err-code'\nimport { identity } from 'multiformats/hashes/identity'\n\n/**\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} DatastoreOptions\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n */\n\n/**\n * @param {Blockstore} store\n * @returns {Blockstore}\n */\nexport function createIdStore (store) {\n  return {\n    open () {\n      return store.open()\n    },\n\n    close () {\n      return store.close()\n    },\n\n    query (query, options) {\n      return store.query(query, options)\n    },\n\n    queryKeys (query, options) {\n      return store.queryKeys(query, options)\n    },\n\n    async get (cid, options) {\n      const extracted = extractContents(cid)\n      if (extracted.isIdentity) {\n        return Promise.resolve(extracted.digest)\n      }\n      return store.get(cid, options)\n    },\n\n    async * getMany (cids, options) {\n      for await (const cid of cids) {\n        yield this.get(cid, options)\n      }\n    },\n\n    async put (cid, buf, options) {\n      const { isIdentity } = extractContents(cid)\n\n      if (isIdentity) {\n        return\n      }\n\n      await store.put(cid, buf, options)\n    },\n\n    async * putMany (pairs, options) {\n      // in order to return all blocks. we're going to assemble a seperate iterable\n      // return rather than return the resolves of store.putMany using the same\n      // process used by blockstore.putMany\n      const output = pushable({\n        objectMode: true\n      })\n\n      // process.nextTick runs on the microtask queue, setImmediate runs on the next\n      // event loop iteration so is slower. Use process.nextTick if it is available.\n      const runner = globalThis.process && globalThis.process.nextTick ? globalThis.process.nextTick : (globalThis.setImmediate || globalThis.setTimeout)\n\n      runner(async () => {\n        try {\n          await drain(store.putMany(async function * () {\n            for await (const { key, value } of pairs) {\n              if (!extractContents(key).isIdentity) {\n                yield { key, value }\n              }\n\n              // if non identity blocks successfully write, blocks are included in output\n              output.push({ key, value })\n            }\n          }()))\n\n          output.end()\n        } catch (/** @type {any} */ err) {\n          output.end(err)\n        }\n      })\n\n      yield * output\n    },\n\n    has (cid, options) {\n      const { isIdentity } = extractContents(cid)\n      if (isIdentity) {\n        return Promise.resolve(true)\n      }\n      return store.has(cid, options)\n    },\n\n    delete (cid, options) {\n      const { isIdentity } = extractContents(cid)\n      if (isIdentity) {\n        return Promise.resolve()\n      }\n      return store.delete(cid, options)\n    },\n\n    deleteMany (cids, options) {\n      return store.deleteMany(filter(cids, (cid) => !extractContents(cid).isIdentity), options)\n    },\n\n    batch () {\n      const batch = store.batch()\n\n      return {\n        put (cid, buf) {\n          const { isIdentity } = extractContents(cid)\n\n          if (isIdentity) {\n            return\n          }\n\n          batch.put(cid, buf)\n        },\n        delete (cid) {\n          const { isIdentity } = extractContents(cid)\n\n          if (isIdentity) {\n            return\n          }\n\n          batch.delete(cid)\n        },\n        commit: (options) => {\n          return batch.commit(options)\n        }\n      }\n    }\n  }\n}\n\n/**\n * @param {CID} k\n * @returns {{ isIdentity: false } | { isIdentity: true, digest: Uint8Array}}\n */\nfunction extractContents (k) {\n  const cid = CID.asCID(k)\n\n  if (cid == null) {\n    throw errCode(new Error('Not a valid cid'), 'ERR_INVALID_CID')\n  }\n\n  if (cid.multihash.code !== identity.code) {\n    return {\n      isIdentity: false\n    }\n  }\n\n  return {\n    isIdentity: true,\n    digest: cid.multihash.digest\n  }\n}\n", null, null, "import { MemoryLock } from './locks/memory.js'\n\n/**\n * @type {Partial<import('./types').Options>}\n */\nexport default {\n  autoMigrate: true,\n  onMigrationProgress: () => {},\n  repoOwner: true,\n  repoLock: MemoryLock\n}\n", "\nimport { LockExistsError } from '../errors.js'\nimport debug from 'debug'\n\nconst log = debug('ipfs:repo:lock:memory')\nconst lockFile = 'repo.lock'\n\n/** @type {Record<string,boolean>} */\nconst LOCKS = {}\n\n/**\n * @typedef {import('../types').LockCloser} LockCloser\n */\n\n/**\n * Lock the repo in the given dir.\n *\n * @param {string} dir\n * @returns {Promise<LockCloser>}\n */\nasync function lock (dir) {\n  const file = dir + '/' + lockFile\n  log('locking %s', file)\n\n  if (LOCKS[file] === true) {\n    throw new LockExistsError(`Lock already being held for file: ${file}`)\n  }\n\n  LOCKS[file] = true\n  const closer = {\n    async close () {\n      if (LOCKS[file]) {\n        delete LOCKS[file]\n      }\n    }\n  }\n  return closer\n}\n\n/**\n * Check if the repo in the given directory is locked.\n *\n * @param {string} dir\n * @returns {Promise<boolean>}\n */\nasync function locked (dir) {\n  const file = dir + '/' + lockFile\n  log(`checking lock: ${file}`)\n\n  return Boolean(LOCKS[file])\n}\n\nexport const MemoryLock = {\n  lock,\n  locked\n}\n", "\n// Default configuration for the datastore spec in node.js\nexport default {\n  Spec: {\n    type: 'mount',\n    mounts: [\n      {\n        mountpoint: '/blocks',\n        type: 'measure',\n        prefix: 'flatfs.datastore',\n        child: {\n          type: 'flatfs',\n          path: 'blocks',\n          sync: true,\n          shardFunc: '/repo/flatfs/shard/v1/next-to-last/2'\n        }\n      },\n      {\n        mountpoint: '/',\n        type: 'measure',\n        prefix: 'leveldb.datastore',\n        child: {\n          type: 'levelds',\n          path: 'datastore',\n          compression: 'none'\n        }\n      }\n    ]\n  }\n}\n", "/* eslint max-nested-callbacks: [\"error\", 8] */\n\nimport { CID } from 'multiformats/cid'\nimport errCode from 'err-code'\nimport debug from 'debug'\nimport first from 'it-first'\nimport { createUnsafe } from 'multiformats/block'\nimport * as cborg from 'cborg'\nimport * as dagPb from '@ipld/dag-pb'\nimport {\n  cidToKey,\n  keyToMultihash\n} from './utils/blockstore.js'\nimport { walkDag } from './utils/walk-dag.js'\nimport { PinTypes } from './pin-types.js'\nimport QuickLRU from 'quick-lru'\n\n/**\n * @typedef {import('./types').PinType} PinType\n * @typedef {import('./types').PinQueryType} PinQueryType\n * @typedef {import('multiformats/codecs/interface').BlockCodec<any, any>} BlockCodec\n * @typedef {import('./types').PinOptions} PinOptions\n * @typedef {import('./types').AbortOptions} AbortOptions\n * @typedef {import('./types').Pins} Pins\n */\n\n/**\n * @typedef {object} PinInternal\n * @property {number} depth\n * @property {import('multiformats/cid').CIDVersion} [version]\n * @property {number} [codec]\n * @property {Record<string, any>} [metadata]\n */\n\n/**\n * @typedef {object} FetchCompleteDagOptions\n * @property {AbortSignal} [signal]\n * @property {number} [cidCacheMaxSize]\n */\n\nconst CID_CACHE_MAX_SIZE = 2048\n\n/**\n * @param {string} type\n */\nfunction invalidPinTypeErr (type) {\n  const errMsg = `Invalid type '${type}', must be one of {direct, indirect, recursive, all}`\n  return errCode(new Error(errMsg), 'ERR_INVALID_PIN_TYPE')\n}\n\n/**\n * @implements {Pins}\n */\nexport class PinManager {\n  /**\n   * @param {object} config\n   * @param {import('interface-datastore').Datastore} config.pinstore\n   * @param {import('interface-blockstore').Blockstore} config.blockstore\n   * @param {import('./types').loadCodec} config.loadCodec\n   */\n  constructor ({ pinstore, blockstore, loadCodec }) {\n    this.pinstore = pinstore\n    this.blockstore = blockstore\n    this.loadCodec = loadCodec\n    this.log = debug('ipfs:repo:pin')\n    this.directPins = new Set()\n    this.recursivePins = new Set()\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {PinOptions & AbortOptions} [options]\n   */\n  async pinDirectly (cid, options = {}) {\n    await this.blockstore.get(cid, options)\n\n    /** @type {PinInternal} */\n    const pin = {\n      depth: 0\n    }\n\n    if (cid.version !== 0) {\n      pin.version = cid.version\n    }\n\n    if (cid.code !== dagPb.code) {\n      pin.codec = cid.code\n    }\n\n    if (options.metadata) {\n      pin.metadata = options.metadata\n    }\n\n    return this.pinstore.put(cidToKey(cid), cborg.encode(pin))\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {AbortOptions} [options]\n   */\n  unpin (cid, options) {\n    return this.pinstore.delete(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {PinOptions & FetchCompleteDagOptions & AbortOptions} [options]\n   */\n  async pinRecursively (cid, options = {}) {\n    await this.fetchCompleteDag(cid, options)\n\n    /** @type {PinInternal} */\n    const pin = {\n      depth: Infinity\n    }\n\n    if (cid.version !== 0) {\n      pin.version = cid.version\n    }\n\n    if (cid.code !== dagPb.code) {\n      pin.codec = cid.code\n    }\n\n    if (options.metadata) {\n      pin.metadata = options.metadata\n    }\n\n    await this.pinstore.put(cidToKey(cid), cborg.encode(pin))\n  }\n\n  /**\n   * @param {AbortOptions} [options]\n   */\n  async * directKeys (options) {\n    for await (const entry of this.pinstore.query({\n      filters: [(entry) => {\n        const pin = cborg.decode(entry.value)\n\n        return pin.depth === 0\n      }]\n    })) {\n      const pin = cborg.decode(entry.value)\n      const version = pin.version || 0\n      const codec = pin.codec != null ? pin.codec : dagPb.code\n      const multihash = keyToMultihash(entry.key)\n\n      yield {\n        cid: CID.create(version, codec, multihash),\n        metadata: pin.metadata\n      }\n    }\n  }\n\n  /**\n   * @param {AbortOptions} [options]\n   */\n  async * recursiveKeys (options) {\n    for await (const entry of this.pinstore.query({\n      filters: [(entry) => {\n        const pin = cborg.decode(entry.value)\n\n        return pin.depth === Infinity\n      }]\n    })) {\n      const pin = cborg.decode(entry.value)\n      const version = pin.version || 0\n      const codec = pin.codec != null ? pin.codec : dagPb.code\n      const multihash = keyToMultihash(entry.key)\n\n      yield {\n        cid: CID.create(version, codec, multihash),\n        metadata: pin.metadata\n      }\n    }\n  }\n\n  /**\n   * @param {AbortOptions} [options]\n   */\n  async * indirectKeys (options) {\n    for await (const { cid } of this.recursiveKeys()) {\n      for await (const childCid of walkDag(cid, this.blockstore, this.loadCodec, options)) {\n        // recursive pins override indirect pins\n        const types = [\n          PinTypes.recursive\n        ]\n\n        const result = await this.isPinnedWithType(childCid, types)\n\n        if (result.pinned) {\n          continue\n        }\n\n        yield childCid\n      }\n    }\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {PinQueryType|PinQueryType[]} types\n   * @param {AbortOptions} [options]\n   */\n  async isPinnedWithType (cid, types, options) {\n    if (!Array.isArray(types)) {\n      types = [types]\n    }\n\n    const all = types.includes(PinTypes.all)\n    const direct = types.includes(PinTypes.direct)\n    const recursive = types.includes(PinTypes.recursive)\n    const indirect = types.includes(PinTypes.indirect)\n\n    if (recursive || direct || all) {\n      const result = await first(this.pinstore.query({\n        prefix: cidToKey(cid).toString(),\n        filters: [entry => {\n          if (all) {\n            return true\n          }\n\n          const pin = cborg.decode(entry.value)\n\n          return types.includes(pin.depth === 0 ? PinTypes.direct : PinTypes.recursive)\n        }],\n        limit: 1\n      }))\n\n      if (result) {\n        const pin = cborg.decode(result.value)\n\n        return {\n          cid,\n          pinned: true,\n          reason: pin.depth === 0 ? PinTypes.direct : PinTypes.recursive,\n          metadata: pin.metadata\n        }\n      }\n    }\n\n    const self = this\n\n    /**\n     * @param {CID} key\n     * @param {AsyncIterable<{ cid: CID, metadata: any }>} source\n     */\n    async function * findChild (key, source) {\n      for await (const { cid: parentCid } of source) {\n        for await (const childCid of walkDag(parentCid, self.blockstore, self.loadCodec)) {\n          if (childCid.equals(key)) {\n            yield parentCid\n            return\n          }\n        }\n      }\n    }\n\n    if (all || indirect) {\n      // indirect (default)\n      // check each recursive key to see if multihash is under it\n\n      const parentCid = await first(findChild(cid, this.recursiveKeys()))\n\n      if (parentCid) {\n        return {\n          cid,\n          pinned: true,\n          reason: PinTypes.indirect,\n          parent: parentCid\n        }\n      }\n    }\n\n    return {\n      cid,\n      pinned: false\n    }\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {FetchCompleteDagOptions} [options]\n   */\n  async fetchCompleteDag (cid, options = {}) {\n    const seen = new QuickLRU({ maxSize: options.cidCacheMaxSize ?? CID_CACHE_MAX_SIZE })\n\n    /**\n     * @param {CID} cid\n     * @param {AbortOptions} options\n     */\n    const walkDag = async (cid, options) => {\n      if (seen.has(cid.toString())) {\n        return\n      }\n\n      seen.set(cid.toString(), true)\n\n      const bytes = await this.blockstore.get(cid, options)\n      const codec = await this.loadCodec(cid.code)\n      const block = createUnsafe({ bytes, cid, codec })\n\n      await Promise.all(\n        [...block.links()].map(([, childCid]) => walkDag(childCid, options))\n      )\n    }\n\n    await walkDag(cid, options)\n  }\n\n  /**\n   * Throws an error if the pin type is invalid\n   *\n   * @param {any} type\n   * @returns {type is PinType}\n   */\n  static checkPinType (type) {\n    if (typeof type !== 'string' || !Object.keys(PinTypes).includes(type)) {\n      throw invalidPinTypeErr(type)\n    }\n    return true\n  }\n}\n", "import { Key } from 'interface-datastore/key'\nimport { CID } from 'multiformats'\nimport * as raw from 'multiformats/codecs/raw'\nimport errCode from 'err-code'\nimport { base32 } from 'multiformats/bases/base32'\nimport * as Digest from 'multiformats/hashes/digest'\n\n/**\n * Transform a cid to the appropriate datastore key.\n *\n * @param {CID} c\n */\nexport function cidToKey (c) {\n  const cid = CID.asCID(c)\n\n  if (cid == null) {\n    throw errCode(new Error('Not a valid cid'), 'ERR_INVALID_CID')\n  }\n\n  const encoded = base32.encode(cid.multihash.bytes)\n\n  return new Key('/' + encoded.slice(1).toUpperCase(), false)\n}\n\n/**\n * Transform a datastore Key instance to a CID\n * As Key is a multihash of the CID, it is reconstructed using IPLD's RAW codec.\n * Hence it is highly probable that stored CID will differ from a CID retrieved from blockstore.\n *\n * @param {Key} key\n */\nexport function keyToCid (key) {\n  // Block key is of the form /<base32 encoded string>\n  return CID.createV1(raw.code, keyToMultihash(key))\n}\n\n/**\n * @param {Key | string} key\n */\nexport function keyToMultihash (key) {\n  return Digest.decode(base32.decode(`b${key.toString().toLowerCase().substring(1)}`))\n}\n", "import debug from 'debug'\nimport { createUnsafe } from 'multiformats/block'\n\nconst log = debug('ipfs:repo:utils:walk-dag')\n\n/**\n * @typedef {import('multiformats/cid').CID} CID\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('../types').loadCodec} loadCodec\n * @typedef {import('../types').AbortOptions} AbortOptions\n */\n\n/**\n * @param {CID} cid\n * @param {Blockstore} blockstore\n * @param {loadCodec} loadCodec\n * @param {AbortOptions} [options]\n * @returns {AsyncGenerator<CID, void, undefined>}\n */\nexport async function * walkDag (cid, blockstore, loadCodec, options) {\n  try {\n    const bytes = await blockstore.get(cid, options)\n    const codec = await loadCodec(cid.code)\n    const block = createUnsafe({ bytes, cid, codec })\n\n    for (const [, childCid] of block.links()) {\n      yield childCid\n      yield * walkDag(childCid, blockstore, loadCodec, options)\n    }\n  } catch (/** @type {any} */ err) {\n    log('Could not walk DAG for CID', cid.toString(), err)\n\n    throw err\n  }\n}\n", "\nexport const PinTypes = {\n  /** @type {'direct'} */\n  direct: 'direct',\n  /** @type {'recursive'} */\n  recursive: 'recursive',\n  /** @type {'indirect'} */\n  indirect: 'indirect',\n  /** @type {'all'} */\n  all: 'all'\n}\n", "export default class QuickLRU extends Map {\n\tconstructor(options = {}) {\n\t\tsuper();\n\n\t\tif (!(options.maxSize && options.maxSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tif (typeof options.maxAge === 'number' && options.maxAge === 0) {\n\t\t\tthrow new TypeError('`maxAge` must be a number greater than 0');\n\t\t}\n\n\t\t// TODO: Use private class fields when ESLint supports them.\n\t\tthis.maxSize = options.maxSize;\n\t\tthis.maxAge = options.maxAge || Number.POSITIVE_INFINITY;\n\t\tthis.onEviction = options.onEviction;\n\t\tthis.cache = new Map();\n\t\tthis.oldCache = new Map();\n\t\tthis._size = 0;\n\t}\n\n\t// TODO: Use private class methods when targeting Node.js 16.\n\t_emitEvictions(cache) {\n\t\tif (typeof this.onEviction !== 'function') {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [key, item] of cache) {\n\t\t\tthis.onEviction(key, item.value);\n\t\t}\n\t}\n\n\t_deleteIfExpired(key, item) {\n\t\tif (typeof item.expiry === 'number' && item.expiry <= Date.now()) {\n\t\t\tif (typeof this.onEviction === 'function') {\n\t\t\t\tthis.onEviction(key, item.value);\n\t\t\t}\n\n\t\t\treturn this.delete(key);\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t_getOrDeleteIfExpired(key, item) {\n\t\tconst deleted = this._deleteIfExpired(key, item);\n\t\tif (deleted === false) {\n\t\t\treturn item.value;\n\t\t}\n\t}\n\n\t_getItemValue(key, item) {\n\t\treturn item.expiry ? this._getOrDeleteIfExpired(key, item) : item.value;\n\t}\n\n\t_peek(key, cache) {\n\t\tconst item = cache.get(key);\n\n\t\treturn this._getItemValue(key, item);\n\t}\n\n\t_set(key, value) {\n\t\tthis.cache.set(key, value);\n\t\tthis._size++;\n\n\t\tif (this._size >= this.maxSize) {\n\t\t\tthis._size = 0;\n\t\t\tthis._emitEvictions(this.oldCache);\n\t\t\tthis.oldCache = this.cache;\n\t\t\tthis.cache = new Map();\n\t\t}\n\t}\n\n\t_moveToRecent(key, item) {\n\t\tthis.oldCache.delete(key);\n\t\tthis._set(key, item);\n\t}\n\n\t* _entriesAscending() {\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield item;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield item;\n\t\t\t}\n\t\t}\n\t}\n\n\tget(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\tconst item = this.cache.get(key);\n\n\t\t\treturn this._getItemValue(key, item);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\tconst item = this.oldCache.get(key);\n\t\t\tif (this._deleteIfExpired(key, item) === false) {\n\t\t\t\tthis._moveToRecent(key, item);\n\t\t\t\treturn item.value;\n\t\t\t}\n\t\t}\n\t}\n\n\tset(key, value, {maxAge = this.maxAge} = {}) {\n\t\tconst expiry =\n\t\t\ttypeof maxAge === 'number' && maxAge !== Number.POSITIVE_INFINITY ?\n\t\t\t\tDate.now() + maxAge :\n\t\t\t\tundefined;\n\t\tif (this.cache.has(key)) {\n\t\t\tthis.cache.set(key, {\n\t\t\t\tvalue,\n\t\t\t\texpiry\n\t\t\t});\n\t\t} else {\n\t\t\tthis._set(key, {value, expiry});\n\t\t}\n\t}\n\n\thas(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.cache.get(key));\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn !this._deleteIfExpired(key, this.oldCache.get(key));\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tpeek(key) {\n\t\tif (this.cache.has(key)) {\n\t\t\treturn this._peek(key, this.cache);\n\t\t}\n\n\t\tif (this.oldCache.has(key)) {\n\t\t\treturn this._peek(key, this.oldCache);\n\t\t}\n\t}\n\n\tdelete(key) {\n\t\tconst deleted = this.cache.delete(key);\n\t\tif (deleted) {\n\t\t\tthis._size--;\n\t\t}\n\n\t\treturn this.oldCache.delete(key) || deleted;\n\t}\n\n\tclear() {\n\t\tthis.cache.clear();\n\t\tthis.oldCache.clear();\n\t\tthis._size = 0;\n\t}\n\n\tresize(newSize) {\n\t\tif (!(newSize && newSize > 0)) {\n\t\t\tthrow new TypeError('`maxSize` must be a number greater than 0');\n\t\t}\n\n\t\tconst items = [...this._entriesAscending()];\n\t\tconst removeCount = items.length - newSize;\n\t\tif (removeCount < 0) {\n\t\t\tthis.cache = new Map(items);\n\t\t\tthis.oldCache = new Map();\n\t\t\tthis._size = items.length;\n\t\t} else {\n\t\t\tif (removeCount > 0) {\n\t\t\t\tthis._emitEvictions(items.slice(0, removeCount));\n\t\t\t}\n\n\t\t\tthis.oldCache = new Map(items.slice(removeCount));\n\t\t\tthis.cache = new Map();\n\t\t\tthis._size = 0;\n\t\t}\n\n\t\tthis.maxSize = newSize;\n\t}\n\n\t* keys() {\n\t\tfor (const [key] of this) {\n\t\t\tyield key;\n\t\t}\n\t}\n\n\t* values() {\n\t\tfor (const [, value] of this) {\n\t\t\tyield value;\n\t\t}\n\t}\n\n\t* [Symbol.iterator]() {\n\t\tfor (const item of this.cache) {\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\tfor (const item of this.oldCache) {\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesDescending() {\n\t\tlet items = [...this.cache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\tif (deleted === false) {\n\t\t\t\tyield [key, value.value];\n\t\t\t}\n\t\t}\n\n\t\titems = [...this.oldCache];\n\t\tfor (let i = items.length - 1; i >= 0; --i) {\n\t\t\tconst item = items[i];\n\t\t\tconst [key, value] = item;\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\tconst deleted = this._deleteIfExpired(key, value);\n\t\t\t\tif (deleted === false) {\n\t\t\t\t\tyield [key, value.value];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t* entriesAscending() {\n\t\tfor (const [key, value] of this._entriesAscending()) {\n\t\t\tyield [key, value.value];\n\t\t}\n\t}\n\n\tget size() {\n\t\tif (!this._size) {\n\t\t\treturn this.oldCache.size;\n\t\t}\n\n\t\tlet oldCacheSize = 0;\n\t\tfor (const key of this.oldCache.keys()) {\n\t\t\tif (!this.cache.has(key)) {\n\t\t\t\toldCacheSize++;\n\t\t\t}\n\t\t}\n\n\t\treturn Math.min(this._size + oldCacheSize, this.maxSize);\n\t}\n\n\tentries() {\n\t\treturn this.entriesAscending();\n\t}\n\n\tforEach(callbackFunction, thisArgument = this) {\n\t\tfor (const [key, value] of this.entriesAscending()) {\n\t\t\tcallbackFunction.call(thisArgument, value, key, this);\n\t\t}\n\t}\n\n\tget [Symbol.toStringTag]() {\n\t\treturn JSON.stringify([...this.entriesAscending()]);\n\t}\n}\n", "\nimport map from 'it-map'\nimport errCode from 'err-code'\nimport { PinTypes } from './pin-types.js'\n\n/**\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} DatastoreOptions\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('multiformats/cid').CID} CID\n * @typedef {import('./pin-manager').Pins} Pins\n */\n\n/**\n * @param {Pins} pins\n * @param {Blockstore} store\n * @returns {Blockstore}\n */\nexport function createPinnedBlockstore (pins, store) {\n  return {\n    open () {\n      return store.open()\n    },\n\n    close () {\n      return store.close()\n    },\n\n    query (query, options) {\n      return store.query(query, options)\n    },\n\n    queryKeys (query, options) {\n      return store.queryKeys(query, options)\n    },\n\n    async get (cid, options) {\n      return store.get(cid, options)\n    },\n\n    async * getMany (cids, options) {\n      yield * store.getMany(cids, options)\n    },\n\n    async put (cid, buf, options) {\n      await store.put(cid, buf, options)\n    },\n\n    async * putMany (pairs, options) {\n      yield * store.putMany(pairs, options)\n    },\n\n    has (cid, options) {\n      return store.has(cid, options)\n    },\n\n    async delete (cid, options) {\n      await ensureNotPinned(cid, pins)\n\n      return store.delete(cid, options)\n    },\n\n    deleteMany (cids, options) {\n      return store.deleteMany(map(cids, async cid => {\n        await ensureNotPinned(cid, pins)\n\n        return cid\n      }), options)\n    },\n\n    batch () {\n      return store.batch()\n    }\n  }\n}\n\n/**\n * @param {CID} cid\n * @param {Pins} pins\n */\nasync function ensureNotPinned (cid, pins) {\n  const { pinned, reason } = await pins.isPinnedWithType(cid, PinTypes.all)\n\n  if (pinned) {\n    throw errCode(new Error(`pinned: ${reason}`), 'ERR_BLOCK_PINNED')\n  }\n}\n", null, "export class TimeoutError extends Error {\n\tconstructor(message) {\n\t\tsuper(message);\n\t\tthis.name = 'TimeoutError';\n\t}\n}\n\n/**\nAn error to be thrown when the request is aborted by AbortController.\nDOMException is thrown instead of this Error when DOMException is available.\n*/\nexport class AbortError extends Error {\n\tconstructor(message) {\n\t\tsuper();\n\t\tthis.name = 'AbortError';\n\t\tthis.message = message;\n\t}\n}\n\n/**\nTODO: Remove AbortError and just throw DOMException when targeting Node 18.\n*/\nconst getDOMException = errorMessage => globalThis.DOMException === undefined\n\t? new AbortError(errorMessage)\n\t: new DOMException(errorMessage);\n\n/**\nTODO: Remove below function and just 'reject(signal.reason)' when targeting Node 18.\n*/\nconst getAbortedReason = signal => {\n\tconst reason = signal.reason === undefined\n\t\t? getDOMException('This operation was aborted.')\n\t\t: signal.reason;\n\n\treturn reason instanceof Error ? reason : getDOMException(reason);\n};\n\nexport default function pTimeout(promise, options) {\n\tconst {\n\t\tmilliseconds,\n\t\tfallback,\n\t\tmessage,\n\t\tcustomTimers = {setTimeout, clearTimeout},\n\t} = options;\n\n\tlet timer;\n\n\tconst cancelablePromise = new Promise((resolve, reject) => {\n\t\tif (typeof milliseconds !== 'number' || Math.sign(milliseconds) !== 1) {\n\t\t\tthrow new TypeError(`Expected \\`milliseconds\\` to be a positive number, got \\`${milliseconds}\\``);\n\t\t}\n\n\t\tif (milliseconds === Number.POSITIVE_INFINITY) {\n\t\t\tresolve(promise);\n\t\t\treturn;\n\t\t}\n\n\t\tif (options.signal) {\n\t\t\tconst {signal} = options;\n\t\t\tif (signal.aborted) {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t}\n\n\t\t\tsignal.addEventListener('abort', () => {\n\t\t\t\treject(getAbortedReason(signal));\n\t\t\t});\n\t\t}\n\n\t\ttimer = customTimers.setTimeout.call(undefined, () => {\n\t\t\tif (fallback) {\n\t\t\t\ttry {\n\t\t\t\t\tresolve(fallback());\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst errorMessage = typeof message === 'string' ? message : `Promise timed out after ${milliseconds} milliseconds`;\n\t\t\tconst timeoutError = message instanceof Error ? message : new TimeoutError(errorMessage);\n\n\t\t\tif (typeof promise.cancel === 'function') {\n\t\t\t\tpromise.cancel();\n\t\t\t}\n\n\t\t\treject(timeoutError);\n\t\t}, milliseconds);\n\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tresolve(await promise);\n\t\t\t} catch (error) {\n\t\t\t\treject(error);\n\t\t\t} finally {\n\t\t\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\t\t}\n\t\t})();\n\t});\n\n\tcancelablePromise.clear = () => {\n\t\tcustomTimers.clearTimeout.call(undefined, timer);\n\t\ttimer = undefined;\n\t};\n\n\treturn cancelablePromise;\n}\n", null, "export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n", null, null, "\nimport { CID } from 'multiformats/cid'\nimport debug from 'debug'\nimport { notFoundError } from 'datastore-core/errors'\nimport parallelBatch from 'it-parallel-batch'\nimport { pipe } from 'it-pipe'\nimport merge from 'it-merge'\nimport map from 'it-map'\nimport filter from 'it-filter'\nimport { Key } from 'interface-datastore/key'\nimport { base32 } from 'multiformats/bases/base32'\nimport { walkDag } from './utils/walk-dag.js'\n\nconst log = debug('ipfs:repo:gc')\nconst ERR_NOT_FOUND = notFoundError().code\n\n// Limit on the number of parallel block remove operations\nconst BLOCK_RM_CONCURRENCY = 256\n\nconst MFS_ROOT_KEY = new Key('/local/filesroot')\n\n/**\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('./types').loadCodec} loadCodec\n * @typedef {import('./types').GCErrorResult} GCErrorResult\n * @typedef {import('./types').GCSuccessResult} GCSuccessResult\n */\n\n/**\n * Perform mark and sweep garbage collection\n *\n * @param {object} config\n * @param {import('./types').GCLock} config.gcLock\n * @param {import('./types').Pins} config.pins\n * @param {Blockstore} config.blockstore\n * @param {import('interface-datastore').Datastore} config.root\n * @param {loadCodec} config.loadCodec\n */\nexport function gc ({ gcLock, pins, blockstore, root, loadCodec }) {\n  /**\n   * @returns {AsyncGenerator<GCErrorResult | GCSuccessResult, void, unknown>}\n   */\n  async function * gc () {\n    const start = Date.now()\n    log('Creating set of marked blocks')\n\n    const release = await gcLock.writeLock()\n\n    try {\n      // Mark all blocks that are being used\n      const markedSet = await createMarkedSet({ pins, blockstore, root, loadCodec })\n      // Get all blocks keys from the blockstore\n      const blockKeys = blockstore.queryKeys({})\n\n      // Delete blocks that are not being used\n      // @ts-ignore ts cannot tell that we filter out null results\n      yield * deleteUnmarkedBlocks({ blockstore }, markedSet, blockKeys)\n\n      log(`Complete (${Date.now() - start}ms)`)\n    } finally {\n      release()\n    }\n  }\n\n  return gc\n}\n\n/**\n * Get Set of CIDs of blocks to keep\n *\n * @param {object} config\n * @param {import('./pin-manager').Pins} config.pins\n * @param {import('interface-blockstore').Blockstore} config.blockstore\n * @param {import('interface-datastore').Datastore} config.root\n * @param {loadCodec} config.loadCodec\n */\nasync function createMarkedSet ({ pins, blockstore, loadCodec, root }) {\n  const mfsSource = (async function * () {\n    let mh\n    try {\n      mh = await root.get(MFS_ROOT_KEY)\n    } catch (/** @type {any} */ err) {\n      if (err.code === ERR_NOT_FOUND) {\n        log('No blocks in MFS')\n        return\n      }\n\n      throw err\n    }\n\n    const rootCid = CID.decode(mh)\n    yield rootCid\n    yield * walkDag(rootCid, blockstore, loadCodec)\n  })()\n\n  const pinsSource = merge(\n    map(pins.recursiveKeys(), ({ cid }) => cid),\n    pins.indirectKeys(),\n    map(pins.directKeys(), ({ cid }) => cid),\n    mfsSource\n  )\n\n  const output = new Set()\n\n  for await (const cid of merge(pinsSource, mfsSource)) {\n    output.add(base32.encode(cid.multihash.bytes))\n  }\n\n  return output\n}\n\n/**\n * Delete all blocks that are not marked as in use\n *\n * @param {object} arg\n * @param {Blockstore} arg.blockstore\n * @param {Set<string>} markedSet\n * @param {AsyncIterable<CID>} blockKeys\n */\nasync function * deleteUnmarkedBlocks ({ blockstore }, markedSet, blockKeys) {\n  // Iterate through all blocks and find those that are not in the marked set\n  // blockKeys yields { key: Key() }\n  let blocksCount = 0\n  let removedBlocksCount = 0\n\n  /**\n   * @param {CID} cid\n   */\n  const removeBlock = async (cid) => {\n    return async function remove () {\n      blocksCount++\n\n      try {\n        const b32 = base32.encode(cid.multihash.bytes)\n\n        if (markedSet.has(b32)) {\n          return null\n        }\n\n        try {\n          await blockstore.delete(cid)\n          removedBlocksCount++\n        } catch (/** @type {any} */ err) {\n          return {\n            err: new Error(`Could not delete block with CID ${cid}: ${err.message}`)\n          }\n        }\n\n        return { cid }\n      } catch (/** @type {any} */ err) {\n        const msg = `Could delete block with CID ${cid}`\n        log(msg, err)\n        return { err: new Error(msg + `: ${err.message}`) }\n      }\n    }\n  }\n\n  yield * pipe(\n    parallelBatch(map(blockKeys, removeBlock), BLOCK_RM_CONCURRENCY),\n    // filter nulls (blocks that were retained)\n    source => filter(source, Boolean)\n  )\n\n  log(`Marked set has ${markedSet.size} unique blocks. Blockstore has ${blocksCount} blocks. ` +\n  `Deleted ${removedBlocksCount} blocks.`)\n}\n", null, null, null, "import { Key } from 'interface-datastore'\nimport { BaseDatastore, Errors } from 'datastore-core'\nimport filter from 'it-filter'\nimport map from 'it-map'\nimport take from 'it-take'\nimport sort from 'it-sort'\nimport { Level } from 'level'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Options} QueryOptions\n * @typedef {import('abstract-level').AbstractLevel<any, string, Uint8Array>} LevelDb\n */\n\n/**\n * A datastore backed by leveldb\n */\nexport class LevelDatastore extends BaseDatastore {\n  /**\n   * @param {string | LevelDb} path\n   * @param {import('level').DatabaseOptions<string, Uint8Array> & import('level').OpenOptions} [opts]\n   */\n  constructor (path, opts = {}) {\n    super()\n\n    /** @type {LevelDb} */\n    this.db = typeof path === 'string'\n      ? new Level(path, {\n        ...opts,\n        keyEncoding: 'utf8',\n        valueEncoding: 'view'\n      })\n      : path\n\n    /** @type {import('level').OpenOptions} */\n    this.opts = {\n      createIfMissing: true,\n      compression: false, // same default as go\n      ...opts\n    }\n  }\n\n  async open () {\n    try {\n      await this.db.open(this.opts)\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbOpenFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} value\n   */\n  async put (key, value) {\n    try {\n      await this.db.put(key.toString(), value)\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbWriteFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<Uint8Array>}\n   */\n  async get (key) {\n    let data\n    try {\n      data = await this.db.get(key.toString())\n    } catch (/** @type {any} */ err) {\n      if (err.notFound) throw Errors.notFoundError(err)\n      throw Errors.dbWriteFailedError(err)\n    }\n    return data\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<boolean>}\n   */\n  async has (key) {\n    try {\n      await this.db.get(key.toString())\n    } catch (/** @type {any} */ err) {\n      if (err.notFound) return false\n      throw err\n    }\n    return true\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<void>}\n   */\n  async delete (key) {\n    try {\n      await this.db.del(key.toString())\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbDeleteFailedError(err)\n    }\n  }\n\n  close () {\n    return this.db && this.db.close()\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Array<{ type: 'put', key: string, value: Uint8Array; } | { type: 'del', key: string }>} */\n    const ops = []\n    return {\n      put: (key, value) => {\n        ops.push({\n          type: 'put',\n          key: key.toString(),\n          value: value\n        })\n      },\n      delete: (key) => {\n        ops.push({\n          type: 'del',\n          key: key.toString()\n        })\n      },\n      commit: () => {\n        return this.db.batch(ops)\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   */\n  query (q) {\n    let it = this._query({\n      values: true,\n      prefix: q.prefix\n    })\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sort(it, f), it)\n    }\n\n    const { offset, limit } = q\n    if (offset) {\n      let i = 0\n      it = filter(it, () => i++ >= offset)\n    }\n\n    if (limit) {\n      it = take(it, limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   */\n  queryKeys (q) {\n    let it = map(this._query({\n      values: false,\n      prefix: q.prefix\n    }), ({ key }) => key)\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sort(it, f), it)\n    }\n\n    const { offset, limit } = q\n    if (offset) {\n      let i = 0\n      it = filter(it, () => i++ >= offset)\n    }\n\n    if (limit) {\n      it = take(it, limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {object} opts\n   * @param {boolean} opts.values\n   * @param {string} [opts.prefix]\n   * @returns {AsyncIterable<Pair>}\n   */\n  _query (opts) {\n    /** @type {import('level').IteratorOptions<string, Uint8Array>} */\n    const iteratorOpts = {\n      keys: true,\n      keyEncoding: 'buffer',\n      values: opts.values\n    }\n\n    // Let the db do the prefix matching\n    if (opts.prefix != null) {\n      const prefix = opts.prefix.toString()\n      // Match keys greater than or equal to `prefix` and\n      iteratorOpts.gte = prefix\n      // less than `prefix` + \\xFF (hex escape sequence)\n      iteratorOpts.lt = prefix + '\\xFF'\n    }\n\n    const iterator = this.db.iterator(iteratorOpts)\n\n    if (iterator[Symbol.asyncIterator]) {\n      return levelIteratorToIterator(iterator)\n    }\n\n    // @ts-expect-error support older level\n    if (iterator.next != null && iterator.end != null) {\n      // @ts-expect-error support older level\n      return oldLevelIteratorToIterator(iterator)\n    }\n\n    throw new Error('Level returned incompatible iterator')\n  }\n}\n\n/**\n * @param {import('level').Iterator<LevelDb, string, Uint8Array>} li - Level iterator\n * @returns {AsyncIterable<Pair>}\n */\nasync function * levelIteratorToIterator (li) {\n  for await (const [key, value] of li) {\n    yield { key: new Key(key, false), value }\n  }\n\n  await li.close()\n}\n\n/**\n * @typedef {object} LevelIterator\n * @property {(cb: (err: Error, key: string | Uint8Array | null, value: any)=> void)=>void} next\n * @property {(cb: (err: Error) => void) => void } end\n */\n\n/**\n * @param {LevelIterator} li - Level iterator\n * @returns {AsyncIterable<Pair>}\n */\nfunction oldLevelIteratorToIterator (li) {\n  return {\n    [Symbol.asyncIterator] () {\n      return {\n        next: () => new Promise((resolve, reject) => {\n          li.next((err, key, value) => {\n            if (err) return reject(err)\n            if (key == null) {\n              return li.end(err => {\n                if (err) return reject(err)\n                resolve({ done: true, value: undefined })\n              })\n            }\n            resolve({ done: false, value: { key: new Key(key, false), value } })\n          })\n        }),\n        return: () => new Promise((resolve, reject) => {\n          li.end(err => {\n            if (err) return reject(err)\n            resolve({ done: true, value: undefined })\n          })\n        })\n      }\n    }\n  }\n}\n", null, null, "import * as Errors from './errors.js'\nimport * as shard from './shard.js'\n\nexport { BaseDatastore } from './base.js'\nexport { MemoryDatastore } from './memory.js'\nexport { KeyTransformDatastore } from './keytransform.js'\nexport { ShardingDatastore } from './sharding.js'\nexport { MountDatastore } from './mount.js'\nexport { TieredDatastore } from './tiered.js'\nexport { NamespaceDatastore } from './namespace.js'\n\nexport { Errors }\nexport { shard }\n\n/**\n * @typedef {import(\"./types\").Shard } Shard\n * @typedef {import(\"./types\").KeyTransform } KeyTransform\n */\n", "import { Key } from 'interface-datastore/key'\n// @ts-expect-error readme is unused\n// eslint-disable-next-line no-unused-vars\nimport readme from './shard-readme.js'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('./types').Shard} Shard\n */\n\nexport const PREFIX = '/repo/flatfs/shard/'\nexport const SHARDING_FN = 'SHARDING'\nexport const README_FN = '_README'\n\n/**\n * @implements {Shard}\n */\nexport class ShardBase {\n  /**\n   * @param {any} param\n   */\n  constructor (param) {\n    this.param = param\n    this.name = 'base'\n    this._padding = ''\n  }\n\n  /**\n   * @param {string} s\n   */\n  fun (s) {\n    return 'implement me'\n  }\n\n  toString () {\n    return `${PREFIX}v1/${this.name}/${this.param}`\n  }\n}\n/**\n * @implements {Shard}\n */\nexport class Prefix extends ShardBase {\n  /**\n   * @param {number} prefixLen\n   */\n  constructor (prefixLen) {\n    super(prefixLen)\n    this._padding = ''.padStart(prefixLen, '_')\n    this.name = 'prefix'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    return (noslash + this._padding).slice(0, this.param)\n  }\n}\n\nexport class Suffix extends ShardBase {\n  /**\n   * @param {number} suffixLen\n   */\n  constructor (suffixLen) {\n    super(suffixLen)\n    this._padding = ''.padStart(suffixLen, '_')\n    this.name = 'suffix'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    const s = this._padding + noslash\n    return s.slice(s.length - this.param)\n  }\n}\n\nexport class NextToLast extends ShardBase {\n  /**\n   * @param {number} suffixLen\n   */\n  constructor (suffixLen) {\n    super(suffixLen)\n    this._padding = ''.padStart(suffixLen + 1, '_')\n    this.name = 'next-to-last'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    const s = this._padding + noslash\n    const offset = s.length - this.param - 1\n    return s.slice(offset, offset + this.param)\n  }\n}\n\n/**\n * Convert a given string to the matching sharding function.\n *\n * @param {string} str\n * @returns {Shard}\n */\nexport function parseShardFun (str) {\n  str = str.trim()\n\n  if (str.length === 0) {\n    throw new Error('empty shard string')\n  }\n\n  if (!str.startsWith(PREFIX)) {\n    throw new Error(`invalid or no path prefix: ${str}`)\n  }\n\n  const parts = str.slice(PREFIX.length).split('/')\n  const version = parts[0]\n\n  if (version !== 'v1') {\n    throw new Error(`expect 'v1' version, got '${version}'`)\n  }\n\n  const name = parts[1]\n\n  if (!parts[2]) {\n    throw new Error('missing param')\n  }\n\n  const param = parseInt(parts[2], 10)\n\n  switch (name) {\n    case 'prefix':\n      return new Prefix(param)\n    case 'suffix':\n      return new Suffix(param)\n    case 'next-to-last':\n      return new NextToLast(param)\n    default:\n      throw new Error(`unkown sharding function: ${name}`)\n  }\n}\n\n/**\n * @param {string | Uint8Array} path\n * @param {Datastore} store\n */\nexport const readShardFun = async (path, store) => {\n  const key = new Key(path).child(new Key(SHARDING_FN))\n  // @ts-ignore\n  const get = typeof store.getRaw === 'function' ? store.getRaw.bind(store) : store.get.bind(store)\n  const res = await get(key)\n  return parseShardFun(new TextDecoder().decode(res || '').trim())\n}\n\nexport { default as readme } from './shard-readme.js'\n", null, "export default `This is a repository of IPLD objects. Each IPLD object is in a single file,\nnamed <base32 encoding of cid>.data. Where <base32 encoding of cid> is the\n\"base32\" encoding of the CID (as specified in\nhttps://github.com/multiformats/multibase) without the 'B' prefix.\nAll the object files are placed in a tree of directories, based on a\nfunction of the CID. This is a form of sharding similar to\nthe objects directory in git repositories. Previously, we used\nprefixes, we now use the next-to-last two charters.\n    func NextToLast(base32cid string) {\n      nextToLastLen := 2\n      offset := len(base32cid) - nextToLastLen - 1\n      return str[offset : offset+nextToLastLen]\n    }\nFor example, an object with a base58 CIDv1 of\n    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f\nhas a base32 CIDv1 of\n    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA\nand will be placed at\n    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data\nwith 'SC' being the last-to-next two characters and the 'B' at the\nbeginning of the CIDv1 string is the multibase prefix that is not\nstored in the filename.\n`\n", "import { sortAll } from './utils.js'\nimport drain from 'it-drain'\nimport filter from 'it-filter'\nimport take from 'it-take'\n\n/**\n * @typedef {import('interface-store').Options} Options\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Batch} Batch\n */\n\n/**\n * @template O\n * @typedef {import('interface-store').AwaitIterable<O>} AwaitIterable\n */\n\n/**\n * @implements {Datastore}\n */\nexport class BaseDatastore {\n  /**\n   * @returns {Promise<void>}\n   */\n  open () {\n    return Promise.reject(new Error('.open is not implemented'))\n  }\n\n  /**\n   * @returns {Promise<void>}\n   */\n  close () {\n    return Promise.reject(new Error('.close is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  put (key, val, options) {\n    return Promise.reject(new Error('.put is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<Uint8Array>}\n   */\n  get (key, options) {\n    return Promise.reject(new Error('.get is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<boolean>}\n   */\n  has (key, options) {\n    return Promise.reject(new Error('.has is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  delete (key, options) {\n    return Promise.reject(new Error('.delete is not implemented'))\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    for await (const { key, value } of source) {\n      await this.put(key, value, options)\n      yield { key, value }\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    for await (const key of source) {\n      yield this.get(key, options)\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    for await (const key of source) {\n      await this.delete(key, options)\n      yield key\n    }\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Pair[]} */\n    let puts = []\n    /** @type {Key[]} */\n    let dels = []\n\n    return {\n      put (key, value) {\n        puts.push({ key, value })\n      },\n\n      delete (key) {\n        dels.push(key)\n      },\n      commit: async (options) => {\n        await drain(this.putMany(puts, options))\n        puts = []\n        await drain(this.deleteMany(dels, options))\n        dels = []\n      }\n    }\n  }\n\n  /**\n   * Extending classes should override `query` or implement this method\n   *\n   * @param {Query} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _all (q, options) {\n    throw new Error('._all is not implemented')\n  }\n\n  /**\n   * Extending classes should override `queryKeys` or implement this method\n   *\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _allKeys (q, options) {\n    throw new Error('._allKeys is not implemented')\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    let it = this._all(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (e) =>\n        e.key.toString().startsWith(/** @type {string} */ (q.prefix))\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    let it = this._allKeys(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (key) =>\n        key.toString().startsWith(/** @type {string} */ (q.prefix))\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n}\n", "\nimport all from 'it-all'\n\n/**\n * Collect all values from the iterable and sort them using\n * the passed sorter function\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} iterable\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n * @returns {AsyncIterable<T>}\n */\nexport const sortAll = (iterable, sorter) => {\n  return (async function * () {\n    const values = await all(iterable)\n    yield * values.sort(sorter)\n  })()\n}\n\n/**\n * @param {string} s\n * @param {string} r\n */\nexport const replaceStartWith = (s, r) => {\n  const matcher = new RegExp('^' + r)\n  return s.replace(matcher, '')\n}\n", "import { BaseDatastore } from './base.js'\nimport { Key } from 'interface-datastore/key'\nimport * as Errors from './errors.js'\n\n/**\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-store').Options} Options\n */\n\n/**\n * @class MemoryDatastore\n * @implements {Datastore}\n */\nexport class MemoryDatastore extends BaseDatastore {\n  constructor () {\n    super()\n\n    /** @type {Record<string, Uint8Array>} */\n    this.data = {}\n  }\n\n  open () {\n    return Promise.resolve()\n  }\n\n  close () {\n    return Promise.resolve()\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   */\n  async put (key, val) { // eslint-disable-line require-await\n    this.data[key.toString()] = val\n  }\n\n  /**\n   * @param {Key} key\n   */\n  async get (key) {\n    const exists = await this.has(key)\n    if (!exists) throw Errors.notFoundError()\n    return this.data[key.toString()]\n  }\n\n  /**\n   * @param {Key} key\n   */\n  async has (key) { // eslint-disable-line require-await\n    return this.data[key.toString()] !== undefined\n  }\n\n  /**\n   * @param {Key} key\n   */\n  async delete (key) { // eslint-disable-line require-await\n    delete this.data[key.toString()]\n  }\n\n  async * _all () {\n    yield * Object.entries(this.data)\n      .map(([key, value]) => ({ key: new Key(key), value }))\n  }\n\n  async * _allKeys () {\n    yield * Object.entries(this.data)\n      .map(([key]) => new Key(key))\n  }\n}\n", "import { BaseDatastore } from './base.js'\nimport map from 'it-map'\nimport { pipe } from 'it-pipe'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('./types').KeyTransform} KeyTransform\n */\n\n/**\n * @template TEntry\n * @typedef {import('interface-store').AwaitIterable<TEntry>} AwaitIterable\n */\n\n/**\n * A datastore shim, that wraps around a given datastore, changing\n * the way keys look to the user, for example namespacing\n * keys, reversing them, etc.\n *\n * @implements {Datastore}\n */\nexport class KeyTransformDatastore extends BaseDatastore {\n  /**\n   * @param {Datastore} child\n   * @param {KeyTransform} transform\n   */\n  constructor (child, transform) {\n    super()\n\n    this.child = child\n    this.transform = transform\n  }\n\n  open () {\n    return this.child.open()\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   */\n  put (key, val, options) {\n    return this.child.put(this.transform.convert(key), val, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  get (key, options) {\n    return this.child.get(this.transform.convert(key), options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  has (key, options) {\n    return this.child.has(this.transform.convert(key), options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  delete (key, options) {\n    return this.child.delete(this.transform.convert(key), options)\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    const transform = this.transform\n    const child = this.child\n\n    yield * pipe(\n      source,\n      async function * (source) {\n        yield * map(source, ({ key, value }) => ({\n          key: transform.convert(key),\n          value\n        }))\n      },\n      async function * (source) {\n        yield * child.putMany(source, options)\n      },\n      async function * (source) {\n        yield * map(source, ({ key, value }) => ({\n          key: transform.invert(key),\n          value\n        }))\n      }\n    )\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    const transform = this.transform\n    const child = this.child\n\n    yield * pipe(\n      source,\n      async function * (source) {\n        yield * map(source, key => transform.convert(key))\n      },\n      async function * (source) {\n        yield * child.getMany(source, options)\n      }\n    )\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    const transform = this.transform\n    const child = this.child\n\n    yield * pipe(\n      source,\n      async function * (source) {\n        yield * map(source, key => transform.convert(key))\n      },\n      async function * (source) {\n        yield * child.deleteMany(source, options)\n      },\n      async function * (source) {\n        yield * map(source, key => transform.invert(key))\n      }\n    )\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    const b = this.child.batch()\n    return {\n      put: (key, value) => {\n        b.put(this.transform.convert(key), value)\n      },\n      delete: (key) => {\n        b.delete(this.transform.convert(key))\n      },\n      commit: (options) => {\n        return b.commit(options)\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    /** @type {Query} */\n    const query = {\n      ...q\n    }\n\n    query.filters = (query.filters || []).map(filter => {\n      return ({ key, value }) => filter({ key: this.transform.convert(key), value })\n    })\n\n    const { prefix } = q\n    if (prefix != null && prefix !== '/') {\n      delete query.prefix\n      query.filters.push(({ key }) => {\n        return this.transform.invert(key).toString().startsWith(prefix)\n      })\n    }\n\n    if (query.orders) {\n      query.orders = query.orders.map(order => {\n        return (a, b) => order(\n          { key: this.transform.invert(a.key), value: a.value },\n          { key: this.transform.invert(b.key), value: b.value }\n        )\n      })\n    }\n\n    return map(this.child.query(query, options), ({ key, value }) => {\n      return {\n        key: this.transform.invert(key),\n        value\n      }\n    })\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    const query = {\n      ...q\n    }\n\n    query.filters = (query.filters || []).map(filter => {\n      return (key) => filter(this.transform.convert(key))\n    })\n\n    const { prefix } = q\n    if (prefix != null && prefix !== '/') {\n      delete query.prefix\n      query.filters.push((key) => {\n        return this.transform.invert(key).toString().startsWith(prefix)\n      })\n    }\n\n    if (query.orders) {\n      query.orders = query.orders.map(order => {\n        return (a, b) => order(\n          this.transform.invert(a),\n          this.transform.invert(b)\n        )\n      })\n    }\n\n    return map(this.child.queryKeys(query, options), key => {\n      return this.transform.invert(key)\n    })\n  }\n\n  close () {\n    return this.child.close()\n  }\n}\n", "import { Key } from 'interface-datastore'\nimport {\n  readShardFun,\n  SHARDING_FN,\n  README_FN,\n  readme\n} from './shard.js'\nimport { BaseDatastore } from './base.js'\nimport { KeyTransformDatastore } from './keytransform.js'\nimport * as Errors from './errors.js'\n\nconst shardKey = new Key(SHARDING_FN)\nconst shardReadmeKey = new Key(README_FN)\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').QueryFilter} QueryFilter\n * @typedef {import('interface-datastore').QueryOrder} QueryOrder\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').KeyQueryFilter} KeyQueryFilter\n * @typedef {import('interface-datastore').KeyQueryOrder} KeyQueryOrder\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('./types').Shard} Shard\n *\n */\n/**\n * @template TValue\n * @typedef {import('interface-store').Await<TValue> } Await\n */\n\n/**\n * @template TEntry\n * @typedef {import('interface-store').AwaitIterable<TEntry>} AwaitIterable\n */\n\n/**\n * Backend independent abstraction of go-ds-flatfs.\n *\n * Wraps another datastore such that all values are stored\n * sharded according to the given sharding function.\n */\nexport class ShardingDatastore extends BaseDatastore {\n  /**\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  constructor (store, shard) {\n    super()\n\n    this.child = new KeyTransformDatastore(store, {\n      convert: this._convertKey.bind(this),\n      invert: this._invertKey.bind(this)\n    })\n    this.shard = shard\n  }\n\n  async open () {\n    await this.child.open()\n\n    this.shard = await ShardingDatastore.create(this.child, this.shard)\n  }\n\n  /**\n   * @param {Key} key\n   */\n  _convertKey (key) {\n    const s = key.toString()\n    if (s === shardKey.toString() || s === shardReadmeKey.toString()) {\n      return key\n    }\n\n    const parent = new Key(this.shard.fun(s))\n    return parent.child(key)\n  }\n\n  /**\n   * @param {Key} key\n   */\n  _invertKey (key) {\n    const s = key.toString()\n    if (s === shardKey.toString() || s === shardReadmeKey.toString()) {\n      return key\n    }\n    return Key.withNamespaces(key.list().slice(1))\n  }\n\n  /**\n   * @deprecated\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  static async createOrOpen (store, shard) {\n    try {\n      await ShardingDatastore.create(store, shard)\n    } catch (/** @type {any} */ err) {\n      if (err && err.message !== 'datastore exists') throw err\n    }\n    return ShardingDatastore.open(store)\n  }\n\n  /**\n   * @deprecated\n   * @param {Datastore} store\n   */\n  static async open (store) {\n    const shard = await readShardFun('/', store)\n    return new ShardingDatastore(store, shard)\n  }\n\n  /**\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  static async create (store, shard) {\n    const hasShard = await store.has(shardKey)\n    if (!hasShard && !shard) {\n      throw Errors.dbOpenFailedError(Error('Shard is required when datastore doesn\\'t have a shard key already.'))\n    }\n    if (!hasShard) {\n      // @ts-ignore i have no idea what putRaw is or saw any implementation\n      const put = typeof store.putRaw === 'function' ? store.putRaw.bind(store) : store.put.bind(store)\n      await Promise.all([\n        put(shardKey, new TextEncoder().encode(shard.toString() + '\\n')),\n        put(shardReadmeKey, new TextEncoder().encode(readme))\n      ])\n\n      return shard\n    }\n\n    // test shards\n    const diskShard = await readShardFun('/', store)\n    const a = (diskShard || '').toString()\n    const b = shard.toString()\n    if (a !== b) {\n      throw new Error(`specified fun ${b} does not match repo shard fun ${a}`)\n    }\n    return diskShard\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   */\n  put (key, val, options) {\n    return this.child.put(key, val, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  get (key, options) {\n    return this.child.get(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  has (key, options) {\n    return this.child.has(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  delete (key, options) {\n    return this.child.delete(key, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    yield * this.child.putMany(source, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    yield * this.child.getMany(source, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    yield * this.child.deleteMany(source, options)\n  }\n\n  batch () {\n    return this.child.batch()\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    /** @type {Query} */\n    const tq = {\n      ...q,\n      filters: [\n        /** @type {QueryFilter} */\n        ({ key }) => key.toString() !== shardKey.toString(),\n        /** @type {QueryFilter} */\n        ({ key }) => key.toString() !== shardReadmeKey.toString()\n      ].concat(q.filters || [])\n    }\n\n    return this.child.query(tq, options)\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    /** @type {KeyQuery} */\n    const tq = {\n      ...q,\n      filters: [\n        /** @type {KeyQueryFilter} */\n        key => key.toString() !== shardKey.toString(),\n        /** @type {KeyQueryFilter} */\n        key => key.toString() !== shardReadmeKey.toString()\n      ].concat(q.filters || [])\n    }\n\n    return this.child.queryKeys(tq, options)\n  }\n\n  close () {\n    return this.child.close()\n  }\n}\n", null, "import filter from 'it-filter'\nimport take from 'it-take'\nimport merge from 'it-merge'\nimport { BaseDatastore } from './base.js'\nimport * as Errors from './errors.js'\nimport {\n  sortAll\n} from './utils.js'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('./types').KeyTransform} KeyTransform\n */\n\n/**\n * A datastore that can combine multiple stores inside various\n * key prefixes\n *\n * @implements {Datastore}\n */\nexport class MountDatastore extends BaseDatastore {\n  /**\n   * @param {Array<{prefix: Key, datastore: Datastore}>} mounts\n   */\n  constructor (mounts) {\n    super()\n\n    this.mounts = mounts.slice()\n  }\n\n  async open () {\n    await Promise.all(this.mounts.map((m) => m.datastore.open()))\n  }\n\n  /**\n   * Lookup the matching datastore for the given key\n   *\n   * @private\n   * @param {Key} key\n   * @returns {{datastore: Datastore, mountpoint: Key} | undefined}\n   */\n  _lookup (key) {\n    for (const mount of this.mounts) {\n      if (mount.prefix.toString() === key.toString() || mount.prefix.isAncestorOf(key)) {\n        return {\n          datastore: mount.datastore,\n          mountpoint: mount.prefix\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} value\n   * @param {Options} [options]\n   */\n  put (key, value, options) {\n    const match = this._lookup(key)\n    if (match == null) {\n      throw Errors.dbWriteFailedError(new Error('No datastore mounted for this key'))\n    }\n\n    return match.datastore.put(key, value, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  get (key, options) {\n    const match = this._lookup(key)\n    if (match == null) {\n      throw Errors.notFoundError(new Error('No datastore mounted for this key'))\n    }\n    return match.datastore.get(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  has (key, options) {\n    const match = this._lookup(key)\n    if (match == null) {\n      return Promise.resolve(false)\n    }\n    return match.datastore.has(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  delete (key, options) {\n    const match = this._lookup(key)\n    if (match == null) {\n      throw Errors.dbDeleteFailedError(new Error('No datastore mounted for this key'))\n    }\n\n    return match.datastore.delete(key, options)\n  }\n\n  async close () {\n    await Promise.all(this.mounts.map((m) => {\n      return m.datastore.close()\n    }))\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Record<string, Batch>} */\n    const batchMounts = {}\n    /**\n     * @param {Key} key\n     */\n    const lookup = (key) => {\n      const match = this._lookup(key)\n      if (match == null) {\n        throw new Error('No datastore mounted for this key')\n      }\n\n      const m = match.mountpoint.toString()\n      if (batchMounts[m] == null) {\n        batchMounts[m] = match.datastore.batch()\n      }\n\n      return {\n        batch: batchMounts[m]\n      }\n    }\n\n    return {\n      put: (key, value) => {\n        const match = lookup(key)\n        match.batch.put(key, value)\n      },\n      delete: (key) => {\n        const match = lookup(key)\n        match.batch.delete(key)\n      },\n      commit: async (options) => {\n        await Promise.all(Object.keys(batchMounts).map(p => batchMounts[p].commit(options)))\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    const qs = this.mounts.map(m => {\n      return m.datastore.query({\n        prefix: q.prefix,\n        filters: q.filters\n      }, options)\n    })\n\n    let it = merge(...qs)\n    if (q.filters) q.filters.forEach(f => { it = filter(it, f) })\n    if (q.orders) q.orders.forEach(o => { it = sortAll(it, o) })\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n    if (q.limit != null) it = take(it, q.limit)\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    const qs = this.mounts.map(m => {\n      return m.datastore.queryKeys({\n        prefix: q.prefix,\n        filters: q.filters\n      }, options)\n    })\n\n    let it = merge(...qs)\n    if (q.filters) q.filters.forEach(f => { it = filter(it, f) })\n    if (q.orders) q.orders.forEach(o => { it = sortAll(it, o) })\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n    if (q.limit != null) it = take(it, q.limit)\n\n    return it\n  }\n}\n", "import { BaseDatastore } from './base.js'\nimport * as Errors from './errors.js'\nimport { logger } from '@libp2p/logger'\nimport { pushable } from 'it-pushable'\nimport drain from 'it-drain'\n\nconst log = logger('datastore:core:tiered')\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Pair} Pair\n */\n\n/**\n * @template TEntry\n * @typedef {import('interface-store').AwaitIterable<TEntry>} AwaitIterable\n */\n\n/**\n * A datastore that can combine multiple stores. Puts and deletes\n * will write through to all datastores. Has and get will\n * try each store sequentially. Query will always try the\n * last one first.\n *\n */\nexport class TieredDatastore extends BaseDatastore {\n  /**\n   * @param {Datastore[]} stores\n   */\n  constructor (stores) {\n    super()\n\n    this.stores = stores.slice()\n  }\n\n  async open () {\n    try {\n      await Promise.all(this.stores.map((store) => store.open()))\n    } catch (err) {\n      throw Errors.dbOpenFailedError()\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} value\n   * @param {Options} [options]\n   */\n  async put (key, value, options) {\n    try {\n      await Promise.all(this.stores.map(store => store.put(key, value, options)))\n    } catch (err) {\n      throw Errors.dbWriteFailedError()\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async get (key, options) {\n    for (const store of this.stores) {\n      try {\n        const res = await store.get(key, options)\n        if (res) return res\n      } catch (err) {\n        log.error(err)\n      }\n    }\n    throw Errors.notFoundError()\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async has (key, options) {\n    for (const s of this.stores) {\n      if (await s.has(key, options)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async delete (key, options) {\n    try {\n      await Promise.all(this.stores.map(store => store.delete(key, options)))\n    } catch (err) {\n      throw Errors.dbDeleteFailedError()\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    let error\n    const pushables = this.stores.map(store => {\n      const source = pushable({\n        objectMode: true\n      })\n\n      drain(store.putMany(source, options))\n        .catch(err => {\n          // store threw while putting, make sure we bubble the error up\n          error = err\n        })\n\n      return source\n    })\n\n    try {\n      for await (const pair of source) {\n        if (error) {\n          throw error\n        }\n\n        pushables.forEach(p => p.push(pair))\n\n        yield pair\n      }\n    } finally {\n      pushables.forEach(p => p.end())\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    let error\n    const pushables = this.stores.map(store => {\n      const source = pushable({\n        objectMode: true\n      })\n\n      drain(store.deleteMany(source, options))\n        .catch(err => {\n          // store threw while deleting, make sure we bubble the error up\n          error = err\n        })\n\n      return source\n    })\n\n    try {\n      for await (const key of source) {\n        if (error) {\n          throw error\n        }\n\n        pushables.forEach(p => p.push(key))\n\n        yield key\n      }\n    } finally {\n      pushables.forEach(p => p.end())\n    }\n  }\n\n  async close () {\n    await Promise.all(this.stores.map(store => store.close()))\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    const batches = this.stores.map(store => store.batch())\n\n    return {\n      put: (key, value) => {\n        batches.forEach(b => b.put(key, value))\n      },\n      delete: (key) => {\n        batches.forEach(b => b.delete(key))\n      },\n      commit: async (options) => {\n        for (const batch of batches) {\n          await batch.commit(options)\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    return this.stores[this.stores.length - 1].query(q, options)\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    return this.stores[this.stores.length - 1].queryKeys(q, options)\n  }\n}\n", null, null, null, "import { Key } from 'interface-datastore'\nimport { KeyTransformDatastore } from './keytransform.js'\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('./types').KeyTransform} KeyTransform\n */\n\n/**\n * Wraps a given datastore into a keytransform which\n * makes a given prefix transparent.\n *\n * For example, if the prefix is `new Key(/hello)` a call\n * to `store.put(new Key('/world'), mydata)` would store the data under\n * `/hello/world`.\n */\nexport class NamespaceDatastore extends KeyTransformDatastore {\n  /**\n   * @param {Datastore} child\n   * @param {Key} prefix\n   */\n  constructor (child, prefix) {\n    super(child, {\n      convert (key) {\n        return prefix.child(key)\n      },\n      invert (key) {\n        if (prefix.toString() === '/') {\n          return key\n        }\n\n        if (!prefix.isAncestorOf(key)) {\n          throw new Error(`Expected prefix: (${prefix.toString()}) in key: ${key.toString()}`)\n        }\n\n        return new Key(key.toString().slice(prefix.toString().length), false)\n      }\n    })\n  }\n}\n", "import drain from 'it-drain'\nimport { pushable } from 'it-pushable'\nimport { Key } from 'interface-datastore/key'\nimport { CID } from 'multiformats/cid'\nimport * as raw from 'multiformats/codecs/raw'\nimport * as Digest from 'multiformats/hashes/digest'\nimport { base32, base32pad } from 'multiformats/bases/base32'\nimport { base58btc } from 'multiformats/bases/base58'\nimport errcode from 'err-code'\nimport { BaseBlockstore } from 'blockstore-core/base'\n\n/**\n * Transform a cid to the appropriate datastore key.\n *\n * @param {CID} cid\n * @returns {Key}\n */\nfunction cidToKey (cid) {\n  const c = CID.asCID(cid)\n\n  if (!c) {\n    throw errcode(new Error('Not a valid cid'), 'ERR_INVALID_CID')\n  }\n\n  return new Key('/' + base32.encode(c.multihash.bytes).slice(1).toUpperCase(), false)\n}\n\n/**\n * Transform a datastore Key instance to a CID\n * As Key is a multihash of the CID, it is reconstructed using IPLD's RAW codec.\n * Hence it is highly probable that stored CID will differ from a CID retrieved from blockstore.\n *\n * @param {Key} key\n * @returns {CID}\n */\nfunction keyToCid (key) {\n  // Block key is of the form <base32 encoded string>\n  return CID.createV1(raw.code, Digest.decode(base32.decode('b' + key.toString().slice(1).toLowerCase())))\n}\n\n/**\n * Tries to decode a prefix as the first part of a CID and then\n * strip off the version and codec bytes to just leave part of\n * the multihash.\n *\n * Only really works if the prefix length aligns with the byte\n * boundaries of the encoding.\n *\n * @param {string} prefix\n * @returns {string}\n */\nfunction convertPrefix (prefix) {\n  const firstChar = prefix.substring(0, 1)\n\n  if (firstChar === '/') {\n    return convertPrefix(prefix.substring(1))\n  }\n\n  /** @type {(input: string) => Uint8Array } */\n  let decoder\n\n  if (firstChar.toLowerCase() === 'b') {\n    // v1 cid prefix, remove version and codec bytes\n    decoder = (input) => base32.decode(input.toLowerCase()).subarray(2)\n  } else if (firstChar.toLowerCase() === 'c') {\n    // v1 cid prefix, remove version and codec bytes\n    decoder = (input) => base32pad.decode(input.toLowerCase()).subarray(2)\n  } else if (firstChar === 'z') {\n    // v1 cid\n    decoder = (input) => base58btc.decode(input).subarray(2)\n  } else if (firstChar === 'Q') {\n    // v0 cid prefix\n    decoder = (input) => base58btc.decode('z' + input)\n  } else {\n    decoder = (input) => base32.decode('b' + input.toLowerCase()).subarray(2)\n  }\n\n  let bytes\n\n  // find the longest prefix that we can safely decode\n  for (let i = 1; i < prefix.length; i++) {\n    try {\n      bytes = decoder(prefix.substring(0, i))\n    } catch (/** @type {any} */ err) {\n      if (err.message !== 'Unexpected end of data') {\n        throw err\n      }\n    }\n  }\n\n  let str = '/C'\n\n  if (bytes) {\n    // slice one character from the end of the string to ensure we don't end up\n    // with a padded value which could have a non-matching string at the end\n    str = `/${base32.encode(bytes).slice(1, -1).toUpperCase() || 'C'}`\n  }\n\n  return str\n}\n\n/**\n * @param {import('interface-blockstore').Query} query\n * @returns {import('interface-datastore').Query}\n */\nfunction convertQuery (query) {\n  return {\n    ...query,\n    prefix: query.prefix ? convertPrefix(query.prefix) : undefined,\n    filters: query.filters\n      ? query.filters.map(\n        filter => (pair) => {\n          return filter({ key: keyToCid(pair.key), value: pair.value })\n        }\n      )\n      : undefined,\n    orders: query.orders\n      ? query.orders.map(\n        order => (a, b) => {\n          return order({ key: keyToCid(a.key), value: a.value }, { key: keyToCid(b.key), value: b.value })\n        }\n      )\n      : undefined\n  }\n}\n\n/**\n * @param {import('interface-blockstore').KeyQuery} query\n * @returns {import('interface-datastore').KeyQuery}\n */\nfunction convertKeyQuery (query) {\n  return {\n    ...query,\n    prefix: query.prefix ? convertPrefix(query.prefix) : undefined,\n    filters: query.filters\n      ? query.filters.map(\n        filter => (key) => {\n          return filter(keyToCid(key))\n        }\n      )\n      : undefined,\n    orders: query.orders\n      ? query.orders.map(\n        order => (a, b) => {\n          return order(keyToCid(a), keyToCid(b))\n        }\n      )\n      : undefined\n  }\n}\n\n/**\n * @typedef {import('interface-blockstore').Query} Query\n * @typedef {import('interface-blockstore').KeyQuery} KeyQuery\n * @typedef {import('interface-blockstore').Pair} Pair\n * @typedef {import('interface-blockstore').Options} Options\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n */\n\n/**\n * @implements {Blockstore}\n */\nexport class BlockstoreDatastoreAdapter extends BaseBlockstore {\n  /**\n   * @param {Datastore} datastore\n   */\n  constructor (datastore) {\n    super()\n\n    this.child = datastore\n  }\n\n  open () {\n    return this.child.open()\n  }\n\n  close () {\n    return this.child.close()\n  }\n\n  /**\n   * @param {Query} query\n   * @param {Options} [options]\n   */\n  async * query (query, options) {\n    for await (const { key, value } of this.child.query(convertQuery(query), options)) {\n      yield { key: keyToCid(key), value }\n    }\n  }\n\n  /**\n   * @param {KeyQuery} query\n   * @param {Options} [options]\n   */\n  async * queryKeys (query, options) {\n    for await (const key of this.child.queryKeys(convertKeyQuery(query), options)) {\n      yield keyToCid(key)\n    }\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Options} [options]\n   * @returns\n   */\n  async get (cid, options) {\n    return this.child.get(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {AsyncIterable<CID> | Iterable<CID>} cids\n   * @param {Options} [options]\n   */\n  async * getMany (cids, options) {\n    for await (const cid of cids) {\n      yield this.get(cid, options)\n    }\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Uint8Array} value\n   * @param {Options} [options]\n   */\n  async put (cid, value, options) {\n    await this.child.put(cidToKey(cid), value, options)\n  }\n\n  /**\n   * @param {AsyncIterable<Pair> | Iterable<Pair>} blocks\n   * @param {Options} [options]\n   */\n  async * putMany (blocks, options) { // eslint-disable-line require-await\n    // we cannot simply chain to `store.putMany` because we convert a CID into\n    // a key based on the multihash only, so we lose the version & codec and\n    // cannot give the user back the CID they used to create the block, so yield\n    // to `store.putMany` but return the actual block the user passed in.\n    //\n    // nb. we want to use `store.putMany` here so bitswap can control batching\n    // up block HAVEs to send to the network - if we use multiple `store.put`s\n    // it will not be able to guess we are about to `store.put` more blocks\n    const output = pushable({\n      objectMode: true\n    })\n\n    // process.nextTick runs on the microtask queue, setImmediate runs on the next\n    // event loop iteration so is slower. Use process.nextTick if it is available.\n    const runner = globalThis.process && globalThis.process.nextTick ? globalThis.process.nextTick : (globalThis.setImmediate || globalThis.setTimeout)\n\n    runner(async () => {\n      try {\n        const store = this.child\n\n        await drain(this.child.putMany(async function * () {\n          for await (const block of blocks) {\n            const key = cidToKey(block.key)\n            const exists = await store.has(key, options)\n\n            if (!exists) {\n              yield { key, value: block.value }\n            }\n\n            // there is an assumption here that after the yield has completed\n            // the underlying datastore has finished writing the block\n            output.push(block)\n          }\n        }()))\n\n        output.end()\n      } catch (/** @type {any} */ err) {\n        output.end(err)\n      }\n    })\n\n    yield * output\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Options} [options]\n   */\n  has (cid, options) {\n    return this.child.has(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Options} [options]\n   */\n  delete (cid, options) {\n    return this.child.delete(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {AsyncIterable<CID> | Iterable<CID>} cids\n   * @param {Options} [options]\n   */\n  deleteMany (cids, options) {\n    const out = pushable({\n      objectMode: true\n    })\n\n    drain(this.child.deleteMany((async function * () {\n      for await (const cid of cids) {\n        yield cidToKey(cid)\n\n        out.push(cid)\n      }\n\n      out.end()\n    }()), options)).catch(err => {\n      out.end(err)\n    })\n\n    return out\n  }\n}\n", null, null, null, "import drain from 'it-drain'\nimport filter from 'it-filter'\nimport take from 'it-take'\nimport all from 'it-all'\n\n/**\n * Collect all values from the iterable and sort them using\n * the passed sorter function\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} iterable\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n * @returns {AsyncIterable<T>}\n */\nconst sortAll = (iterable, sorter) => {\n  return (async function * () {\n    const values = await all(iterable)\n    yield * values.sort(sorter)\n  })()\n}\n\n/**\n * @typedef {import('interface-blockstore').Options} Options\n * @typedef {import('interface-blockstore').Pair} Pair\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('interface-blockstore').Query} Query\n * @typedef {import('interface-blockstore').KeyQuery} KeyQuery\n * @typedef {import('interface-blockstore').Batch} Batch\n *\n * @typedef {import('multiformats').CID} CID\n */\n\n/**\n * @template O\n * @typedef {import('interface-store').AwaitIterable<O>} AwaitIterable\n */\n\n/**\n * @implements {Blockstore}\n */\nexport class BaseBlockstore {\n  /**\n   * @returns {Promise<void>}\n   */\n  open () {\n    return Promise.reject(new Error('.open is not implemented'))\n  }\n\n  /**\n   * @returns {Promise<void>}\n   */\n  close () {\n    return Promise.reject(new Error('.close is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  put (key, val, options) {\n    return Promise.reject(new Error('.put is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<Uint8Array>}\n   */\n  get (key, options) {\n    return Promise.reject(new Error('.get is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<boolean>}\n   */\n  has (key, options) {\n    return Promise.reject(new Error('.has is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  delete (key, options) {\n    return Promise.reject(new Error('.delete is not implemented'))\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    for await (const { key, value } of source) {\n      await this.put(key, value, options)\n      yield { key, value }\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<CID>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    for await (const key of source) {\n      yield this.get(key, options)\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<CID>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<CID>}\n   */\n  async * deleteMany (source, options = {}) {\n    for await (const key of source) {\n      await this.delete(key, options)\n      yield key\n    }\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Pair[]} */\n    let puts = []\n    /** @type {CID[]} */\n    let dels = []\n\n    return {\n      put (key, value) {\n        puts.push({ key, value })\n      },\n\n      delete (key) {\n        dels.push(key)\n      },\n      commit: async (options) => {\n        await drain(this.putMany(puts, options))\n        puts = []\n        await drain(this.deleteMany(dels, options))\n        dels = []\n      }\n    }\n  }\n\n  /**\n   * Extending classes should override `query` or implement this method\n   *\n   * @param {Query} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _all (q, options) {\n    throw new Error('._all is not implemented')\n  }\n\n  /**\n   * Extending classes should override `queryKeys` or implement this method\n   *\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<CID>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _allKeys (q, options) {\n    throw new Error('._allKeys is not implemented')\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    let it = this._all(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (/** @type {Pair} */ e) =>\n        e.key.toString().startsWith(q.prefix || '')\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= (q.offset || 0))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    let it = this._allKeys(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (/** @type {CID} */ cid) => cid.toString().startsWith(q.prefix || ''))\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n}\n", "import { createExport } from './export.js'\nimport { createGet } from './get.js'\nimport { createImport } from './import.js'\nimport { createPut } from './put.js'\nimport { createResolve } from './resolve.js'\n\nexport class DagAPI {\n  /**\n   * @param {object} config\n   * @param {import('ipfs-core-utils/multihashes').Multihashes} config.hashers\n   * @param {import('ipfs-core-utils/multicodecs').Multicodecs} config.codecs\n   * @param {import('../../types').Preload} config.preload\n   * @param {import('ipfs-repo').IPFSRepo} config.repo\n   */\n  constructor ({ repo, codecs, hashers, preload }) {\n    this.export = createExport({ repo, preload, codecs })\n    this.get = createGet({ codecs, repo, preload })\n    this.import = createImport({ repo })\n    this.resolve = createResolve({ repo, codecs, preload })\n    this.put = createPut({ repo, codecs, hashers, preload })\n  }\n}\n", "import { CID } from 'multiformats/cid'\nimport { createUnsafe } from 'multiformats/block'\nimport { CarWriter } from '@ipld/car/writer'\nimport { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\nimport { logger } from '@libp2p/logger'\nimport * as raw from 'multiformats/codecs/raw'\nimport * as json from 'multiformats/codecs/json'\nimport { walk } from 'multiformats/traversal'\n\nconst log = logger('ipfs:components:dag:import')\n\n// blocks that we're OK with not inspecting for links\n/** @type {number[]} */\nconst NO_LINKS_CODECS = [\n  raw.code, // raw\n  json.code // JSON\n]\n\n/**\n * @typedef {import('../../types').Preload} Preload\n * @typedef {import('ipfs-repo').IPFSRepo} IPFSRepo\n * @typedef {import('@ipld/car/api').BlockWriter} BlockWriter\n * @typedef {import('ipfs-core-types/src/utils').AbortOptions} AbortOptions\n */\n\n/**\n * @template T\n * @typedef {import('multiformats/block').Block<T>} Block\n */\n\n/**\n * @param {object} config\n * @param {IPFSRepo} config.repo\n * @param {Preload} config.preload\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} config.codecs\n */\nexport function createExport ({ repo, preload, codecs }) {\n  /**\n   * @type {import('ipfs-core-types/src/dag').API<{}>[\"export\"]}\n   */\n  async function * dagExport (root, options = {}) {\n    if (options.preload !== false) {\n      preload(root)\n    }\n\n    const cid = CID.asCID(root)\n    if (!cid) {\n      throw new Error(`Unexpected error converting CID type: ${root}`)\n    }\n\n    log(`Exporting ${cid} as car`)\n    const { writer, out } = await CarWriter.create([cid])\n\n    // we need to write with one async channel and send the CarWriter output\n    // with another to the caller, but if the write causes an error we capture\n    // that and make sure it gets propagated\n    /** @type {Error|null} */\n    let err = null\n    ;(async () => {\n      try {\n        const load = makeLoader(repo, writer, {\n          signal: options.signal,\n          timeout: options.timeout\n        }, codecs)\n        await walk({ cid, load })\n      } catch (/** @type {any} */ e) {\n        err = e\n      } finally {\n        writer.close()\n      }\n    })()\n\n    for await (const chunk of out) {\n      if (err) {\n        break\n      }\n      yield chunk\n    }\n    if (err) {\n      throw err\n    }\n  }\n\n  return withTimeoutOption(dagExport)\n}\n\n/**\n * @template T\n * @param {IPFSRepo} repo\n * @param {BlockWriter} writer\n * @param {AbortOptions} options\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} codecs\n * @returns {(cid:CID)=>Promise<Block<T>|null>}\n */\nfunction makeLoader (repo, writer, options, codecs) {\n  return async (cid) => {\n    const codec = await codecs.getCodec(cid.code)\n\n    if (!codec) {\n      throw new Error(`Can't decode links in block with codec 0x${cid.code.toString(16)} to form complete DAG`)\n    }\n\n    const bytes = await repo.blocks.get(cid, options)\n\n    log(`Adding block ${cid} to car`)\n    await writer.put({ cid, bytes })\n\n    if (NO_LINKS_CODECS.includes(cid.code)) {\n      return null // skip this block, no need to look inside\n    }\n\n    return createUnsafe({ bytes, cid, codec })\n  }\n}\n", "/* eslint-disable no-unreachable */\n\nimport { TimeoutController } from 'timeout-abort-controller'\nimport { anySignal } from 'any-signal'\nimport parseDuration from 'parse-duration'\nimport { TimeoutError } from './errors.js'\n\n/**\n * @template {any[]} Args\n * @template {Promise<any> | AsyncIterable<any>} R - The return type of `fn`\n * @param {(...args:Args) => R} fn\n * @param {number} [optionsArgIndex]\n * @returns {(...args:Args) => R}\n */\nexport function withTimeoutOption (fn, optionsArgIndex) {\n  // eslint-disable-next-line\n  return /** @returns {R} */(/** @type {Args} */...args) => {\n    const options = args[optionsArgIndex == null ? args.length - 1 : optionsArgIndex]\n    if (!options || !options.timeout) return fn(...args)\n\n    const timeout = typeof options.timeout === 'string'\n      ? parseDuration(options.timeout)\n      : options.timeout\n\n    const controller = new TimeoutController(timeout)\n\n    options.signal = anySignal([options.signal, controller.signal])\n\n    const fnRes = fn(...args)\n    // eslint-disable-next-line promise/param-names\n    const timeoutPromise = new Promise((_resolve, reject) => {\n      controller.signal.addEventListener('abort', () => {\n        reject(new TimeoutError())\n      })\n    })\n\n    const start = Date.now()\n\n    const maybeThrowTimeoutError = () => {\n      if (controller.signal.aborted) {\n        throw new TimeoutError()\n      }\n\n      const timeTaken = Date.now() - start\n\n      // if we have starved the event loop by adding microtasks, we could have\n      // timed out already but the TimeoutController will never know because it's\n      // setTimeout will not fire until we stop adding microtasks\n      if (timeTaken > timeout) {\n        controller.abort()\n        throw new TimeoutError()\n      }\n    }\n\n    // @ts-expect-error\n    if (fnRes[Symbol.asyncIterator]) {\n      // @ts-expect-error\n      return (async function * () {\n        // @ts-expect-error\n        const it = fnRes[Symbol.asyncIterator]()\n\n        try {\n          while (true) {\n            const { value, done } = await Promise.race([it.next(), timeoutPromise])\n\n            if (done) {\n              break\n            }\n\n            maybeThrowTimeoutError()\n\n            yield value\n          }\n        } catch (/** @type {any} */ err) {\n          maybeThrowTimeoutError()\n\n          throw err\n        } finally {\n          controller.clear()\n\n          if (it.return) {\n            it.return()\n          }\n        }\n      })()\n    }\n\n    // @ts-expect-error\n    return (async () => {\n      try {\n        const res = await Promise.race([fnRes, timeoutPromise])\n\n        maybeThrowTimeoutError()\n\n        return res\n      } catch (/** @type {any} */ err) {\n        maybeThrowTimeoutError()\n\n        throw err\n      } finally {\n        controller.clear()\n      }\n    })()\n  }\n}\n", "let durationRE = /(-?(?:\\d+\\.?\\d*|\\d*\\.?\\d+)(?:e[-+]?\\d+)?)\\s*([\\p{L}]*)/uig\r\n\r\n\r\n/**\r\n * conversion ratios\r\n */\r\n\r\nparse.nanosecond =\r\nparse.ns = 1 / 1e6\r\n\r\nparse['\u00B5s'] =\r\nparse['\u03BCs'] =\r\nparse.us =\r\nparse.microsecond = 1 / 1e3\r\n\r\nparse.millisecond =\r\nparse.ms =\r\nparse[''] = 1\r\n\r\nparse.second =\r\nparse.sec =\r\nparse.s = parse.ms * 1000\r\n\r\nparse.minute =\r\nparse.min =\r\nparse.m = parse.s * 60\r\n\r\nparse.hour =\r\nparse.hr =\r\nparse.h = parse.m * 60\r\n\r\nparse.day =\r\nparse.d = parse.h * 24\r\n\r\nparse.week =\r\nparse.wk =\r\nparse.w = parse.d * 7\r\n\r\nparse.month =\r\nparse.b =\r\nparse.d * (365.25 / 12)\r\n\r\nparse.year =\r\nparse.yr =\r\nparse.y = parse.d * 365.25\r\n\r\n/**\r\n * convert `str` to ms\r\n *\r\n * @param {String} str\r\n * @param {String} format\r\n * @return {Number}\r\n */\r\n\r\nfunction parse(str='', format='ms'){\r\n  var result = null\r\n  // ignore commas/placeholders\r\n  str = (str+'').replace(/(\\d)[,_](\\d)/g, '$1$2')\r\n  str.replace(durationRE, function(_, n, units){\r\n    units = unitRatio(units)\r\n    if (units) result = (result || 0) + parseFloat(n, 10) * units\r\n  })\r\n\r\n  return result && (result / (unitRatio(format) || 1))\r\n}\r\n\r\nfunction unitRatio(str) {\r\n  return parse[str] || parse[str.toLowerCase().replace(/s$/, '')]\r\n}\r\n\r\nexport default parse\r\n", "\nexport class TimeoutError extends Error {\n  constructor (message = 'request timed out') {\n    super(message)\n    this.name = 'TimeoutError'\n    this.code = TimeoutError.code\n  }\n}\n\nTimeoutError.code = 'ERR_TIMEOUT'\n", null, "import { base58btc } from './bases/base58.js';\nconst walk = async ({cid, load, seen}) => {\n  seen = seen || new Set();\n  const b58Cid = cid.toString(base58btc);\n  if (seen.has(b58Cid)) {\n    return;\n  }\n  const block = await load(cid);\n  seen.add(b58Cid);\n  if (block === null) {\n    return;\n  }\n  for (const [, cid] of block.links()) {\n    await walk({\n      cid,\n      load,\n      seen\n    });\n  }\n};\nexport {\n  walk\n};", "import { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\nimport first from 'it-first'\nimport last from 'it-last'\nimport { resolve } from '../../utils.js'\nimport errCode from 'err-code'\n\n/**\n * @param {object} config\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} config.codecs\n * @param {import('ipfs-repo').IPFSRepo} config.repo\n * @param {import('../../types').Preload} config.preload\n */\nexport function createGet ({ codecs, repo, preload }) {\n  /**\n   * @type {import('ipfs-core-types/src/dag').API<{}>[\"get\"]}\n   */\n  const get = async function get (cid, options = {}) {\n    if (options.preload !== false) {\n      preload(cid)\n    }\n\n    if (options.path) {\n      const entry = options.localResolve\n        ? await first(resolve(cid, options.path, codecs, repo, options))\n        : await last(resolve(cid, options.path, codecs, repo, options))\n      /** @type {import('ipfs-core-types/src/dag').GetResult | undefined} - first and last will return undefined when empty */\n      const result = (entry)\n\n      if (!result) {\n        throw errCode(new Error('Not found'), 'ERR_NOT_FOUND')\n      }\n\n      return result\n    }\n\n    const codec = await codecs.getCodec(cid.code)\n    const block = await repo.blocks.get(cid, options)\n    const node = codec.decode(block)\n\n    return {\n      value: node,\n      remainderPath: ''\n    }\n  }\n\n  return withTimeoutOption(get)\n}\n", "/* eslint-disable no-unreachable */\n\nimport * as isIpfs from 'is-ipfs'\nimport { CID } from 'multiformats/cid'\nimport { Key } from 'interface-datastore/key'\nimport errCode from 'err-code'\nimport { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\nimport { toCidAndPath } from 'ipfs-core-utils/to-cid-and-path'\nimport * as dagPB from '@ipld/dag-pb'\n\n/**\n * @typedef {import('ipfs-core-types/src/utils').AbortOptions} AbortOptions\n * @typedef {import('@ipld/dag-pb').PBLink} PBLink\n */\n\nconst ERR_BAD_PATH = 'ERR_BAD_PATH'\n\nexport const OFFLINE_ERROR = 'This command must be run in online mode. Try running \\'ipfs daemon\\' first.'\nexport const MFS_ROOT_KEY = new Key('/local/filesroot')\nexport const MFS_MAX_CHUNK_SIZE = 262144\nexport const MFS_MAX_LINKS = 174\n\n/**\n * Returns a well-formed ipfs Path.\n * The returned path will always be prefixed with /ipfs/ or /ipns/.\n *\n * @param  {string | CID} pathStr - An ipfs-path, or ipns-path or a cid\n * @returns {string} - ipfs-path or ipns-path\n * @throws on an invalid @param pathStr\n */\nexport const normalizePath = (pathStr) => {\n  const cid = CID.asCID(pathStr)\n\n  if (cid) {\n    return `/ipfs/${pathStr}`\n  }\n\n  const str = pathStr.toString()\n\n  try {\n    return `/ipfs/${CID.parse(str)}`\n  } catch {}\n\n  if (isIpfs.path(str)) {\n    return str\n  } else {\n    throw errCode(new Error(`invalid path: ${pathStr}`), ERR_BAD_PATH)\n  }\n}\n\n// TODO: do we need both normalizePath and normalizeCidPath?\n// TODO: don't forget ipfs-core-utils/src/to-cid-and-path\n/**\n * @param {Uint8Array|CID|string} path\n */\nexport const normalizeCidPath = (path) => {\n  if (path instanceof Uint8Array) {\n    return CID.decode(path).toString()\n  }\n\n  path = path.toString()\n\n  if (path.indexOf('/ipfs/') === 0) {\n    path = path.substring('/ipfs/'.length)\n  }\n\n  if (path.charAt(path.length - 1) === '/') {\n    path = path.substring(0, path.length - 1)\n  }\n\n  return path\n}\n\n/**\n * Resolve various styles of an ipfs-path to the hash of the target node.\n * Follows links in the path\n *\n * @param {import('ipfs-repo').IPFSRepo} repo\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} codecs\n * @param {CID | string | Uint8Array} ipfsPath - A CID or IPFS path\n * @param {{ path?: string, signal?: AbortSignal }} [options] - Optional options passed directly to dag.resolve\n * @returns {Promise<{ cid: CID, remainderPath: string}>}\n */\nexport const resolvePath = async function (repo, codecs, ipfsPath, options = {}) {\n  const {\n    cid,\n    path\n  } = toCidAndPath(ipfsPath)\n\n  if (path) {\n    options.path = path\n  }\n\n  let lastCid = cid\n  let lastRemainderPath = options.path || ''\n\n  if (lastRemainderPath.startsWith('/')) {\n    lastRemainderPath = lastRemainderPath.substring(1)\n  }\n\n  if (options.path) {\n    try {\n      for await (const { value, remainderPath } of resolve(cid, options.path, codecs, repo, {\n        signal: options.signal\n      })) {\n        if (!CID.asCID(value)) {\n          break\n        }\n\n        lastRemainderPath = remainderPath\n        lastCid = value\n      }\n    } catch (/** @type {any} */ err) {\n      // TODO: add error codes to IPLD\n      if (err.message.startsWith('Object has no property')) {\n        err.message = `no link named \"${lastRemainderPath.split('/')[0]}\" under ${lastCid}`\n        err.code = 'ERR_NO_LINK'\n      }\n      throw err\n    }\n  }\n\n  return {\n    cid: lastCid,\n    remainderPath: lastRemainderPath || ''\n  }\n}\n\n/**\n * @typedef {import('ipfs-unixfs-exporter').UnixFSEntry} UnixFSEntry\n *\n * @param {UnixFSEntry} file\n */\nexport const mapFile = (file) => {\n  if (file.type !== 'file' && file.type !== 'directory' && file.type !== 'raw') {\n    // file.type === object | identity not supported yet\n    throw new Error(`Unknown node type '${file.type}'`)\n  }\n\n  /** @type {import('ipfs-core-types/src/root').IPFSEntry} */\n  const output = {\n    cid: file.cid,\n    path: file.path,\n    name: file.name,\n    size: file.size,\n    type: 'file'\n  }\n\n  if (file.type === 'directory') {\n    // @ts-expect-error - TS type can't be changed from File to Directory\n    output.type = 'dir'\n  }\n\n  if (file.type === 'file') {\n    output.size = file.unixfs.fileSize()\n  }\n\n  if (file.type === 'file' || file.type === 'directory') {\n    output.mode = file.unixfs.mode\n\n    if (file.unixfs.mtime !== undefined) {\n      output.mtime = file.unixfs.mtime\n    }\n  }\n\n  return output\n}\n\nexport const withTimeout = withTimeoutOption(\n  /**\n   * @template T\n   * @param {Promise<T>|T} promise\n   * @param {AbortOptions} [_options]\n   * @returns {Promise<T>}\n   */\n  async (promise, _options) => await promise\n)\n\n/**\n * Retrieves IPLD Nodes along the `path` that is rooted at `cid`.\n *\n * @param {CID} cid - the CID where the resolving starts\n * @param {string} path - the path that should be resolved\n * @param {import('ipfs-core-utils/src/multicodecs').Multicodecs} codecs\n * @param {import('ipfs-repo').IPFSRepo} repo\n * @param {AbortOptions} [options]\n */\nexport const resolve = async function * (cid, path, codecs, repo, options) {\n  /**\n   * @param {CID} cid\n   */\n  const load = async (cid) => {\n    const codec = await codecs.getCodec(cid.code)\n    const block = await repo.blocks.get(cid, options)\n\n    return codec.decode(block)\n  }\n\n  const parts = path.split('/').filter(Boolean)\n  let value = await load(cid)\n  let lastCid = cid\n\n  // End iteration if there isn't a CID to follow any more\n  while (parts.length) {\n    const key = parts.shift()\n\n    if (!key) {\n      throw errCode(new Error(`Could not resolve path \"${path}\"`), 'ERR_INVALID_PATH')\n    }\n\n    // special case for dag-pb, use the link name as the path segment\n    if (cid.code === dagPB.code && Array.isArray(value.Links)) {\n      const link = value.Links.find((/** @type {PBLink} */ l) => l.Name === key)\n\n      if (link) {\n        yield {\n          value: link.Hash,\n          remainderPath: parts.join('/')\n        }\n\n        value = await load(link.Hash)\n        lastCid = link.Hash\n\n        continue\n      }\n    }\n\n    if (Object.prototype.hasOwnProperty.call(value, key)) {\n      value = value[key]\n\n      yield {\n        value,\n        remainderPath: parts.join('/')\n      }\n    } else {\n      throw errCode(new Error(`no link named \"${key}\" under ${lastCid}`), 'ERR_NO_LINK')\n    }\n\n    if (CID.asCID(value)) {\n      lastCid = value\n      value = await load(value)\n    }\n  }\n\n  yield {\n    value,\n    remainderPath: ''\n  }\n}\n", null, null, null, null, "import ipRegex from 'ip-regex';\nimport {isMatch} from 'super-regex';\n\nconst maxIPv4Length = 15;\nconst maxIPv6Length = 45;\n\nconst options = {\n\ttimeout: 400,\n};\n\nexport function isIP(string) {\n\treturn isMatch(ipRegex({exact: true}), string.slice(0, maxIPv6Length), options);\n}\n\nexport function isIPv6(string) {\n\treturn isMatch(ipRegex.v6({exact: true}), string.slice(0, maxIPv6Length), options);\n}\n\nexport function isIPv4(string) {\n\treturn isMatch(ipRegex.v4({exact: true}), string.slice(0, maxIPv4Length), options);\n}\n\nexport function ipVersion(string) {\n\treturn isIP(string) ? (isIPv6(string) ? 6 : 4) : undefined;\n}\n", "const word = '[a-fA-F\\\\d:]';\n\nconst boundry = options => options && options.includeBoundaries\n\t? `(?:(?<=\\\\s|^)(?=${word})|(?<=${word})(?=\\\\s|$))`\n\t: '';\n\nconst v4 = '(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}';\n\nconst v6segment = '[a-fA-F\\\\d]{1,4}';\n\nconst v6 = `\n(?:\n(?:${v6segment}:){7}(?:${v6segment}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${v6segment}:){6}(?:${v4}|:${v6segment}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${v6segment}:){5}(?::${v4}|(?::${v6segment}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${v6segment}:){4}(?:(?::${v6segment}){0,1}:${v4}|(?::${v6segment}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${v6segment}:){3}(?:(?::${v6segment}){0,2}:${v4}|(?::${v6segment}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${v6segment}:){2}(?:(?::${v6segment}){0,3}:${v4}|(?::${v6segment}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${v6segment}:){1}(?:(?::${v6segment}){0,4}:${v4}|(?::${v6segment}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${v6segment}){0,5}:${v4}|(?::${v6segment}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\\s*\\/\\/.*$/gm, '').replace(/\\n/g, '').trim();\n\n// Pre-compile only the exact regexes because adding a global flag make regexes stateful\nconst v46Exact = new RegExp(`(?:^${v4}$)|(?:^${v6}$)`);\nconst v4exact = new RegExp(`^${v4}$`);\nconst v6exact = new RegExp(`^${v6}$`);\n\nconst ipRegex = options => options && options.exact\n\t? v46Exact\n\t: new RegExp(`(?:${boundry(options)}${v4}${boundry(options)})|(?:${boundry(options)}${v6}${boundry(options)})`, 'g');\n\nipRegex.v4 = options => options && options.exact ? v4exact : new RegExp(`${boundry(options)}${v4}${boundry(options)}`, 'g');\nipRegex.v6 = options => options && options.exact ? v6exact : new RegExp(`${boundry(options)}${v6}${boundry(options)}`, 'g');\n\nexport default ipRegex;\n", "import functionTimeout, {isTimeoutError} from 'function-timeout';\nimport timeSpan from 'time-span';\nimport cloneRegexp from 'clone-regexp'; // TODO: Use `structuredClone` instead when targeting Node.js 18.\n\nconst resultToMatch = result => ({\n\tmatch: result[0],\n\tindex: result.index,\n\tgroups: result.slice(1),\n\tnamedGroups: result.groups ?? {},\n\tinput: result.input,\n});\n\nexport function isMatch(regex, string, {timeout} = {}) {\n\ttry {\n\t\treturn functionTimeout(() => cloneRegexp(regex).test(string), {timeout})();\n\t} catch (error) {\n\t\tif (isTimeoutError(error)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nexport function firstMatch(regex, string, {timeout} = {}) {\n\ttry {\n\t\tconst result = functionTimeout(() => cloneRegexp(regex).exec(string), {timeout})();\n\n\t\tif (result === null) {\n\t\t\treturn;\n\t\t}\n\n\t\treturn resultToMatch(result);\n\t} catch (error) {\n\t\tif (isTimeoutError(error)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthrow error;\n\t}\n}\n\nexport function matches(regex, string, {timeout = Number.POSITIVE_INFINITY, matchTimeout = Number.POSITIVE_INFINITY} = {}) {\n\tif (!regex.global) {\n\t\tthrow new Error('The regex must have the global flag, otherwise, use `firstMatch()` instead');\n\t}\n\n\treturn {\n\t\t* [Symbol.iterator]() {\n\t\t\ttry {\n\t\t\t\tconst matches = string.matchAll(regex); // The regex is only executed when iterated over.\n\n\t\t\t\twhile (true) {\n\t\t\t\t\tconst nextMatch = functionTimeout(() => matches.next(), {timeout: (timeout !== Number.POSITIVE_INFINITY || matchTimeout !== Number.POSITIVE_INFINITY) ? Math.min(timeout, matchTimeout) : undefined}); // `matches.next` must be called within an arrow function so that it doesn't loose its context.\n\n\t\t\t\t\tconst end = timeSpan();\n\t\t\t\t\tconst {value, done} = nextMatch();\n\t\t\t\t\ttimeout -= Math.ceil(end());\n\n\t\t\t\t\tif (done) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tyield resultToMatch(value);\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (!isTimeoutError(error)) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t};\n}\n", "// Even though the browser version is a no-op, we wrap it to ensure consistent behavior.\nexport default function functionTimeout(function_) {\n\tconst wrappedFunction = (...arguments_) => function_(...arguments_);\n\n\tObject.defineProperty(wrappedFunction, 'name', {\n\t\tvalue: `functionTimeout(${function_.name || '<anonymous>'})`,\n\t\tconfigurable: true,\n\t});\n\n\treturn wrappedFunction;\n}\n\nexport function isTimeoutError() {\n\treturn false;\n}\n", "export default function timeSpan() {\n\tconst start = performance.now();\n\n\tconst end = () => performance.now() - start;\n\tend.rounded = () => Math.round(end());\n\tend.seconds = () => end() / 1000;\n\tend.nanoseconds = () => end() * 1000000;\n\n\treturn end;\n}\n", "import isRegexp from 'is-regexp';\n\nconst flagMap = {\n\tglobal: 'g',\n\tignoreCase: 'i',\n\tmultiline: 'm',\n\tdotAll: 's',\n\tsticky: 'y',\n\tunicode: 'u'\n};\n\nexport default function clonedRegexp(regexp, options = {}) {\n\tif (!isRegexp(regexp)) {\n\t\tthrow new TypeError('Expected a RegExp instance');\n\t}\n\n\tconst flags = Object.keys(flagMap).map(flag => (\n\t\t(typeof options[flag] === 'boolean' ? options[flag] : regexp[flag]) ? flagMap[flag] : ''\n\t)).join('');\n\n\tconst clonedRegexp = new RegExp(options.source || regexp.source, flags);\n\n\tclonedRegexp.lastIndex = typeof options.lastIndex === 'number' ?\n\t\toptions.lastIndex :\n\t\tregexp.lastIndex;\n\n\treturn clonedRegexp;\n}\n", "const {toString} = Object.prototype;\n\nexport default function isRegexp(value) {\n\treturn toString.call(value) === '[object RegExp]';\n}\n", null, null, null, null, null, null, null, null, null, "import { CID } from 'multiformats/cid'\nimport errCode from 'err-code'\n\nconst IPFS_PREFIX = '/ipfs/'\n\n/**\n * @param {string|Uint8Array|CID} string\n * @returns {{cid:CID, path?:string}}\n */\nexport function toCidAndPath (string) {\n  if (string instanceof Uint8Array) {\n    try {\n      string = CID.decode(string)\n    } catch (/** @type {any} */ err) {\n      throw errCode(err, 'ERR_INVALID_CID')\n    }\n  }\n\n  let cid = CID.asCID(string)\n\n  if (cid) {\n    return {\n      cid,\n      path: undefined\n    }\n  }\n\n  string = string.toString()\n\n  if (string.startsWith(IPFS_PREFIX)) {\n    string = string.substring(IPFS_PREFIX.length)\n  }\n\n  const parts = string.split('/')\n  let path\n\n  try {\n    cid = CID.parse(parts.shift() || '')\n  } catch (/** @type {any} */ err) {\n    throw errCode(err, 'ERR_INVALID_CID')\n  }\n\n  if (parts.length) {\n    path = `/${parts.join('/')}`\n  }\n\n  return {\n    cid,\n    path\n  }\n}\n", "import { CarBlockIterator } from '@ipld/car/iterator'\nimport { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\nimport itPeekable from 'it-peekable'\nimport drain from 'it-drain'\nimport map from 'it-map'\nimport { logger } from '@libp2p/logger'\nconst log = logger('ipfs:components:dag:import')\n\n/**\n * @typedef {import('multiformats/cid').CID} CID\n * @typedef {import('ipfs-repo').IPFSRepo} IPFSRepo\n * @typedef {import('ipfs-core-types/src/utils').AbortOptions} AbortOptions\n * @typedef {import('ipfs-core-types/src/dag/').ImportRootStatus} RootStatus\n */\n\n/**\n * @param {object} config\n * @param {IPFSRepo} config.repo\n */\nexport function createImport ({ repo }) {\n  /**\n   * @type {import('ipfs-core-types/src/dag').API<{}>[\"import\"]}\n   */\n  async function * dagImport (sources, options = {}) {\n    const release = await repo.gcLock.readLock()\n\n    try {\n      const abortOptions = { signal: options.signal, timeout: options.timeout }\n      const peekable = itPeekable(sources)\n\n      const { value, done } = await peekable.peek()\n\n      if (done) {\n        return\n      }\n\n      if (value) {\n        // @ts-expect-error\n        peekable.push(value)\n      }\n\n      /**\n       * @type {AsyncIterable<AsyncIterable<Uint8Array>> | Iterable<AsyncIterable<Uint8Array>>}\n       */\n      let cars\n\n      if (value instanceof Uint8Array) {\n        // @ts-expect-error\n        cars = [peekable]\n      } else {\n        // @ts-expect-error\n        cars = peekable\n      }\n\n      for await (const car of cars) {\n        const roots = await importCar(repo, abortOptions, car)\n\n        if (options.pinRoots !== false) { // default=true\n          for (const cid of roots) {\n            let pinErrorMsg = ''\n\n            try { // eslint-disable-line max-depth\n              if (await repo.blocks.has(cid)) { // eslint-disable-line max-depth\n                log(`Pinning root ${cid}`)\n                await repo.pins.pinRecursively(cid)\n              } else {\n                pinErrorMsg = 'blockstore: block not found'\n              }\n            } catch (/** @type {any} */ err) {\n              pinErrorMsg = err.message\n            }\n\n            yield { root: { cid, pinErrorMsg } }\n          }\n        }\n      }\n    } finally {\n      release()\n    }\n  }\n\n  return withTimeoutOption(dagImport)\n}\n\n/**\n * @param {IPFSRepo} repo\n * @param {AbortOptions} options\n * @param {AsyncIterable<Uint8Array>} source\n * @returns {Promise<CID[]>}\n */\nasync function importCar (repo, options, source) {\n  const reader = await CarBlockIterator.fromIterable(source)\n  const roots = await reader.getRoots()\n\n  await drain(\n    repo.blocks.putMany(\n      map(reader, ({ cid: key, bytes: value }) => {\n        log(`Import block ${key}`)\n\n        return { key, value }\n      }),\n      { signal: options.signal }\n    )\n  )\n\n  return roots\n}\n", "import { CID } from 'multiformats/cid'\nimport { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\n\n/**\n * @param {object} config\n * @param {import('ipfs-repo').IPFSRepo} config.repo\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} config.codecs\n * @param {import('ipfs-core-utils/multihashes').Multihashes} config.hashers\n * @param {import('../../types').Preload} config.preload\n */\nexport function createPut ({ repo, codecs, hashers, preload }) {\n  /**\n   * @type {import('ipfs-core-types/src/dag').API<{}>[\"put\"]}\n   */\n  async function put (dagNode, options = {}) {\n    const release = options.pin ? await repo.gcLock.readLock() : null\n\n    try {\n      const storeCodec = await codecs.getCodec(options.storeCodec || 'dag-cbor')\n      // TODO: doesn't getCodec throw? verify and possibly remove this\n      if (!storeCodec) {\n        throw new Error(`Unknown storeCodec ${options.storeCodec}, please configure additional BlockCodecs for this IPFS instance`)\n      }\n\n      if (options.inputCodec) {\n        if (!(dagNode instanceof Uint8Array)) {\n          throw new Error('Can only inputCodec on raw bytes that can be decoded')\n        }\n        const inputCodec = await codecs.getCodec(options.inputCodec)\n        if (!inputCodec) {\n          throw new Error(`Unknown inputCodec ${options.inputCodec}, please configure additional BlockCodecs for this IPFS instance`)\n        }\n        dagNode = inputCodec.decode(dagNode)\n      }\n\n      const cidVersion = options.version != null ? options.version : 1\n      const hasher = await hashers.getHasher(options.hashAlg || 'sha2-256')\n\n      if (!hasher) {\n        throw new Error(`Unknown hash algorithm ${options.hashAlg}, please configure additional MultihashHashers for this IPFS instance`)\n      }\n\n      const buf = storeCodec.encode(dagNode)\n      const hash = await hasher.digest(buf)\n      const cid = CID.create(cidVersion, storeCodec.code, hash)\n\n      await repo.blocks.put(cid, buf, {\n        signal: options.signal\n      })\n\n      if (options.pin) {\n        await repo.pins.pinRecursively(cid)\n      }\n\n      if (options.preload !== false) {\n        preload(cid)\n      }\n\n      return cid\n    } finally {\n      if (release) {\n        release()\n      }\n    }\n  }\n\n  return withTimeoutOption(put)\n}\n", "import { withTimeoutOption } from 'ipfs-core-utils/with-timeout-option'\nimport { toCidAndPath } from 'ipfs-core-utils/to-cid-and-path'\nimport { resolvePath } from '../../utils.js'\n\n/**\n * @param {object} config\n * @param {import('ipfs-core-utils/multicodecs').Multicodecs} config.codecs\n * @param {import('ipfs-repo').IPFSRepo} config.repo\n * @param {import('../../types').Preload} config.preload\n */\nexport function createResolve ({ repo, codecs, preload }) {\n  /**\n   * @type {import('ipfs-core-types/src/dag').API<{}>[\"resolve\"]}\n   */\n  async function dagResolve (ipfsPath, options = {}) {\n    const {\n      cid\n    } = toCidAndPath(ipfsPath)\n\n    if (options.preload !== false) {\n      preload(cid)\n    }\n\n    return resolvePath(repo, codecs, ipfsPath, options)\n  }\n\n  return withTimeoutOption(dagResolve)\n}\n", "import { CID } from 'multiformats';\nimport { base64 } from 'multiformats/bases/base64';\nimport {\n  Token,\n  Type\n} from 'cborg';\nimport * as cborgJson from 'cborg/json';\nfunction cidEncoder(obj) {\n  if (obj.asCID !== obj) {\n    return null;\n  }\n  const cid = CID.asCID(obj);\n  if (!cid) {\n    return null;\n  }\n  const cidString = cid.toString();\n  return [\n    new Token(Type.map, Infinity, 1),\n    new Token(Type.string, '/', 1),\n    new Token(Type.string, cidString, cidString.length),\n    new Token(Type.break, undefined, 1)\n  ];\n}\nfunction bytesEncoder(bytes) {\n  const bytesString = base64.encode(bytes).slice(1);\n  return [\n    new Token(Type.map, Infinity, 1),\n    new Token(Type.string, '/', 1),\n    new Token(Type.map, Infinity, 1),\n    new Token(Type.string, 'bytes', 5),\n    new Token(Type.string, bytesString, bytesString.length),\n    new Token(Type.break, undefined, 1),\n    new Token(Type.break, undefined, 1)\n  ];\n}\nfunction undefinedEncoder() {\n  throw new Error('`undefined` is not supported by the IPLD Data Model and cannot be encoded');\n}\nfunction numberEncoder(num) {\n  if (Number.isNaN(num)) {\n    throw new Error('`NaN` is not supported by the IPLD Data Model and cannot be encoded');\n  }\n  if (num === Infinity || num === -Infinity) {\n    throw new Error('`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded');\n  }\n  return null;\n}\nconst encodeOptions = {\n  typeEncoders: {\n    Object: cidEncoder,\n    Uint8Array: bytesEncoder,\n    Buffer: bytesEncoder,\n    undefined: undefinedEncoder,\n    number: numberEncoder\n  }\n};\nclass DagJsonTokenizer extends cborgJson.Tokenizer {\n  constructor(data, options) {\n    super(data, options);\n    this.tokenBuffer = [];\n  }\n  done() {\n    return this.tokenBuffer.length === 0 && super.done();\n  }\n  _next() {\n    if (this.tokenBuffer.length > 0) {\n      return this.tokenBuffer.pop();\n    }\n    return super.next();\n  }\n  next() {\n    const token = this._next();\n    if (token.type === Type.map) {\n      const keyToken = this._next();\n      if (keyToken.type === Type.string && keyToken.value === '/') {\n        const valueToken = this._next();\n        if (valueToken.type === Type.string) {\n          const breakToken = this._next();\n          if (breakToken.type !== Type.break) {\n            throw new Error('Invalid encoded CID form');\n          }\n          this.tokenBuffer.push(valueToken);\n          return new Token(Type.tag, 42, 0);\n        }\n        if (valueToken.type === Type.map) {\n          const innerKeyToken = this._next();\n          if (innerKeyToken.type === Type.string && innerKeyToken.value === 'bytes') {\n            const innerValueToken = this._next();\n            if (innerValueToken.type === Type.string) {\n              for (let i = 0; i < 2; i++) {\n                const breakToken = this._next();\n                if (breakToken.type !== Type.break) {\n                  throw new Error('Invalid encoded Bytes form');\n                }\n              }\n              const bytes = base64.decode(`m${ innerValueToken.value }`);\n              return new Token(Type.bytes, bytes, innerValueToken.value.length);\n            }\n            this.tokenBuffer.push(innerValueToken);\n          }\n          this.tokenBuffer.push(innerKeyToken);\n        }\n        this.tokenBuffer.push(valueToken);\n      }\n      this.tokenBuffer.push(keyToken);\n    }\n    return token;\n  }\n}\nconst decodeOptions = {\n  allowIndefinite: false,\n  allowUndefined: false,\n  allowNaN: false,\n  allowInfinity: false,\n  allowBigInt: true,\n  strict: true,\n  useMaps: false,\n  tags: []\n};\ndecodeOptions.tags[42] = CID.parse;\nexport const name = 'dag-json';\nexport const code = 297;\nexport const encode = node => cborgJson.encode(node, encodeOptions);\nexport const decode = data => {\n  const options = Object.assign(decodeOptions, { tokenizer: new DagJsonTokenizer(data, decodeOptions) });\n  return cborgJson.decode(data, options);\n};", "import { encode } from './encode.js';\nimport {\n  decode,\n  Tokenizer\n} from './decode.js';\nexport {\n  encode,\n  decode,\n  Tokenizer\n};", "import { Type } from '../token.js';\nimport { encodeCustom } from '../encode.js';\nimport { encodeErrPrefix } from '../common.js';\nimport {\n  asU8A,\n  fromString\n} from '../byte-utils.js';\nclass JSONEncoder extends Array {\n  constructor() {\n    super();\n    this.inRecursive = [];\n  }\n  prefix(buf) {\n    const recurs = this.inRecursive[this.inRecursive.length - 1];\n    if (recurs) {\n      if (recurs.type === Type.array) {\n        recurs.elements++;\n        if (recurs.elements !== 1) {\n          buf.push([44]);\n        }\n      }\n      if (recurs.type === Type.map) {\n        recurs.elements++;\n        if (recurs.elements !== 1) {\n          if (recurs.elements % 2 === 1) {\n            buf.push([44]);\n          } else {\n            buf.push([58]);\n          }\n        }\n      }\n    }\n  }\n  [Type.uint.major](buf, token) {\n    this.prefix(buf);\n    const is = String(token.value);\n    const isa = [];\n    for (let i = 0; i < is.length; i++) {\n      isa[i] = is.charCodeAt(i);\n    }\n    buf.push(isa);\n  }\n  [Type.negint.major](buf, token) {\n    this[Type.uint.major](buf, token);\n  }\n  [Type.bytes.major](_buf, _token) {\n    throw new Error(`${ encodeErrPrefix } unsupported type: Uint8Array`);\n  }\n  [Type.string.major](buf, token) {\n    this.prefix(buf);\n    const byts = fromString(JSON.stringify(token.value));\n    buf.push(byts.length > 32 ? asU8A(byts) : byts);\n  }\n  [Type.array.major](buf, _token) {\n    this.prefix(buf);\n    this.inRecursive.push({\n      type: Type.array,\n      elements: 0\n    });\n    buf.push([91]);\n  }\n  [Type.map.major](buf, _token) {\n    this.prefix(buf);\n    this.inRecursive.push({\n      type: Type.map,\n      elements: 0\n    });\n    buf.push([123]);\n  }\n  [Type.tag.major](_buf, _token) {\n  }\n  [Type.float.major](buf, token) {\n    if (token.type.name === 'break') {\n      const recurs = this.inRecursive.pop();\n      if (recurs) {\n        if (recurs.type === Type.array) {\n          buf.push([93]);\n        } else if (recurs.type === Type.map) {\n          buf.push([125]);\n        } else {\n          throw new Error('Unexpected recursive type; this should not happen!');\n        }\n        return;\n      }\n      throw new Error('Unexpected break; this should not happen!');\n    }\n    if (token.value === undefined) {\n      throw new Error(`${ encodeErrPrefix } unsupported type: undefined`);\n    }\n    this.prefix(buf);\n    if (token.type.name === 'true') {\n      buf.push([\n        116,\n        114,\n        117,\n        101\n      ]);\n      return;\n    } else if (token.type.name === 'false') {\n      buf.push([\n        102,\n        97,\n        108,\n        115,\n        101\n      ]);\n      return;\n    } else if (token.type.name === 'null') {\n      buf.push([\n        110,\n        117,\n        108,\n        108\n      ]);\n      return;\n    }\n    const is = String(token.value);\n    const isa = [];\n    let dp = false;\n    for (let i = 0; i < is.length; i++) {\n      isa[i] = is.charCodeAt(i);\n      if (!dp && (isa[i] === 46 || isa[i] === 101 || isa[i] === 69)) {\n        dp = true;\n      }\n    }\n    if (!dp) {\n      isa.push(46);\n      isa.push(48);\n    }\n    buf.push(isa);\n  }\n}\nfunction mapSorter(e1, e2) {\n  if (Array.isArray(e1[0]) || Array.isArray(e2[0])) {\n    throw new Error(`${ encodeErrPrefix } complex map keys are not supported`);\n  }\n  const keyToken1 = e1[0];\n  const keyToken2 = e2[0];\n  if (keyToken1.type !== Type.string || keyToken2.type !== Type.string) {\n    throw new Error(`${ encodeErrPrefix } non-string map keys are not supported`);\n  }\n  if (keyToken1 < keyToken2) {\n    return -1;\n  }\n  if (keyToken1 > keyToken2) {\n    return 1;\n  }\n  throw new Error(`${ encodeErrPrefix } unexpected duplicate map keys, this is not supported`);\n}\nconst defaultEncodeOptions = {\n  addBreakTokens: true,\n  mapSorter\n};\nfunction encode(data, options) {\n  options = Object.assign({}, defaultEncodeOptions, options);\n  return encodeCustom(data, new JSONEncoder(), options);\n}\nexport {\n  encode\n};", "import { decode as _decode } from '../decode.js';\nimport {\n  Token,\n  Type\n} from '../token.js';\nimport { decodeCodePointsArray } from '../byte-utils.js';\nimport { decodeErrPrefix } from '../common.js';\nclass Tokenizer {\n  constructor(data, options = {}) {\n    this.pos = 0;\n    this.data = data;\n    this.options = options;\n    this.modeStack = ['value'];\n    this.lastToken = '';\n  }\n  done() {\n    return this.pos >= this.data.length;\n  }\n  ch() {\n    return this.data[this.pos];\n  }\n  currentMode() {\n    return this.modeStack[this.modeStack.length - 1];\n  }\n  skipWhitespace() {\n    let c = this.ch();\n    while (c === 32 || c === 9 || c === 13 || c === 10) {\n      c = this.data[++this.pos];\n    }\n  }\n  expect(str) {\n    if (this.data.length - this.pos < str.length) {\n      throw new Error(`${ decodeErrPrefix } unexpected end of input at position ${ this.pos }`);\n    }\n    for (let i = 0; i < str.length; i++) {\n      if (this.data[this.pos++] !== str[i]) {\n        throw new Error(`${ decodeErrPrefix } unexpected token at position ${ this.pos }, expected to find '${ String.fromCharCode(...str) }'`);\n      }\n    }\n  }\n  parseNumber() {\n    const startPos = this.pos;\n    let negative = false;\n    let float = false;\n    const swallow = chars => {\n      while (!this.done()) {\n        const ch = this.ch();\n        if (chars.includes(ch)) {\n          this.pos++;\n        } else {\n          break;\n        }\n      }\n    };\n    if (this.ch() === 45) {\n      negative = true;\n      this.pos++;\n    }\n    if (this.ch() === 48) {\n      this.pos++;\n      if (this.ch() === 46) {\n        this.pos++;\n        float = true;\n      } else {\n        return new Token(Type.uint, 0, this.pos - startPos);\n      }\n    }\n    swallow([\n      48,\n      49,\n      50,\n      51,\n      52,\n      53,\n      54,\n      55,\n      56,\n      57\n    ]);\n    if (negative && this.pos === startPos + 1) {\n      throw new Error(`${ decodeErrPrefix } unexpected token at position ${ this.pos }`);\n    }\n    if (!this.done() && this.ch() === 46) {\n      if (float) {\n        throw new Error(`${ decodeErrPrefix } unexpected token at position ${ this.pos }`);\n      }\n      float = true;\n      this.pos++;\n      swallow([\n        48,\n        49,\n        50,\n        51,\n        52,\n        53,\n        54,\n        55,\n        56,\n        57\n      ]);\n    }\n    if (!this.done() && (this.ch() === 101 || this.ch() === 69)) {\n      float = true;\n      this.pos++;\n      if (!this.done() && (this.ch() === 43 || this.ch() === 45)) {\n        this.pos++;\n      }\n      swallow([\n        48,\n        49,\n        50,\n        51,\n        52,\n        53,\n        54,\n        55,\n        56,\n        57\n      ]);\n    }\n    const numStr = String.fromCharCode.apply(null, this.data.subarray(startPos, this.pos));\n    const num = parseFloat(numStr);\n    if (float) {\n      return new Token(Type.float, num, this.pos - startPos);\n    }\n    if (this.options.allowBigInt !== true || Number.isSafeInteger(num)) {\n      return new Token(num >= 0 ? Type.uint : Type.negint, num, this.pos - startPos);\n    }\n    return new Token(num >= 0 ? Type.uint : Type.negint, BigInt(numStr), this.pos - startPos);\n  }\n  parseString() {\n    if (this.ch() !== 34) {\n      throw new Error(`${ decodeErrPrefix } unexpected character at position ${ this.pos }; this shouldn't happen`);\n    }\n    this.pos++;\n    for (let i = this.pos, l = 0; i < this.data.length && l < 65536; i++, l++) {\n      const ch = this.data[i];\n      if (ch === 92 || ch < 32 || ch >= 128) {\n        break;\n      }\n      if (ch === 34) {\n        const str = String.fromCharCode.apply(null, this.data.subarray(this.pos, i));\n        this.pos = i + 1;\n        return new Token(Type.string, str, l);\n      }\n    }\n    const startPos = this.pos;\n    const chars = [];\n    const readu4 = () => {\n      if (this.pos + 4 >= this.data.length) {\n        throw new Error(`${ decodeErrPrefix } unexpected end of unicode escape sequence at position ${ this.pos }`);\n      }\n      let u4 = 0;\n      for (let i = 0; i < 4; i++) {\n        let ch = this.ch();\n        if (ch >= 48 && ch <= 57) {\n          ch -= 48;\n        } else if (ch >= 97 && ch <= 102) {\n          ch = ch - 97 + 10;\n        } else if (ch >= 65 && ch <= 70) {\n          ch = ch - 65 + 10;\n        } else {\n          throw new Error(`${ decodeErrPrefix } unexpected unicode escape character at position ${ this.pos }`);\n        }\n        u4 = u4 * 16 + ch;\n        this.pos++;\n      }\n      return u4;\n    };\n    const readUtf8Char = () => {\n      const firstByte = this.ch();\n      let codePoint = null;\n      let bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;\n      if (this.pos + bytesPerSequence > this.data.length) {\n        throw new Error(`${ decodeErrPrefix } unexpected unicode sequence at position ${ this.pos }`);\n      }\n      let secondByte, thirdByte, fourthByte, tempCodePoint;\n      switch (bytesPerSequence) {\n      case 1:\n        if (firstByte < 128) {\n          codePoint = firstByte;\n        }\n        break;\n      case 2:\n        secondByte = this.data[this.pos + 1];\n        if ((secondByte & 192) === 128) {\n          tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;\n          if (tempCodePoint > 127) {\n            codePoint = tempCodePoint;\n          }\n        }\n        break;\n      case 3:\n        secondByte = this.data[this.pos + 1];\n        thirdByte = this.data[this.pos + 2];\n        if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {\n          tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;\n          if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {\n            codePoint = tempCodePoint;\n          }\n        }\n        break;\n      case 4:\n        secondByte = this.data[this.pos + 1];\n        thirdByte = this.data[this.pos + 2];\n        fourthByte = this.data[this.pos + 3];\n        if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {\n          tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;\n          if (tempCodePoint > 65535 && tempCodePoint < 1114112) {\n            codePoint = tempCodePoint;\n          }\n        }\n      }\n      if (codePoint === null) {\n        codePoint = 65533;\n        bytesPerSequence = 1;\n      } else if (codePoint > 65535) {\n        codePoint -= 65536;\n        chars.push(codePoint >>> 10 & 1023 | 55296);\n        codePoint = 56320 | codePoint & 1023;\n      }\n      chars.push(codePoint);\n      this.pos += bytesPerSequence;\n    };\n    while (!this.done()) {\n      const ch = this.ch();\n      let ch1;\n      switch (ch) {\n      case 92:\n        this.pos++;\n        if (this.done()) {\n          throw new Error(`${ decodeErrPrefix } unexpected string termination at position ${ this.pos }`);\n        }\n        ch1 = this.ch();\n        this.pos++;\n        switch (ch1) {\n        case 34:\n        case 39:\n        case 92:\n        case 47:\n          chars.push(ch1);\n          break;\n        case 98:\n          chars.push(8);\n          break;\n        case 116:\n          chars.push(9);\n          break;\n        case 110:\n          chars.push(10);\n          break;\n        case 102:\n          chars.push(12);\n          break;\n        case 114:\n          chars.push(13);\n          break;\n        case 117:\n          chars.push(readu4());\n          break;\n        default:\n          throw new Error(`${ decodeErrPrefix } unexpected string escape character at position ${ this.pos }`);\n        }\n        break;\n      case 34:\n        this.pos++;\n        return new Token(Type.string, decodeCodePointsArray(chars), this.pos - startPos);\n      default:\n        if (ch < 32) {\n          throw new Error(`${ decodeErrPrefix } invalid control character at position ${ this.pos }`);\n        } else if (ch < 128) {\n          chars.push(ch);\n          this.pos++;\n        } else {\n          readUtf8Char();\n        }\n      }\n    }\n    throw new Error(`${ decodeErrPrefix } unexpected end of string at position ${ this.pos }`);\n  }\n  parseValue() {\n    switch (this.ch()) {\n    case 123:\n      this.modeStack.push('obj-start');\n      this.pos++;\n      return new Token(Type.map, Infinity, 1);\n    case 91:\n      this.modeStack.push('array-start');\n      this.pos++;\n      return new Token(Type.array, Infinity, 1);\n    case 34: {\n        return this.parseString();\n      }\n    case 110:\n      this.expect([\n        110,\n        117,\n        108,\n        108\n      ]);\n      return new Token(Type.null, null, 4);\n    case 102:\n      this.expect([\n        102,\n        97,\n        108,\n        115,\n        101\n      ]);\n      return new Token(Type.false, false, 5);\n    case 116:\n      this.expect([\n        116,\n        114,\n        117,\n        101\n      ]);\n      return new Token(Type.true, true, 4);\n    case 45:\n    case 48:\n    case 49:\n    case 50:\n    case 51:\n    case 52:\n    case 53:\n    case 54:\n    case 55:\n    case 56:\n    case 57:\n      return this.parseNumber();\n    default:\n      throw new Error(`${ decodeErrPrefix } unexpected character at position ${ this.pos }`);\n    }\n  }\n  next() {\n    this.skipWhitespace();\n    switch (this.currentMode()) {\n    case 'value':\n      this.modeStack.pop();\n      return this.parseValue();\n    case 'array-value': {\n        this.modeStack.pop();\n        if (this.ch() === 93) {\n          this.pos++;\n          this.skipWhitespace();\n          return new Token(Type.break, undefined, 1);\n        }\n        if (this.ch() !== 44) {\n          throw new Error(`${ decodeErrPrefix } unexpected character at position ${ this.pos }, was expecting array delimiter but found '${ String.fromCharCode(this.ch()) }'`);\n        }\n        this.pos++;\n        this.modeStack.push('array-value');\n        this.skipWhitespace();\n        return this.parseValue();\n      }\n    case 'array-start': {\n        this.modeStack.pop();\n        if (this.ch() === 93) {\n          this.pos++;\n          this.skipWhitespace();\n          return new Token(Type.break, undefined, 1);\n        }\n        this.modeStack.push('array-value');\n        this.skipWhitespace();\n        return this.parseValue();\n      }\n    case 'obj-key':\n      if (this.ch() === 125) {\n        this.modeStack.pop();\n        this.pos++;\n        this.skipWhitespace();\n        return new Token(Type.break, undefined, 1);\n      }\n      if (this.ch() !== 44) {\n        throw new Error(`${ decodeErrPrefix } unexpected character at position ${ this.pos }, was expecting object delimiter but found '${ String.fromCharCode(this.ch()) }'`);\n      }\n      this.pos++;\n      this.skipWhitespace();\n    case 'obj-start': {\n        this.modeStack.pop();\n        if (this.ch() === 125) {\n          this.pos++;\n          this.skipWhitespace();\n          return new Token(Type.break, undefined, 1);\n        }\n        const token = this.parseString();\n        this.skipWhitespace();\n        if (this.ch() !== 58) {\n          throw new Error(`${ decodeErrPrefix } unexpected character at position ${ this.pos }, was expecting key/value delimiter ':' but found '${ String.fromCharCode(this.ch()) }'`);\n        }\n        this.pos++;\n        this.modeStack.push('obj-value');\n        return token;\n      }\n    case 'obj-value': {\n        this.modeStack.pop();\n        this.modeStack.push('obj-key');\n        this.skipWhitespace();\n        return this.parseValue();\n      }\n    default:\n      throw new Error(`${ decodeErrPrefix } unexpected parse state at position ${ this.pos }; this shouldn't happen`);\n    }\n  }\n}\nfunction decode(data, options) {\n  options = Object.assign({ tokenizer: new Tokenizer(data, options) }, options);\n  return _decode(data, options);\n}\nexport {\n  decode,\n  Tokenizer\n};", null, null, null, null, "/**\n * @typedef {import('multiformats/codecs/interface').BlockCodec<any, any>} BlockCodec\n * @typedef {import('./types').LoadCodecFn} LoadCodecFn\n * @typedef {import('ipfs-core-types/src/utils').AbortOptions} AbortOptions\n */\n\n/**\n * @type {LoadCodecFn}\n */\nconst LOAD_CODEC = (codeOrName) => Promise.reject(new Error(`No codec found for \"${codeOrName}\"`))\n\nexport class Multicodecs {\n  /**\n   * @param {object} options\n   * @param {LoadCodecFn} [options.loadCodec]\n   * @param {BlockCodec[]} options.codecs\n   */\n  constructor (options) {\n    // Object with current list of active resolvers\n    /** @type {Record<string, BlockCodec>}} */\n    this._codecsByName = {}\n\n    // Object with current list of active resolvers\n    /** @type {Record<number, BlockCodec>}} */\n    this._codecsByCode = {}\n\n    this._loadCodec = options.loadCodec || LOAD_CODEC\n\n    // Enable all supplied codecs\n    for (const codec of options.codecs) {\n      this.addCodec(codec)\n    }\n  }\n\n  /**\n   * Add support for a block codec\n   *\n   * @param {BlockCodec} codec\n   */\n  addCodec (codec) {\n    if (this._codecsByName[codec.name] || this._codecsByCode[codec.code]) {\n      throw new Error(`Resolver already exists for codec \"${codec.name}\"`)\n    }\n\n    this._codecsByName[codec.name] = codec\n    this._codecsByCode[codec.code] = codec\n  }\n\n  /**\n   * Remove support for a block codec\n   *\n   * @param {BlockCodec} codec\n   */\n  removeCodec (codec) {\n    delete this._codecsByName[codec.name]\n    delete this._codecsByCode[codec.code]\n  }\n\n  /**\n   * @param {number | string} code\n   */\n  async getCodec (code) {\n    const table = typeof code === 'string' ? this._codecsByName : this._codecsByCode\n\n    if (table[code]) {\n      return table[code]\n    }\n\n    // If not supported, attempt to dynamically load this codec\n    const codec = await this._loadCodec(code)\n\n    if (table[code] == null) {\n      this.addCodec(codec)\n    }\n\n    return codec\n  }\n\n  listCodecs () {\n    return Object.values(this._codecsByName)\n  }\n}\n", "/**\n * @typedef {import('multiformats/hashes/interface').MultihashHasher} MultihashHasher\n * @typedef {import('./types').LoadHasherFn} LoadHasherFn\n * @typedef {import('ipfs-core-types/src/utils').AbortOptions} AbortOptions\n */\n\n/**\n * @type {LoadHasherFn}\n */\nconst LOAD_HASHER = (codeOrName) => Promise.reject(new Error(`No hasher found for \"${codeOrName}\"`))\n\nexport class Multihashes {\n  /**\n   * @param {object} options\n   * @param {LoadHasherFn} [options.loadHasher]\n   * @param {MultihashHasher[]} options.hashers\n   */\n  constructor (options) {\n    // Object with current list of active hashers\n    /** @type {Record<string, MultihashHasher>}} */\n    this._hashersByName = {}\n\n    // Object with current list of active hashers\n    /** @type {Record<number, MultihashHasher>}} */\n    this._hashersByCode = {}\n\n    this._loadHasher = options.loadHasher || LOAD_HASHER\n\n    // Enable all supplied hashers\n    for (const hasher of options.hashers) {\n      this.addHasher(hasher)\n    }\n  }\n\n  /**\n   * Add support for a multibase hasher\n   *\n   * @param {MultihashHasher} hasher\n   */\n  addHasher (hasher) {\n    if (this._hashersByName[hasher.name] || this._hashersByCode[hasher.code]) {\n      throw new Error(`Resolver already exists for codec \"${hasher.name}\"`)\n    }\n\n    this._hashersByName[hasher.name] = hasher\n    this._hashersByCode[hasher.code] = hasher\n  }\n\n  /**\n   * Remove support for a multibase hasher\n   *\n   * @param {MultihashHasher} hasher\n   */\n  removeHasher (hasher) {\n    delete this._hashersByName[hasher.name]\n    delete this._hashersByCode[hasher.code]\n  }\n\n  /**\n   * @param {number | string} code\n   */\n  async getHasher (code) {\n    const table = typeof code === 'string' ? this._hashersByName : this._hashersByCode\n\n    if (table[code]) {\n      return table[code]\n    }\n\n    // If not supported, attempt to dynamically load this hasher\n    const hasher = await this._loadHasher(code)\n\n    if (table[code] == null) {\n      this.addHasher(hasher)\n    }\n\n    return hasher\n  }\n\n  listHashers () {\n    return Object.values(this._hashersByName)\n  }\n}\n", "export async function* makeIterable(array) {\r\n\tlet nextIndex = 0;\r\n\twhile (nextIndex < array.length) {\r\n\t\tyield array[nextIndex++];\r\n\t}\r\n}\r\n\r\n// export async function makeIterable(array) {\r\n// \tlet nextIndex = 0;\r\n// \treturn {\r\n// \t\tnext() {\r\n// \t\t\treturn nextIndex < array.length\r\n// \t\t\t\t? {\r\n// \t\t\t\t\t\tvalue: array[nextIndex++],\r\n// \t\t\t\t\t\tdone: false\r\n// \t\t\t\t  }\r\n// \t\t\t\t: {\r\n// \t\t\t\t\t\tdone: true\r\n// \t\t\t\t  };\r\n// \t\t},\r\n// \t\t[Symbol.asyncIterator]() {\r\n// \t\t\treturn this;\r\n// \t\t}\r\n// \t};\r\n// }\r\n\r\n// export class MakeIterable {\r\n// \t#data;\r\n\r\n// \tconstructor(data) {\r\n// \t\tthis.#data = data;\r\n// \t}\r\n\r\n// \t[Symbol.iterator]() {\r\n// \t\t// Use a new index for each iterator. This makes multiple\r\n// \t\t// iterations over the iterable safe for non-trivial cases,\r\n// \t\t// such as use of break or nested looping over the same iterable.\r\n// \t\tlet index = 0;\r\n\r\n// \t\treturn {\r\n// \t\t\t// Note: using an arrow function allows `this` to point to the\r\n// \t\t\t// one of `[@@iterator]()` instead of `next()`\r\n// \t\t\tnext: () => {\r\n// \t\t\t\tif (index < this.#data.length) {\r\n// \t\t\t\t\treturn { value: this.#data[index++], done: false };\r\n// \t\t\t\t} else {\r\n// \t\t\t\t\treturn { done: true };\r\n// \t\t\t\t}\r\n// \t\t\t}\r\n// \t\t};\r\n// \t}\r\n// }\r\n", "import { BaseBlockstore } from './base.js'\nimport { base32 } from 'multiformats/bases/base32'\nimport * as raw from 'multiformats/codecs/raw'\nimport { CID } from 'multiformats/cid'\nimport * as Digest from 'multiformats/hashes/digest'\nimport * as Errors from './errors.js'\n\n/**\n * @typedef {import('interface-blockstore').Pair} Pair\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('interface-store').Options} Options\n */\n\n/**\n * @class MemoryBlockstore\n * @implements {Blockstore}\n */\nexport class MemoryBlockstore extends BaseBlockstore {\n  constructor () {\n    super()\n\n    /** @type {Record<string, Uint8Array>} */\n    this.data = {}\n  }\n\n  open () {\n    return Promise.resolve()\n  }\n\n  close () {\n    return Promise.resolve()\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Uint8Array} val\n   */\n  async put (key, val) { // eslint-disable-line require-await\n    this.data[base32.encode(key.multihash.bytes)] = val\n  }\n\n  /**\n   * @param {CID} key\n   */\n  async get (key) {\n    const exists = await this.has(key)\n    if (!exists) throw Errors.notFoundError()\n    return this.data[base32.encode(key.multihash.bytes)]\n  }\n\n  /**\n   * @param {CID} key\n   */\n  async has (key) { // eslint-disable-line require-await\n    return this.data[base32.encode(key.multihash.bytes)] !== undefined\n  }\n\n  /**\n   * @param {CID} key\n   */\n  async delete (key) { // eslint-disable-line require-await\n    delete this.data[base32.encode(key.multihash.bytes)]\n  }\n\n  async * _all () {\n    yield * Object.entries(this.data)\n      .map(([key, value]) => ({ key: CID.createV1(raw.code, Digest.decode(base32.decode(key))), value }))\n  }\n\n  async * _allKeys () {\n    yield * Object.entries(this.data)\n      .map(([key]) => CID.createV1(raw.code, Digest.decode(base32.decode(key))))\n  }\n}\n", "import errCode from 'err-code'\n\n/**\n * @param {Error} [err]\n */\nexport function notFoundError (err) {\n  err = err || new Error('Not Found')\n  return errCode(err, 'ERR_NOT_FOUND')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function abortedError (err) {\n  err = err || new Error('Aborted')\n  return errCode(err, 'ERR_ABORTED')\n}\n"],
  "mappings": "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EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,CACF,ECpXAC,IAAAC,IA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",
  "names": ["require_base64_js", "__commonJSMin", "exports", "init_node_globals", "byteLength", "toByteArray", "fromByteArray", "lookup", "revLookup", "Arr", "code", "i", "len", "getLens", "b64", "validLen", "placeHoldersLen", "lens", "_byteLength", "tmp", "arr", "curByte", "tripletToBase64", "num", "encodeChunk", "uint8", "start", "end", "output", "extraBytes", "parts", "maxChunkLength", "len2", "require_ieee754", "__commonJSMin", "exports", "init_node_globals", "buffer", "offset", "isLE", "mLen", "nBytes", "e", "m", "eLen", "eMax", "eBias", "nBits", "i", "d", "s", "value", "c", "rt", "require_buffer", "__commonJSMin", "exports", "init_node_globals", "base64", "ieee754", "customInspectSymbol", "Buffer", "SlowBuffer", "K_MAX_LENGTH", "typedArraySupport", "arr", "proto", "createBuffer", "length", "buf", "arg", "encodingOrOffset", "allocUnsafe", "from", "value", "fromString", "fromArrayView", "isInstance", "fromArrayBuffer", "valueOf", "b", "fromObject", "assertSize", "size", "alloc", "fill", "encoding", "checked", "string", "byteLength", "actual", "fromArrayLike", "array", "i", "arrayView", "copy", "byteOffset", "obj", "len", "numberIsNaN", "a", "x", "y", "list", "buffer", "pos", "mustMatch", "loweredCase", "utf8ToBytes", "base64ToBytes", "slowToString", "start", "end", "hexSlice", "utf8Slice", "asciiSlice", "latin1Slice", "base64Slice", "utf16leSlice", "swap", "n", "m", "str", "max", "target", "thisStart", "thisEnd", "thisCopy", "targetCopy", "bidirectionalIndexOf", "val", "dir", "arrayIndexOf", "indexSize", "arrLength", "valLength", "read", "foundIndex", "found", "j", "hexWrite", "offset", "remaining", "strLen", "parsed", "utf8Write", "blitBuffer", "asciiWrite", "asciiToBytes", "base64Write", "ucs2Write", "utf16leToBytes", "res", "firstByte", "codePoint", "bytesPerSequence", "secondByte", "thirdByte", "fourthByte", "tempCodePoint", "decodeCodePointsArray", "MAX_ARGUMENTS_LENGTH", "codePoints", "ret", "out", "hexSliceLookupTable", "bytes", "newBuf", "checkOffset", "ext", "noAssert", "mul", "defineBigIntMethod", "validateNumber", "first", "last", "boundsError", "lo", "hi", "checkInt", "min", "maxBytes", "wrtBigUInt64LE", "checkIntBI", "wrtBigUInt64BE", "limit", "sub", "checkIEEE754", "writeFloat", "littleEndian", "writeDouble", "targetStart", "code", "errors", "E", "sym", "getMessage", "Base", "name", "range", "input", "msg", "received", "addNumericalSeparator", "checkBounds", "type", "INVALID_BASE64_RE", "base64clean", "units", "leadSurrogate", "byteArray", "c", "src", "dst", "alphabet", "table", "i16", "fn", "BufferBigIntNotDefined", "require_browser", "__commonJSMin", "exports", "module", "init_node_globals", "process", "cachedSetTimeout", "cachedClearTimeout", "defaultSetTimout", "defaultClearTimeout", "runTimeout", "fun", "runClearTimeout", "marker", "queue", "draining", "currentQueue", "queueIndex", "cleanUpNextTick", "drainQueue", "timeout", "len", "args", "i", "Item", "array", "noop", "name", "dir", "init_node_globals", "__esmMin", "require_encode", "__commonJSMin", "exports", "module", "init_node_globals", "encode", "MSB", "REST", "MSBALL", "INT", "num", "out", "offset", "oldOffset", "require_decode", "__commonJSMin", "exports", "module", "init_node_globals", "read", "MSB", "REST", "buf", "offset", "res", "shift", "counter", "b", "l", "require_length", "__commonJSMin", "exports", "module", "init_node_globals", "N1", "N2", "N3", "N4", "N5", "N6", "N7", "N8", "N9", "value", "require_varint", "__commonJSMin", "exports", "module", "init_node_globals", "encode", "num", "out", "offset", "oldOffset", "INT", "MSB", "MSBALL", "read", "buf", "res", "shift", "counter", "b", "l", "REST$1", "MSB$1", "encode_1", "REST", "decode", "N1", "N2", "N3", "N4", "N5", "N6", "N7", "N8", "N9", "length", "varint", "_brrp_varint", "varint_default", "init_varint", "__esmMin", "init_node_globals", "value", "decode", "encodeTo", "encodingLength", "init_varint", "__esmMin", "init_node_globals", "data", "offset", "varint_default", "int", "target", "bytes_exports", "__export", "coerce", "empty", "equals", "fromHex", "fromString", "isBinary", "toHex", "toString", "init_bytes", "__esmMin", "init_node_globals", "d", "hex", "byte", "hexes", "b", "aa", "bb", "ii", "o", "str", "digest_exports", "__export", "Digest", "create", "decode", "equals", "init_digest", "__esmMin", "init_node_globals", "init_bytes", "init_varint", "code", "digest", "size", "sizeOffset", "encodingLength", "digestOffset", "bytes", "encodeTo", "multihash", "coerce", "a", "b", "base", "ALPHABET", "name", "BASE_MAP", "j", "x", "xc", "BASE", "LEADER", "FACTOR", "iFACTOR", "encode", "source", "zeroes", "length", "pbegin", "pend", "size", "b58", "carry", "i", "it1", "it2", "str", "decodeUnsafe", "psz", "b256", "it3", "it4", "vch", "decode", "string", "buffer", "src", "_brrp__multiformats_scope_baseX", "base_x_default", "init_base_x", "__esmMin", "init_node_globals", "Encoder", "Decoder", "ComposedDecoder", "or", "Codec", "from", "baseX", "decode", "encode", "rfc4648", "init_base", "__esmMin", "init_node_globals", "init_base_x", "init_bytes", "name", "prefix", "baseEncode", "bytes", "baseDecode", "text", "decoder", "decoders", "input", "left", "right", "alphabet", "base_x_default", "coerce", "string", "bitsPerChar", "codes", "i", "end", "out", "bits", "buffer", "written", "value", "data", "pad", "mask", "base58_exports", "__export", "base58btc", "base58flickr", "init_base58", "__esmMin", "init_node_globals", "init_base", "baseX", "base32_exports", "__export", "base32", "base32hex", "base32hexpad", "base32hexpadupper", "base32hexupper", "base32pad", "base32padupper", "base32upper", "base32z", "init_base32", "__esmMin", "init_node_globals", "init_base", "rfc4648", "cid_exports", "__export", "CID", "parseCIDtoBytes", "toStringV0", "toStringV1", "DAG_PB_CODE", "SHA_256_CODE", "encodeCID", "cidSymbol", "readonly", "hidden", "version", "deprecate", "IS_CID_DEPRECATION", "init_cid", "__esmMin", "init_node_globals", "init_varint", "init_digest", "init_base58", "init_base32", "init_bytes", "code", "multihash", "bytes", "digest", "create", "other", "equals", "base", "_baseCache", "base58btc", "base32", "value", "decode", "cid", "remainder", "specs", "prefixSize", "multihashBytes", "coerce", "digestBytes", "Digest", "initialBytes", "offset", "next", "i", "length", "codec", "multihashCode", "digestSize", "size", "multihashSize", "source", "prefix", "decoder", "cache", "codeOffset", "encodingLength", "hashOffset", "encodeTo", "range", "message", "from", "Hasher", "init_hasher", "__esmMin", "init_node_globals", "init_digest", "name", "code", "encode", "input", "result", "create", "digest", "init_src", "__esmMin", "init_node_globals", "init_cid", "init_varint", "init_bytes", "init_hasher", "init_digest", "raw_exports", "__export", "code", "decode", "encode", "name", "init_raw", "__esmMin", "init_node_globals", "init_bytes", "node", "coerce", "data", "sha2_browser_exports", "__export", "sha256", "sha512", "sha", "init_sha2_browser", "__esmMin", "init_node_globals", "init_hasher", "name", "data", "from", "require_ms", "__commonJSMin", "exports", "module", "init_node_globals", "s", "m", "h", "d", "w", "y", "val", "options", "type", "parse", "fmtLong", "fmtShort", "str", "match", "n", "ms", "msAbs", "plural", "name", "isPlural", "require_common", "__commonJSMin", "exports", "module", "init_node_globals", "setup", "env", "createDebug", "coerce", "disable", "enable", "enabled", "destroy", "key", "selectColor", "namespace", "hash", "i", "prevTime", "enableOverride", "namespacesCache", "enabledCache", "debug", "args", "self", "curr", "ms", "index", "match", "format", "formatter", "val", "extend", "v", "delimiter", "newDebug", "namespaces", "split", "len", "toNamespace", "name", "regexp", "require_browser", "__commonJSMin", "exports", "module", "init_node_globals", "formatArgs", "save", "load", "useColors", "localstorage", "warned", "args", "c", "index", "lastC", "match", "namespaces", "formatters", "v", "error", "require_err_code", "__commonJSMin", "exports", "module", "init_node_globals", "assign", "obj", "props", "key", "createError", "err", "code", "ErrClass", "identity_exports", "__export", "identity", "init_identity", "__esmMin", "init_node_globals", "init_base", "init_bytes", "from", "buf", "toString", "str", "fromString", "base2_exports", "__export", "base2", "init_base2", "__esmMin", "init_node_globals", "init_base", "rfc4648", "base8_exports", "__export", "base8", "init_base8", "__esmMin", "init_node_globals", "init_base", "rfc4648", "base10_exports", "__export", "base10", "init_base10", "__esmMin", "init_node_globals", "init_base", "baseX", "base16_exports", "__export", "base16", "base16upper", "init_base16", "__esmMin", "init_node_globals", "init_base", "rfc4648", "base36_exports", "__export", "base36", "base36upper", "init_base36", "__esmMin", "init_node_globals", "init_base", "baseX", "base64_exports", "__export", "base64", "base64pad", "base64url", "base64urlpad", "init_base64", "__esmMin", "init_node_globals", "init_base", "rfc4648", "base256emoji_exports", "__export", "base256emoji", "encode", "data", "p", "c", "alphabetBytesToChars", "decode", "str", "byts", "char", "byt", "alphabetCharsToBytes", "alphabet", "init_base256emoji", "__esmMin", "init_node_globals", "init_base", "i", "from", "identity_exports", "__export", "identity", "code", "name", "encode", "digest", "init_identity", "__esmMin", "init_node_globals", "init_bytes", "init_digest", "coerce", "input", "create", "json_exports", "__export", "code", "decode", "encode", "name", "textEncoder", "textDecoder", "init_json", "__esmMin", "init_node_globals", "node", "data", "bases", "hashes", "codecs", "init_basics", "__esmMin", "init_node_globals", "init_identity", "init_base2", "init_base8", "init_base10", "init_base16", "init_base32", "init_base36", "init_base58", "init_base64", "init_base256emoji", "init_sha2_browser", "init_raw", "init_json", "init_src", "identity_exports", "base2_exports", "base8_exports", "base10_exports", "base16_exports", "base32_exports", "base36_exports", "base58_exports", "base64_exports", "base256emoji_exports", "sha2_browser_exports", "raw_exports", "json_exports", "allocUnsafe", "size", "init_alloc", "__esmMin", "init_node_globals", "createCodec", "name", "prefix", "encode", "decode", "string", "ascii", "BASES", "bases_default", "init_bases", "__esmMin", "init_node_globals", "init_basics", "init_alloc", "buf", "decoder", "str", "i", "allocUnsafe", "bases", "to_string_exports", "__export", "toString", "array", "encoding", "base", "bases_default", "init_to_string", "__esmMin", "init_node_globals", "init_bases", "from_string_exports", "__export", "fromString", "string", "encoding", "base", "bases_default", "init_from_string", "__esmMin", "init_node_globals", "init_bases", "require_it_length", "__commonJSMin", "exports", "module", "init_node_globals", "length", "iterator", "count", "_", "require_aspromise", "__commonJSMin", "exports", "module", "init_node_globals", "asPromise", "fn", "ctx", "params", "offset", "index", "pending", "resolve", "reject", "err", "require_base64", "__commonJSMin", "exports", "init_node_globals", "base64", "string", "p", "b64", "s64", "i", "buffer", "start", "end", "parts", "chunk", "j", "t", "b", "invalidEncoding", "offset", "c", "require_eventemitter", "__commonJSMin", "exports", "module", "init_node_globals", "EventEmitter", "evt", "fn", "ctx", "listeners", "args", "require_float", "__commonJSMin", "exports", "module", "init_node_globals", "factory", "f32", "f8b", "le", "writeFloat_f32_cpy", "val", "buf", "pos", "writeFloat_f32_rev", "readFloat_f32_cpy", "readFloat_f32_rev", "writeFloat_ieee754", "writeUint", "sign", "exponent", "mantissa", "writeUintLE", "writeUintBE", "readFloat_ieee754", "readUint", "uint", "readUintLE", "readUintBE", "f64", "writeDouble_f64_cpy", "writeDouble_f64_rev", "readDouble_f64_cpy", "readDouble_f64_rev", "writeDouble_ieee754", "off0", "off1", "readDouble_ieee754", "lo", "hi", "require_inquire", "__commonJSMin", "init_node_globals", "e", "require_utf8", "__commonJSMin", "exports", "init_node_globals", "utf8", "string", "len", "c", "buffer", "start", "end", "parts", "chunk", "i", "t", "offset", "c1", "c2", "require_pool", "__commonJSMin", "exports", "module", "init_node_globals", "pool", "alloc", "slice", "size", "SIZE", "MAX", "slab", "offset", "buf", "require_longbits", "__commonJSMin", "exports", "module", "init_node_globals", "LongBits", "util", "lo", "hi", "zero", "zeroHash", "value", "sign", "unsigned", "charCodeAt", "hash", "mask", "part0", "part1", "part2", "require_minimal", "__commonJSMin", "exports", "init_node_globals", "util", "value", "obj", "prop", "Buffer", "sizeOrArray", "hash", "unsigned", "bits", "merge", "dst", "src", "ifNotSet", "keys", "str", "newError", "name", "CustomError", "message", "properties", "fieldNames", "fieldMap", "i", "encoding", "size", "require_writer", "__commonJSMin", "exports", "module", "init_node_globals", "Writer", "util", "BufferWriter", "LongBits", "base64", "utf8", "Op", "fn", "len", "val", "noop", "State", "writer", "create", "size", "writeByte", "buf", "pos", "writeVarint32", "VarintOp", "value", "writeVarint64", "bits", "writeFixed32", "writeBytes", "head", "tail", "BufferWriter_", "require_writer_buffer", "__commonJSMin", "exports", "module", "init_node_globals", "BufferWriter", "Writer", "util", "val", "buf", "pos", "value", "len", "writeStringBuffer", "require_reader", "__commonJSMin", "exports", "module", "init_node_globals", "Reader", "util", "BufferReader", "LongBits", "utf8", "indexOutOfRange", "reader", "writeLength", "buffer", "create_array", "create", "value", "readLongVarint", "bits", "i", "readFixed32_end", "buf", "end", "readFixed64", "length", "start", "bytes", "wireType", "BufferReader_", "fn", "require_reader_buffer", "__commonJSMin", "exports", "module", "init_node_globals", "BufferReader", "Reader", "util", "buffer", "len", "require_service", "__commonJSMin", "exports", "module", "init_node_globals", "Service", "util", "rpcImpl", "requestDelimited", "responseDelimited", "rpcCall", "method", "requestCtor", "responseCtor", "request", "callback", "self", "err", "response", "endedByRPC", "require_rpc", "__commonJSMin", "exports", "init_node_globals", "rpc", "require_roots", "__commonJSMin", "exports", "module", "init_node_globals", "require_index_minimal", "__commonJSMin", "exports", "init_node_globals", "protobuf", "configure", "require_minimal", "__commonJSMin", "exports", "module", "init_node_globals", "require_fnv1a", "__commonJSMin", "exports", "module", "init_node_globals", "hash", "s", "h", "l", "i", "concat_exports", "__export", "concat", "arrays", "length", "acc", "curr", "output", "allocUnsafe", "offset", "arr", "init_concat", "__esmMin", "init_node_globals", "init_alloc", "require_ip_regex", "__commonJSMin", "exports", "module", "init_node_globals", "word", "b", "options", "v4", "v6seg", "v6", "v46Exact", "v4exact", "v6exact", "ip", "require_is_ip", "__commonJSMin", "exports", "module", "init_node_globals", "ipRegex", "isIp", "string", "require_ip", "__commonJSMin", "exports", "module", "init_node_globals", "isIp", "uint8ArrayToString", "isIP", "isV4", "isV6", "toBytes", "ip", "buff", "offset", "result", "byte", "sections", "i", "isv4", "v4Buffer", "argv", "word", "toString", "length", "string", "view", "require_protocols_table", "__commonJSMin", "exports", "module", "init_node_globals", "Protocols", "proto", "V", "row", "p", "code", "size", "name", "resolvable", "path", "require_convert", "__commonJSMin", "exports", "module", "init_node_globals", "ip", "protocols", "CID", "base32", "base58btc", "Digest", "varint", "uint8ArrayToString", "uint8ArrayFromString", "uint8ArrayConcat", "Convert", "proto", "a", "buf", "bytes2ip", "bytes2port", "bytes2str", "bytes2mh", "bytes2onion", "str", "ip2bytes", "port2bytes", "str2bytes", "mh2bytes", "onion2bytes", "onion32bytes", "ipString", "ipBuff", "port", "size", "hash", "mh", "address", "addr", "portBuf", "addrBytes", "portBytes", "require_codec", "__commonJSMin", "exports", "module", "init_node_globals", "convert", "protocols", "varint", "uint8ArrayConcat", "uint8ArrayToString", "stringToStringTuples", "stringTuplesToString", "tuplesToStringTuples", "stringTuplesToTuples", "bytesToTuples", "tuplesToBytes", "bytesToString", "stringToBytes", "fromString", "fromBytes", "validateBytes", "isValidBytes", "cleanPath", "ParseError", "protoFromTuple", "sizeForAddr", "str", "tuples", "parts", "p", "part", "proto", "tup", "buf", "addr", "i", "code", "n", "size", "a", "b", "err", "equals_exports", "__export", "equals", "a", "b", "i", "init_equals", "__esmMin", "init_node_globals", "require_src", "__commonJSMin", "exports", "module", "init_node_globals", "codec", "protocols", "varint", "CID", "base58btc", "errCode", "inspect", "uint8ArrayToString", "uint8ArrayEquals", "resolvers", "symbol", "Multiaddr", "addr", "opts", "parsed", "code", "codes", "buf", "i", "n", "p", "proto", "t", "addrString", "s", "tuples", "tuple", "peerIdStr", "path", "resolvableProto", "resolver", "a", "names", "parts", "protos", "transport", "ip", "value", "multiaddr", "require_bytes", "__commonJSMin", "exports", "module", "init_node_globals", "bytes", "format", "parse", "formatThousandsRegExp", "formatDecimalsRegExp", "map", "parseRegExp", "value", "options", "mag", "thousandsSeparator", "unitSeparator", "decimalPlaces", "fixedDecimals", "unit", "val", "str", "s", "i", "results", "floatValue", "require_is_plain_obj", "__commonJSMin", "exports", "module", "init_node_globals", "value", "prototype", "require_merge_options", "__commonJSMin", "exports", "module", "init_node_globals", "isOptionObject", "hasOwnProperty", "propertyIsEnumerable", "defineProperty", "object", "name", "value", "globalThis", "defaultMergeOptions", "getEnumerableOwnPropertyKeys", "keys", "key", "symbols", "symbol", "clone", "cloneArray", "cloneOptionObject", "array", "result", "mergeKeys", "merged", "source", "config", "merge", "concatArrays", "resultIndex", "indices", "k", "options", "option", "require_eventemitter3", "__commonJSMin", "exports", "module", "init_node_globals", "has", "prefix", "Events", "EE", "fn", "context", "once", "addListener", "emitter", "event", "listener", "evt", "clearEvent", "EventEmitter", "names", "events", "name", "handlers", "l", "ee", "listeners", "a1", "a2", "a3", "a4", "a5", "len", "args", "i", "length", "j", "require_it_filter", "__commonJSMin", "exports", "module", "init_node_globals", "filter", "source", "fn", "entry", "require_it_drain", "__commonJSMin", "exports", "module", "init_node_globals", "drain", "source", "_", "require_it_first", "__commonJSMin", "exports", "module", "init_node_globals", "first", "source", "entry", "require_it_map", "__commonJSMin", "exports", "module", "init_node_globals", "map", "source", "func", "val", "require_it_batch", "__commonJSMin", "exports", "module", "init_node_globals", "batch", "source", "size", "things", "thing", "require_it_parallel_batch", "__commonJSMin", "exports", "module", "init_node_globals", "batch", "parallelBatch", "source", "size", "tasks", "things", "p", "value", "err", "result", "require_fixed_size", "__commonJSMin", "exports", "module", "init_node_globals", "hwm", "data", "last", "require_fast_fifo", "__commonJSMin", "exports", "module", "init_node_globals", "FixedFIFO", "hwm", "val", "prev", "next", "require_it_pushable", "__commonJSMin", "exports", "module", "init_node_globals", "FIFO", "options", "onEnd", "buffer", "pushable", "onNext", "ended", "waitNext", "next", "values", "resolve", "reject", "bufferNext", "bufferError", "err", "push", "value", "end", "_return", "_throw", "_pushable", "require_it_merge", "__commonJSMin", "exports", "module", "init_node_globals", "pushable", "merge", "sources", "output", "source", "item", "err", "require_it_all", "__commonJSMin", "exports", "module", "init_node_globals", "all", "source", "arr", "entry", "require_it_take", "__commonJSMin", "exports", "module", "init_node_globals", "take", "source", "limit", "items", "entry", "require_it_sort", "__commonJSMin", "exports", "module", "init_node_globals", "all", "sort", "source", "sorter", "require_level_supports", "__commonJSMin", "exports", "init_node_globals", "manifests", "manifest", "acc", "m", "require_module_error", "__commonJSMin", "exports", "module", "init_node_globals", "message", "options", "require_text_endec", "__commonJSMin", "exports", "module", "init_node_globals", "lazy", "require_encoding", "__commonJSMin", "exports", "init_node_globals", "ModuleError", "formats", "Encoding", "options", "require_formats", "__commonJSMin", "exports", "init_node_globals", "Buffer", "Encoding", "textEndec", "BufferFormat", "options", "ViewFormat", "data", "view", "UTF8Format", "textEncoder", "textDecoder", "require_encodings", "__commonJSMin", "exports", "init_node_globals", "Buffer", "textEncoder", "textDecoder", "BufferFormat", "ViewFormat", "UTF8Format", "identity", "v", "data", "buffer", "require_level_transcoder", "__commonJSMin", "exports", "init_node_globals", "ModuleError", "encodings", "Encoding", "BufferFormat", "ViewFormat", "UTF8Format", "kFormats", "kEncodings", "validFormats", "Transcoder", "formats", "f", "k", "err", "encoding", "resolved", "lookup", "from", "name", "format", "options", "maybeType", "anonymousCount", "detectFormat", "aliases", "require_events", "__commonJSMin", "exports", "module", "init_node_globals", "R", "ReflectApply", "target", "receiver", "args", "ReflectOwnKeys", "ProcessEmitWarning", "warning", "NumberIsNaN", "value", "EventEmitter", "once", "defaultMaxListeners", "checkListener", "listener", "arg", "n", "_getMaxListeners", "that", "type", "i", "doError", "events", "er", "err", "handler", "len", "listeners", "arrayClone", "_addListener", "prepend", "m", "existing", "w", "onceWrapper", "_onceWrap", "state", "wrapped", "list", "position", "originalListener", "spliceOne", "keys", "key", "_listeners", "unwrap", "evlistener", "unwrapListeners", "emitter", "listenerCount", "arr", "copy", "index", "ret", "name", "resolve", "reject", "errorListener", "resolver", "eventTargetAgnosticAddListener", "addErrorHandlerIfEventEmitter", "flags", "wrapListener", "require_next_tick_browser", "__commonJSMin", "exports", "module", "init_node_globals", "fn", "require_catering", "__commonJSMin", "exports", "init_node_globals", "nextTick", "callback", "symbol", "promise", "resolve", "reject", "err", "res", "require_common", "__commonJSMin", "exports", "init_node_globals", "options", "callback", "def", "require_abstract_iterator", "__commonJSMin", "exports", "init_node_globals", "fromCallback", "ModuleError", "getOptions", "getCallback", "kPromise", "kCallback", "kWorking", "kHandleOne", "kHandleMany", "kAutoClose", "kFinishWork", "kReturnMany", "kClosing", "kHandleClose", "kClosed", "kCloseCallbacks", "kKeyEncoding", "kValueEncoding", "kAbortOnClose", "kLegacy", "kKeys", "kValues", "kLimit", "kCount", "emptyOptions", "noop", "warnedEnd", "CommonIterator", "db", "options", "legacy", "hint", "callback", "promise", "resolve", "reject", "err", "key", "value", "size", "acc", "onnext", "count", "nextv", "onnextv", "items", "cb", "target", "keyEncoding", "keyFormat", "mapped", "callbacks", "item", "AbstractIterator", "IteratorDecodeError", "entries", "entry", "AbstractKeyIterator", "keys", "AbstractValueIterator", "values", "subject", "cause", "k", "require_default_kv_iterator", "__commonJSMin", "exports", "init_node_globals", "AbstractKeyIterator", "AbstractValueIterator", "kIterator", "kCallback", "kHandleOne", "kHandleMany", "DefaultKeyIterator", "db", "options", "DefaultValueIterator", "Iterator", "keys", "mapEntry", "entry", "callback", "err", "key", "value", "size", "entries", "target", "require_deferred_iterator", "__commonJSMin", "exports", "init_node_globals", "AbstractIterator", "AbstractKeyIterator", "AbstractValueIterator", "ModuleError", "kNut", "kUndefer", "kFactory", "DeferredIterator", "db", "options", "DeferredKeyIterator", "DeferredValueIterator", "Iterator", "callback", "size", "target", "require_abstract_chained_batch", "__commonJSMin", "exports", "init_node_globals", "fromCallback", "ModuleError", "getCallback", "getOptions", "kPromise", "kStatus", "kOperations", "kFinishClose", "kCloseCallbacks", "AbstractChainedBatch", "db", "hint", "key", "value", "options", "err", "original", "keyEncoding", "valueEncoding", "keyFormat", "mappedKey", "mappedValue", "callback", "callbacks", "cb", "require_default_chained_batch", "__commonJSMin", "exports", "init_node_globals", "AbstractChainedBatch", "ModuleError", "kEncoded", "DefaultChainedBatch", "db", "key", "value", "options", "callback", "require_range_options", "__commonJSMin", "exports", "module", "init_node_globals", "ModuleError", "hasOwnProperty", "rangeOptions", "options", "keyEncoding", "result", "k", "require_queue_microtask", "__commonJSMin", "exports", "module", "init_node_globals", "promise", "cb", "err", "require_next_tick_browser", "__commonJSMin", "exports", "module", "init_node_globals", "queueMicrotask", "fn", "args", "require_abstract_sublevel_iterator", "__commonJSMin", "exports", "init_node_globals", "AbstractIterator", "AbstractKeyIterator", "AbstractValueIterator", "kUnfix", "kIterator", "kHandleOne", "kHandleMany", "kCallback", "AbstractSublevelIterator", "db", "options", "iterator", "unfix", "err", "key", "value", "callback", "entries", "entry", "AbstractSublevelKeyIterator", "keys", "AbstractSublevelValueIterator", "Iterator", "size", "target", "require_abstract_sublevel", "__commonJSMin", "exports", "module", "init_node_globals", "ModuleError", "Buffer", "AbstractSublevelIterator", "AbstractSublevelKeyIterator", "AbstractSublevelValueIterator", "kPrefix", "kUpperBound", "kPrefixRange", "kParent", "kUnfix", "textEncoder", "defaults", "AbstractLevel", "AbstractSublevel", "options", "db", "name", "separator", "manifest", "forward", "trim", "reserved", "parent", "x", "mergeManifests", "prefix", "upperBound", "MultiFormat", "Unfixer", "key", "keyFormat", "view", "result", "buffer", "range", "callback", "value", "keys", "operations", "iterator", "unfix", "supportsEncoding", "encoding", "prefixLength", "str", "char", "start", "end", "require_abstract_level", "__commonJSMin", "exports", "init_node_globals", "supports", "Transcoder", "EventEmitter", "fromCallback", "ModuleError", "AbstractIterator", "DefaultKeyIterator", "DefaultValueIterator", "DeferredIterator", "DeferredKeyIterator", "DeferredValueIterator", "DefaultChainedBatch", "getCallback", "getOptions", "rangeOptions", "kPromise", "kLanded", "kResources", "kCloseResources", "kOperations", "kUndefer", "kDeferOpen", "kOptions", "kStatus", "kDefaultOptions", "kTranscoder", "kKeyEncoding", "kValueEncoding", "noop", "AbstractLevel", "manifest", "options", "keyEncoding", "valueEncoding", "passive", "forward", "formats", "encoding", "callback", "maybeOpened", "err", "maybeClosed", "cancel", "pending", "sync", "next", "resource", "key", "maybeError", "keyFormat", "valueFormat", "value", "keys", "mappedKeys", "i", "values", "mappedKey", "mappedValue", "operations", "mapped", "ke", "ve", "op", "db", "valueErr", "name", "AbstractSublevel", "original", "fn", "k", "require_abstract_level", "__commonJSMin", "exports", "init_node_globals", "require_run_parallel_limit", "__commonJSMin", "exports", "module", "init_node_globals", "runParallelLimit", "queueMicrotask", "tasks", "limit", "cb", "results", "len", "pending", "keys", "isErrored", "isSync", "next", "done", "err", "end", "each", "i", "result", "key", "task", "require_key_range", "__commonJSMin", "exports", "module", "init_node_globals", "options", "lower", "upper", "lowerExclusive", "upperExclusive", "require_deserialize", "__commonJSMin", "exports", "module", "init_node_globals", "textEncoder", "data", "require_iterator", "__commonJSMin", "exports", "init_node_globals", "AbstractIterator", "createKeyRange", "deserialize", "kCache", "kFinished", "kOptions", "kCurrentOptions", "kPosition", "kLocation", "kFirst", "emptyOptions", "Iterator", "db", "location", "options", "size", "callback", "keyRange", "transaction", "store", "entries", "method", "ev", "cursor", "key", "value", "maybeCommit", "keys", "values", "complete", "length", "i", "err", "cache", "target", "require_clear", "__commonJSMin", "exports", "module", "init_node_globals", "db", "location", "keyRange", "options", "callback", "transaction", "store", "count", "method", "direction", "ev", "cursor", "require_browser_level", "__commonJSMin", "exports", "init_node_globals", "AbstractLevel", "ModuleError", "parallel", "fromCallback", "Iterator", "deserialize", "clear", "createKeyRange", "DEFAULT_PREFIX", "kIDB", "kNamePrefix", "kLocation", "kVersion", "kStore", "kOnComplete", "kPromise", "BrowserLevel", "location", "options", "_", "prefix", "version", "forward", "callback", "req", "ev", "db", "mode", "request", "transaction", "key", "store", "err", "value", "keys", "tasks", "next", "operations", "index", "error", "loop", "op", "keyRange", "require_browser", "__commonJSMin", "exports", "init_node_globals", "require_time_browser", "__commonJSMin", "exports", "module", "init_node_globals", "require_retimer", "__commonJSMin", "exports", "module", "init_node_globals", "getTime", "Retimer", "callback", "timeout", "args", "that", "now", "retimer", "i", "require_timeout_abort_controller", "__commonJSMin", "exports", "module", "init_node_globals", "AbortController", "retimer", "TimeoutController", "ms", "require_any_signal", "__commonJSMin", "exports", "module", "init_node_globals", "anySignal", "signals", "controller", "onAbort", "signal", "require_it_last", "__commonJSMin", "exports", "module", "init_node_globals", "last", "source", "res", "entry", "require_url_browser", "__commonJSMin", "exports", "module", "init_node_globals", "isReactNative", "getDefaultBase", "URL", "defaultBase", "URLWithLegacySupport", "url", "base", "hash", "host", "hostname", "href", "password", "pathname", "port", "protocol", "search", "username", "o", "format", "obj", "userPass", "auth", "path", "require_relative", "__commonJSMin", "exports", "module", "init_node_globals", "URLWithLegacySupport", "format", "url", "location", "protocolMap", "defaultProtocol", "protocol", "urlParsed", "base", "require_iso_url", "__commonJSMin", "exports", "module", "init_node_globals", "URLWithLegacySupport", "format", "URLSearchParams", "defaultBase", "relative", "require_it_peekable", "__commonJSMin", "exports", "module", "init_node_globals", "peekableIterator", "iterable", "iterator", "symbol", "queue", "value", "init_node_globals", "init_node_globals", "init_node_globals", "import_varint", "init_node_globals", "init_node_globals", "init_node_globals", "typeofs", "objectTypeNames", "is", "value", "typeOf", "isBuffer", "objectType", "getObjectType", "objectTypeName", "init_node_globals", "Type", "major", "name", "terminal", "typ", "Token", "type", "value", "encodedLength", "init_node_globals", "init_node_globals", "useBuffer", "textDecoder", "textEncoder", "isBuffer", "buf", "asU8A", "toString", "bytes", "start", "end", "utf8Slice", "fromString", "string", "utf8ToBytes", "fromArray", "arr", "slice", "concat", "chunks", "length", "c", "out", "off", "b", "alloc", "size", "compare", "b1", "b2", "isBuffer", "i", "utf8ToBytes", "string", "units", "codePoint", "length", "leadSurrogate", "bytes", "utf8Slice", "buf", "offset", "end", "res", "firstByte", "bytesPerSequence", "secondByte", "thirdByte", "fourthByte", "tempCodePoint", "decodeCodePointsArray", "MAX_ARGUMENTS_LENGTH", "codePoints", "len", "defaultChunkSize", "Bl", "chunkSize", "bytes", "topChunk", "chunkPos", "alloc", "reset", "byts", "chunk", "slice", "concat", "init_node_globals", "decodeErrPrefix", "encodeErrPrefix", "uintMinorPrefixBytes", "assertEnoughData", "data", "pos", "need", "init_node_globals", "init_node_globals", "uintBoundaries", "readUint8", "data", "offset", "options", "assertEnoughData", "value", "decodeErrPrefix", "readUint16", "readUint32", "readUint64", "hi", "lo", "decodeUint8", "pos", "_minor", "Token", "Type", "decodeUint16", "decodeUint32", "decodeUint64", "encodeUint", "buf", "token", "encodeUintValue", "major", "uint", "nuint", "buint", "set", "tok1", "tok2", "init_node_globals", "decodeNegint8", "data", "pos", "_minor", "options", "Token", "Type", "readUint8", "decodeNegint16", "readUint16", "decodeNegint32", "readUint32", "neg1b", "pos1b", "decodeNegint64", "int", "readUint64", "value", "decodeErrPrefix", "encodeNegint", "buf", "token", "negint", "unsigned", "encodeUintValue", "uintBoundaries", "tok1", "tok2", "init_node_globals", "toToken", "data", "pos", "prefix", "length", "assertEnoughData", "buf", "slice", "Token", "Type", "decodeBytesCompact", "minor", "_options", "decodeBytes8", "_minor", "options", "readUint8", "decodeBytes16", "readUint16", "decodeBytes32", "readUint32", "decodeBytes64", "l", "readUint64", "decodeErrPrefix", "tokenBytes", "token", "fromString", "encodeBytes", "bytes", "encodeUintValue", "tok1", "tok2", "compareBytes", "b1", "b2", "compare", "init_node_globals", "toToken", "data", "pos", "prefix", "length", "options", "totLength", "assertEnoughData", "tok", "Token", "Type", "toString", "slice", "decodeStringCompact", "minor", "decodeString8", "_minor", "readUint8", "decodeString16", "readUint16", "decodeString32", "readUint32", "decodeString64", "l", "readUint64", "decodeErrPrefix", "encodeString", "encodeBytes", "init_node_globals", "toToken", "_data", "_pos", "prefix", "length", "Token", "Type", "decodeArrayCompact", "data", "pos", "minor", "_options", "decodeArray8", "_minor", "options", "readUint8", "decodeArray16", "readUint16", "decodeArray32", "readUint32", "decodeArray64", "l", "readUint64", "decodeErrPrefix", "decodeArrayIndefinite", "encodeArray", "buf", "token", "encodeUintValue", "encodeUint", "init_node_globals", "toToken", "_data", "_pos", "prefix", "length", "Token", "Type", "decodeMapCompact", "data", "pos", "minor", "_options", "decodeMap8", "_minor", "options", "readUint8", "decodeMap16", "readUint16", "decodeMap32", "readUint32", "decodeMap64", "l", "readUint64", "decodeErrPrefix", "decodeMapIndefinite", "encodeMap", "buf", "token", "encodeUintValue", "encodeUint", "init_node_globals", "decodeTagCompact", "_data", "_pos", "minor", "_options", "Token", "Type", "decodeTag8", "data", "pos", "_minor", "options", "readUint8", "decodeTag16", "readUint16", "decodeTag32", "readUint32", "decodeTag64", "readUint64", "encodeTag", "buf", "token", "encodeUintValue", "encodeUint", "init_node_globals", "MINOR_FALSE", "MINOR_TRUE", "MINOR_NULL", "MINOR_UNDEFINED", "decodeUndefined", "_data", "_pos", "_minor", "options", "decodeErrPrefix", "Token", "Type", "decodeBreak", "createToken", "value", "bytes", "decodeFloat16", "data", "pos", "readFloat16", "decodeFloat32", "readFloat32", "decodeFloat64", "readFloat64", "encodeFloat", "buf", "token", "float", "decoded", "success", "encodeFloat16", "ui8a", "encodeFloat32", "encodeFloat64", "buffer", "dataView", "inp", "valu32", "exponent", "mantissa", "logicalExponent", "half", "exp", "mant", "val", "offset", "encodeUint", "invalidMinor", "data", "pos", "minor", "decodeErrPrefix", "errorer", "msg", "jump", "i", "decodeUint8", "decodeUint16", "decodeUint32", "decodeUint64", "decodeNegint8", "decodeNegint16", "decodeNegint32", "decodeNegint64", "decodeBytesCompact", "decodeBytes8", "decodeBytes16", "decodeBytes32", "decodeBytes64", "decodeStringCompact", "decodeString8", "decodeString16", "decodeString32", "decodeString64", "decodeArrayCompact", "decodeArray8", "decodeArray16", "decodeArray32", "decodeArray64", "decodeArrayIndefinite", "decodeMapCompact", "decodeMap8", "decodeMap16", "decodeMap32", "decodeMap64", "decodeMapIndefinite", "decodeTagCompact", "decodeTag8", "decodeTag16", "decodeTag32", "decodeTag64", "decodeUndefined", "decodeFloat16", "decodeFloat32", "decodeFloat64", "decodeBreak", "quick", "Token", "Type", "quickEncodeToken", "token", "fromArray", "defaultEncodeOptions", "mapSorter", "quickEncodeToken", "makeCborEncoders", "encoders", "Type", "encodeUint", "encodeNegint", "encodeBytes", "encodeString", "encodeArray", "encodeMap", "encodeTag", "encodeFloat", "cborEncoders", "buf", "Bl", "Ref", "obj", "parent", "p", "stack", "encodeErrPrefix", "simpleTokens", "Token", "typeEncoders", "_typ", "_options", "_refStack", "_obj", "options", "refStack", "entries", "i", "e", "objectToTokens", "typ", "isMap", "keys", "length", "key", "sortMapEntries", "is", "customTypeEncoder", "tokens", "typeEncoder", "e1", "e2", "keyToken1", "keyToken2", "major", "tcmp", "tokensToEncoded", "token", "encodeCustom", "data", "quickBytes", "encoder", "size", "asU8A", "encode", "init_node_globals", "defaultDecodeOptions", "Tokeniser", "data", "options", "byt", "token", "quick", "decoder", "jump", "decodeErrPrefix", "minor", "DONE", "BREAK", "tokenToArray", "tokeniser", "arr", "value", "tokensToObject", "tokenToMap", "useMaps", "obj", "m", "i", "key", "Type", "tagged", "decode", "decoded", "init_node_globals", "cborEncoders", "makeCborEncoders", "defaultEncodeOptions", "quickEncodeToken", "tokensToLength", "tokens", "encoders", "cborEncoders", "options", "defaultEncodeOptions", "len", "token", "encoder", "esm_exports", "__export", "code", "decode", "encode", "name", "init_node_globals", "init_cid", "CID_CBOR_TAG", "cidEncoder", "obj", "cid", "CID", "bytes", "Token", "Type", "undefinedEncoder", "numberEncoder", "num", "encodeOptions", "cidDecoder", "decodeOptions", "name", "code", "encode", "node", "decode", "data", "CarBufferWriter", "bytes", "headerSize", "root", "options", "addRoot", "block", "addBlock", "close", "writer", "resize", "byteOffset", "roots", "size", "headerLength", "resizeHeader", "blockLength", "cid", "varint", "byteLength", "writeBytes", "headerBytes", "encode", "varintBytes", "writeHeader", "header", "headerPreludeTokens", "Token", "Type", "CID_TAG", "calculateHeaderLength", "rootLengths", "tokens", "rootLength", "length", "tokensToLength", "createWriter", "buffer", "options", "roots", "byteOffset", "byteLength", "headerSize", "headerLength", "bytes", "writer", "CarBufferWriter", "root", "init_node_globals", "init_node_globals", "init_node_globals", "import_varint", "init_cid", "init_digest", "init_node_globals", "Kinds", "obj", "Types", "keys", "k", "name", "value", "CarHeader", "CIDV0_BYTES", "V2_HEADER_LENGTH", "readVarint", "reader", "bytes", "i", "varint", "readV2Header", "dv", "offset", "header", "readHeader", "strictVersion", "length", "block", "decode", "CarHeader", "hasRoots", "v2Header", "v1Header", "readMultihash", "codeLength", "lengthLength", "mhLength", "multihash", "readCid", "first", "CID", "version", "codec", "readBlockHead", "start", "cid", "blockLength", "readBlock", "readBlockIndex", "index", "createDecoder", "headerPromise", "v1length", "limitReader", "bytesReader", "pos", "chunkReader", "readChunk", "have", "currentChunk", "read", "bufa", "chunk", "p", "c", "off", "b", "asyncIterableReader", "asyncIterable", "iterator", "next", "byteLimit", "bytesRead", "CarReader", "header", "blocks", "b", "key", "index", "block", "bytes", "decodeReaderComplete", "bytesReader", "asyncIterable", "asyncIterableReader", "reader", "decoder", "createDecoder", "init_node_globals", "CarIndexer", "version", "roots", "iterator", "bytes", "decodeIndexerComplete", "bytesReader", "asyncIterable", "asyncIterableReader", "reader", "decoder", "createDecoder", "init_node_globals", "CarIteratorBase", "version", "roots", "iterable", "CarBlockIterator", "bytes", "iterator", "fromBytes", "asyncIterable", "fromIterable", "CarCIDIterator", "next", "decodeIterator", "bytesReader", "asyncIterableReader", "reader", "decoder", "createDecoder", "init_node_globals", "init_cid", "init_node_globals", "import_varint", "createHeader", "roots", "headerBytes", "encode", "varintBytes", "varint", "header", "createEncoder", "writer", "bytes", "block", "cid", "init_node_globals", "noop", "create", "chunkQueue", "drainer", "drainerResolver", "ended", "outWait", "outWaitResolver", "makeDrainer", "resolve", "writer", "chunk", "iterator", "CarWriter", "roots", "encoder", "block", "cid", "CID", "toRoots", "iterator", "encodeWriter", "writer", "out", "CarWriterOut", "bytes", "reader", "bytesReader", "readHeader", "newHeader", "createHeader", "iw", "create", "createEncoder", "_roots", "root", "_root", "init_node_globals", "init_src", "init_digest", "init_raw", "init_sha2_browser", "init_node_globals", "init_src", "readonly", "enumerable", "configurable", "links", "source", "base", "key", "value", "path", "index", "element", "elementPath", "cid", "CID", "tree", "get", "node", "part", "Block", "bytes", "encode", "codec", "hasher", "hash", "createUnsafe", "bytes", "cid", "maybeValue", "codec", "value", "Block", "create", "hasher", "hash", "bytes_exports", "all", "Map", "on", "type", "handler", "handlers", "get", "push", "set", "off", "splice", "indexOf", "emit", "evt", "slice", "map", "isBinary", "bytes_exports", "encode", "value", "sha256", "raw_exports", "esm_exports", "decode", "bytes", "cid", "hasher", "codec", "code", "hashcode", "create", "Transaction", "mitt_default", "buffer", "reader", "CarReader", "root", "block", "obj", "size", "headerSize", "headerLength", "blockLength", "writer", "createWriter", "init_node_globals", "init_node_globals", "init_node_globals", "init_node_globals", "objectSafeGet", "get", "obj", "propsArg", "defaultValue", "props", "prop", "import_debug", "import_err_code", "init_node_globals", "init_node_globals", "init_node_globals", "init_cid", "init_node_globals", "init_node_globals", "init_node_globals", "nanoid", "size", "id", "byte", "init_to_string", "init_from_string", "pathSepS", "pathSepB", "pathSep", "Key", "s", "clean", "fromString", "encoding", "toString", "list", "nanoid", "other", "bytes", "key", "list1", "list2", "c1", "c2", "ns", "namespaceType", "namespaceValue", "p", "keys", "flatten", "parts", "arr", "import_debug", "import_it_length", "init_base32", "init_raw", "init_digest", "log", "debug", "unwrap", "blockstore", "keyToMultihash", "key", "buf", "base32", "multihash", "CID", "multihashStr", "Key", "keyToCid", "digest", "decode", "code", "process", "backends", "onProgress", "keyFunction", "unwrapped", "blockCount", "length", "counter", "block", "newKey", "migration", "init_node_globals", "init_cid", "init_node_globals", "init_cid", "init_node_globals", "textDecoder", "decodeVarint", "bytes", "offset", "v", "shift", "b", "decodeBytes", "byteLen", "postOffset", "decodeKey", "index", "wire", "decodeLink", "link", "l", "wireType", "fieldNum", "byts", "decodeNode", "links", "linksBeforeData", "data", "node", "init_node_globals", "textEncoder", "maxInt32", "maxUInt32", "encodeLink", "link", "bytes", "i", "encodeVarint", "nameBytes", "encodeNode", "node", "size", "sizeNode", "index", "sizeLink", "n", "l", "sov", "offset", "v", "base", "x", "len64", "len8tab", "init_node_globals", "init_cid", "pbNodeProperties", "pbLinkProperties", "textEncoder", "linkComparator", "a", "b", "abuf", "bbuf", "x", "y", "i", "len", "hasOnlyProperties", "node", "properties", "p", "validate", "node", "hasOnlyProperties", "pbNodeProperties", "i", "link", "pbLinkProperties", "linkComparator", "code", "encode", "node", "validate", "pbn", "l", "link", "encodeNode", "decode", "bytes", "decodeNode", "CID", "init_node_globals", "init_cid", "init_node_globals", "import_minimal", "$Reader", "$protobuf", "$Writer", "$util", "$root", "ipfs", "pin", "Set", "p", "ks", "i", "m", "w", "r", "l", "c", "t", "d", "import_fnv1a", "import_varint", "init_node_globals", "init_base32", "init_cid", "PIN_DS_KEY", "Key", "DEFAULT_FANOUT", "MAX_ITEMS", "EMPTY_KEY", "CID", "PinTypes", "cidToKey", "cid", "base32", "init_concat", "init_node_globals", "compare", "a", "b", "i", "init_to_string", "init_from_string", "init_sha2_browser", "PinSet", "ipfs", "readHeader", "rootNode", "rootData", "hdrLength", "varint", "vBytes", "hdrSlice", "header", "hash", "seed", "key", "buffer", "encodedKey", "fromString", "data", "concat", "fnv1a", "toString", "walkItems", "blockstore", "node", "pbh", "idx", "link", "linkHash", "EMPTY_KEY", "buf", "decode", "loadSet", "name", "l", "storeItems", "items", "storePins", "pins", "depth", "pbHeader", "DEFAULT_FANOUT", "headerBuf", "fanoutLinks", "i", "MAX_ITEMS", "nodes", "item", "a", "b", "compare", "rootLinks", "bins", "pin", "n", "bin", "child", "storeChild", "binIdx", "encode", "digest", "sha256", "cid", "CID", "size", "acc", "curr", "storeSet", "type", "cids", "import_it_length", "init_sha2_browser", "init_digest", "init_base32", "pinsToDatastore", "blockstore", "datastore", "pinstore", "onProgress", "PIN_DS_KEY", "mh", "cid", "CID", "pinRootBuf", "pinRoot", "decode", "counter", "pinCount", "length", "loadSet", "PinTypes", "pin", "code", "cidToKey", "encode", "pinsToDAG", "recursivePins", "directPins", "key", "value", "base32", "storeSet", "buf", "digest", "sha256", "process", "backends", "fn", "migration", "init_node_globals", "init_node_globals", "errors_exports", "__export", "abortedError", "dbDeleteFailedError", "dbOpenFailedError", "dbWriteFailedError", "notFoundError", "init_node_globals", "import_err_code", "err", "errCode", "CONFIG_KEY", "Key", "VERSION_KEY", "findLevelJs", "store", "db", "hasWithFallback", "key", "has", "result", "levelJs", "resolve", "reject", "req", "getWithFallback", "get", "notFoundError", "wrapStore", "originalGet", "originalHas", "wrapBackends", "backends", "init_from_string", "init_to_string", "keysToBinary", "name", "store", "onProgress", "db", "findLevelJs", "withEach", "key", "value", "fromString", "keysToStrings", "toString", "unwrap", "process", "backends", "fn", "datastores", "backend", "migrated", "progress", "message", "migration", "batch", "operations", "next", "transaction", "index", "error", "loop", "op", "req", "err", "resolve", "reject", "it", "id", "data", "handleNext", "handleEnd", "err2", "init_node_globals", "MFS_ROOT_KEY", "Key", "storeMfsRootInDatastore", "backends", "onProgress", "root", "storeMfsRootInRoot", "migration", "init_node_globals", "import_minimal", "init_node_globals", "import_minimal", "$Reader", "$protobuf", "$Writer", "$util", "$root", "Protocols", "p", "ks", "i", "m", "w", "r", "l", "c", "t", "d", "o", "j", "init_node_globals", "import_minimal", "$Reader", "$protobuf", "$Writer", "$util", "$root", "Addresses", "p", "ks", "i", "m", "w", "r", "l", "c", "t", "d", "o", "j", "Address", "$oneOfFields", "CertifiedRecord", "n", "init_node_globals", "import_minimal", "$Reader", "$protobuf", "$Writer", "$util", "$root", "Peer", "p", "ks", "$oneOfFields", "m", "w", "i", "r", "l", "c", "t", "d", "o", "j", "Address", "Metadata", "init_node_globals", "import_minimal", "$Reader", "$protobuf", "$Writer", "$util", "$root", "Envelope", "p", "ks", "i", "m", "w", "r", "l", "c", "t", "d", "o", "init_node_globals", "import_minimal", "$Reader", "$protobuf", "$Writer", "$util", "$root", "PeerRecord", "p", "ks", "i", "m", "w", "r", "l", "c", "t", "d", "o", "n", "j", "AddressInfo", "import_multiaddr", "$protobuf", "storePeerUnderSingleDatastoreKey", "backends", "onProgress", "peers", "keys", "key", "value", "keyStr", "_", "prefix", "type", "peerId", "metadataKey", "protos", "Protocols", "addrs", "Addresses", "a", "b", "peer", "data", "Peer", "Key", "storePeerUnderMultipleDatastoreKeys", "_prefix", "peerRecordEnvelope", "certifiedRecord", "envelope", "Envelope", "record", "PeerRecord", "migration", "emptyMigration", "migrations_default", "migration", "init_node_globals", "init_node_globals", "import_debug", "errors_exports", "__export", "InvalidValueError", "MissingRepoOptionsError", "NonReversibleMigrationError", "NotInitializedRepoError", "RequiredParameterError", "init_node_globals", "message", "log", "debug", "isRepoInitialized", "backends", "MissingRepoOptionsError", "root", "versionCheck", "VERSION_KEY", "configCheck", "CONFIG_KEY", "e", "init_from_string", "init_to_string", "getVersion", "backends", "isRepoInitialized", "NotInitializedRepoError", "store", "toString", "VERSION_KEY", "setVersion", "version", "MissingRepoOptionsError", "fromString", "import_debug", "log", "debug", "getLatestMigrationVersion", "migrations", "migrations_default", "migrate", "path", "backends", "repoOptions", "toVersion", "ignoreLock", "onProgress", "isDryRun", "errors", "wrapBackends", "currentVersion", "getVersion", "verifyAvailableMigrations", "lock", "migration", "progressCallback", "percent", "message", "e", "lastSuccessfullyMigratedVersion", "setVersion", "revert", "reversedMigrationArray", "lastSuccessfullyRevertedVersion", "fromVersion", "checkReversibility", "migrationCounter", "errors", "errors_exports", "import_bytes", "init_node_globals", "import_index", "merge_options_default", "mergeOptions", "init_node_globals", "init_node_globals", "init_node_globals", "init_to_string", "init_from_string", "pathSepS", "pathSepB", "pathSep", "Key", "s", "clean", "fromString", "encoding", "toString", "list", "nanoid", "other", "bytes", "key", "list1", "list2", "c1", "c2", "ns", "namespaceType", "namespaceValue", "p", "keys", "flatten", "parts", "arr", "import_debug", "init_to_string", "init_from_string", "init_node_globals", "init_node_globals", "LockExistsError", "message", "NotFoundError", "InvalidRepoVersionError", "ERR_REPO_NOT_INITIALIZED", "ERR_REPO_ALREADY_OPEN", "ERR_REPO_ALREADY_CLOSED", "hasWithFallback", "key", "has", "store", "result", "levelJs", "findLevelJs", "resolve", "reject", "req", "getWithFallback", "get", "NotFoundError", "db", "log", "debug", "versionKey", "Key", "version", "store", "hasWithFallback", "buf", "getWithFallback", "toString", "fromString", "expected", "init_node_globals", "init_node_globals", "import_eventemitter3", "init_node_globals", "TimeoutError", "message", "AbortError", "getDOMException", "errorMessage", "getAbortedReason", "signal", "reason", "pTimeout", "promise", "milliseconds", "fallback", "options", "timer", "cancelablePromise", "resolve", "reject", "error", "timeoutError", "init_node_globals", "init_node_globals", "lowerBound", "array", "value", "comparator", "first", "count", "step", "it", "__classPrivateFieldGet", "receiver", "state", "kind", "f", "_PriorityQueue_queue", "PriorityQueue", "run", "options", "element", "index", "lowerBound", "a", "b", "item", "__classPrivateFieldSet", "receiver", "state", "value", "kind", "f", "__classPrivateFieldGet", "_PQueue_instances", "_PQueue_carryoverConcurrencyCount", "_PQueue_isIntervalIgnored", "_PQueue_intervalCount", "_PQueue_intervalCap", "_PQueue_interval", "_PQueue_intervalEnd", "_PQueue_intervalId", "_PQueue_timeoutId", "_PQueue_queue", "_PQueue_queueClass", "_PQueue_pendingCount", "_PQueue_concurrency", "_PQueue_isPaused", "_PQueue_throwOnTimeout", "_PQueue_doesIntervalAllowAnother_get", "_PQueue_doesConcurrentAllowAnother_get", "_PQueue_next", "_PQueue_emitEvents", "_PQueue_onResumeInterval", "_PQueue_isIntervalPaused_get", "_PQueue_tryToStartAnother", "_PQueue_initializeIntervalIfNeeded", "_PQueue_onInterval", "_PQueue_processQueue", "_PQueue_onEvent", "timeoutError", "TimeoutError", "AbortError", "PQueue", "EventEmitter", "options", "_a", "_b", "_c", "_d", "PriorityQueue", "newConcurrency", "fn", "resolve", "reject", "run", "result", "pTimeout", "error", "functions", "function_", "limit", "now", "delay", "canInitializeInterval", "job", "event", "filter", "listener", "init_node_globals", "objectSafeSet", "set", "obj", "propsArg", "value", "props", "lastProp", "prototypeCheck", "thisProp", "prop", "import_err_code", "init_to_string", "init_from_string", "Queue", "PQueue", "configKey", "Key", "config", "store", "setQueue", "configStore", "options", "encodedValue", "getWithFallback", "toString", "key", "NotFoundError", "value", "objectSafeGet", "errCode", "_maybeDoSet", "hasWithFallback", "m", "signal", "objectSafeSet", "_saveAll", "buf", "fromString", "init_node_globals", "init_node_globals", "init_node_globals", "init_node_globals", "isPlainObject", "value", "prototype", "sortKeys", "object", "options", "isPlainObject", "deep", "compare", "seenInput", "seenOutput", "deepSortArray", "array", "seenIndex", "result", "item", "_sortKeys", "keys", "key", "value", "newValue", "init_to_string", "init_from_string", "specKey", "Key", "spec", "store", "buf", "toString", "fromString", "sortKeys", "init_node_globals", "init_from_string", "apiFile", "Key", "apiAddr", "store", "value", "fromString", "init_node_globals", "import_it_filter", "init_node_globals", "init_node_globals", "FixedFIFO", "hwm", "data", "last", "FIFO", "options", "obj", "val", "prev", "next", "pushable", "options", "_pushable", "buffer", "next", "_pushable", "getNext", "options", "onEnd", "buffer", "FIFO", "pushable", "onNext", "ended", "waitNext", "resolve", "reject", "next", "err", "bufferNext", "bufferError", "push", "value", "end", "_return", "_throw", "import_it_drain", "init_cid", "import_err_code", "init_identity", "createIdStore", "store", "query", "options", "cid", "extracted", "extractContents", "cids", "buf", "isIdentity", "pairs", "output", "pushable", "drain", "key", "value", "err", "filter", "batch", "k", "CID", "errCode", "identity", "init_node_globals", "init_node_globals", "import_debug", "log", "debug", "lockFile", "LOCKS", "lock", "dir", "file", "LockExistsError", "locked", "MemoryLock", "default_options_default", "MemoryLock", "init_node_globals", "default_datastore_default", "init_node_globals", "init_cid", "import_err_code", "import_debug", "import_it_first", "init_node_globals", "init_src", "init_raw", "import_err_code", "init_base32", "init_digest", "cidToKey", "c", "cid", "CID", "errCode", "encoded", "base32", "Key", "keyToMultihash", "key", "decode", "base32", "init_node_globals", "import_debug", "log", "debug", "walkDag", "cid", "blockstore", "loadCodec", "options", "bytes", "codec", "block", "createUnsafe", "childCid", "err", "init_node_globals", "PinTypes", "init_node_globals", "QuickLRU", "options", "cache", "key", "item", "value", "maxAge", "expiry", "deleted", "newSize", "items", "removeCount", "i", "oldCacheSize", "callbackFunction", "thisArgument", "CID_CACHE_MAX_SIZE", "invalidPinTypeErr", "type", "errMsg", "errCode", "PinManager", "pinstore", "blockstore", "loadCodec", "debug", "cid", "options", "pin", "code", "cidToKey", "encode", "entry", "decode", "version", "codec", "multihash", "keyToMultihash", "CID", "childCid", "walkDag", "types", "PinTypes", "all", "direct", "recursive", "indirect", "result", "first", "self", "findChild", "key", "source", "parentCid", "seen", "QuickLRU", "bytes", "block", "createUnsafe", "init_node_globals", "import_it_map", "import_err_code", "createPinnedBlockstore", "pins", "store", "query", "options", "cid", "cids", "buf", "pairs", "ensureNotPinned", "map", "pinned", "reason", "PinTypes", "errCode", "init_node_globals", "init_node_globals", "TimeoutError", "message", "AbortError", "getDOMException", "errorMessage", "getAbortedReason", "signal", "reason", "pTimeout", "promise", "options", "milliseconds", "fallback", "customTimers", "timer", "cancelablePromise", "resolve", "reject", "error", "timeoutError", "init_node_globals", "init_node_globals", "nanoid", "size", "id", "byte", "init_node_globals", "WORKER_REQUEST_READ_LOCK", "WORKER_RELEASE_READ_LOCK", "MASTER_GRANT_READ_LOCK", "WORKER_REQUEST_WRITE_LOCK", "WORKER_RELEASE_WRITE_LOCK", "MASTER_GRANT_WRITE_LOCK", "init_node_globals", "events", "observable", "worker", "event", "type", "fn", "listener", "src_default", "handleWorkerLockRequest", "emitter", "masterEvent", "requestType", "releaseType", "grantType", "worker", "event", "requestEvent", "resolve", "releaseEventListener", "releaseEvent", "makeWorkerLockRequest", "name", "id", "nanoid", "listener", "responseEvent", "defaultOptions", "browser_default", "options", "src_default", "WORKER_REQUEST_READ_LOCK", "WORKER_RELEASE_READ_LOCK", "MASTER_GRANT_READ_LOCK", "WORKER_REQUEST_WRITE_LOCK", "WORKER_RELEASE_WRITE_LOCK", "MASTER_GRANT_WRITE_LOCK", "mutexes", "implementation", "createReleaseable", "queue", "options", "res", "p", "resolve", "pTimeout", "createMutex", "name", "masterQueue", "PQueue", "readQueue", "localReadQueue", "readPromise", "defaultOptions", "createMortice", "opts", "browser_default", "event", "release", "init_node_globals", "init_cid", "import_debug", "import_it_parallel_batch", "init_node_globals", "init_node_globals", "init_node_globals", "FixedFIFO", "hwm", "data", "last", "FIFO", "options", "obj", "val", "prev", "next", "pushable", "options", "_pushable", "buffer", "next", "_pushable", "getNext", "options", "onEnd", "buffer", "FIFO", "pushable", "onNext", "ended", "waitNext", "resolve", "reject", "next", "err", "bufferNext", "bufferError", "push", "value", "end", "_return", "_throw", "import_it_merge", "rawPipe", "fns", "res", "isIterable", "obj", "isDuplex", "duplexPipelineFn", "duplex", "source", "p", "stream", "pushable", "err", "merge", "pipe", "first", "rest", "i", "import_it_merge", "import_it_map", "import_it_filter", "init_base32", "log", "debug", "ERR_NOT_FOUND", "notFoundError", "BLOCK_RM_CONCURRENCY", "MFS_ROOT_KEY", "Key", "gc", "gcLock", "pins", "blockstore", "root", "loadCodec", "start", "release", "markedSet", "createMarkedSet", "blockKeys", "deleteUnmarkedBlocks", "mfsSource", "mh", "err", "rootCid", "CID", "walkDag", "pinsSource", "merge", "map", "cid", "output", "base32", "blocksCount", "removedBlocksCount", "pipe", "parallelBatch", "b32", "msg", "source", "filter", "log", "debug", "noLimit", "AUTO_MIGRATE_CONFIG_KEY", "Repo", "path", "loadCodec", "backends", "options", "merge_options_default", "default_options_default", "blockstore", "pinstore", "PinManager", "pinnedBlockstore", "createPinnedBlockstore", "createIdStore", "version", "config", "spec", "apiAddr", "createMortice", "gc", "buildConfig", "buildDatastoreSpec", "errCode", "ERR_REPO_ALREADY_OPEN", "InvalidRepoVersionError", "err", "err2", "lockfile", "ERR_REPO_NOT_INITIALIZED", "ERR_REPO_ALREADY_CLOSED", "store", "storageMax", "blocks", "datastore", "keys", "getSize", "size", "autoMigrateConfig", "e", "NotFoundError", "toVersion", "revert", "migrate", "max", "bytes", "count", "key", "value", "sum", "block", "createRepo", "_config", "default_datastore_default", "objectSafeGet", "mounting", "init_node_globals", "init_node_globals", "init_node_globals", "init_to_string", "init_from_string", "pathSepS", "pathSepB", "pathSep", "Key", "s", "clean", "fromString", "encoding", "toString", "list", "nanoid", "other", "bytes", "key", "list1", "list2", "c1", "c2", "ns", "namespaceType", "namespaceValue", "p", "keys", "flatten", "parts", "arr", "init_node_globals", "init_node_globals", "init_node_globals", "init_to_string", "init_from_string", "pathSepS", "pathSepB", "pathSep", "Key", "s", "clean", "fromString", "encoding", "toString", "list", "nanoid", "other", "bytes", "key", "list1", "list2", "c1", "c2", "ns", "namespaceType", "namespaceValue", "p", "keys", "flatten", "parts", "arr", "init_node_globals", "SHARDING_FN", "README_FN", "init_node_globals", "init_node_globals", "import_it_all", "sortAll", "iterable", "sorter", "all", "import_it_drain", "import_it_filter", "import_it_take", "BaseDatastore", "key", "val", "options", "source", "value", "puts", "dels", "drain", "q", "it", "filter", "e", "f", "sortAll", "take", "init_node_globals", "MemoryDatastore", "BaseDatastore", "key", "val", "notFoundError", "value", "Key", "init_node_globals", "import_it_map", "init_node_globals", "init_node_globals", "shardKey", "Key", "SHARDING_FN", "shardReadmeKey", "README_FN", "init_node_globals", "import_it_filter", "import_it_take", "import_it_merge", "init_node_globals", "init_node_globals", "import_debug", "init_base58", "init_base32", "init_base64", "debug", "v", "base58btc", "base32", "base64", "logger", "name", "init_node_globals", "init_node_globals", "import_it_drain", "log", "logger", "init_node_globals", "import_it_filter", "import_it_map", "import_it_take", "import_it_sort", "import_level", "LevelDatastore", "BaseDatastore", "path", "opts", "err", "errors_exports", "key", "value", "data", "ops", "q", "it", "f", "filter", "sort", "offset", "limit", "i", "take", "map", "iteratorOpts", "prefix", "iterator", "levelIteratorToIterator", "oldLevelIteratorToIterator", "li", "Key", "resolve", "reject", "init_node_globals", "import_it_drain", "init_node_globals", "init_node_globals", "FixedFIFO", "hwm", "data", "last", "FIFO", "options", "obj", "val", "prev", "next", "pushable", "options", "_pushable", "buffer", "next", "_pushable", "getNext", "options", "onEnd", "buffer", "FIFO", "pushable", "onNext", "ended", "waitNext", "resolve", "reject", "next", "err", "bufferNext", "bufferError", "push", "value", "end", "_return", "_throw", "init_node_globals", "init_to_string", "init_from_string", "pathSepS", "pathSepB", "pathSep", "Key", "s", "clean", "fromString", "encoding", "toString", "list", "nanoid", "other", "bytes", "key", "list1", "list2", "c1", "c2", "ns", "namespaceType", "namespaceValue", "p", "keys", "flatten", "parts", "arr", "init_cid", "init_raw", "init_digest", "init_base32", "init_base58", "import_err_code", "init_node_globals", "import_it_drain", "import_it_filter", "import_it_take", "import_it_all", "sortAll", "iterable", "sorter", "all", "BaseBlockstore", "key", "val", "options", "source", "value", "puts", "dels", "drain", "q", "it", "filter", "e", "f", "take", "cid", "cidToKey", "cid", "c", "CID", "errcode", "Key", "base32", "keyToCid", "key", "code", "decode", "convertPrefix", "prefix", "firstChar", "decoder", "input", "base32pad", "base58btc", "bytes", "i", "err", "str", "convertQuery", "query", "filter", "pair", "order", "a", "b", "convertKeyQuery", "BlockstoreDatastoreAdapter", "BaseBlockstore", "datastore", "options", "value", "cids", "blocks", "output", "pushable", "store", "drain", "block", "out", "createRepo", "print", "codecs", "options", "repoPath", "codeOrName", "LevelDatastore", "BlockstoreDatastoreAdapter", "MemoryLock", "init_node_globals", "init_node_globals", "init_cid", "init_node_globals", "import_timeout_abort_controller", "import_any_signal", "init_node_globals", "durationRE", "parse", "str", "format", "result", "_", "n", "units", "unitRatio", "parse_duration_default", "init_node_globals", "TimeoutError", "message", "withTimeoutOption", "fn", "optionsArgIndex", "args", "options", "timeout", "parse_duration_default", "controller", "fnRes", "timeoutPromise", "_resolve", "reject", "TimeoutError", "start", "maybeThrowTimeoutError", "it", "value", "done", "err", "res", "init_node_globals", "import_debug", "init_base58", "init_base32", "init_base64", "debug", "v", "base58btc", "base32", "base64", "logger", "name", "init_raw", "init_json", "init_node_globals", "init_base58", "walk", "cid", "load", "seen", "b58Cid", "base58btc", "block", "log", "logger", "NO_LINKS_CODECS", "code", "createExport", "repo", "preload", "codecs", "dagExport", "root", "options", "cid", "CID", "writer", "out", "CarWriter", "err", "load", "makeLoader", "walk", "e", "chunk", "withTimeoutOption", "codec", "bytes", "createUnsafe", "init_node_globals", "import_it_first", "import_it_last", "init_node_globals", "init_node_globals", "init_base58", "init_base32", "init_digest", "init_node_globals", "init_node_globals", "init_node_globals", "init_node_globals", "init_node_globals", "word", "boundry", "options", "v4", "v6segment", "v6", "v46Exact", "v4exact", "v6exact", "ipRegex", "ip_regex_default", "init_node_globals", "init_node_globals", "functionTimeout", "function_", "wrappedFunction", "arguments_", "isTimeoutError", "init_node_globals", "init_node_globals", "init_node_globals", "toString", "isRegexp", "value", "flagMap", "clonedRegexp", "regexp", "options", "isRegexp", "flags", "flag", "isMatch", "regex", "string", "timeout", "functionTimeout", "clonedRegexp", "error", "isTimeoutError", "maxIPv4Length", "maxIPv6Length", "options", "isIP", "string", "isMatch", "ip_regex_default", "isIPv6", "isIPv4", "init_to_string", "isV4", "isIPv4", "isV6", "isIPv6", "toBytes", "ip", "offset", "bytes", "byte", "sections", "i", "isv4", "v4Buffer", "toString", "argv", "word", "buf", "length", "view", "result", "init_node_globals", "names", "codes", "table", "row", "proto", "createProtocol", "code", "size", "name", "resolvable", "path", "getProtocol", "init_cid", "init_base32", "init_base58", "init_basics", "init_digest", "import_varint", "init_to_string", "init_from_string", "init_concat", "convertToString", "proto", "buf", "getProtocol", "bytes2ip", "bytes2port", "bytes2str", "bytes2mh", "bytes2onion", "bytes2mb", "toString", "convertToBytes", "str", "ip2bytes", "port2bytes", "str2bytes", "mh2bytes", "onion2bytes", "onion32bytes", "mb2bytes", "fromString", "decoders", "bases", "c", "anybaseDecoder", "acc", "d", "ipString", "isIP", "toBytes", "ipBuff", "port", "size", "varint", "concat", "hash", "mh", "decode", "base58btc", "CID", "mbstr", "mb", "address", "addr", "base32", "portBuf", "addrBytes", "portBytes", "import_varint", "init_concat", "init_to_string", "stringToStringTuples", "str", "tuples", "parts", "p", "part", "proto", "getProtocol", "ParseError", "cleanPath", "stringTuplesToString", "tup", "protoFromTuple", "stringTuplesToTuples", "convertToBytes", "tuplesToStringTuples", "convertToString", "tuplesToBytes", "fromBytes", "concat", "buf", "varint", "sizeForAddr", "addr", "bytesToTuples", "i", "code", "n", "size", "toString", "bytesToString", "a", "b", "stringToBytes", "fromString", "err", "validateBytes", "cleanPath", "str", "a", "ParseError", "protoFromTuple", "tup", "getProtocol", "import_varint", "init_cid", "init_base58", "import_err_code", "init_to_string", "init_equals", "inspect", "DNS_CODES", "getProtocol", "P2P_CODES", "resolvers", "symbol", "isMultiaddr", "value", "symbol", "DefaultMultiaddr", "addr", "_a", "fromBytes", "fromString", "bytesToString", "codes", "parts", "transport", "port", "DNS_CODES", "P2P_CODES", "getProtocol", "code", "buf", "i", "varint", "n", "p", "sizeForAddr", "proto", "bytesToTuples", "tuplesToStringTuples", "addrString", "s", "tuples", "tuplesToBytes", "tuple", "names", "peerIdStr", "toString", "base58btc", "CID", "path", "equals", "options", "resolvableProto", "resolver", "resolvers", "errCode", "a", "protos", "inspect", "init_node_globals", "init_node_globals", "init_node_globals", "init_node_globals", "init_to_string", "isV4", "isIPv4", "isV6", "isIPv6", "toBytes", "ip", "offset", "bytes", "byte", "sections", "i", "isv4", "v4Buffer", "toString", "argv", "word", "buf", "length", "view", "result", "init_node_globals", "names", "codes", "table", "row", "proto", "createProtocol", "code", "size", "name", "resolvable", "path", "getProtocol", "init_cid", "init_base32", "init_base58", "init_basics", "init_digest", "import_varint", "init_to_string", "init_from_string", "init_concat", "convertToString", "proto", "buf", "getProtocol", "bytes2ip", "bytes2port", "bytes2str", "bytes2mh", "bytes2onion", "bytes2mb", "toString", "convertToBytes", "str", "ip2bytes", "port2bytes", "str2bytes", "mh2bytes", "onion2bytes", "onion32bytes", "mb2bytes", "fromString", "decoders", "bases", "c", "anybaseDecoder", "acc", "d", "ipString", "isIP", "toBytes", "ipBuff", "port", "size", "varint", "concat", "hash", "mh", "decode", "base58btc", "CID", "mbstr", "mb", "address", "addr", "base32", "portBuf", "addrBytes", "portBytes", "import_varint", "init_concat", "init_to_string", "stringToStringTuples", "str", "tuples", "parts", "p", "part", "proto", "getProtocol", "ParseError", "cleanPath", "stringTuplesToString", "tup", "protoFromTuple", "stringTuplesToTuples", "convertToBytes", "tuplesToStringTuples", "convertToString", "tuplesToBytes", "fromBytes", "concat", "buf", "varint", "sizeForAddr", "addr", "bytesToTuples", "i", "code", "n", "size", "toString", "bytesToString", "a", "b", "stringToBytes", "fromString", "err", "validateBytes", "cleanPath", "str", "a", "ParseError", "protoFromTuple", "tup", "getProtocol", "import_varint", "init_cid", "init_base58", "import_err_code", "init_to_string", "init_equals", "inspect", "DNS_CODES", "getProtocol", "P2P_CODES", "resolvers", "symbol", "isMultiaddr", "value", "symbol", "DefaultMultiaddr", "addr", "_a", "fromBytes", "fromString", "bytesToString", "codes", "parts", "transport", "port", "DNS_CODES", "P2P_CODES", "getProtocol", "code", "buf", "i", "varint", "n", "p", "sizeForAddr", "proto", "bytesToTuples", "tuplesToStringTuples", "addrString", "s", "tuples", "tuplesToBytes", "tuple", "names", "peerIdStr", "toString", "base58btc", "CID", "path", "equals", "options", "resolvableProto", "resolver", "resolvers", "errCode", "a", "protos", "inspect", "multiaddr", "DNS4", "base", "DNS6", "DNSADDR", "DNS", "or", "IP", "TCP", "and", "UDP", "UTP", "QUIC", "WebSockets", "WebSocketsSecure", "HTTP", "HTTPS", "WebRTCStar", "WebSocketStar", "WebRTCDirect", "Reliable", "Stardust", "_P2P", "_Circuit", "CircuitRecursive", "Circuit", "P2P", "makeMatchesFunction", "partialMatch", "matches", "a", "ma", "multiaddr", "out", "and", "args", "arg", "or", "res", "base", "n", "name", "pnames", "protos", "init_cid", "import_iso_url", "init_to_string", "init_cid", "init_node_globals", "init_to_string", "init_from_string", "pathSepS", "pathSepB", "pathSep", "Key", "s", "clean", "fromString", "encoding", "toString", "list", "nanoid", "other", "bytes", "key", "list1", "list2", "c1", "c2", "ns", "namespaceType", "namespaceValue", "p", "keys", "flatten", "parts", "arr", "import_err_code", "init_node_globals", "init_cid", "import_err_code", "IPFS_PREFIX", "toCidAndPath", "string", "CID", "err", "errCode", "cid", "parts", "path", "MFS_ROOT_KEY", "Key", "resolvePath", "repo", "codecs", "ipfsPath", "options", "cid", "path", "toCidAndPath", "lastCid", "lastRemainderPath", "value", "remainderPath", "resolve", "CID", "err", "withTimeout", "withTimeoutOption", "promise", "_options", "resolve", "cid", "path", "codecs", "repo", "options", "load", "codec", "block", "parts", "value", "lastCid", "key", "errCode", "code", "link", "l", "CID", "import_err_code", "createGet", "codecs", "repo", "preload", "withTimeoutOption", "cid", "options", "result", "first", "resolve", "last", "errCode", "codec", "block", "init_node_globals", "import_it_peekable", "import_it_drain", "import_it_map", "log", "logger", "createImport", "repo", "dagImport", "sources", "options", "release", "abortOptions", "peekable", "itPeekable", "value", "done", "cars", "car", "roots", "importCar", "cid", "pinErrorMsg", "err", "withTimeoutOption", "source", "reader", "CarBlockIterator", "drain", "map", "key", "init_node_globals", "init_cid", "createPut", "repo", "codecs", "hashers", "preload", "put", "dagNode", "options", "release", "storeCodec", "inputCodec", "cidVersion", "hasher", "buf", "hash", "cid", "CID", "withTimeoutOption", "init_node_globals", "createResolve", "repo", "codecs", "preload", "dagResolve", "ipfsPath", "options", "cid", "toCidAndPath", "resolvePath", "withTimeoutOption", "DagAPI", "repo", "codecs", "hashers", "preload", "createExport", "createGet", "createImport", "createResolve", "createPut", "init_raw", "init_sha2_browser", "init_identity", "init_basics", "esm_exports", "__export", "code", "decode", "encode", "name", "init_node_globals", "init_src", "init_base64", "init_node_globals", "init_node_globals", "JSONEncoder", "buf", "recurs", "Type", "token", "is", "isa", "i", "_buf", "_token", "encodeErrPrefix", "byts", "fromString", "asU8A", "dp", "mapSorter", "e1", "e2", "keyToken1", "keyToken2", "defaultEncodeOptions", "encode", "data", "options", "encodeCustom", "init_node_globals", "Tokenizer", "data", "options", "c", "str", "decodeErrPrefix", "i", "startPos", "negative", "float", "swallow", "chars", "ch", "Token", "Type", "numStr", "num", "l", "readu4", "u4", "readUtf8Char", "firstByte", "codePoint", "bytesPerSequence", "secondByte", "thirdByte", "fourthByte", "tempCodePoint", "ch1", "decodeCodePointsArray", "token", "decode", "cidEncoder", "obj", "cid", "CID", "cidString", "Token", "Type", "bytesEncoder", "bytes", "bytesString", "base64", "undefinedEncoder", "numberEncoder", "num", "encodeOptions", "DagJsonTokenizer", "Tokenizer", "data", "options", "token", "keyToken", "valueToken", "innerKeyToken", "innerValueToken", "i", "decodeOptions", "name", "code", "encode", "node", "decode", "lib_exports", "__export", "code", "decode", "encode", "name", "toGeneral", "init_node_globals", "init_node_globals", "init_node_globals", "init_base64", "toBase64url", "b", "base64url", "fromBase64url", "s", "init_cid", "fromSplit", "split", "protectedHeader", "payload", "signature", "CID", "fromBase64url", "encodeSignature", "encoded", "encode", "jws", "decodeSignature", "sign", "toBase64url", "decode", "decoded", "init_node_globals", "fromSplit", "split", "protectedHeader", "encrypted_key", "iv", "ciphertext", "tag", "jwe", "encodeRecipient", "recipient", "encRec", "fromBase64url", "encode", "encJwe", "decodeRecipient", "encoded", "toBase64url", "decode", "name", "code", "isDagJWS", "jose", "isEncodedJWS", "isEncodedJWE", "isDagJWE", "toGeneral", "split", "fromSplit", "encode", "obj", "encodedJose", "decode", "data", "encoded", "init_node_globals", "LOAD_CODEC", "codeOrName", "Multicodecs", "options", "codec", "code", "table", "init_node_globals", "LOAD_HASHER", "codeOrName", "Multihashes", "options", "hasher", "code", "table", "init_node_globals", "makeIterable", "array", "nextIndex", "import_it_all", "init_src", "init_node_globals", "init_base32", "init_raw", "init_cid", "init_digest", "init_node_globals", "import_err_code", "notFoundError", "err", "errCode", "MemoryBlockstore", "BaseBlockstore", "key", "val", "base32", "notFoundError", "value", "CID", "code", "decode", "DagRepo", "DagAPI", "repo", "codecs", "options", "multihashHashers", "hashes", "hasher", "hashers", "Multihashes", "cid", "mitt_default", "Transaction", "data", "t", "existingTx", "last", "tag", "tagNode", "k", "v", "prev", "rootObj", "tagNodeCid", "filtered", "newBlock", "txCid", "currentDag", "merged", "error", "buffer", "buffers", "root", "importBuffer", "dag", "it", "makeIterable", "all", "createDagRepo", "id", "identity", "blockCodecs", "esm_exports", "lib_exports", "codec", "multicodecs", "Multicodecs", "repoPath", "createRepo", "codeOrName", "MemoryBlockstore", "MemoryDatastore", "initConfig", "err", "repoConfig"]
}
